(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,618332,e=>{"use strict";var t=e.i(82748),a=e.i(608580);let n=e=>e?(e?.bonus*((e?.stars??-1)+1)*(e?.chipBoost??1))??0:0,l=(e,a)=>e?.map(e=>({...t.cards?.[e]?.displayName?{cardName:t.cards?.[e]?.displayName}:{},...a?.cards?.[t.cards?.[e]?.displayName]||{}})).filter((e,t)=>t<8);e.s(["calcCardBonus",0,n,"calcCardsLevels",0,e=>e?Object.values(e)?.reduce((e,{stars:t,amount:a})=>e+(a>0?t+1:0),0):0,"getCardBonusByEffect",0,(e,t)=>Object.values(e||{})?.reduce((e,a)=>!a?.effect?.includes(t)||a?.amount<=0?e:e+n(a),0),"getCardSets",0,e=>{let a=Object.values(t.cardSets).reduce((e,t,a)=>({...e,[t?.name]:{...t,totalStars:0,realIndex:a}}),{}),n=Object.entries(t.cards)?.reduce((t,[,n])=>{let{category:l,displayName:s}=n,{stars:o,amount:r}=e?.cards?.[s]||{};return a[l].totalStars+=0===o&&r>0?1:o>0?o+1:0,{...t,[l]:[...t?.[l]||[],n]}},{}),l=Object.values(a);return l.length,l.forEach(e=>{e.stars=Math.floor(e.totalStars/n?.[e?.name]?.length)-1,e.amount=e.totalStars}),a},"getCards",0,(e,n)=>((e,a,n)=>{let[l]=a||[],s=l>=45;return Object.entries(e).reduce((e,[a,l])=>{let o,r=t.cards?.[a],i=n?.accountOptions?.[155]||"",u=i?.toString()?.split(",")||[],c=u?.includes(a)?5:((e,t,a,n)=>{let l=0;for(let s=0;s<4+ +n;s++)"Boss3B"===a?t>1.5*Math.pow(s+1+Math.floor(s/3),2)&&(l=s+2):t>e*Math.pow(s+1+(Math.floor(s/3)+16*Math.floor(s/4)),2)&&(l=s+2);return l>0?l-1:l})(r?.perTier,l,a,s);return r?{...e,[r?.displayName]:{...r,amount:l,stars:c,nextLevelReq:l+(o=r?.perTier,c>=5?0:o*Math.pow(c+1+(Math.floor((c+1)/4)+16*Math.floor((c+1)/5)),2)-l+1)}}:e},{})})(e?.Cards?.[0]||(0,a.tryToParse)(e?.Cards0),(0,a.tryToParse)(e?.Rift)||e?.Rift,n),"getEquippedCardBonus",0,(e,t)=>{let a=e?.equippedCards?.find(({cardIndex:e})=>e===t);return a?n(a):0},"getEquippedCardsData",0,l,"getPlayerCards",0,(e,a)=>{var n;if(!e?.CSetEq&&!e?.CardEquip)return{};let s=e?.CSetEq||{},o=l(e?.CardEquip,a),r=t.cardSets[Object.keys(s)?.[0]]||{};return{cardSet:{...r,bonus:Object.values(s)?.[0],stars:(n=Object.values(s)?.[0],r&&n?n/r?.bonus-1:null)},equippedCards:o}}])},781357,e=>{"use strict";let t=["EquipmentCape0","EquipmentCape2","EquipmentPendant28","EquipmentRings31","EquipmentRings32","EquipmentRings33","EquipmentHats80","EquipmentHats34"].toSimpleObject(),a=["Quest42","Quest49","Quest50","EquipmentShoes2","EquipmentPendant18","TestObj4","TestObj5","TestObj8","TestObj14","TestObj15","TestObj16","EquipmentPants11","EquipmentSmithingTabs7","EquipmentSmithingTabs8","Quest8","StampB28","StampB29","StampB33","StampB35","CardsC13","CardsC14","CardsC15","CardsD12","CardsD13","Trophy4","Trophy7","StampsA22","StampsA25","DoubleAFKtix","ObolFrag","DeliveryBox","StampC17","FishingRod1","CatchingNet1","FoodHealth8","EquipmentCape1","EquipmentHats72","EquipmentHats55","MaxCapBagFi0","MaxCapBagB0","MaxCapBagTr0","MaxCapBagTr2","MaxCapBagS0","MaxCapBagS2","Spice0","Spice6","Spice9","StampC13","TalentPoint5","DungWeaponSwordE5","DungWeaponBowE5","DungWeaponWandE5","DungWeaponPunchE5","DungWeaponPunchF1","DungWeaponPunchF2","DungWeaponPunchF3","DungWeaponPunchF4","DungWeaponPunchF5","DungWeaponWandF1","DungWeaponWandF2","DungWeaponWandF3","DungWeaponWandF4","DungWeaponWandF5","DungWeaponBowF1","DungWeaponBowF2","DungWeaponBowF3","DungWeaponBowF4","DungWeaponBowF5","DungWeaponSwordF1","DungWeaponSwordF2","DungWeaponSwordF3","DungWeaponSwordF4","DungWeaponSwordF5","DungEquipmentShoes4","DungEquipmentShirt4","DungEquipmentRings4","DungEquipmentPants4"].toSimpleObject(),n={mining:[6,7,9,10,11].toSimpleObject(),fishing:[54,55,61].toSimpleObject()};e.s(["filteredGemShopItems",0,t,"filteredLootyItems",0,a,"keysMap",0,{0:{name:"Forest_Villa_Key",rawName:"Key1"},1:{name:"Efaunt's_Tomb_Key",rawName:"Key2"},2:{name:"Chizoar's_Cavern_Key",rawName:"Key3"},3:{name:"Troll's_Enclave_Key",rawName:"Key4"},4:{name:"Kruk's_Volcano_Key",rawName:"Key5"}},"skillIndexMap",0,{0:{name:"character",icon:""},1:{name:"mining",icon:"ClassIcons42"},2:{name:"smithing",icon:"ClassIcons43"},3:{name:"chopping",icon:"ClassIcons44"},4:{name:"fishing",icon:"ClassIcons45"},5:{name:"alchemy",icon:"ClassIcons46"},6:{name:"catching",icon:"ClassIcons47"},7:{name:"trapping",icon:"ClassIcons48"},8:{name:"construction",icon:"ClassIcons49"},9:{name:"worship",icon:"ClassIcons50"},10:{name:"cooking",icon:"ClassIcons51"},11:{name:"breeding",icon:"ClassIcons52"},12:{name:"laboratory",icon:"ClassIcons53"},13:{name:"sailing",icon:"ClassIcons54"},14:{name:"divinity",icon:"ClassIcons55"},15:{name:"gaming",icon:"ClassIcons56"},16:{name:"farming",icon:"ClassIcons57"},17:{name:"sneaking",icon:"ClassIcons58"},18:{name:"summoning",icon:"ClassIcons59"}},"skillsMaps",0,n,"starSignsIndicesMap",0,{The_Book_Worm:"1",The_Buff_Guy:"1a",The_Fuzzy_Dice:"1b",Flexo_Bendo:"2",Dwarfo_Beardus:"3",Hipster_Logger:"4",Pie_Seas:"4a",Miniature_Game:"4b",Shoe_Fly:"4c",Pack_Mule:"5",Pirate_Booty:"6",All_Rounder:"7",Muscle_Man:"7a",Fast_Frog:"7b",Smart_Stooge:"7c",Lucky_Larry:"7d",Fatty_Doodoo:"8",Robinhood:"9",Blue_Hedgehog:"9a",Ned_Kelly:"10",The_Fallen_Titan:"10a",Chronus_Cosmos:"CR",Activelius:"11",Gum_Drop:"11a",Mount_Eaterest:"12",Bob_Build_Guy:"13",The_Big_Comatose:"14",Sir_Savvy:"14a",Silly_Snoozer:"15",The_Big_Brain:"15a",Grim_Reaper:"16",The_Forsaken:"16a",The_OG_Skiller:"17",Mr_No_Sleep:"18",All_Rounderi:"1",Centaurii:"2",Murmollio:"3",Strandissi:"4",Agitagi:"4B",Wispommo:"5",Lukiris:"5B",Pokaminni:"6",Gor_Bowzor:"7",Hydron_Cosmos:"8",Trapezoidburg:"8B",Sawsaw_Salala:"9",Preys_Bea:"9B",Cullingo:"10",Gum_Drop_Major:"10B",Grim_Reaper_Major:"11",Sir_Savvy_Major:"12",The_Bulwark:"13",Big_Brain_Major:"14",The_Fiesty:"15",The_Overachiever:"15B",Comatose_Major:"16","S._Snoozer_Major":"17",Breedabilli:"18",Gordonius_Major:"19",Power_Bowower:"19b",Scienscion:"20",Artifosho:"21",Divividov:"22","C._Shanti_Minor":"23",Muscle_Magnus:"S",Cropiovo_Minor:"A1",Fabarmi:"A2","O.G._Signalais":"A3",Lightspeed_Frog:"A4",Beanbie_Major:"A5",Damarian_Major:"A6",Lotto_Larrinald:"A7",Intellostooge:"A8","S._Tealio":"B1","Sneekee_E._X.":"B2",Jadaciussi:"B3",Druipi_Major:"B4",Sumo_Magno:"B5",Killian_Maximus:"B6",Seraph_Cosmos:"SC",Glimmer_of_Beyond:"C1"}])},161866,e=>{"use strict";var t=e.i(608580),a=e.i(82748);e.s(["calcTotalAchievements",0,e=>e.reduce((e,{completed:t})=>t?e+1:e,0),"getAchievementStatus",0,(e,t)=>{let a=e?.[t];if(!a||!a.completed)return 0;switch(t){case 4:case 27:case 37:case 44:case 107:case 109:case 117:return 5;case 108:return 10;case 99:case 104:case 112:return 20;default:return 1}},"getAchievements",0,e=>{let n,l;return n=(0,t.tryToParse)(e?.AchieveReg)||e?.AchieveReg,l=(0,t.tryToParse)(e?.SteamAchieve)||e?.SteamAchieve,a.achievements?.map((e,t)=>{let{steamIndex:a}=e,s=a?l?.[a]===-1:n?.[t]===-1,o=a?l?.[a]:n?.[t];return{...e,completed:s,...o>=0?{currentQuantity:o}:{}}})}])},971176,e=>{"use strict";var t=e.i(82748),a=e.i(608580);let n=(e,t)=>{if(!e||!t)return{};let a=[];return{...Object.keys(t)?.reduce((n,l)=>{if("UQ1txt"===l||"UQ2txt"===l)return{...n,[l]:e?.[l]||t?.[l]};let s=e?.Type==="KEYCHAIN"?0:e?.[l],o=t?.[l],r=s;if(isNaN(o))return{...n,[l]:o};let i=t?.UQ1txt&&e?.Type!=="KEYCHAIN"&&e?.UQ1txt!==t?.UQ1txt?0:o;return 0!==i&&"UQ1txt"!==l&&"UQ2txt"!==l&&a.push({[l]:i}),r=(s||0)+i,{...n,[l]:parseFloat(r)}},{}),changes:a}},l=(e,t)=>{let a=e?.UQ1txt===t?e?.UQ1val:0,n=e?.UQ2txt===t?e?.UQ2val:0;return e?.[t]?e?.[t]:(a??0)+(n??0)},s=(e,t)=>t?e.reduce((e,a)=>{let{name:n,owner:l,amount:s}=a;if(n===t)if(e?.[l])return{...e,[l]:{amount:e?.[l]?.amount+1}};else return{...e,[l]:{amount:s}};return e},{}):{};e.s(["addEquippedItems",0,(e,t)=>t?e?.reduce((e,{tools:t,equipment:a,food:n})=>[...e,...t||[],...a||[],...n||[]],[]).filter(({rawName:e})=>"Blank"!==e).map(e=>e?.amount?e:{...e,amount:1}):[],"addStoneDataToEquip",0,n,"calcObolsFound",0,e=>e?.lootyRaw?.reduce((e,t)=>e+ +!!t?.includes("Obol"),0),"calcTrophiesFound",0,e=>e?.lootyRaw?.reduce((e,t)=>e+ +!!t?.includes("Trophy"),0),"calculateItemTotalAmount",0,(e,t,a,n=!1)=>e?.reduce((e,l)=>(a?t===(n?l?.rawName:l?.name)&&(e+=l?.amount):(n?l?.rawName?.includes(t):l?.name?.includes(t))&&(e+=l?.amount),e),0),"createItemsWithUpgrades",0,(e,a,l)=>Array.from(Object.values(e)).reduce((e,s,o)=>{let r=n(t.items?.[s],a?.[o]),i="",u=Math.max(r?.Upgrade_Slots_Left,t.items?.[s]?.Upgrade_Slots_Left),c={...t.items?.[s],...r,maxUpgradeSlots:u};c?.UQ1txt&&(i+=c?.UQ1txt),c?.UQ2txt&&(i+=` ${c?.UQ2txt}`);let m={name:t.items?.[s]?.displayName,rawName:s,owner:l,..."Blank"===s?{}:c,misc:i};return m?.Premiumified&&(m.UQ1txt||delete m.UQ1val,m.UQ2txt||delete m.UQ2val,delete m.Defence,delete m.Weapon_Power,delete m.Reach),s?[...e,m]:e},[]),"findItemByDescriptionInInventory",0,(e,t)=>{if(!t)return{};let n=e.filter(({misc:e,description:n})=>(0,a.cleanUnderscore)(n)?.toLowerCase()?.includes(t?.toLowerCase())||(0,a.cleanUnderscore)(e)?.toLowerCase()?.includes(t?.toLowerCase()),[]);return n?.reduce((e,t)=>{let a=e?.findIndex(e=>e?.rawName===t?.rawName),n=e?.[a];if(n){let l=n?.owners?.includes(t?.owner)?n?.owners:[...n?.owners,t?.owner];n?.misc===t?.misc&&e?.splice(a,1),e=[...e,{...t,owners:l}]}else e=[...e,{...t,owners:[t?.owner]}];return e},[])},"findItemInInventory",0,s,"findQuantityOwned",0,(e,t)=>{let a=s(e,t);return Object.entries(a)?.reduce((e,[t,{amount:a}])=>({amount:e?.amount+a,owner:[...e?.owner,t]}),{amount:0,owner:[]})},"flattenCraftObject",0,e=>{if(!e)return[];let t={},a=structuredClone(e),n=(e,a)=>e?.reduce((e,l)=>(e.push(l),l.materials&&(e=e.concat(n(l?.materials,a)),l.materials=[]),t[l?.itemName]?t[l?.itemName].itemQuantity+=l?.itemQuantity:t[l?.itemName]=l,e),[]);return n(a?.materials,t),Object.values(t)},"getAllItems",0,(e,t)=>{let a=e?.reduce((e,{inventory:t=[]})=>[...e,...t],[]),n=t?.forge?.list?.reduce((e,{bar:t,barrel:a,ore:n})=>[...e,t,a,n],[]);return[...a||[],...t?.storage?.list||[],...n||[]]},"getAllTools",0,()=>[t.itemsArray?.filter(({rawName:e})=>e?.match(/EquipmentTools[0-9]+/))?.filter(({rawName:e})=>"EquipmentTools13"!==e&&"EquipmentTools10"!==e),t.itemsArray?.filter(({rawName:e})=>e?.match(/EquipmentToolsHatchet[0-9]+/))?.filter(({rawName:e})=>"EquipmentToolsHatchet0"!==e&&"EquipmentToolsHatchet3"!==e&&"EquipmentToolsHatchet11"!==e),t.itemsArray?.filter(({rawName:e})=>e?.match(/FishingRod[0-9]+/))?.filter(({rawName:e})=>"FishingRod1"!==e),t.itemsArray?.filter(({rawName:e})=>e?.match(/CatchingNet[0-9]+/))?.filter(({rawName:e})=>"CatchingNet1"!==e),t.itemsArray?.filter(({rawName:e})=>e?.match(/TrapBoxSet[0-9]+/)),t.itemsArray?.filter(({rawName:e})=>e?.match(/WorshipSkull[0-9]+/))?.filter(({rawName:e})=>"WorshipSkull8"!==e),t.itemsArray?.filter(({rawName:e})=>e?.match(/DNAgun[0-9]+/))],"getStatsFromGear",0,(e,a,n,s=!1)=>{if(!e)return 0;let{equipment:o,tools:r}=e||{},i=n?.lab?.playersChips?.[e?.playerId]?.find(e=>16===e.index)??0,u=n?.lab?.playersChips?.[e?.playerId]?.find(e=>17===e.index)??0,c=n?.lab?.playersChips?.[e?.playerId]?.find(e=>18===e.index)??0,m=s?r:o;return isNaN(a)?m?.reduce((e,t)=>e+l(t,a),0):m?.reduce((e,n,o)=>e+l(n,t.bonuses?.etcBonuses?.[a])*(!s&&(3===o&&c||10===o&&i||9===o&&u)?2:1),0)},"mergeItemsByOwner",0,e=>{let t={};return e.forEach(e=>{if(!e.displayName)return;let a=e.owner+e.displayName;t[a]?t[a].amount+=e.amount:t[a]={...e}}),Object.values(t)}])},476219,e=>{"use strict";var t=e.i(608580),a=e.i(82748);let n=(e,t)=>{let a=structuredClone(e),{level:n,maxLevel:s}=a?.[t],o=0;for(let e=n;e<s;e++)a[t].level=e,o+=l(a,t);return o??0},l=(e,t)=>{let{level:a,x1:n,x2:l}=e?.[t];return 33>t?Math.max(.1,1-s(e,13)/100)*(a+(n+a)*Math.pow(l,a)):+(a+(n+a)*Math.pow(l,a))},s=(e,t)=>{let{level:a,x5:n}=e?.[t],l=e?.[60];return 32===t||1===t||6===t||7===t||8===t||9===t||13===t||999===t||999===t||33===t||36===t||40===t||42===t||43===t||44===t||49===t||51===t||52===t||53===t||57===t||61===t||999===t?a*n:0===t?(a*n+(Math.max(0,a-25)+(Math.max(0,a-50)+Math.max(0,a-100))))*(1+s(e,32,0)/100):60===t?(l?.level*l?.x5+(Math.max(0,l?.level-25)+(Math.max(0,l?.level-50)+(2*Math.max(0,l?.level-100)+(3*Math.max(0,l?.level-200)+(5*Math.max(0,l?.level-300)+(7*Math.max(0,l?.level-400)+10*Math.max(0,l?.level-450))))))))*(1+Math.floor(l?.level/25)/5)*(1+s(e,61,0)/100):32>t?a*n*(1+s(e,32,0)/100):61>t?a*n*(1+s(e,61,0)/100):0};e.s(["getUpgradeVault",0,(e,o)=>{var r;let i,u,c;return r=e?.UpgVault||(0,t.tryToParse)(e?.UpgVault),i=r?.reduce((e,t)=>e+t,0),u=(u=a.upgradeVault.map((e,t)=>({...e,level:r?.[t],unlocked:i>=e?.unlockLevel}))).map((e,a)=>{let o=s(u,a),r=e?.description?.replace("{",(0,t.commaNotation)(o)).replace("}",(0,t.notateNumber)(1+o/100,"MultiplierInfo"));return{...e,cost:l(u,a),costToMax:n(u,a),bonus:o,description:r}}),c=u?.find(({unlocked:e})=>!e),{upgrades:u,totalUpgradeLevels:i,nextUnlock:c}},"getUpgradeVaultBonus",0,(e,t)=>e?.[t]?.bonus||0])},276924,e=>{"use strict";e.s(["applyStatuesMulti",()=>c,"calcStatueLevels",()=>d,"calcTotalOnyx",()=>p,"getStatueBonus",()=>m,"getStatues",()=>r]);var t=e.i(608580),a=e.i(82748),n=e.i(173024),l=e.i(24174),s=e.i(476219),o=e.i(210270);let r=(e,a)=>i((0,t.tryToParse)(e?.StuG)||e?.StatueG,a),i=(e,t)=>e?.reduce((e,n,l)=>{let s=2===n,o=u(t,l)?.StatueLevels,[r,i]=o?.[l]||[];return o?.[l]?[...e,{...a.statues?.[l]||{},rawName:`Statue${s?"O":1===n?"G":""}${parseInt(l)+1}`,level:r,progress:i,onyxStatue:s,statueIndex:l}]:e},[]).filter(({name:e}={})=>e),u=(e,t)=>e.reduce((e,a)=>e?.StatueLevels?.[t]?.[0]>a?.StatueLevels?.[t]?.[0]?e:a),c=(e,t)=>{let a=1+(0,n.getHighestTalentByClass)(t,n.CLASSES.Voidwalker,"VOODOO_STATUFICATION")/100,r=(0,l.isArtifactAcquired)(e?.sailing?.artifacts,"The_Onyx_Lantern"),i=(0,o.getEventShopBonus)(e,19)??0,u=e?.statues?.map(e=>({...e,bonus:e?.bonus,talentMulti:a,onyxMulti:r?.bonus??0,eventBonusMulti:1+.3*i})),c=m({statues:u},29),d=[0,1,2,6];return u?.map(t=>{let a=1;return d.includes(t.statueIndex)&&(a=(0,s.getUpgradeVaultBonus)(e?.upgradeVault?.upgrades,25)),{...t,dragonMulti:c,upgradeVaultMulti:a}})},m=(e,t,a)=>{let l=e?.statues?.[t];if(!l)return 0;let s=1;switch(l?.name){case"POWER":case"MINING":s+=((0,n.getTalentBonus)(a,"SHIELDIEST_STATUES")||(0,n.getTalentBonus)(a,"STRONGEST_STATUES"))/100;break;case"OCEANMAN":s+=(0,n.getTalentBonus)(a,"STRONGEST_STATUES")/100;break;case"DEFENCE":case"THICC_SKIN":s+=(0,n.getTalentBonus)(a,"SHIELDIEST_STATUES")/100;break;case"SPEED":case"ANVIL":s+=((0,n.getTalentBonus)(a,"STRAIGHTSHOT_STATUES")||(0,n.getTalentBonus)(a,"SHWIFTY_STATUES"))/100;break;case"BULLSEYE":s+=(0,n.getTalentBonus)(a,"STRAIGHTSHOT_STATUES")/100;break;case"OL_RELIABLE":s+=(0,n.getTalentBonus)(a,"SHWIFTY_STATUES")/100;break;case"EXP":case"LUMBERBOB":s+=((0,n.getTalentBonus)(a,"STARING_STATUES")||(0,n.getTalentBonus)(a,"STUPENDOUS_STATUES"))/100;break;case"BEHOLDER":s+=(0,n.getTalentBonus)(a,"STARING_STATUES")/100;break;case"CAULDRON":s+=(0,n.getTalentBonus)(a,"STUPENDOUS_STATUES")/100;break;case"EHEXPEE":case"KACHOW":case"FEASTY":s+=(0,n.getTalentBonus)(a,"SKILLIEST_STATUE")/100;break;default:s=1}let o=l?.onyxStatue?2+l?.onyxMulti/100:1,r=l?.dragonMulti&&l?.name!=="DRAGON"?1+l?.dragonMulti/100:1,i=l?.upgradeVaultMulti>1?1+l?.upgradeVaultMulti/100:1;return l?.level*l?.bonus*s*l?.talentMulti*o*r*i*l?.eventBonusMulti},d=e=>e?Object.values(e)?.reduce((e,{level:t})=>e+t,0):0,p=e=>e?.accountOptions?.[69]<2?0:e?.statues?.reduce((e,{onyxStatue:t})=>e+ +!!t,0)},292996,e=>{"use strict";let t=e=>e?.name?.includes("%")?e?.value>0&&!isNaN(e?.value/100)?e?.value/100:"":e?.value||"";e.s(["createCogstructionData",0,(e,a)=>{let n=e?.reduce((e,n,l)=>{let s=(e=>{if("Blank"===e)return null;if(e.includes("Player_"))return"Character";if("CogY"===e)return"Yang_Cog";if("CogZ"===e)return"Omni_Cog";let t=Object.entries({ad:"Plus",di:"X",up:"Up",do:"Down",ri:"Right",le:"Left",ro:"Row",co:"Col",cr:"Omni"}).find(([t])=>e.endsWith(t));return t?`${t[1]}_Cog`:"Cog"})(a[l]);if(!s)return e;let{a:o="",c:r="",d:i="",b:u="",e:c="",g:m="",k:d="",f:p=""}=n||{},g=[o,r,i,u,c,m,d,p].map((e,a)=>a<7?`${t(e)||""},`:t(e)),h=a[l].includes("Player_")?a[l].split("Player_")[1]:"";return`${e}
${s},${h},${g.join("")}`},"cog type,name,build_rate,flaggy_rate,exp_mult,exp_rate,build_rate_boost,flaggy_rate_boost,flaggy_speed,exp_rate_boost"),l="empties_x,empties_y",s=a?.slice(0,96);for(let e=0;e<8;e++)for(let t=0;t<12;t++){let a=(7-e)*12+t;s?.[a]==="Blank"&&(l=`${l}
${t},${e}`)}return{cogData:n,empties:l}}])},394699,e=>{"use strict";e.s(["calcTotalBeanstalkLevel",()=>v,"getCharmBonus",()=>B,"getInventoryNinjaItem",()=>d,"getJadeEmporiumBonus",()=>f,"getNinjaEquipmentBonus",()=>p,"getNinjaUpgradeBonus",()=>g,"getSneaking",()=>s,"isJadeBonusUnlocked",()=>h]);var t=e.i(608580),a=e.i(82748),n=e.i(262887),l=e.i(173024);let s=(e,a,n,l)=>r((0,t.tryToParse)(e?.Ninja),a,n,l),o=(a.ninjaExtraInfo?.[3]).split(" "),r=(e,l,s,r)=>{let m=e?.[106]?.filter(e=>e.includes("NjGem")),d=Object.entries(a.ninjaEquipment).reduce((e,[t,a])=>t.includes("NjGem")?[...e,a]:[],[]).map((e,t)=>{let n=m?.[t],l=r?.accountOptions?.[233+t]??0,o=l<.5?0:u({...e,baseValue:l},t,0,s),i="string"==typeof a.randomList?.[102]?a.randomList?.[102]?.split(" ")[t]:void 0;return{...e,unlocked:n,baseValue:l,bonus:o,description:i}});d=d.map((e,a)=>{let n=e?.baseValue<.5?0:u(e,a,d?.[5]?.bonus,s),l,o=e.description??"";return e.description.includes("}")&&(l=(0,t.notateNumber)(n,"Big"),o=o.replace("}",l)),e.description.includes("$")&&(l=(0,t.notateNumber)(100*(1-1/(1+n/100)),"Big"),o=o.replace("$",l)),{...e,bonus:n,notatedBonus:l,description:o.replace("{","+").replace(/@/g,"")}});let p=e?.[102]?.[0],g=e?.[102]?.[9],h=e?.[102]?.[1],f=e?.[102]?.[2],B=e?.[103],v=e?.[104],_=e?.[100],M=o.reduce((e,t,a)=>e+ +((r?.accountOptions?.[231]<r?.accountOptions?.[232]?0:parseFloat(t))-_?.[a]<=0),1),S=r.accountOptions?.[231],b=r.accountOptions?.[232],y=b>0?12*b:Math.min(12,M),x=e?.slice(0,s?.length)?.map(([e,t])=>({floor:e,activityInfo:t})),k=a.ninjaExtraInfo.slice(13,23).map(e=>e.split(" ").toChunks(2))?.map(e=>e?.map(([e,t])=>({...a.ninjaEquipment[e],dropChance:t}))),C=a.ninjaUpgrades?.map((e,t)=>({...e,level:B?.[t+1],value:B?.[t+1]*(e.modifier??1)})),T=a.ninjaExtraInfo[24].split(" "),w=c(e?.slice(60,99),!1,d),E=c(e?.slice(12,12+s?.length*4),!0,d?.[3]?.bonus),A=s.map((e,t)=>({equipment:E?.[t]?.map(e=>({...e,value:e?.value})),...x?.[t]||[]})),O=0,P=a.jadeUpgrades.map((e,a)=>{let n=!!g&&g?.indexOf(t.number2letter?.[a])!==-1;return n&&(O+=1),{...e,originalIndex:a,index:T?.indexOf(a+""),unlocked:n}});P.sort((e,t)=>e.index-t.index);let L=r?.looty?.rawLootedItems,I=P.map((e,t)=>{let a;return(8===t||6===t)&&(a=(6===t?3:5)*Math.floor(Math.max(0,L-1e3)/10)*(1+(0,n.getLabBonus)(r?.lab?.labBonuses,15)/100)),{...e,cost:(300+500*t+Math.pow(t,3))*Math.pow(Math.max(1,l.A_empoExpon),t)*Math.pow(3.07,Math.max(0,t-28)),bonus:a}}),N=a.pristineCharms.map((t,a)=>({...t,unlocked:e?.[107]?.[a],value:t?.bonus.includes("}")?1+t?.x3/100:t?.x3,baseValue:t?.x3})),R=(a.randomList?.[101]).split(" ").map((e,t)=>{let[a,n]=e.split("{");return{index:t,description:a,bonus:n}}),D=i(S,b,C,d,w);return{sneakingExpThing:p,jadeEmporium:I,jadeCoins:h,upgrades:C,characterEquipments:E,inventory:w,players:A,pristineCharms:N,dropList:k,doorsCurrentHp:_,beanstalkData:v,totalJadeEmporiumUnlocked:O,unlockedFloors:y,gemStones:d,lastLooted:f,ninjaMasteryBonuses:R,ninjaMastery:b,itemsMaxLevel:D}},i=(e,t,a,n,l)=>{let s=d({sneaking:{inventory:l}},"Gold_Star")||0,o=(a?.[2]?.value||0)*e,r=n?.[7]?.bonus,i=e=>a?.[e]?.value||0;return[{name:"Gemstone",value:Math.floor(o+i(5))},{name:"Kunai",value:Math.floor(o+i(6))},{name:"Gloves",value:Math.floor(o+i(9))},{name:"Charm",value:Math.floor(o+i(10)+s+r)},{name:"Nunchaku",value:Math.floor(o+i(11))}]},u=(e,t,a,n)=>{let s=(0,l.getHighestTalentByClass)(n,l.CLASSES.Wind_Walker,"GENERATIONAL_GEMSTONES")??0;return 5===t?e?.x3+e?.x5*(e?.baseValue/(1e3+e?.baseValue)):(e?.x3+e?.x5*(e?.baseValue/(1e3+e?.baseValue)))*(1+a/100)*Math.max(1,s)},c=(e,t,n)=>{let l=n?.[3]?.bonus||0,s=e?.map(([e,t])=>({...a.ninjaEquipment[e],level:t}));return t?s?.toChunks(4)?.map(e=>e.map(e=>({...e,value:m(e)}))):s?.map(e=>({...e,value:m(e)*(e?.name?.startsWith("Gold_")?1+l/100:1)}))},m=({type:e,subType:t,level:a,x3:n,x5:l})=>{if(1===e)if(0===t)return 10*n*((a+10)/(a+40));else return n*Math.pow(1.23,a)*Math.pow(.92,Math.max(0,a-80))*Math.pow(.94,Math.max(0,a-110));return 2===e?Math.min(n+a/(a+50)*l,l)+Math.min(a/(a+900)*l,l):0},d=(e,t)=>e?.sneaking?.inventory?.find(({name:e})=>e===t)?.value,p=(e,t,a)=>e?.sneaking?.players?.[t]?.equipment?.reduce((e,t)=>e+(t?.name===a?t?.value:0),0),g=(e,t)=>e?.sneaking?.upgrades?.find(({name:e})=>e===t)?.value,h=(e,t)=>e?.sneaking?.jadeEmporium?.find(({name:e})=>e===t)?.unlocked,f=(e,t)=>e?.sneaking?.jadeEmporium?.find(({name:e})=>e===t)?.bonus,B=(e,t)=>e?.sneaking?.pristineCharms?.find(({name:e,unlocked:a})=>e===t&&a)?.baseValue??0,v=e=>e?.reduce((e,t)=>e+t,0)},734002,384308,787031,532600,10051,279522,633273,878012,669203,264046,724719,801902,723672,e=>{"use strict";e.s(["getBravery",()=>eX,"getMonumentAfkBonus",()=>ez,"getMonumentAfkReq",()=>eQ,"getMonumentBonus",()=>e5,"getMonumentHourBonus",()=>e2,"getMonumentMultiReward",()=>eZ],734002);var t=e.i(82748),a=e.i(695906),n=e.i(694186),l=e.i(608580);e.s(["getEndlessBattles",()=>ev,"getSummoning",()=>ef,"getWinnerBonus",()=>ex],264046);var s=e.i(394699),o=e.i(24174),r=e.i(161866);e.s(["getArmorSetBonus",()=>c,"getArmorSmithy",()=>u],384308);var i=e.i(210270);let u=(e,a,n)=>{let s=n?.accountOptions?.[380],[,...o]=(n?.accountOptions?.[379]??"").toString().split(","),r=n?.accountOptions?.[381],u=t.equipmentSets.map(e=>{let t=e.description.replace("|","_").replace("{",e.bonusValue).replace("}",(0,l.notateNumber)(1+e.bonusValue/100,"MultiplierInfo")),a=o.includes(e?.setName);return{...e,description:t,unlocked:a}}),c=+!!(0,i.isBundlePurchased)(n?.bundles,"bun_i")?.owned,m=2e3<=e.ServerGemsReceived+1500*c||1>Math.round(30-r);return{sets:u,days:r,smithyUnlocked:s,unlockedSets:o,isSmithyUnlocked:m}},c=(e,t)=>e?.armorSmithy?.sets?.find(({setName:e,unlocked:a})=>a&&e===t)?.bonusValue??0;e.s(["getEmperor",()=>ec,"getEmperorBonus",()=>ep],669203),e.s(["TESSERACT_UPGRADE_CATEGORIES",()=>j,"getArcanistStats",()=>ee,"getExtraTachyon",()=>z,"getMaps",()=>$,"getOptimizedTesseractUpgrades",()=>ei,"getPrismaFragChance",()=>en,"getPrismaMulti",()=>el,"getRingBaseStats",()=>V,"getTesseract",()=>U,"getTesseractBonus",()=>q,"getWeaponBaseStats",()=>H,"tachyonNames",()=>G],878012);var m=e.i(173024),d=e.i(971176);e.s(["getArcade",()=>L,"getArcadeBonus",()=>N],279522),e.s(["calcHappyHours",()=>P,"getDungeonFlurboStatBonus",()=>T,"getDungeonStatBonus",()=>C,"getDungeons",()=>x,"getMaxClaimTime",()=>w,"getSecPerBall",()=>E],10051);var p=e.i(685849);let g=(e,t)=>e?.find(({name:e,done:a})=>e===t&&a)?.value??0;e.s(["getBribeBonus",0,g,"getBribes",0,e=>{let a;return a=e?.BribeStatus||(0,l.tryToParse)(e?.BribeStatus),t.bribes?.map((e,t)=>{let n=a?.[t];return{...e,done:1===n}})}],787031);var h=e.i(172833),f=e.i(623886),B=e.i(699213);function v(e){return(0,B.default)(1,arguments),(0,f.default)(e).getTime()<Date.now()}e.s(["isPast",()=>v],532600);var _=e.i(512527);function M(e){return(0,B.default)(1,arguments),(0,f.default)(e).getDay()}var S=e.i(211792),b=e.i(860207);function y(){return(0,b.default)(Date.now())}let x=(e,t)=>k((0,l.tryToParse)(e?.DungUpg),t),k=(e,a)=>{let n=t.dungeonCreditShop?.map((t,a)=>({...t,level:e?.[0]?.[a]})),l=e?.[1],s=e?.[2],o=0,r=t.dungeonTraits?.map(e=>({...e,bonuses:e?.bonuses?.map(e=>{let t=s?.includes(o),a=o;return o++,{bonus:e,isActive:t,bonusIndex:a}})})),i=e?.[5],u=l?.map((e,a)=>({...t.dungeonStats[a],level:e})),c=i?.map((e,a)=>({...t.dungeonFlurboStats[a],level:e})),m=a?.[72]||0,d=a?.[73]||0,p=a?.[76]||0,g=t.randomList?.[29].split(" "),h=a[71],f=Number(g.reduce((e,t,n,l)=>(a[71]>Number(t)&&(e=n.toString()),e),"0"))+1;return{upgrades:c,insideUpgrades:u,credits:m,flurbos:d,boostedRuns:p,progress:h,rankReq:g?.[f],rank:f,rngItems:n,statBoosts:r}},C=(e,t)=>{let a=e?.find(({effect:e})=>e===t);return a?(0,l.growth)(a?.func,a?.level,a?.x1,a?.x2,!1)??0:0},T=(e,t)=>{let a=e?.find(({effect:e})=>e===t);return a?(0,l.growth)(a?.func,a?.level,a?.x1,a?.x2,!1)??0:0},w=e=>Math.ceil(3600*(48+Math.min(10,(0,p.getStampsBonusByEffect)(e,"hr_Arcade_Ball_claim_max_time")))),E=e=>4e3/(1+(A(e)+g(e?.bribes,"Weighted_Marbles"))/100),A=e=>{let a=0;for(let n=0;n<t.ballsBonuses.length;n++){let[l,s]=t.ballsBonuses[n];1===(0,r.getAchievementStatus)(e?.achievements,l)&&(a+=s)}return a+(0,h.getVialsBonusByStat)(e?.alchemy?.vials,"arcadeBALLZ")+5*e?.tasks?.[2]?.[1]?.[7]+Math.min(50,(0,p.getStampsBonusByEffect)(e,"Arcade_Ball_recharge_rate"))},O=(e,t)=>e?.map(e=>e+Math.round(t/1e3)-3600),P=e=>{let t,a=O(e,t=!function(e){return(0,B.default)(1,arguments),4===(0,f.default)(e).getDay()}(y())?(t=function(e){return(0,B.default)(1,arguments),function(e,t){(0,B.default)(2,arguments);var a=M(e)-t;return a<=0&&(a+=7),(0,S.default)(e,a)}(e,4)}(y())).getTime()-60*t.getTimezoneOffset()*1e3:y()),n=a?.filter(e=>!v(1e3*e)).map(e=>1e3*e);if(n?.length!==0)return n;{let t=function(e){return(0,B.default)(1,arguments),function(e,t){(0,B.default)(2,arguments);var a=t-M(e);return a<=0&&(a+=7),(0,_.default)(e,a)}(e,4)}(y());return O(e,t=t.getTime()-60*t.getTimezoneOffset()*1e3)}},L=(e,t,a)=>I((0,l.tryToParse)(e?.ArcadeUpg)||e?.ArcadeUpg,t,a),I=(e,a,n)=>{let s=a?.accountOptions?.[74],o=a?.accountOptions?.[75],r=a?.accountOptions?.[324],u=Math.round(w(a)/Math.max(1800,E(a))),c=t.arcadeShop?.map((t,s)=>{let{x1:o,x2:r,func:u}=t,c=e?.[s]??0,m=(0,l.growth)(u,c,o,r,!1),d=c>100?2:1,p=(0,i.isCompanionBonusActive)(a,27)?2:1;return{...t,level:c,active:n?.ArcadeBonuses?.includes(s),rotationIndex:n?.ArcadeBonuses?.indexOf(s),bonus:m*d*p,iconName:`PachiShopICON${s}`}}),m=c?.reduce((e,{level:t})=>e+t,0);return{shop:c,balls:s,goldBalls:o,royalBalls:r,maxBalls:u,totalUpgradeLevels:m}},N=(e,t)=>e?.find(({effect:e})=>e.includes(t));var R=e.i(262887);function D(e,t,a,n){let l=e?.x3||e?.boneType;if(Array.isArray(a)&&a.length>0&&"object"==typeof a[0]&&null!==a[0]&&"value"in a[0]){let n=null;return void 0!==l&&(n=a[l]),!n&&e.name&&(n=a.find(t=>t.name===e.name)),n||(n=a[0]),n&&n.value>=t}if(Array.isArray(a))return void 0!==l&&void 0!==a[l]?a[l]>=t:a[0]>=t;if("object"==typeof a&&null!==a){let s=null;return(n&&void 0!==l&&void 0!==n[l]?s=n[l]:e.name&&void 0!==a[e.name]&&(s=e.name),s)?(a[s]??0)>=t:Object.values(a).some(e=>e>=t)}return"number"==typeof a&&a>=t}function F({character:e,account:t,category:a="damage",maxUpgrades:n=100,categoryInfo:l,getUpgrades:s,getResources:o,getCurrentStats:r,getUpgradeCost:i,applyUpgrade:u,updateResourcesAfterUpgrade:c,resourceNames:m,extraArgs:d={}}){let{onlyAffordable:p=!1}=d,g=JSON.parse(JSON.stringify(s(t))),h=JSON.parse(JSON.stringify(o(t))),f=r(g,e,t,d),B=d.getExtraDust,v="dust"===a&&"function"==typeof B?B(e,{...t,compass:{...t.compass,upgrades:g}}):0,_=[];if("all"===a){for(let e=0;e<n;e++){let e=g.filter(e=>!(e.level>=e.x4)&&!!e.unlocked&&(!p||!!D(e,e.cost,h,m)));if(0===e.length)break;let a=e[0],n=1/0;for(let t of e){let e=t.cost;if(d.resourcePerHour){let a=d.getResourceType?d.getResourceType(t):void 0!==t.x3?t.x3:t.name||0,n=1;d.resourcePerHour&&void 0!==a&&void 0!==d.resourcePerHour[a]&&d.resourcePerHour[a]>0&&(n=d.resourcePerHour[a]),e=t.cost/n}e<n&&(n=e,a=t)}let l=g.findIndex(e=>e.index===a.index);if(g[l]={...g[l],level:g[l].level+1},c&&m){let e=JSON.parse(JSON.stringify(h));c(e,a,m,a.cost),h=e}g=g.map((e,a)=>{let n=i(e,a,{account:t,upgrades:g,...d});return{...e,cost:n}}),_.push({...a,level:a.level+1,cost:a.cost})}return _}for(let s=0;s<n;s++){let n=null,s=0,o=null,u=0,M=null,S=0,b=null;for(let c of g.filter(e=>{if(!l.upgradeIndices.includes(e.index)||e.level>=e.x4||!e.unlocked)return!1;if(p){let a=i(e,e.index,{account:t,upgrades:g,resources:h,...d});if(!D(e,a,h,m))return!1}return!0})){let m,p=JSON.parse(JSON.stringify(g)),h=p.findIndex(e=>e.index===c.index);p[h]={...p[h],level:p[h].level+1};let _=r(p,e,t,d),y=v;"dust"===a&&"function"==typeof B&&(y=B(e,{...t,compass:{...t.compass,upgrades:p}}));let x=l.stats.map(e=>{if("dust"===a&&"dust"===e&&"function"==typeof B)return{stat:"extraDust",change:y-v,percentChange:v>0?(y-v)/v*100:0};let t=f[e]||0,n=_[e]||0;return{stat:e,change:n-t,percentChange:t>0?(n-t)/t*100:0}}),k=x.reduce((e,t)=>e+t.percentChange,0),C=i(c,c.index,{account:t,upgrades:g,...d});if(d.resourcePerHour){let e=d.getResourceType?d.getResourceType(c):void 0!==c.x3?c.x3:c.name||0,t=1;d.resourcePerHour&&void 0!==e&&void 0!==d.resourcePerHour[e]&&d.resourcePerHour[e]>0&&(t=d.resourcePerHour[e]),m=k/(C/t)}else m=k/C;m>s&&(n=c,s=m,o=x,u=k,M=_,S=y,b=p)}if(n&&s>0){let e={...n,level:n.level+1},l=i(n,n.index,{account:t,upgrades:g,...d});if(_.push({...e,efficiency:s,statChanges:o,totalStatChange:u,cost:l}),g=b,c&&m){let e=JSON.parse(JSON.stringify(h));c(e,n,m,l),h=e}f=M,"dust"===a&&"function"==typeof B&&(v=S),g=g.map((e,a)=>{let n=i(e,a,{account:t,upgrades:g,...d});return{...e,cost:n}})}else break}return _}e.s(["getOptimizedGenericUpgrades",()=>F],633273);let G={0:"Purple",1:"Brown",2:"Green",3:"Red",4:"Silver",5:"Gold"},j={damage:{name:"Damage",stats:["damage"],upgradeIndices:[0,4,6,12,15,24,31,36,42,50,53,39,49,54]},accuracy:{name:"Accuracy",stats:["accuracy"],upgradeIndices:[1,9,19,22,27,38,44,52,55,39,49,54]},defence:{name:"Defence",stats:["defence"],upgradeIndices:[2,11,22,29,44,46,55,39,49,54]},crit:{name:"Crit",stats:["critPct","critDamage"],upgradeIndices:[8,14,39,49,54]},attackSpeed:{name:"Attack Speed",stats:["attackSpeed"],upgradeIndices:[21,39,49,54]}},W={0:"DR",1:"EXP",2:"AFK"},U=(e,a,n)=>{let s=n?.accountOptions?.slice(388,394).map((e,t)=>({value:e,name:G?.[t]})),o=s?.reduce((e,{value:t})=>e+t,0),r=(0,l.tryToParse)(e?.Arcane)||[],[i]=(0,l.tryToParse)(e?.Tess)||[],u=(0,l.tryToParse)(e?.MapBon)||[],c=r?.reduce((e,t)=>e+t,0),m=t.tesseract?.map((e,t)=>{let a=r?.[t];return{...e,level:a,index:t}}),d=ea(a,m=(m=m.map((e,t)=>{let a=er(m,t),n=eo(m,t,e?.level+1);return{...e,unlocked:e?.x6<=c,bonus:a,nextLevelBonus:n,bonusDiff:n-a,description:et(e?.description,a)}})).map((e,t)=>{let a=es({...e,index:t,account:n,upgrades:m});return{...e,cost:a}})),p=1/(300*Math.pow(1.2,n?.accountOptions?.[396])),g=er(m,5,0),h=1/(500*Math.pow(1.2,n?.accountOptions?.[397])),f=er(m,23,0),B=(i||[]).reduce((e,t)=>({...e,[t]:!0}),{});return{upgrades:m,tachyons:s,totalTachyons:o,totalUpgradeLevels:c,crystalChargeReq:d,weaponDropChance:p,weaponQuality:g,ringDropChance:h,ringQuality:f,unlockedPortals:B,mapBonusRaw:u}},q=(e,t)=>e?.tesseract?.upgrades?.[t]?.bonus||0,H=e=>{e/6e3;return[{title:"Base stats"},{name:"Weapon Power",value:Math.round(5*Math.pow((Math.min(.92,.8+e/2e4)+1)/2,15)+Math.floor(e/25))},{name:"Arcanist DMG",value:Math.round(20*Math.pow((Math.min(.92,.8+e/2e4)+1)/2,15)+Math.floor(e/20))},{name:"Extra Tachyons",value:Math.round(14.5*Math.pow((Math.min(.92,.8+e/2e4)+1)/2,15)+Math.floor(e/15))}]},V=e=>[{title:"Base stats"},{name:"Arcanist ACC",value:Math.round(17.5*Math.pow((Math.min(.92,.8+e/2e4)+1)/2,15)+Math.floor(e/15))},{name:"Extra Tachyons",value:Math.round(14.5*Math.pow((Math.min(.92,.8+e/2e4)+1)/2,15)+Math.floor(e/10))}],$=(e,a)=>{let{unlockedPortals:n,upgrades:s,mapBonusRaw:o}=e?.tesseract,r=100*((0,m.getTalentBonus)(a?.flatTalents,"OVERWHELMING_ENERGY")-1)+Math.min(10,er(s,58,0));return(0,l.getFilteredPortals)()?.map(({mapIndex:e,mapName:a})=>{let l=(t.mapPortals?.[e]).map((t,a)=>({unlocked:n?.[e+"_"+a]})),s=t.mapEnemiesArray?.[e],i=t.monsterDrops?.[s]?.find(({rawName:e})=>"COIN"===e)?.quantity,u=J(i),c=X(i),m=Y(o?.[e],r);return{mapIndex:e,mapName:a,portals:l,reqKills:Q(e),timeLeft:Z(e),monster:t.monsters?.[s],unlocked:l.every(({unlocked:e})=>e),tachyonQuantity:u,tachyonType:c,mapBonuses:m}})},Y=(e,t)=>{let a=[];for(let n=0;n<3;n++){let l,s=parseInt(e?.[n],10),o=K(s),r=Math.min(t,o),i=s;if(Math.floor(1e3*o)===Math.floor(1e3*K(i+1e5)))l="TONS";else{let e=4,t=0;for(;t<5;){for(t++;Math.floor(10*K(s))===Math.floor(10*K(i+Math.pow(10,e)));)i+=Math.pow(10,e);e--}l=i-s}a.push({kills:s,value:r,killsToNext:l,type:W?.[n]})}return a},K=e=>(2*Math.max(0,(0,l.lavaLog)(e)-3.5)+Math.max(0,(0,l.lavaLog2)(e)-12))*((0,l.lavaLog)(e)/2.5)+(Math.min(2,e/1e3)+Math.max(5*((0,l.lavaLog)(e)-5),0)),J=e=>{let t=X(e);if(t>=5)return Math.pow(Math.max(1,e-9999)/8,.83);if(t>=4)return Math.pow(Math.max(1,e-3999)/6,.87);if(t>=3)return 1850===e?40:2500===e?80:Math.max(5,Math.pow(Math.max(1,e-2749)/5,.9));if(t>=2)return Math.max(3,Math.pow(Math.max(1,e-799)/3,.9));if(t>=1)return Math.pow(Math.max(1,e-249)/2,.9);else return Math.pow(Math.max(1,e)/2,.9)},X=e=>5e5===e?5:12500===e||4e5===e?4:2500===e||1850===e?3:770===e||1500===e||22e3===e||23e4===e?2:6e3===e||2e5===e?1:8500===e||17e3===e||175e3===e?0:e>=1e4?Math.min(Math.floor(e/71)%6,5):e>=4e3?Math.min(Math.floor(e/71)%5,4):e>=2750?Math.min(Math.floor(e/35)%4,3):e>=800?Math.min(Math.floor(e/35)%3,2):e>=250?Math.min(Math.floor(e/35)%2,1):0,z=(e,t)=>{let a=t?.tesseract?.upgrades,n=(0,m.getTalentBonus)(e?.flatTalents,"TESSERACT"),o=(0,d.getStatsFromGear)(e,95,t),r=N(t?.arcade?.shop,"Arcane_Tachyons")?.bonus??0,u=(0,R.getLabBonus)(t?.lab.labBonuses,8),c=(0,R.getJewelBonus)(t?.lab.jewels,23,u),p=ep(t,6),g=(0,s.getCharmBonus)(t,"Mystery_Fizz"),h=(0,m.getTalentBonus)(e?.flatTalents,"BACKUP_ENERGY"),f=(0,i.isBundlePurchased)(t?.bundles,"bun_x")?1.2:1;return(1+(er(a,17,0)+(n+(er(a,34,0)*(0,l.lavaLog)(t?.accountOptions?.[390])+(er(a,56,0)*(0,l.lavaLog)(t?.accountOptions?.[393])+(o+(c+r))))))/100)*(1+p/100)*(1+g/100)*Math.max(1,h)*f},Q=e=>25>e?5:[10,20,40,70,80,250,250,250][Math.floor(e/50)],Z=e=>[360,270,225,200,180,180,180,180][Math.floor(e/50)],ee=(e,t,a,n)=>{let s=(0,m.getTalentBonus)(a?.flatTalents,"LABOTOMIZER"),o=(0,m.getTalentBonus)(a?.flatTalents,"GHASTLY_POWER"),r=(0,m.getTalentBonus)(a?.flatTalents,"GHASTLY_POWER",!0),i=(0,m.getTalentBonus)(a?.flatTalents,"GHOULISH_POWER"),u=(0,m.getTalentBonus)(a?.flatTalents,"ARCANIST_FORM"),c=(0,d.getStatsFromGear)(a,94,n),p=(0,d.getStatsFromGear)(a,93,n),g=0,h=a?.equipment?.[1];h?.rawName?.includes("EquipmentWandsArc")&&(g+=h?.Weapon_Power);let f=(5+(er(e,0,0)+(er(e,6,0)+(er(e,15,0)+(er(e,36,0)+er(e,50,0))))))*(1+t/100*o/100)*Math.pow(1.04,Math.max(0,g))*(1+u/100)*(1+(er(e,12,0)*(0,l.lavaLog)(n?.accountOptions?.[388])+(er(e,4,0)+(er(e,24,0)+(er(e,31,0)+(er(e,42,0)+er(e,53,0))))))/100)*(1+p/100),B=(er(e,2,0)+(er(e,11,0)+(er(e,29,0)+er(e,46,0))))*(1+t/100*i/100)*(1+(er(e,22,0)+(er(e,44,0)+er(e,55,0)))/100)*(1+er(e,41,0)*(0,l.lavaLog)(n?.accountOptions?.[391])/100),v=(2+(er(e,1,0)+(er(e,9,0)+(er(e,19,0)+(er(e,38,0)+er(e,52,0))))))*(1+t/100*i/100)*(1+(er(e,22,0)+(er(e,44,0)+er(e,55,0)))/100)*(1+er(e,27,0)*(0,l.lavaLog)(n?.accountOptions?.[389])/100)*(1+c/100),_=5+er(e,8,0)+s*Math.floor(a?.skillsInfo?.laboratory?.level/10);return{damage:f,defence:B,accuracy:v,mastery:.25,critPct:_,critDamage:1+(20+er(e,14,0))/100,attackSpeed:t/100*r+er(e,21,0)}},et=(e,t)=>{if(t<1e9)if(e=e.replace("{",(0,l.commaNotation)(t)),t<1e3){let a=1+t/100;e=e.replace("}",(0,l.notateNumber)(a,"MultiplierInfo"))}else{let a=Math.floor(1+t/100);e=e.replace("}",(0,l.commaNotation)(a))}else e=e.replace("{",(0,l.notateNumber)(t));return e},ea=(e,t)=>{let a=(0,m.getCharacterByHighestTalent)(e,m.CLASSES.Arcane_Cultist,"BACKUP_ENERGY",!0),n=(0,m.getTalentBonus)(a?.flatTalents,"BACKUP_ENERGY");return Math.ceil(Math.max(50,200-(Math.min(100,er(t,13,0))+Math.min(10,n))))},en=(e,t,a)=>{let n=(0,m.getTalentBonus)(e?.flatTalents,"PRIMO_PRISMA");return 1/(1e3*Math.pow(1.27,t?.accountOptions?.[395]))*Math.max(1,(e?.dropRate?.dropRate-1)*(er(a,51,0)/100))*Math.max(1,n*Math.pow(1.5,Math.floor(e?.mapIndex/50)))},el=e=>{let t=N(e?.arcade?.shop,"Prisma_Bonuses")?.bonus;return Math.min(3,2+(q(e,45)+t)/100)},es=({index:e,x1:t,x2:a,level:n,account:s,upgrades:o})=>1/(1+er(o,49,0)*(0,l.lavaLog)(s?.accountOptions?.[392])/100)*3*Math.pow(1.04,e)*(n+(t+n)*Math.pow(a+.01,n)),eo=(e,t,a)=>er(e.map((e,n)=>n===t?{...e,level:a}:{...e}),t,0),er=(e,t,a)=>{let n=e?.[t];return 3===t||7===t||8===t||10===t||13===t||16===t||20===t||25===t||26===t||28===t||33===t||35===t||39===t||40===t||43===t||45===t||48===t||57===t||58===t?999===a?0:n?.level*n?.x5:999===a?69.42:n?.level*n?.x5*(1+er(e,39,0)/100)},ei=(e,t,a="damage",n=100,l={})=>{let s=j[a];return F({character:e,account:t,category:a,maxUpgrades:n,categoryInfo:s,getUpgrades:e=>e?.tesseract?.upgrades||[],getResources:e=>e?.tesseract?.tachyons||[],getCurrentStats:(e,t,a)=>ee(e,a?.tesseract?.totalUpgradeLevels,t,a),getUpgradeCost:(e,t,{account:a,upgrades:n})=>es({...e,index:t,account:a,upgrades:n}),applyUpgrade:(e,t)=>t.map(t=>t.index===e.index?{...t,level:t.level+1}:t),updateResourcesAfterUpgrade:(e,t,a,n)=>{let l=G[t.x3],s=e.find(e=>e.name===l);s&&(s.value-=n)},resourceNames:G,extraArgs:l})},eu={0:"data/ClassIcons58",1:"data/Bone0_x1",2:"data/ClassIcons57",3:"data/Opal",4:"data/ClassIcons29",5:"data/Quest78",6:"data/Tach0_x1",7:"data/ClassIcons56",8:"data/ClassIcons59",9:"",10:"",11:"etc/Owlb_5"},ec=(e,a)=>{let n=a?.accountOptions?.[369]??0,o=Math.floor(n/48),r=t.emperorBonuses.filter((e,t,a)=>a.findIndex(t=>t.name===e.name&&t.index===e.index)===t),i=t.emperorBonuses.reduce((e,t,a)=>{if(e[t.name]||(e[t.name]=0),!(a<n))return e;{let l=Math.floor(n/48);return e[t.name]+=(t?.value??0)*l,a<n%48&&(e[t.name]+=t?.value??0),e}},{});r=r.map(e=>{let t=q(a,48),n=i[e.name]??0,s=N(a?.arcade?.shop,"Emperor_Bonuses")?.bonus,r=e.name.replace("{",(0,l.commaNotation)(n)).replace("}",(0,l.notateNumber)(1+n/100,"MultiplierInfo")).replace("$",Math.floor((n+4)/(n+100)*1e3)/10),u=`${e.name.substring(0,3)}`.replace("{",(0,l.commaNotation)(e.value)).replace("}",e.value/100).replace("$",Math.floor((e.value+4)/(e.value+100)*1e3)/10);return{bonus:r,totalBonus:Math.floor(n*(1+(t+s)/100)),rawIndex:e.index,icon:eu[e.index],value:u,indexes:em(e,o)}});let u=t.emperorBonuses.find((e,t)=>t===n+1),c=Math.round(5*!!(0,s.isJadeBonusUnlocked)(a,"Emperor_Season_Pass")+6*a?.accountOptions?.[382]+5)+1;return{highestEmperorShowdown:n,bossHp:Array.from({length:6},(e,t)=>ed(n+t)),bonuses:r,nextLevelBonus:u,dailyAttempts:Math.round(1+a?.accountOptions?.[382]),attempts:Math.round(-1*(a?.accountOptions?.[370]-1)),maxAttempts:c}},em=(e,a)=>{let n=t.emperorBonuses.reduce((t,n,l)=>(n.index===e.index&&t.push(l+48*a),t),[]);if(n.length<5){let l=a+1,s=0;for(;n.length<5&&s<t.emperorBonuses.length;)t.emperorBonuses[s].index===e.index&&n.push(s+48*l),++s===t.emperorBonuses.length&&(s=0,l++)}return n},ed=e=>135e13*Math.pow(1.7,e),ep=(e,t)=>e?.emperor?.bonuses?.find(({rawIndex:e})=>e===t)?.totalBonus??0,eg={0:"white",1:"green",2:"yellow",3:"blue",4:"purple",5:"red",6:"cyan"},eh={0:"aether",1:"grover",2:"shimmer",3:"freezer",4:"hexer",5:"cinder",6:"zephyer"},ef=(e,t,a)=>eB((0,l.tryToParse)(e?.Summon),(0,l.tryToParse)(e?.KRbest),t,a),eB=(e,a,n,s)=>{let o=n?.accountOptions?.[319]??0,r=e?.[0],i=r?.reduce((e,t)=>e+t,0),u=e?.[3],c=e?.[1],m=e?.[2],d=["Piggo","Wild_Boar","Mallay","Squirrel","Whale","Bunny","Chippy","Cool_Bird","Hedgehog"],p=["Pet1","Pet2","Pet3","Pet0","Pet4","Pet6","Pet5","Pet10","Pet11"],g=[[],[],[],[],[],[],[],[],[],[]],{familiarsOwned:h}=(e?.[4]??[]).reduce((e,t,a)=>(e.familiarsOwned+=e.multiplier*t,e.multiplier*=a+3,e),{familiarsOwned:0,multiplier:1}),f={0:0,1:0,2:0,3:0,4:0,5:0,6:0};p.forEach((e,a)=>{let n=t.summoningEnemies.find(t=>t.enemyId===e);if(n){let t=ey(e,n,c);g[0].push({...n,...t,icon:`afk_targets/${d?.[a]}`})}}),t.deathNote.forEach(({rawName:e,world:a})=>{let n=t.summoningEnemies.find(t=>t.enemyId===e);if(n){let t=ey(e,n,c);g[a+1].push({...n,...t})}});let B=c?.reduce((e,a)=>{let n=t.summoningEnemies.find(e=>e.enemyId===a);if(n&&n?.bonusId<20&&t.summoningBonuses.find(e=>e.bonusId===n.bonusId))if(e[n.bonusId]?e[n.bonusId]+=parseFloat(n.bonusQty):e[n.bonusId]=parseFloat(n.bonusQty),-1!==p.findIndex(e=>n.enemyId===e))f[0]+=1;else{let e=t.deathNote.find(({rawName:e})=>n.enemyId===e);e&&(f[e.world+1]+=1)}return e},{});for(let e=0;e<o;e++){let a=e%40,n=Math.round(Number(t.summoningEndless.bonusIds[a])-1);B[n]=(Number(B[n])||0)+Number(t.summoningEndless.bonusQuantities[a])}let v=t.summoningBonuses.map(({bonusId:e,bonus:t},a)=>{let l=B?.[a];return{bonusId:e,bonus:t,value:eM(B,n,a),baseValue:l}}),_=n?.hole?.holesObject?.gambitStuff,M=t.summoningUpgrades.map((e,t)=>{let a=_&&_?.includes(t);return{...e,originalIndex:t,level:r?.[t],value:r?.[t]*e.bonusQty*(a?2:1),doubled:a}}),S=eS(M=ek(M=M.map((e,t)=>{let a=M.find(({originalIndex:e})=>49===e),l=M.find(({originalIndex:e})=>57===e),s=q(n,54)*n?.accountOptions?.[319],o=1/(1+a?.value/100)*(1/(1+l?.value/100))*(1/(1+s/100))*e?.cost*Math.pow(e?.costExponent,r?.[t]);return{...e,totalCost:o}}),f,s,o),i,n),b=eb(M,i,n);M=(0,l.groupByKey)(M,({colour:e})=>e);let y=Object.entries(a).filter(([e])=>e.includes("SummzTrz")).map(([e,a])=>{let n=parseInt(e.match(/\d+$/)[0],10),s=t.summoningEnemies[106+n],o=s?.enemyId==="Boss6",r=o?"Boss6A":s?.enemyId,i=t.monsters?.[r]?.Name,u=2*s?.hp*Math.pow(4e3,a),c=(0,l.createRange)(a+1,a+14).map(e=>2*s?.hp*Math.pow(4e3,e));return{name:s?.territoryName,monsterIcon:o?`data/${s?.enemyId}`:`afk_targets/${i}`,stoneName:eh[n],kills:a,index:n,bonus:`${eg[n]}_`+Math.max(2,1+a)+"x_higher_bonuses",bossHp:u,nextLevelHps:c}}).toSorted((e,t)=>e.index-t.index),x=y.reduce((e,{kills:t})=>e+t,0);return{upgrades:M,winnerBonuses:v,essences:m,totalUpgradesLevels:i,familiarsOwned:h,allBattles:g,armyHealth:S,armyDamage:b,summoningStuff:u,highestEndlessLevel:o,totalWins:g?.flat()?.reduce((e,{won:t})=>e+ +!!t,0)+o,summoningStones:y,totalSummoningStonesKills:x}},ev=(e=100,a,n)=>{let l=[];for(let s=0;s<a+e;s++){let e=s%40,o=e_(s,0,0),r=t.summoningEndless.bonusIds?.[e],i=structuredClone(t.summoningBonuses?.[r-1]),u=t.summoningEndless.bonusQuantities[e]*(1+(n?.[31]?.value??0)/100),c=i?.bonus?.includes("<")?1+u/100:u;i.bonus=i?.bonus?.replace(/[<{]/,c.toFixed(2).replace(".00",""));let m=Math.round(t.summoningEnemies.findIndex(e=>e.enemyId.includes("rift1"))+Math.min(4,Math.floor(s/20))),[d,...p]=t.summoningEndless.difficultiesText?.[o].split("|"),g=t.summoningEnemies?.[m];l.push({...g,bonus:i,bonusQty:u,difficulty:{name:d,sentence:p.join("_")},won:a>s,icon:`etc/${g?.enemyId}_monster`})}return l},e_=(e,a,n)=>99===n?+(a===e_(e,0,0)):t.summoningEndless.difficulties[Math.round(e-40*Math.floor(e/40))],eM=(e,t,a)=>{let n,l=e?.[a]||0,i=(0,s.getCharmBonus)(t,"Crystal_Comb"),u=(0,o.isArtifactAcquired)(t?.sailing?.artifacts,"The_Winz_Lantern")?.bonus??0,m=(0,r.getAchievementStatus)(t?.achievements,373),d=(0,r.getAchievementStatus)(t?.achievements,379),p=ep(t,8),g=c(t,"GODSHARD_SET"),{bonusPerLevel:h,level:f}=t?.meritsDescriptions[5][4];if(20===a||22===a||24===a||31===a)n=l;else if(19===a)n=3.5*l*(1+i/100)*(1+(u+Math.min(10,f*h)+m+d+g)/100);else if(a>=20&&a<=33){let a=eM(e,t,31);n=l*(1+i/100)*(1+(u+Math.min(10,f*h)+m+d+g+p+(0===a?0:a))/100)}else{let a=eM(e,t,31);n=3.5*l*(1+i/100)*(1+(u+Math.min(10,f*h)+m+d+g+p+(0===a?0:a))/100)}return n},eS=(e,t,a)=>{let n=[1,10,35,37].reduce((t,a)=>{let n=e.find(({originalIndex:e})=>e===a)||{};return t+n?.value},0),l=e.find(({originalIndex:e})=>20===e)?.value||0,s=e.find(({originalIndex:e})=>50===e)?.value||0,o=e.find(({originalIndex:e})=>59===e)?.value||0,r=e.find(({originalIndex:e})=>61===e)?.value||0;return(1+n)*(1+l/100)*(1+(s+(o+(e.find(({originalIndex:e})=>63===e)?.value||0)*a?.accountOptions?.[319]))/100)*(1+r*Math.max(0,Math.floor(t/100))/100)},eb=(e,t,a)=>{let n=[3,12,21,31].reduce((t,a)=>{let n=e.find(({originalIndex:e})=>e===a)||{};return t+n?.value},0),l=e.find(({originalIndex:e})=>43===e)?.value||0,s=e.find(({originalIndex:e})=>51===e)?.value||0,o=e.find(({originalIndex:e})=>56===e)?.value||0,r=e.find(({originalIndex:e})=>47===e)?.value||0,i=e.find(({originalIndex:e})=>60===e)?.value||0;return(1+n)*(1+l/100)*(1+(s+(o+(e.find(({originalIndex:e})=>64===e)?.value||0)*a?.accountOptions?.[319]))/100)*(1+0*r/100)*(1+i*Math.max(0,Math.floor(t/100))/100)},ey=(e,a,n)=>{let s=`data/Mface${t.monsters?.[e]?.MonsterFace}`,o=n?.includes(e),{bonus:r,bonusId:i}=t.summoningBonuses.find(e=>e.bonusId===a.bonusId),u=3.5*a?.bonusQty,c=r.includes("<")?(0,l.notateNumber)(1+u/100,"MultiplierInfo"):(0,l.notateNumber)(u,"Big");return{bonus:{bonusId:i,bonus:r.replace(/[<{]/,c)},won:o,icon:s}},ex=(e,t)=>e?.summoning?.winnerBonuses?.find(({bonus:e})=>e===t)?.value??0,ek=(e,t,a,n)=>{let l=Object.values(t).reduce((e,t)=>e+t,0),s=e.reduce((e,{level:t})=>e+t,0);return e.map(e=>{let o="";switch(e.originalIndex){case 0:o=e.value*l;break;case 11:case 18:o=e.value*t[1];break;case 27:o=e.value*t[2];break;case 38:o=e.value*t[3];break;case 54:o=e.value*t[6];break;case 49:case 57:o=e.value;break;case 30:case 40:case 65:case 66:case 67:case 46:case 52:case 58:o=e.value*(a?.[0]?.Lv0?.[18]??1);break;case 60:case 61:o=e.value*(s/100);break;case 62:case 63:case 64:o=e.value*n}return{...e,totalBonus:o}})};e.s(["getJarBonus",()=>eY,"getNewCollectibleChance",()=>eK,"getTheJars",()=>eG],723672),e.s(["getLamp",()=>eL,"getLampBonus",()=>eD],801902),e.s(["getBellBonus",()=>eP,"getTheBell",()=>eC],724719);let eC=(e,a)=>{let l=Math.min(6,e?.bellRelated?.[5]+1),s=Math.min(.6/Math.max(1,.8*e?.bellRelated?.[5]+1)*(1+(0,n.getSchematicBonus)({holesObject:e,t:43,i:25})*e?.extraCalculations?.[31]/100),.9),o=["Ring_the_bell_to_get_+{_LV_of_a_random_bonus!","Ping_the_bell_to_find_an_opal_instantly!","Clean_the_bell_for_a_}%_chance_to_unlock_a_new_improvement_method!","Renew_the_bell_to_reset_all_bonuses..._but_you_keep_improvement_methods_&_opals!"],r=["ring","ping","clean","renew"].map((t,n)=>{let l=eA(e,a,n),s=ew(e,n),r=e?.bellRelated[2*n],i=eP({holesObject:e,t:n});return{name:t,expRate:l,description:o?.[n],bonus:i,expReq:s,exp:r}});return{bellMethodsOwned:l,newMethodChance:s,bells:r,improvementMethods:t.holesInfo[60].split(" ").map((t,n)=>{let l=e?.bellImprovementMethods?.[n],s=eO(e,n);return{bonus:s,description:t,level:l,cost:eE(e,n),...eT(e,a,n)}}),bellBonuses:t.holesInfo[59].split(" ").toChunks(2).map(([t,a],n)=>{let l=eP({holesObject:e,t:n});return{description:t,baseValue:parseFloat(a),bonus:l,level:e?.bellRingLevels?.[n]}}),rings:e?.bellRelated?.[1],pings:e?.bellRelated?.[3]}},eT=(e,t,a)=>0===a?{costType:"money",owned:t?.currencies?.rawMoney}:1===a?{costType:"sediments",owned:Math.max(0,e?.wellSediment?.[3]??0)}:2===a?{costType:"bits",owned:t?.gaming?.bits}:3===a?{costType:"notes",owned:Math.max(0,e?.wellSediment?.[14]??0)}:4===a?{costType:"particles",owned:t?.atoms?.particles}:5===a?{costType:"rupie",owned:Math.max(0,e?.wellSediment?.[25]??0)}:{costType:"",owned:0},ew=(e,t)=>0===t?(5+3*e?.bellRelated?.[1])*Math.pow(1.05,e?.bellRelated?.[1]):1===t?(10+(10*e?.bellRelated?.[3]+Math.pow(e?.bellRelated?.[3],2.5)))*Math.pow(1.75,e?.bellRelated?.[3]):2===t?100*Math.pow(3,e?.bellRelated?.[5]):25,eE=(e,a)=>{let n=t.holesInfo?.[42]?.split(" ");return 0===a?n[a]*Math.pow(1.25,e?.bellImprovementMethods?.[a]):2===a?n[a]*Math.pow(1.5,e?.bellImprovementMethods?.[a]):n[a]*Math.pow(1.1,e?.bellImprovementMethods?.[a])},eA=(e,t,n)=>{if(0===n){let n=e5({holesObject:e,t:0,i:7}),l=(0,a.getMeasurementBonus)({holesObject:e,accountData:t,t:2}),s=eO(e,0,0)+eO(e,2,0)+eO(e,4,0)+eO(e,5,0),o=eY({holesObject:e,i:11}),r=eY({holesObject:e,i:36});return{value:10*(1+n/100)*(1+l/100)*(1+s/100)*(1+o/100)*(1+r/100),breakdown:[{name:"Base",value:10},{name:"Monument bonus",value:1+n/100},{name:"Measurement bonus",value:1+l/100},{name:"Method Quantity",value:1+s/100},{name:"Big Beef Rock (Jar)",value:1+o/100},{name:"Twisted Rupie (Jar)",value:1+r/100}]}}if(1===n){let n=e5({holesObject:e,t:0,i:7}),l=(0,a.getMeasurementBonus)({holesObject:e,accountData:t,t:2}),s=eO(e,3,0);return{value:10*(1+n/100)*(1+l/100)*(1+s/100),breakdown:[{name:"Base",value:10},{name:"Monument Bonus",value:1+n/100},{name:"Measurement Bonus",value:1+l/100},{name:"Method Quantity",value:1+s/100}]}}if(2===n){let t=eO(e,1,0);return{value:10*(1+t/100),breakdown:[{name:"Base",value:10},{name:"Method Quantity",value:1+t/100}]}}return{value:10,breakdown:[{name:"Base",value:10}]}},eO=(e,a)=>2*e?.bellImprovementMethods?.[a]*Math.max(1,(0,n.getSchematicBonus)({holesObject:e,t:45,i:0})*t.holesInfo?.[61]?.split(" ")?.[a]),eP=({holesObject:e,t:a})=>{let n=t.holesInfo[59]?.split(" ");return e?.bellRingLevels[a]*n[Math.round(2*a+1)]},eL=(e,a,n)=>{let s=eI(e,a,n);return{wishes:t.lampWishes.map((t,a)=>{let n,s=eR(e?.wishesUsed?.[a],a),o=eN(e?.wishesUsed?.[a]+1,e?.wishesUsed?.[a]+6,a);return n=4===a||6===a||8===a||10===a||11===a?t?.description.replace("{",eD({holesObject:e,t:Math.floor((a-4+Math.floor(a/11))/2),i:0})).replace("}",eD({holesObject:e,t:Math.floor((a-4+Math.floor(a/11))/2),i:1})).replace("~",eD({holesObject:e,t:Math.floor((a-4+Math.floor(a/11))/2),i:2})):t?.description.replace("#",(0,l.notateNumber)(1+eD({holesObject:e,t:99,i:0})/100)),{...t,cost:s,futureCosts:o,description:n}}),wishPerDay:s,currentWishes:e?.extraCalculations?.[25]}},eI=(e,t,n)=>6>n?0:1+((0,a.getMeasurementBonus)({holesObject:e,accountData:t,t:4})+((0,a.getCosmoBonus)({majik:e?.holeMajiks,t:0,i:2})+(eP({holesObject:e,t:3})+(e5({holesObject:e,t:1,i:7})+100*(0,a.getStudyBonus)(e,6,0)))))/100,eN=(e,t,a)=>{let n=[];for(let l=e;l<t;l++)n.push(eR(l,a));return n??0},eR=(e,a)=>0===a?11>e?Math.floor(1+(2*e+Math.pow(e,2))):999999:2===a?Math.floor(1+(2*e+Math.pow(e,1.7))):Math.floor(e*t.lampWishes[a]?.x2+t.lampWishes[a]?.x1),eD=({holesObject:e,t,i:a})=>99===t?25*e?.wishesUsed?.[7]:"25,10,8;15,40,10;20,35,12;1,1,1;2,2,2".split(";")[t].split(",")[a]*e?.wishesUsed?.[Math.min(11,Math.round(4+2*t))],eF=["Simple Jar","Tall Jar","Ornate Jar","Great Jar","Enchanted Jar","Artisan Jar","Epic Jar","Gilded  Jar","Ceremony Jar","Heirloom Jar"],eG=(e,a,n)=>{let s=t.holesInfo?.[65]?.split(" "),o=Math.round(e?.extraCalculations?.[37]),r=eq({holesObject:e}),i=e$({holesObject:e}),u=eK(e),c=eV({holesObject:e}),m=eJ({holesObject:e}),d=ej({holesObject:e,accountData:n}),p=eU({holesObject:e}),g=eF.map((t,a)=>{let n=1===a?(0,l.notateNumber)(100*i,"Small"):2===a?(0,l.notateNumber)(100*u,"Small"):1===a?m:"";return{name:t,effect:(0,l.cleanUnderscore)(s?.[a]).replace("{",n),unlocked:a<=o,req:eH({holesObject:e,i:a}),destroyed:e?.extraCalculations?.slice(40,50)?.[a]||0}}),h=eW({holesObject:e,accountData:n}),f=(0,l.createRange)(0,r-1).map((t,a)=>({progress:e?.jarProgress?.[a+3],jarType:e?.jarProgress?.[a],req:g?.[e?.jarProgress?.[a]]?.req})),B=(0,l.createRange)(0,9).map(t=>e?.wellSediment?.slice(20)?.[t]??"0");B=[...B,...(0,l.createRange)(0,1).map(t=>e?.extraCalculations?.slice(38)?.[t]??"0")];let v=e?.jarStuff?.slice(0,40).map((a,n)=>{let[s,o,,r]=t.holesInfo?.[67]?.split(" ")?.[n]?.split("|"),i=eY({holesObject:e,i:n});return{level:a,bonus:i,name:(0,l.cleanUnderscore)(s).toLowerCase().capitalizeAllWords(),bonusModifier:o,description:r.replace("{",i).replace("}",1+i/100),doubled:e?.extraCalculations?.[62]===n}});return{unlockedSlots:r,opalChance:i,newJarCost:c,rupieValue:d,jarAesthetic:p,activeSlots:f,rupies:B,perHour:h,jars:g,totalJars:a?.length,collectibles:v}},ej=({holesObject:e,accountData:t})=>{let l=(0,p.getStampsBonusByEffect)(t,"more_Resources_from_all_Caverns")||0,s=(0,n.getSchematicBonus)({holesObject:e,t:62,i:1}),o=(0,n.getSchematicBonus)({holesObject:e,t:65,i:2}),r=(0,n.getSchematicBonus)({holesObject:e,t:68,i:4}),i=Math.max(1,Math.pow(1.5,t?.accountOptions?.[355])),u=1+eD({holesObject:e,t:99,i:0})/400,c=1+e5({holesObject:e,t:2,i:1})/100,m=(0,a.getMeasurementBonus)({holesObject:e,accountData:t,t:10}),d=(0,a.getMeasurementBonus)({holesObject:e,accountData:t,t:14}),g=Math.max(1,(0,n.getSchematicBonus)({holesObject:e,t:80,i:1})*Math.pow(1.1,e?.extraCalculations?.[5])),h=1+e?.extraCalculations?.[60]/100,f=1+eY({holesObject:e,i:3})/100,B=1+eY({holesObject:e,i:17})/100,v=1+eY({holesObject:e,i:28})/100,_=1+(eY({holesObject:e,i:0})+eY({holesObject:e,i:6})+eY({holesObject:e,i:13})+eY({holesObject:e,i:21})+eY({holesObject:e,i:33}))/100,M=1+l/100;return{value:(1+s+o+r)*i*u*c*(1+(m+d)/100)*g*h*f*B*v*_*M,breakdown:[{title:"Base Value"},{name:"Schematic Bonuses",value:1+s+o+r},{title:"Multiplicative"},{name:"Rupie Slug (Gem shop)",value:i},{name:"Lamp",value:u},{name:"Monument",value:c},{name:"Measurements",value:1+(m+d)/100},{name:"Schematic",value:g},{name:"Gilded Jars",value:h},{name:"Collectibles",value:f*B*v*_},{name:"Stamps",value:M}]}},eW=({holesObject:e,accountData:t})=>36e3*(1+(eY({holesObject:e,i:1})+(eY({holesObject:e,i:15})+(eY({holesObject:e,i:24})+(0,a.getMeasurementBonus)({holesObject:e,accountData:t,t:12}))))/100)*(1+(0,n.getSchematicBonus)({holesObject:e,t:72,i:10})*(0,l.lavaLog)(e?.extraCalculations?.[38])/100),eU=({holesObject:e})=>Math.round(Math.min((0,n.getSchematicBonus)({holesObject:e,t:62,i:1})+((0,n.getSchematicBonus)({holesObject:e,t:63,i:1})+((0,n.getSchematicBonus)({holesObject:e,t:64,i:1})+((0,n.getSchematicBonus)({holesObject:e,t:65,i:1})+((0,n.getSchematicBonus)({holesObject:e,t:66,i:1})+((0,n.getSchematicBonus)({holesObject:e,t:67,i:1})+(0,n.getSchematicBonus)({holesObject:e,t:68,i:1})))))),7)),eq=({holesObject:e})=>1===(0,n.getSchematicBonus)({holesObject:e,t:66,i:1})?3:1===(0,n.getSchematicBonus)({holesObject:e,t:63,i:1})?2:1,eH=({holesObject:e,i:t})=>(1e3+2e3*t)/((1+(0,n.getSchematicBonus)({holesObject:e,t:67,i:30})/100)*(1+(0,n.getSchematicBonus)({holesObject:e,t:74,i:5})*(0,l.lavaLog)(e?.extraCalculations[Math.round(Math.max(0,t-1)+40)])/100)),eV=({holesObject:e})=>50*Math.pow(1+e?.extraCalculations?.[37],1.5)*Math.pow(4.8,e?.extraCalculations?.[37]),e$=({holesObject:e})=>.25*Math.pow(.43,e?.opalsPerCavern?.[10])*(1+eY({holesObject:e,i:2})/100)*(1+eY({holesObject:e,i:14})/100)*(1+eY({holesObject:e,i:27})/100),eY=({holesObject:e,i:a})=>{let n=t.holesInfo?.[67].split(" ")?.[a];return e?.jarStuff?.[a]*parseFloat(n.split("|")[1])},eK=e=>{let t=1===(0,n.getSchematicBonus)({holesObject:e,t:76,i:1}),a=eY({holesObject:e,i:7})/100,s=eY({holesObject:e,i:25})/100,o=0;if(t)for(let t=0;t<10;t++){let a=Math.round(20+t),n=e?.wellSediment?.[a]||0;o+=Math.ceil((0,l.lavaLog)(n))}let r=Math.max(1,Math.pow(1.02,o)),i=e?.jarStuff?.reduce((e,t)=>e+ +(t>=1),0);return 0===i?.25:(1+a)*r*(1+s)*.2/(1+Math.pow(i,1.9))/(i>15?Math.pow(1.5,i-16):1)},eJ=({holesObject:e})=>{let t=0;for(let a=0;a<40;a++){let n=e?.jarStuff?.[a];n>=2&&(t+=n-1)}let s=eY({holesObject:e,i:9}),o=eY({holesObject:e,i:18}),r=eY({holesObject:e,i:26}),i=eY({holesObject:e,i:34}),u=1+(0,a.getStudyBonus)(e,10,0)/100;return .35/(1+(Math.pow(t,1.23)+Math.pow(1.1,t)))*(1+s/100)*Math.max(1,(0,n.getSchematicBonus)({holesObject:e,t:73,i:1})*Math.pow(1.1,(0,l.lavaLog)(e?.extraCalculations?.[39])))*(1+o/100)*(1+u/100)*(1+r/100)*(1+i/100)},eX=(e,a)=>{let n=e3(e),s=e2({holesObject:e,t:0,i:4}),o=e0(e,a),r=e1(e,a),i=eZ(e,0)||0,u=Math.min(.5,Math.pow(.5,e?.opalsPerCavern?.[3])*(1+e5({holesObject:e,t:0,i:5})/100)),c=Math.round(Math.min(9,3+(2*e2({holesObject:e,t:0,i:1})+(e2({holesObject:e,t:0,i:3})+(e2({holesObject:e,t:0,i:5})+e2({holesObject:e,t:0,i:7})))))),m=(0,l.fillArrayToLength)(50).map((e,t)=>({name:`Level ${t+1}`,value:(10+15*t)*Math.pow(1.3,t)})).filter((e,t)=>(t+1)%5==0),d=t.holesInfo?.[32]?.split(" ")?.slice(0,10)?.filter(e=>!e.includes("Monument_")).map((t,a)=>{let n=e?.braveryBonuses?.[a],s=e5({holesObject:e,t:0,i:a});return{description:t.replace(/_/g," ").replace(/\|/g," ").replace("{",Math.round(s)).replace("}",(0,l.notateNumber)(1+s/100,"MultiplierInfo")),level:n,bonus:s}}),p=e?.braveryMonument?.[0]||0,g=t.holesInfo?.[31]?.split(" ").slice(0,8),h=(t.holesInfo?.[30]?.split(" ").map((e,t)=>({hours:e,reward:g?.[t]}))).find(({hours:e})=>p<e),f=ez(e,a);return{damage:{min:o,max:r},ownedSwords:c,maxRethrow:n,maxRetelling:s,opalChance:u,hps:m,bonuses:d,hours:p,nextHourBreakpoint:h,timeForNextFight:72e3*(1-i),rewardMulti:i,afkPercent:f,monumentAfkReq:eQ(f?.value,h?.hours,p)}},ez=(e,t)=>{let l=ex(t,"+{% Monument AFK"),s=N(t?.arcade?.shop,"Monument_AFK")?.bonus;return{value:e5({holesObject:e,t:0,i:8})+(e5({holesObject:e,t:1,i:8})+e5({holesObject:e,t:2,i:8})+(l+(eY({holesObject:e,i:19})/1+((0,n.getSchematicBonus)({holesObject:e,t:81,i:20})+((0,a.getMeasurementBonus)({holesObject:e,accountData:t,t:11})+(s+10*(0,r.getAchievementStatus)(t?.achievements,311))))))),breakdown:[{name:"Monument",value:e5({holesObject:e,t:0,i:8})+e5({holesObject:e,t:1,i:8})+e5({holesObject:e,t:2,i:8})},{name:"Summoning",value:l},{name:"Jar",value:eY({holesObject:e,i:19})},{name:"Schematic",value:(0,n.getSchematicBonus)({holesObject:e,t:81,i:20})},{name:"Measurement",value:(0,a.getMeasurementBonus)({holesObject:e,accountData:t,t:11})},{name:"Arcade",value:s||0},{name:"Achievement",value:10*(0,r.getAchievementStatus)(t?.achievements,311)}],expression:`braveryAfkBonus
+ justiceAfkBonus
+ wisdomAfkBonus
+ winBonus
+ (
  minecraftGemBonus / 1
  + (
    rockSmartSchematicBonus
    + measurementBonus
    + arcadeBonus
    + 10 * achievementBonus
  )
)`}},eQ=(e,t,a=0)=>{if(!t)return null;let n=Math.ceil(Math.max(0,t-a)/(1+e/100));return Array.from({length:10},(e,t)=>{let a=t+1,l=Math.ceil(n/a);return{name:`${a} characters`,value:`${l} hrs`}})},eZ=(e,t)=>{let l=1===t?86400*(2+(0,n.getSchematicBonus)({holesObject:e,t:70,i:2})+14*(0,a.getStudyBonus)(e,9,99)):86400*(2+(0,n.getSchematicBonus)({holesObject:e,t:70,i:2}));return Math.min(e?.extraCalculations?.[Math.round(11+t)],l)/72e3+(Math.pow(1+Math.max(0,e?.extraCalculations?.[Math.round(11+t)]-l)/72e3,.3)-1)},e0=(e,t)=>3+Math.floor(e?.braveryMonument?.[0]/6)*(0,n.getSchematicBonus)({holesObject:e,t:24,i:1})+(0,a.getStudyBonus)(e,3,0)/100*e1(e,t),e1=(e,t)=>(25+10*Math.floor(e?.braveryMonument?.[0]/6)*(0,n.getSchematicBonus)({holesObject:e,t:24,i:1}))*(1+(0,a.getMeasurementBonus)({holesObject:e,accountData:t,t:1})/100)*(1+0*(0,n.getSchematicBonus)({holesObject:e,t:40,i:10})/100)*1,e2=({holesObject:e,t,i:a})=>+(e?.braveryMonument?.[Math.round(1+2*t)]>a),e3=e=>Math.round(5*e2({holesObject:e,t:0,i:2})+10*e2({holesObject:e,t:0,i:6})),e5=({holesObject:e,t:n,i:l})=>{let s=1;9!==l&&(s=1+e5({holesObject:e,t:n,i:9})/100+(0,a.getCosmoBonus)({majik:e?.holeMajiks,t:0,i:0})/100);let o=t.holesInfo[37]?.split(" ")[Math.round(10*n+l)],r=e?.braveryBonuses?.[Math.round(10*n+l)],i=Math.max(1,s);return o<30?r*o*i:.1*Math.ceil(r/(250+r)*10*o*i)}},694186,991289,604225,438452,939019,860802,e=>{"use strict";e.s(["getSchematicBonus",()=>g,"getTheWell",()=>c],694186);var t=e.i(608580),a=e.i(82748),n=e.i(734002),l=e.i(801902),s=e.i(695906),o=e.i(724719),r=e.i(626071),i=e.i(723672),u=e.i(685849);let c=(e,a)=>{let{wellSediment:n,sedimentMulti:l,wellBuckets:s}=e,o=(0,t.fillArrayToLength)(10).map((e,t)=>0<=n[t]?{current:n?.[t],max:p({sedimentMulti:l,index:t})}:(n[t],{current:n[t]})),r=o.findIndex(({current:e})=>e<0);o.unshift(o[r]);let i=d(e),u=(0,t.fillArrayToLength)(i,s),c=h(e,a),g=m(e),f=e?.extraCalculations?.[10];return{rockLayerIndex:r,sediments:o,buckets:u,fillRate:c,opalCost:(0,t.notateNumber)(g,"TinyE"),expandWhenFull:f}},m=e=>{let t=(1+(3*e?.extraCalculations[9]+Math.pow(e?.extraCalculations[9],2)))*Math.pow(3.5+e?.extraCalculations[9]/10,e?.extraCalculations[9]);return 1e9>t?1===e?.extraCalculations[9]?6:2===e?.extraCalculations[9]?60:Math.floor(t):t},d=e=>Math.round(1+(g({holesObject:e,t:3,i:1})+(g({holesObject:e,t:4,i:1})+(g({holesObject:e,t:5,i:1})+(g({holesObject:e,t:6,i:1})+(g({holesObject:e,t:7,i:1})+(g({holesObject:e,t:8,i:1})+(g({holesObject:e,t:9,i:1})+(g({holesObject:e,t:10,i:1})+g({holesObject:e,t:11,i:1})))))))))),p=({sedimentMulti:e,index:t})=>{let n=a.holesInfo?.[21]?.split(" ");return 100*Math.pow(1.5,e?.[t])*(1+n?.[t]/100)},g=({holesObject:e,t:a,i:n})=>{let{wellSediment:l,sedimentMulti:o,extraCalculations:r,bellImprovementMethods:i,engineerSchematics:u,studyStuff:c}=e||{};if(0===u?.[a])return 0;if(14===a){let e=0;for(let t=0;t<10;t++)e+=o[t];return e*(20+(0,s.getStudyBonus)({studyStuff:c},0,0))}if(45===a){let e=0,t=i.length;for(let a=0;a<t;a++)e+=i[a];return Math.max(1,Math.pow(1.1,Math.floor(e/25)))}return 46===a?5*r[26]:47===a?25*r[26]:48===a?10*r[26]:49===a?n*(r[1]+(r[3]*g({holesObject:e,t:50,i:1})+r[5]*g({holesObject:e,t:79,i:1}))):52===a?60*Math.floor((0,t.lavaLog)(l[0])):53===a?4*Math.floor((0,t.lavaLog)(l[13])):54===a?Math.pow(1.2,Math.floor((0,t.lavaLog)(l[15]))):55===a?10*Math.floor((0,t.lavaLog)(l[11])):56===a?Math.pow(1.3,Math.floor((0,t.lavaLog)(l?.[2]))):57===a?20*Math.floor((0,t.lavaLog)(l[1])):58===a?5*(0,t.lavaLog)(r[32]):59===a?(r[33]+(r[34]+(r[35]+r[36])))/100*10:82===a||83===a||84===a?n*r[55]:n},h=(e,t)=>{let a=(0,u.getStampsBonusByEffect)(t,"more_Resources_from_all_Caverns")||0;return g({holesObject:e,t:58,i:0})+g({holesObject:e,t:59,i:0})+(10+(g({holesObject:e,t:1,i:5})+g({holesObject:e,t:26,i:5})))*(1+g({holesObject:e,t:14,i:0})/100)*(1+t.gemShopPurchases[2]/2)*(1+(0,n.getMonumentBonus)({holesObject:e,t:0,i:1})/100)*(1+(0,l.getLampBonus)({holesObject:e,t:99,i:0})/100)*(1+(0,r.getGambitBonus)(t,3)/100)*Math.max(1,g({holesObject:e,t:15,i:1})*Math.pow(1.1,e?.extraCalculations[1]))*(1+(0,s.getMeasurementBonus)({holesObject:e,accountData:t,t:5})/100)*(1+(0,o.getBellBonus)({holesObject:e,t:0})/100)*(1+(0,i.getJarBonus)({holesObject:e,i:8})/100)*(1+a/100)};e.s(["getMotherlode",()=>f],991289);let f=e=>{let a=(0,t.notateNumber)(B(e),"Big"),n=e?.extraCalculations?.[1],l=e?.extraCalculations?.[0],o=200*Math.pow(2.2,1+n)/(1+((0,i.getJarBonus)({holesObject:e,i:5})+(0,s.getStudyBonus)(e,1,0)*e?.extraCalculations?.[1]+(0,s.getStudyBonus)(e,7,0)*e?.extraCalculations?.[3]+(0,s.getStudyBonus)(e,11,0)*e?.extraCalculations?.[5])/100);return{miningEff:a,layer:n+1,ores:{mined:l<1e9?(0,t.commaNotation)(l):(0,t.notateNumber)(l,"Big"),required:o<1e9?(0,t.commaNotation)(o):(0,t.notateNumber)(o,"Big"),maxed:l>=o}}},B=e=>2e4*Math.pow(1.8,1+e?.extraCalculations[1])*.25;e.s(["getTheDen",()=>v],604225);let v=e=>{let n=e?.extraCalculations?.[8],l=12*(150+(30+e?.opalsPerCavern[2])*e?.opalsPerCavern[2])*Math.pow(1.5,e?.opalsPerCavern[2]),s=a.holesInfo?.[28]?.split(" ").toChunks(2).map(([a,n],l)=>({ampName:a,ampDescription:n,level:e?.dawgDenAmplifierLevels?.[l],bonus:(0,t.notateNumber)(S(e,l),"Big")})),o=_(e),r=M(e);return{bestScore:(0,t.commaNotation)(n),nextOpalAt:l,ampMulti:o,amplifiers:s,ownedAmps:r}},_=e=>{let t=0;for(let a=0;a<8;a++)t+=e?.dawgDenAmplifierLevels[a];return .5*g({holesObject:e,t:23,i:1})*Math.floor(t/10)+(11*e?.dawgDenAmplifierLevels[0]+(9*e?.dawgDenAmplifierLevels[1]+(8*e?.dawgDenAmplifierLevels[2]+(10*e?.dawgDenAmplifierLevels[3]+(8*e?.dawgDenAmplifierLevels[4]+(7*e?.dawgDenAmplifierLevels[5]+(10*e?.dawgDenAmplifierLevels[6]+7*e?.dawgDenAmplifierLevels[7])))))))/100+1},M=e=>Math.round(1+(g({holesObject:e,t:16,i:1})+(g({holesObject:e,t:17,i:1})+(g({holesObject:e,t:18,i:1})+(g({holesObject:e,t:19,i:1})+(g({holesObject:e,t:20,i:1})+(g({holesObject:e,t:21,i:1})+g({holesObject:e,t:22,i:1})))))))),S=(e,t)=>0===t?(5e3+800*e?.dawgDenAmplifierLevels[0])*Math.pow(1.25,e?.dawgDenAmplifierLevels[0]):1===t?(6e3+4e3*e?.dawgDenAmplifierLevels[1])*Math.pow(1.3,e?.dawgDenAmplifierLevels[1]):2===t?5*e?.dawgDenAmplifierLevels[2]:3===t?(1+e?.dawgDenAmplifierLevels[3])*Math.pow(1.05,e?.dawgDenAmplifierLevels[3]):4===t?(1+e?.dawgDenAmplifierLevels[4])*Math.pow(1.07,e?.dawgDenAmplifierLevels[4]):5===t?1+e?.dawgDenAmplifierLevels[5]:6===t?4*e?.dawgDenAmplifierLevels[6]:e?.dawgDenAmplifierLevels[7]/10;e.s(["getStringSlots",()=>T,"getTheHarp",()=>b],438452);let b=(e,n)=>{let l=T(e),s=w(e),o=A(e),r=e?.extraCalculations?.[22],i=x(e),u=k(e,n,s,r),c=P(e,s,r),m=e?.wellSediment?.slice(10,20),d=(0,t.fillArrayToLength)(6).map((l,o)=>{let i,m=a.holesInfo[45].split(" ")[o],d=e?.harpRelated?.[2*o],p=e?.harpRelated?.[2*o+1],g=E(e,o),h=y({index:0===o||1===o?0:3===o?1:5===o?2:4*(4===o),holesObject:e,stringTypes:s,power:r,accountData:n}),f=C(e,o);return 0===o?i=(0,t.notateNumber)(h,"Big"):1===o?i=(0,t.notateNumber)(100*c,"Small"):3===o||5===o?i=(0,t.notateNumber)(h,"Big"):4===o&&(i=(0,t.commaNotation)(u)),{level:d,exp:p,expReq:g,owned:h,description:m?.replace("{",i),bonus:f}});return{stringSlots:l,stringTypes:s,newNoteCost:o,powerRate:i,power:r,harpExpGain:u,chords:d,opalChance:c,notes:m}},y=({index:e,holesObject:t,stringTypes:a,power:c,accountData:m})=>{let d=(0,u.getStampsBonusByEffect)(m,"more_Resources_from_all_Caverns")||0;return c/100*O(t,a,c)*Math.max(1,g({holesObject:t,t:41,i:1})*Math.pow(1.1,t?.extraCalculations?.[3]))*(1+(C(t,0)+(C(t,3)+C(t,5)))/100)*(1+C(t,1)/100)*(1+(0,l.getLampBonus)({holesObject:t,t:99,i:0})/100)*(1+(0,r.getGambitBonus)(m,3)/100)*(1+(0,n.getMonumentBonus)({holesObject:t,t:1,i:1})/100)*(1+(0,s.getMeasurementBonus)({holesObject:t,accountData:m,t:3})/100)*(1+(0,s.getMeasurementBonus)({holesObject:t,accountData:m,t:8})/100)*(1+(0,o.getBellBonus)({holesObject:t,t:2})/100)*(1+m?.gemShopPurchases?.[2]/2)*(1+(0,i.getJarBonus)({holesObject:t,i:20})/100)*(1+d/100)/Math.pow(4,e)},x=e=>200*(1+C(e,2)/100),k=(e,t,a,n)=>1===(0,s.getStudyBonus)(e,5,99)?(1+(0,s.getStudyBonus)(e,5,0))*(1+(0,s.getStudyBonus)(e,5,99))*(n/100)*O(e,a,n)*(1+C(e,4)/100)*(1+(0,s.getMeasurementBonus)({holesObject:e,accountData:t,t:6})/100)*(1+t?.gemShopPurchases?.[2]/2):(1+(0,s.getStudyBonus)(e,5,99))*(n/100)*O(e,a,n)*(1+C(e,4)/100)*(1+(0,s.getMeasurementBonus)({holesObject:e,accountData:t,t:6})/100)*(1+t?.gemShopPurchases?.[2]/2),C=(e,t)=>a.holesInfo[47].split(" ")[t]*e?.harpRelated?.[Math.round(2*t)],T=e=>Math.min(15,Math.round(1+(0,s.getCosmoBonus)({majik:e?.holeMajiks,t:0,i:1})+(g({holesObject:e,t:32,i:1})+(g({holesObject:e,t:33,i:1})+(g({holesObject:e,t:34,i:1})+(g({holesObject:e,t:35,i:1})+g({holesObject:e,t:36,i:1}))))))),w=e=>Math.round(Math.min(7,Math.min(1,e?.harpRelated?.[0])+(Math.min(1,e?.harpRelated?.[2])+(Math.min(1,e?.harpRelated?.[4])+(Math.min(1,e?.harpRelated?.[6])+(Math.min(1,e?.harpRelated?.[8])+(Math.min(1,e?.harpRelated?.[10])+Math.min(1,e?.harpRelated?.[12])))))))),E=(e,t)=>(4+e?.harpRelated[Math.round(2*t)])*Math.pow(1.15,e?.harpRelated[Math.round(2*t)]),A=e=>150*Math.pow(1+e?.extraCalculations?.[20],1.5)*Math.pow(4.5,e?.extraCalculations?.[20]),O=(e,t,a)=>1+(g({holesObject:e,t:39,i:15})+(g({holesObject:e,t:37,i:20})*a+g({holesObject:e,t:38,i:30})*t))/100,P=(e,t,a)=>Math.min(1,O(e,t,a)*(1-Math.pow(1-Math.pow(.2,e?.opalsPerCavern?.[5]+1),Math.max(1,a/100))));e.s(["getHive",()=>L],939019);let L=e=>{let a=(0,t.notateNumber)(I(e),"Big"),n=e?.extraCalculations?.[3],l=e?.extraCalculations?.[2],o=200*Math.pow(2.2,1+n)/(1+((0,i.getJarBonus)({holesObject:e,i:5})+(0,s.getStudyBonus)(e,1,0)*e?.extraCalculations?.[1]+(0,s.getStudyBonus)(e,7,0)*e?.extraCalculations?.[3]+(0,s.getStudyBonus)(e,11,0)*e?.extraCalculations?.[5])/100);return{fishingEff:a,layer:n+1,bugs:{mined:l<1e9?(0,t.commaNotation)(l):(0,t.notateNumber)(l,"Big"),required:o<1e9?(0,t.commaNotation)(o):(0,t.notateNumber)(o,"Big"),maxed:l>=o}}},I=e=>2e4*Math.pow(1.8,1+e?.extraCalculations[3])*.25;e.s(["getGrotto",0,e=>{let t=e?.extraCalculations[26]+1,a=1e11*Math.pow(7.5,e?.extraCalculations[26]),n=Math.max(0,5e3*Math.pow(3.4,e?.extraCalculations[26])-e?.extraCalculations[27]);return{monarchHp:a,mushroomKillsLeft:n,mushroomKills:e?.extraCalculations[27],mushroomKillsReq:5e3*Math.pow(3.4,e?.extraCalculations[26]),layer:t}}],860802)},523785,521637,871063,240341,150281,e=>{"use strict";e.s(["getJustice",()=>o],523785);var t=e.i(608580),a=e.i(694186),n=e.i(734002),l=e.i(82748),s=e.i(695906);let o=(e,a)=>{let s=(0,n.getMonumentMultiReward)(e,1)||0,o=e?.braveryMonument?.[2]||0,d=l.holesInfo?.[31]?.split(" ").slice(8,16),p=l.holesInfo?.[30]?.split(" ").map((e,t)=>({hours:e,reward:d?.[t]})),g=p.find(({hours:e})=>o<e),h=l.holesInfo?.[32]?.split(" ")?.slice(10,20)?.filter(e=>!e.includes("Monument_")).map((a,l)=>{let s=e?.braveryBonuses?.slice(10)?.[l],o=(0,n.getMonumentBonus)({holesObject:e,t:1,i:l});return{description:a.replace(/_/g," ").replace(/\|/g," ").replace("{",Math.round(o)).replace("}",(0,t.notateNumber)(1+o/100,"MultiplierInfo")),level:s,bonus:o}}),f=(0,n.getMonumentAfkBonus)(e,a);return{rewardMulti:s,hours:o,hoursRewards:d,hoursBreakpoints:p,nextHourBreakpoint:g,bonuses:h,timeForNextFight:72e3*(1-s),coins:r(e),health:c(e),popularity:i(e),dismissals:u(e),opalChance:m(e),monumentAfkReq:(0,n.getMonumentAfkReq)(f?.value,g?.hours,o)}},r=e=>Math.round((5+(0,t.lavaLog2)(e?.braveryMonument?.[2])*(0,a.getSchematicBonus)({holesObject:e,t:61,i:1}))*(.5*(0,n.getMonumentHourBonus)({holesObject:e,t:1,i:3})+1.5*(0,n.getMonumentHourBonus)({holesObject:e,t:1,i:7})+1)),i=e=>Math.round(3+7*(0,n.getMonumentHourBonus)({holesObject:e,t:1,i:5})),u=e=>Math.round((0,n.getMonumentHourBonus)({holesObject:e,t:1,i:2})+((0,n.getMonumentHourBonus)({holesObject:e,t:1,i:4})+2*(0,n.getMonumentHourBonus)({holesObject:e,t:1,i:7}))),c=e=>Math.round(1+((0,n.getMonumentHourBonus)({holesObject:e,t:1,i:1})+((0,n.getMonumentHourBonus)({holesObject:e,t:1,i:4})+2*(0,n.getMonumentHourBonus)({holesObject:e,t:1,i:7})))),m=e=>Math.min(.5,Math.pow(.5,e?.opalsPerCavern?.[9])*(1+(0,n.getMonumentBonus)({holesObject:e,t:1,i:5})/100)*(1+(0,s.getStudyBonus)(e,9,0)/100));e.s(["GRIMOIRE_UPGRADE_CATEGORIES",()=>v,"boneNames",()=>B,"getGrimoire",()=>_,"getGrimoireBonus",()=>C,"getOptimizedGrimoireUpgrades",()=>w,"getWraithStats",()=>y],521637);var d=e.i(173024),p=e.i(971176),g=e.i(626071),h=e.i(669203),f=e.i(633273);let B=["Femur","Ribcage","Cranium","Bovinae"],v={damage:{name:"Damage",stats:["damage"],upgradeIndices:[0,6,8,16,28,33,43,46,50]},accuracy:{name:"Accuracy",stats:["accuracy"],upgradeIndices:[1,7,12,25,37,38,41,47]},defence:{name:"Defence",stats:["defence"],upgradeIndices:[2,7,15,27,30,38,40,49]},hp:{name:"HP",stats:["hp"],upgradeIndices:[3,7,19,34,38,42]},crit:{name:"Crit",stats:["critChance","critDamage"],upgradeIndices:[10,20]},extraBones:{name:"Extra Bones",stats:["extraBones"],upgradeIndices:[23,48]}},_=(e,a,n)=>M((0,t.tryToParse)(e?.Grimoire)||e?.Grimoire,(0,t.tryToParse)(e?.Ribbon)||e?.Ribbon,a,n),M=(e,a,n,s)=>{let o=l.randomList?.[104]?.split(" "),r=s?.accountOptions?.slice(330,334),i=e?.reduce((e,t)=>e+t,0),u=s?.accountOptions?.[329],c=l.grimoire.map((t,a)=>{let{x1:n,x2:l}=t,s=e?.[a],o=x({x1:n,x2:l,index:a,level:s});return{...t,index:a,level:s,cost:o}});c=c.map((e,a)=>{let n=T(c,a);return{...e,index:a,unlocked:e?.unlockLevel<=i,bonus:n,monsterProgress:b(o,s,a),description:e?.description.replace("{",(0,t.commaNotation)(n)).replace("}",(0,t.notateNumber)(1+n/100,"MultiplierInfo"))}});let m=c?.find(({unlocked:e})=>!e);return{totalUpgradeLevels:i,bones:r,upgrades:c,nextUnlock:m,totalBonesCollected:u,monsterDrops:S(),ribbons:a}},S=()=>{let e=["Nothing","Z","Copper","Iron","Starfire","Plat","Void","Filler","JungleZ","Grandfrog's_Gazebo","Grandfrog's_Backyard","Gravel_Tomb","Heaty_Hole","Igloo's_Basement","Inside_the_Igloo","End_Of_The_Road","Efaunt's_Tomb","Eycicles's_Nest","Enclave_a_la_Troll","Chizoar's_Cavern","KattleKruk's_Volcano","Castle_Interior","Emperor's_Castle"].toSimpleObject();return Object.values(l.mapNames).map((e,t)=>{let a=l.mapEnemiesArray?.[t],n=l.monsterDrops?.[a]?.find(({rawName:e})=>"COIN"===e)?.quantity,s=6e3===Math.floor(n)||12500===Math.floor(n)||22e3===Math.floor(n)||35e4===Math.floor(n)?0:4e5===Math.floor(n)?1:3700<=n?Math.min(Math.floor(n/27)%4,3):740<=n?Math.min(Math.floor(n/27)%3,2):190<=n?Math.min(Math.floor(n/27)%2,1):0,o=3<=s?Math.pow(Math.max(1,n-3699),.9):2<=s?Math.pow(Math.max(1,n-739),.9):1<=s?Math.pow(Math.max(1,n-189),.9):Math.pow(Math.max(n,n),.9);return{...l.monsters?.[a],rawName:a,mapName:e,boneType:s,boneQuantity:o}}).filter(({mapName:t,AFKtype:a})=>"FIGHTING"===a&&!e[t]&&!a.includes("Fish")&&!a.includes("Bug")&&!t.includes("Colosseum")).filter((e,t,a)=>t===a.findIndex(t=>t.rawName===e.rawName))},b=(e,t,a)=>{let n;return 13===a?n=334:21===a?n=335:31===a&&(n=336),l.monsters?.[e?.[t?.accountOptions?.[n]]]?.Name},y=(e,a)=>{let{upgrades:n,totalUpgradeLevels:l}=a?.grimoire||{},s=(0,d.getTalentBonus)(e?.flatTalents,d.CLASSES.Death_Bringer,"BULWARK_STYLE"),o=(0,d.getTalentBonus)(e?.flatTalents,d.CLASSES.Death_Bringer,"WRAITH_FORM"),r=(0,d.getTalentBonus)(e?.flatTalents,d.CLASSES.Death_Bringer,"MARAUDER_STYLE"),i=(0,d.getTalentBonus)(e?.flatTalents,d.CLASSES.Death_Bringer,"FAMINE_O'_FISH"),u=(0,d.getTalentBonus)(e?.flatTalents,d.CLASSES.Death_Bringer,"FAMINE_O'_FISH",!0),c=(10+(T(n,3)+(T(n,19)+(T(n,34)+T(n,42)))))*(1+(T(n,7)+T(n,38))/100)*(1+l/100*s/100),m=(5+(T(n,0)+(T(n,6)+(T(n,16)+(T(n,33)+T(n,46))))))*(1+o/100)*(1+(T(n,8)+(T(n,28)+(T(n,43)+T(n,50))))/100)*(1+(a?.accountOptions?.[334]*T(n,13)+(a?.accountOptions?.[335]*T(n,21)+a?.accountOptions?.[336]*T(n,31)))/100)*(1+T(n,18)*(0,t.lavaLog)(a?.accountOptions?.[330])/100)*(1+l/100*r/100),p=(2+(T(n,1)+(T(n,12)+(T(n,25)+(T(n,37)+T(n,47))))))*(1+(T(n,7)+T(n,38))/100)*(1+T(n,41)*(0,t.lavaLog)(a?.accountOptions?.[332])/100)*(1+l/100*r/100),g=(T(n,2)+(T(n,15)+(T(n,30)+(T(n,40)+T(n,49)))))*(1+(T(n,7)+T(n,38))/100)*(1+T(n,27)*(0,t.lavaLog)(a?.accountOptions?.[331])/100)*(1+l/100*s/100),h=10+(T(n,10)+i*(0,t.lavaLog)(1));return{hp:c,damage:m,accuracy:p,defence:g,critChance:h,critDamage:1+(25+T(n,20)+u*(0,t.lavaLog)(1))/100,extraBones:k(e,a)}},x=({index:e,level:t,x1:a,x2:n})=>3*Math.pow(1.05,e)*(t+(a+t)*Math.pow(n+.01,t)),k=(e,a)=>{let{upgrades:n}=a?.grimoire||{},l=(0,d.getTalentBonus)(e?.flatTalents,d.CLASSES.Death_Bringer,"GRIMOIRE"),s=(0,d.getTalentBonus)(e?.flatTalents,d.CLASSES.Death_Bringer),o=(0,d.getTalentBonus)(e?.flatTalents,d.CLASSES.Death_Bringer,"GRAVEYARD_SHIFT"),r=(0,p.getStatsFromGear)(s,76,a),i=(0,h.getEmperorBonus)(a,1);return(1+l/100)*Math.min(2,1+(0,g.getGambitBonus)(a,12))*Math.min(1.5,1+r/100)*(1+i/100)*(1+(T(n,23)+T(n,48)*(0,t.lavaLog)(a?.accountOptions?.[333]))/100)*(1+o/100)},C=(e,t)=>e?.[t]?.bonus||0,T=(e,t)=>{let a=e?.[t];return 9===t||11===t||26===t||36===t||39===t||17===t||32===t||45===t?a?.level*a?.x5:a?.level*a?.x5*(1+T(e,36)/100)},w=(e,t,a="damage",n=100,l={})=>{let s=v[a];return(0,f.getOptimizedGenericUpgrades)({character:e,account:t,category:a,maxUpgrades:n,categoryInfo:s,getUpgrades:e=>e?.grimoire?.upgrades||[],getResources:e=>e?.grimoire?.bones||[],getCurrentStats:(e,t,a)=>y(t,{...a,grimoire:{...a.grimoire,upgrades:e}}),getUpgradeCost:(e,t)=>x({...e,index:t,level:e.level,x1:e.x1,x2:e.x2}),applyUpgrade:(e,t)=>t.map(t=>t.index===e.index?{...t,level:t.level+1}:t),updateResourcesAfterUpgrade:(e,t,a,n)=>{let l=t.boneType??t.x3;void 0!==e[l]&&(e[l]-=n)},resourceNames:B,extraArgs:l})};e.s(["getEvertree",()=>A],871063);var E=e.i(723672);let A=e=>{let a=(0,t.notateNumber)(O(e),"Big"),n=e?.extraCalculations?.[5],l=e?.extraCalculations?.[4],o=200*Math.pow(2.2,1+n)/(1+((0,E.getJarBonus)({holesObject:e,i:5})+(0,s.getStudyBonus)(e,1,0)*e?.extraCalculations?.[1]+(0,s.getStudyBonus)(e,7,0)*e?.extraCalculations?.[3]+(0,s.getStudyBonus)(e,11,0)*e?.extraCalculations?.[5])/100);return{choppingEff:a,layer:n+1,logs:{chopped:l<1e9?(0,t.commaNotation)(l):(0,t.notateNumber)(l,"Big"),required:o<1e9?(0,t.commaNotation)(o):(0,t.notateNumber)(o,"Big"),maxed:l>=o}}},O=e=>2e4*Math.pow(1.8,1+e?.extraCalculations[5])*.25;e.s(["getWisdom",()=>P],240341);let P=(e,a)=>{let s=Math.min(.5,Math.pow(.5,e?.opalsPerCavern?.[12])*(1+(0,n.getMonumentHourBonus)({holesObject:e,t:2,i:5})/100)),o=(0,n.getMonumentMultiReward)(e,2)||0,r=e?.braveryMonument?.[4]||0,i=l.holesInfo?.[31]?.split(" ").slice(16),u=l.holesInfo?.[30]?.split(" ").map((e,t)=>({hours:e,reward:i?.[t]})),c=u.find(({hours:e})=>r<e),m=l.holesInfo?.[32]?.split(" ")?.slice(20)?.filter(e=>!e.includes("Monument_")).map((a,l)=>{let s=e?.braveryBonuses?.slice(20)?.[l],o=(0,n.getMonumentBonus)({holesObject:e,t:2,i:l});return{description:a.replace(/_/g," ").replace(/\|/g," ").replace("{",Math.round(o)).replace("}",(0,t.notateNumber)(1+o/100,"MultiplierInfo")),level:s,bonus:o}}),d=(0,n.getMonumentAfkBonus)(e,a);return{rewardMulti:o,hours:r,hoursRewards:i,hoursBreakpoints:u,nextHourBreakpoint:c,bonuses:m,timeForNextFight:72e3*(1-o),opalChance:s,afkPercent:d,attempts:L(e),attemptsGainPerRound:I(e),timePerMatch:N(),instantMatches:R(e),monumentAfkReq:(0,n.getMonumentAfkReq)(d?.value,c?.hours,r)}},L=(e,a)=>1===a?30:Math.round(5+(0,s.getStudyBonus)(e,12,0)+(4*(0,n.getMonumentHourBonus)({holesObject:e,t:2,i:4})+Math.floor(2*(0,t.lavaLog)(e?.braveryMonument?.[4])))),I=(e,t)=>1===t?0:Math.round(2*(0,n.getMonumentHourBonus)({holesObject:e,t:2,i:1})+(0,n.getMonumentHourBonus)({holesObject:e,t:2,i:6})),N=e=>1===e?1e3:12.6,R=(e,t)=>1===t?0:Math.round(4*(0,n.getMonumentHourBonus)({holesObject:e,t:2,i:3})+5*(0,n.getMonumentHourBonus)({holesObject:e,t:2,i:7}));e.s(["getTheTemple",()=>F],150281),e.i(724719);let D=[{name:"Illuminate",description:"{x_chance_for_Search"},{name:"Search",description:"{%_Chance_to_awaken_Centurion"},{name:"Amplify",description:"{%_Faster_Golem_Respawn"}],F=e=>({bonuses:D.map((a,n)=>{let l=j(e,n),s=0===n?Math.round(100*l)/100:1===n?(0,t.notateNumber)(100*Math.min(1,l),"Small"):Math.round(l);return{...a,cost:G(e,n),description:a?.description.replace("{",s)}}),layer:e?.extraCalculations?.[55]+1,torches:e?.extraCalculations?.[56]}),G=(e,t)=>0===t?3*Math.pow(1.075,e?.extraCalculations?.[57])+e?.extraCalculations?.[57]:1===t?Math.max(5,e?.extraCalculations?.[56]/4):10*Math.pow(1.1,e?.extraCalculations?.[59])+2*e?.extraCalculations?.[59],j=(e,a)=>0===a?1+10*e?.extraCalculations[57]/100:1===a?.05*j(e,0)*Math.pow(.7,e?.extraCalculations[55])*(0,t.lavaLog2)(Math.max(5,e?.extraCalculations[56]/4)):5*e?.extraCalculations[59]},695906,723748,e=>{"use strict";e.s(["getCosmoBonus",()=>ee,"getHole",()=>X,"getMeasurementBonus",()=>es,"getStudyBonus",()=>eu],695906);var t=e.i(608580),a=e.i(82748),n=e.i(694186),l=e.i(991289),s=e.i(604225),o=e.i(734002),r=e.i(724719),i=e.i(438452),u=e.i(801902),c=e.i(939019),m=e.i(860802),d=e.i(210270),p=e.i(618332),g=e.i(264046),h=e.i(523785),f=e.i(521637),B=e.i(279522),v=e.i(723672),_=e.i(871063),M=e.i(240341),S=e.i(626071),b=e.i(150281),y=e.i(685849),x=e.i(276924);e.s(["UPGRADE_CATEGORIES",()=>O,"dustNames",()=>A,"getCompass",()=>L,"getCompassBonus",()=>U,"getCompassStats",()=>W,"getExtraDust",()=>V,"getOptimizedUpgrades",()=>Y],723748);var k=e.i(394699),C=e.i(173024),T=e.i(971176),w=e.i(669203),E=e.i(633273);let A={0:"Stardust",1:"Moondust",2:"Solardust",3:"Cooldust",4:"Novadust"},O={damage:{name:"Damage",stats:["damage"],upgradeIndices:[6,8,10,23,113,112,14,119,15,122,123,121,129,130,127,24,132,135,126,48,155,157,158,60,64,74,75,81,85,94]},dust:{name:"Dust",stats:["dust"],upgradeIndices:[139,142,34,145,31,38,33,148,150,68,86,89,93]},accuracy:{name:"Accuracy",stats:["accuracy"],upgradeIndices:[6,17,22,120,124,19,22,125,134,128,133,25,131,136,147,61,79,84,90]},defence:{name:"Defence",stats:["defence"],upgradeIndices:[29,137,30,141,138,144,149,143,63,83,91]},crit:{name:"Crit",stats:["critPct","critDamage"],upgradeIndices:[16,123,20,42,66,75]},attackSpeed:{name:"Attack Speed",stats:["attackSpeed"],upgradeIndices:[21,69]},hp:{name:"HP",stats:["hp"],upgradeIndices:[10,28,78,84,87,92]}},P={0:"Fire",1:"Wind",2:"Grass",3:"Ice"},L=(e,a,n,l)=>I((0,t.tryToParse)(e?.Compass),a,n,l),I=(e,n,l,s)=>{let o,[r,i,u,c,m]=e||[],d=r?.reduce((e,t)=>e+t,0),p=l?.accountOptions?.slice(357,362).map((e,t)=>({value:e,name:A?.[t]})),g=l?.accountOptions?.[362],h=(u||[]).reduce((e,t)=>({...e,[t]:!0}),{}),f=(0,t.getFilteredPortals)()?.map(({mapIndex:e,mapName:n},l)=>{let s=(a.mapPortals?.[e]).map((a,n)=>{let l=N(e,n);return{costQuantity:l,costType:R(e),unlocked:t.excludedPortals[e]?.includes(n)||h?.[e+"_"+n]}}),o=a.mapEnemiesArray?.[e];return{mapIndex:e,mapName:n,portals:s,monster:a.monsters?.[o],unlocked:s.every(({unlocked:e})=>e)}}),B=a.abominations.map((e,t)=>{let n=i?.[t];return{...e,unlocked:n,hp:400+(123+2*Math.pow(t,3.5)+50*Math.pow(t,2))*Math.pow(2.4,t),weakness:F(e),map:a.mapNames?.[e?.x2],world:Math.floor(e?.x2/50+1)}}),v=a.compass.map((e,t)=>{let a=r?.[t],n=1===e?.x9?"CompassCir":a>=e?.x4?"CompassSqMax":"CompassSq";return{...e,level:a,shapeIcon:n,index:t}});v=v.map((e,a)=>{let n,r=H(v,a),i=q(v,a,e?.level+1),u=$(v,a,s),c=e?.description.includes("}");if(e?.name==="Top_of_the_Mornin'"){let e=Math.max(0,l?.accountOptions?.[365]),t=H(v,9)+H(v,71);o=`${t-e} / ${t}`,n=`Kills: ${o}`}return{...e,bonus:r,nextLevelBonus:i,bonusDiff:i-r,cost:u,isMulti:c,description:e?.description.replace(/{/g,(0,t.commaNotation)(r)).replace(/}/g,(0,t.notateNumber)(1+r/100,"MultiplierInfo")),extraData:n}});let _=D((c||[]).toSimpleObject(),v),M=(m||[]).reduce((e,t)=>{let[,a,n]=t.match(/^([a-zA-Z_]+)(\d+)$/),l=y.altStampsMapping?.[a];return{...e,[l]:{...e?.[l]||{},[n]:!0}}},{combat:{},skills:{},misc:{}}),S=j(l,m?.length,0);return{upgrades:v,groupedUpgrades:G(v,B),abominations:B,medallions:_,maps:f,totalAcquiredMedallions:c?.length,totalKilledAbominations:i?.reduce((e,t)=>t>0?e+1:e,0),dusts:p,exaltedStamps:M,usedExaltedStamps:m?.length,remainingExaltedStamps:S,totalUpgradeLevels:d,totalDustsCollected:g,topOfTheMorninKills:o}},N=(e,t)=>{let n=3*(25+5*e+a.mapDetails?.[e]?.[0]?.[t??0]*Math.pow(1.3,(e-50*Math.floor(e/50))*Math.min(1,Math.floor(e/50)+.2))*Math.pow(4,Math.floor(e/50)));return 1===e?50:2e9>n?Math.ceil(n):2e9},R=e=>Math.min(Math.floor(e/100)+Math.floor(e/249),3),D=(e,t)=>Array.from(new Map(a.randomList?.[112]?.split(" ").map(n=>{let l,s,o=a.monsterDrops?.[n]?.find(({rawName:e})=>"COIN"===e)?.quantity,r=5>Math.floor(o/3)%16?1<=H(t,3)?Math.floor(o/3)%16:-1:670===o||2500===o||13e4===o?4:1850===o||7e3===o||19e3===o||16e4===o?3:-1,i=9>Math.floor(o/2)%42?1<=H(t,12)?Math.floor(o/2)%42:-1:460===o||1260===o||2300===o||8500===o||8e4===o?3:-1,u=Math.round(o/17)%4,c=145e3===Math.floor(o)||72e3===Math.floor(o)||2700===Math.floor(o)||-1===Math.floor(o)?0:310===Math.floor(o)||770===Math.floor(o)||1500===Math.floor(o)||29e3===Math.floor(o)?1:4e5===Math.floor(o)||98500===Math.floor(o)||865===Math.floor(o)||-1===Math.floor(o)?2:89e3===Math.floor(o)||12500===Math.floor(o)||5e4===Math.floor(o)||-1===Math.floor(o)?3:5e3<=o?Math.min(Math.floor(o/35)%4,3):1e3<=o?Math.min(Math.floor(o/35)%3,2):350<=o?Math.min(Math.floor(o/35)%2,1):0,m=3<=c?Math.pow(Math.max(1,o-4999)/3,.9):2<=c?Math.pow(Math.max(1,o-999)/3,.9):1<=c?Math.pow(Math.max(1,o-349)/2,.9):Math.pow(Math.max(1,o)/2,.9);"rockS"===n?l="W3 Colo":["Meteor","rocky","snakeZ","iceknight","frogGR"].includes(n)?l="Event Boss":["poopBig","babayaga","babaHour","babaMummy","mini3a","mini4a","mini5a","mini6a"].includes(n)?l="Boss":/^Crystal\d$/.test(n)?l="Glitterbug prayer":/^Chest[ABC]\d$/.test(n)&&(l=`W ${n.slice(-1)}`);let d=n.match(/^Chest([ABC])(\d)$/);if(d){let[,e,t]=d;l=`W ${t}`,s="A"===e?"Bronze_Chest":"B"===e?"Silver_Chest":"Golden_Chest"}return[n,{...a.monsters[n],...s?{Name:s}:{},acquired:e?.[n],weakness:u,drops:[-1!==r?{...a.items?.[`EquipmentBowsTempest${r}`]}:null,-1!==i?{...a.items?.[`EquipmentRingsTempest${i}`]}:null].filter(Boolean),description:l,dustType:c,dustBaseQuantity:m}]})).values()),F=e=>{let t=50>e?.x2?0:100>e?.x2?3:150>e?.x2?2:200>e?.x2?1:e?.x11%4;return{name:P?.[t]??"Unknown",index:t}},G=(e,t)=>{let n=Object.entries({105:"Elemental",106:"Fighter",107:"Survival",108:"Nomadic",109:"Abomination"}).map(([n,l])=>{let s=a.randomList[parseInt(n)].split(" ").map(Number).filter(e=>!isNaN(e));if(!s.length)return null;let o=s.map(t=>e.find(e=>e.index===t)).filter(Boolean);switch(l){case"Elemental":e[1]&&o.unshift(e[1]);break;case"Fighter":e[13]&&o.unshift(e[13]);break;case"Survival":e[27]&&o.unshift(e[27]);break;case"Nomadic":e[40]&&o.unshift(e[40])}if("Abomination"===l)o=o.map((e,a)=>({...e,unlocked:!!t?.[a]?.unlocked}));else{let e=o[0]?.level??0;o=o.map((t,a)=>({...t,unlocked:a<=e,unlocksAt:a}))}return{path:l,list:o}}).filter(Boolean),l=[e[0],e[170]].filter(Boolean),s=l[0]?.level??0;return[{path:"Default",list:l.map((e,t)=>({...e,unlocked:t<=s}))},...n]},j=(e,t,a)=>999===a?U(e,44)+e?.accountOptions?.[366]+(0,d.getEventShopBonus)(e,18):Math.round(j(e,t,999)-t),W=(e,a)=>{let{upgrades:n,totalUpgradeLevels:l}=a?.compass,s=(0,C.getTalentBonus)(e?.flatTalents,"WINDBORNE"),o=(0,C.getTalentBonus)(e?.flatTalents,"PUMPIN'_POWER"),r=(0,C.getTalentBonus)(e?.flatTalents,"ELEMENTAL_MAYHEM",!0),i=(0,C.getTalentBonus)(e?.flatTalents,"TEMPEST_FORM"),u=(0,T.getStatsFromGear)(e,87,a),c=(0,T.getStatsFromGear)(e,88,a),m=(0,T.getStatsFromGear)(e,89,a),d=(0,T.getStatsFromGear)(e,86,a),p=(10+(H(n,28)+H(n,87)))*(1+(H(n,140)+(H(n,146)+H(n,92)))/100),g=0,h=e?.equipment?.[1],f=e?.equipment?.[5],B=e?.equipment?.[7];h?.name?.includes("Tempest")&&(g+=h?.Weapon_Power),f?.name?.includes("Tempest")&&(g+=f?.Weapon_Power),B?.name?.includes("Tempest")&&(g+=B?.Weapon_Power);let v=5+(H(n,14)+(H(n,15)+(H(n,24)+(H(n,60)+H(n,81)))))*Math.pow(1.05,g)*(1+d/100)*(1+H(n,23)*(0,t.lavaLog)(a?.accountOptions?.[360])/100)*Math.pow(1+H(n,26)/100,a?.accountOptions?.[232])*(1+H(n,6)*a?.compass?.totalAcquiredMedallions/100)*(1+(H(n,119)+(H(n,121)+(H(n,122)+(H(n,123)+(H(n,126)+(H(n,127)+(H(n,129)+(H(n,130)+(H(n,132)+(H(n,135)+(H(n,64)+H(n,78)*(0,t.lavaLog)(p)+(H(n,85)+(H(n,94)+i)))))))))))))/100),_=(3+(H(n,17)+(H(n,19)+(H(n,25)+H(n,61)))))*(1+l/100*s/100)*(1+H(n,22)*(0,t.lavaLog)(a?.accountOptions?.[357])/100)*(1+H(n,6)*a?.compass?.totalAcquiredMedallions/100)*(1+(H(n,120)+(H(n,124)+(H(n,125)+(H(n,128)+(H(n,131)+(H(n,133)+(H(n,134)+(H(n,136)+(H(n,147)+(H(n,84)*(0,t.lavaLog)(p)+(H(n,79)+H(n,90))))))))))))/100),M=(1+(H(n,29)+H(n,63)))*(1+l/100*s/100)*(1+H(n,30)*(0,t.lavaLog)(a?.accountOptions?.[358])/100)*(1+u/100)*(1+(H(n,137)+(H(n,138)+(H(n,141)+(H(n,143)+(H(n,144)+(H(n,149)+(H(n,83)+H(n,91))))))))/100),S=Math.min(.7,.2+H(n,70)/100),b=5+(H(n,16)+o*Math.floor(a?.breeding?.totalBreedabilityLv/25))+H(n,66),y=1+(20+(H(n,20)+H(n,123))+(H(n,75)+c))/100,x=H(n,21)+(H(n,69)+m),k=2.1+(H(n,37)+H(n,88)),w=H(n,32)+H(n,65);return{hp:p,damage:v,accuracy:_,defence:M,mastery:S,critPct:b,critDamage:y,attackSpeed:x,invulnerableTime:k,range:w,moveSpeed:Math.floor(100+H(n,35)+(H(n,141)+H(n,62))),multiShopPct:H(n,18)+(H(n,125)+H(n,73)+l/100*r)}},U=(e,t)=>e?.compass?.upgrades?.[t]?.bonus||0,q=(e,t,a)=>H(e.map((e,n)=>n===t?{...e,level:a}:{...e}),t),H=(e,t)=>{let a=e?.[t];return 1===a?.x9?(1+(H(e,39)+H(e,80))/100)*a?.level*a?.x5:45===t?a?.level*a?.x5*Math.pow(2,Math.floor(a?.level/50)):a?.level*a?.x5},V=(e,a)=>{let n=a?.compass?.upgrades,l=(0,T.getStatsFromGear)(e,85,a)??0,s=(0,T.getStatsFromGear)(e,79,a)??0,o=(0,C.getTalentBonus)(e?.flatTalents,"ETERNAL_HUNT"),r=(0,C.getTalentBonus)(e?.flatTalents,"COMPASS"),i=(0,B.getArcadeBonus)(a?.arcade?.shop,"Windwalker_Dust")?.bonus,u=(0,k.getCharmBonus)(a,"Twinkle_Taffy"),c=(0,w.getEmperorBonus)(a,4);return(1+(H(n,31)+H(n,34)*(0,t.lavaLog)(a?.accountOptions?.[359]))/100)*(1+H(n,38)/100)*(1+u/100)*(1+(l+s)/100)*(1+c/100)*(1+0*o/100)*(1+(H(n,139)+(H(n,142)+(H(n,145)+(H(n,148)+(H(n,150)+(H(n,68)+(H(n,93)+(H(n,89)+(r+i)))))))))/100)},$=(e,t,n)=>{let l=1,s=0;switch(t){case 45:l=1+(H(e,151)+H(e,152)+H(e,153))/100;break;case 43:l=1+(H(e,154)+H(e,156))/100;break;case 48:l=1+(H(e,155)+H(e,157)+H(e,158))/100;break;case 57:l=1+(H(e,159)+H(e,160)+H(e,161)+H(e,168))/100;break;case 51:l=1+(H(e,162)+H(e,163)+H(e,164)+H(e,166)+H(e,167))/100;break;case 54:l=1+(H(e,165)+H(e,169))/100}let o=a.compass?.[t]?.x10+"",r=e?.[t];o.includes("Path")&&(s=(Math.pow(3*r?.level,2)+12*r?.level)*Math.pow(1.1,r?.level));let i=Math.max(n?.DustCost,1),u=1+(H(e,36)+H(e,77))/100,c=a.compass?.[t],m=Math.round(105+c?.x10),d=a.randomList[m]?.split(" "),p=Math.max(1,Math.pow(3.2-d.length/60,d.indexOf(""+t)));return s+1/u*i*(1/Math.max(1,l))*(c?.x1/2)*p*Math.pow(c?.x2,r?.level)},Y=(e,t,a="damage",n=100,l={})=>{let s=O[a];return"dust"===a&&(l.getExtraDust=V),(0,E.getOptimizedGenericUpgrades)({character:e,account:t,category:a,maxUpgrades:n,categoryInfo:s,getUpgrades:e=>(e?.compass?.groupedUpgrades||{}).flatMap(({list:e})=>e).toSorted((e,t)=>e.index-t.index)||[],getResources:e=>e?.compass?.dusts||[],getCurrentStats:(e,t,a)=>W(t,{...a,compass:{...a.compass,upgrades:e}}),getUpgradeCost:(e,t,{account:a,upgrades:n})=>$(n,t,a?.serverVars),applyUpgrade:(e,t)=>t.map(t=>t.index===e.index?{...t,level:t.level+1}:t),updateResourcesAfterUpgrade:(e,t,a,n)=>{let l=A[t.x3],s=e.find(e=>e.name===l);s&&(s.value-=n)},resourceNames:A,extraArgs:l})};var K=e.i(878012);let J={EXPLORE:0,ENGINEER:1,BONUSES:2,MEASURE:3,STUDIES:4},X=(e,a)=>z((0,t.tryToParse)(e?.Holes)||e?.Holes,(0,t.tryToParse)(e?.Jars)||e?.Jars,a),z=(e,p,g)=>{let[f=[],B=[],y=[],x=[],k=[],C=[],T=[],w=[],E=[],A=[],O=[],P=[],L=[],I=[],N=[],R=[],D=[],F=[],G=[],j=[],,W=[],U=[],q=[],H,V,$,Y,K]=e||[],X={charactersCavernLocation:f,villagersLevels:B,villagersExp:y,opalsInvested:x,holeMajiks:k,villageMajiks:C,idleonMajiks:T,opalsPerCavern:w,sedimentMulti:E,wellSediment:A,wellBuckets:O,extraCalculations:P,dawgDenAmplifierLevels:L,engineerSchematics:I,braveryMonument:N,braveryBonuses:R,bellImprovementMethods:D,bellRingLevels:F,bellRelated:G,harpRelated:j,wishesUsed:W,measurementBuffLevels:U,parallelVillagersGemShop:q,jarStuff:H,jarProgress:V,studyStuff:$,studyProgress:Y,gambitStuff:K},z=a.lampWishes.map((e,t)=>({...e,level:W?.[t]})),el=a.holesInfo?.[40]?.split(" "),eu=el?.map((e,t)=>{let n=a.holesBuildings?.[e],l=A?.[n?.x2],{description:s,value:o}=Q(n,X,Number(e));return{...n,unlocked:I?.[e],index:e,description:s,totalBonus:o,owned:isNaN(l)?0:l,cost:eo({...n,index:t,discountWish:z?.[5]?.level})}}),em=Math.min(15,B?.[0]),ed=B?.slice(0,5)?.filter(e=>e>=1)?.length,ep=Math.min(...x?.slice(0,ed)),eg=y?.slice(0,5).map((e,a)=>{let n=B?.[a],l=ei(n,a),s=x?.[a],o=er(X,g,a,ep,em),r=(l-e)/o?.value*36e5;return{index:a,name:Object.keys(J)?.[a].toLowerCase().camelToTitleCase(),exp:e<1e6?(0,t.commaNotation)(e):(0,t.notateNumber)(e,"Big"),expReq:l<1e6?(0,t.commaNotation)(l):(0,t.notateNumber)(l,"Big"),readyToLevel:e>=l,level:n,opalInvested:s,expRate:o,timeLeft:r}}),eh=ec(X,eg?.[J.STUDIES]?.level,g),ef=(0,n.getTheWell)(X,g),eB=(0,l.getMotherlode)(X),ev=(0,s.getTheDen)(X),e_=(0,o.getBravery)(X,g),eM=(0,r.getTheBell)(X,g),eS=(0,i.getTheHarp)(X,g),eb=(0,u.getLamp)(X,g,em),ey=(0,c.getHive)(X),ex=(0,m.getGrotto)(X),ek=(0,h.getJustice)(X,g),eC=(0,v.getTheJars)(X,p,g),eT=(0,_.getEvertree)(X),ew=(0,M.getWisdom)(X,g),eE=(0,S.getGambit)(X,g),eA=(0,b.getTheTemple)(X),eO=[k,C,T],eP=[],eL=a.cosmoUpgrades.map((e,t)=>e.map((e,n)=>{let l;(0,d.isCompanionBonusActive)(g,0)?l=!0:2===t&&0===n&&(P?.[29]!==-1&&eP.push({index:P?.[29],name:a.gods?.[P?.[29]]?.name}),P?.[30]!==-1&&eP.push({index:P?.[30],name:a.gods?.[P?.[30]]?.name}));let s=Number(a.holesInfo?.[56+t]?.[n])+1;return{...e,level:eO?.[t]?.[n],maxLevel:s,bonus:ee({majik:eO?.[t],t:t,i:n}),godsLinks:eP,hasDoot:l}})),eI=Z(X),eN=[0,2,5,7,9],eR=[1,3,4,6,8],eD=[10,11,12,13,14,15],eF=a.holesInfo[52]?.split(" "),eG=a.holesInfo?.[54]?.split(" ").map((e,t)=>{let n,l=Number(eF[t]),s=et({holesObject:X,t:t}),o=es({holesObject:X,accountData:g,t:t}),r=ea({holesObject:X,accountData:g,t:l}),i=(250+50*U[t])*Math.pow(1.6,t-6*Math.floor(t/10))*Math.pow(1.1,U[t]),u=en({holesObject:X,accountData:g,t:l}),c=a.holesInfo[50]?.split(" ")[t],m=Math.max(0,A?.[c]??0);return eN.includes(t)?n="HoleWellFill"+(Number(c)+1):eR.includes(t)?n="HoleHarpNote"+(Number(c)-10):eD.includes(t)&&(n="HoleJarR"+(Number(c)-20)),{description:e,baseBonus:s,totalBonus:o,multi:r,level:X?.measurementBuffLevels[t],cost:i,owned:m,icon:n,measuredBy:u,measureIndex:l}}),ej=A?.reduce((e,a)=>e+Math.ceil((0,t.lavaLog)(a)),0),eW=P?[1,3,5,7].reduce((e,t)=>e+Math.round(Math.max(0,P[t]||0)),0):0,eU=B?.reduce((e,t)=>e+t,0),eq=w?.reduce((e,t)=>e+t,0);return{villagers:eg,unlockedCaverns:em,charactersCavernLocation:f,engineerBonuses:eu,unlockedSchematics:Math.min(Math.min(93,Math.round(1+3*eg?.[1]?.level+Math.floor(eg?.[1]?.level/5))),a.holesBuildings?.length),caverns:{theWell:ef,motherlode:eB,theDen:ev,bravery:e_,theBell:eM,theHarp:eS,theLamp:eb,theHive:ey,grotto:ex,justice:ek,theJars:eC,evertree:eT,wisdom:ew,gambit:eE,theTemple:eA},totalResources:ej,totalLayerResources:eW,totalOpalsFound:eq,totalVillagersLevels:eU,holesObject:X,majiks:eL,cosmoSchematics:eI,godsLinks:eP,measurements:eG,studies:eh,leastOpalInvestedVillager:ep}},Q=(e,a,l)=>{let s=e?.description,o=0;switch(l){case 14:case 46:case 47:case 48:case 52:case 55:case 57:o=(0,n.getSchematicBonus)({holesObject:a,t:l,i:0}),s=s.replace("{",(0,t.notateNumber)(o,"Big"));break;case 15:o=Math.pow(1.1,Number(a?.extraCalculations?.[1])),s=s.replace("{",(0,t.notateNumber)(o,"Small"));break;case 38:let r=Math.round(30*(o=(0,i.getStringSlots)(a)));s=s.replace("$",String(o)).replace("#",String(r));break;case 41:o=Math.pow(1.1,Number(a?.extraCalculations?.[3])),s=s.replace("{",(0,t.notateNumber)(o,"Small"));break;case 45:o=(0,n.getSchematicBonus)({holesObject:a,t:l,i:0}),s=s.replace("}",(0,t.notateNumber)(o,o<1e3?"Small":"Big"));break;case 53:case 54:case 56:case 80:o=(0,n.getSchematicBonus)({holesObject:a,t:l,i:0}),s=s.replace("{",(0,t.notateNumber)(o,"Small"));break;case 58:o=(0,n.getSchematicBonus)({holesObject:a,t:l,i:0}),s=s.replace("{",(0,t.notateNumber)(o,"Big")).replace("#",(0,t.notateNumber)(a?.extraCalculations?.[32],"Big"));break;case 59:o=(0,n.getSchematicBonus)({holesObject:a,t:l,i:0}),s=s.replace("{",(0,t.notateNumber)(o,"Big")).replace("!",(0,t.numberWithCommas)(Number(a?.extraCalculations?.[33]))).replace("#",(0,t.numberWithCommas)(Number(a?.extraCalculations?.[34]))).replace("$",(0,t.numberWithCommas)(Number(a?.extraCalculations?.[35]))).replace("%",(0,t.numberWithCommas)(Number(a?.extraCalculations?.[36])));break;case 72:o=10*(0,t.lavaLog)(Number(a?.extraCalculations?.[38])),s=s.replace("{",(0,t.notateNumber)(o,"Small"));break;case 73:o=Math.pow(1.1,(0,t.lavaLog)(Number(a?.extraCalculations?.[39]))),s=s.replace("{",(0,t.notateNumber)(o,"Small"));break;case 76:o=Math.pow(1.02,(0,v.getNewCollectibleChance)(a)),s=s.replace("{",(0,t.notateNumber)(o,"Small"));break;case 82:case 83:case 84:let u=82===l?20:83===l?40:100;o=(0,n.getSchematicBonus)({holesObject:a,t:l,i:u}),s=s.replace("{",(0,t.notateNumber)(o,"Small"))}return{description:s,value:o}},Z=e=>{let t=0,a=e?.engineerSchematics;for(let e=0;e<a.length;e++)1===a[e]&&(t=Math.round(t+1));return t},ee=({majik:e,t,i:n})=>2===t&&1===n?Math.floor(Math.max(1,Math.pow(3,e?.[n]))):Math.floor(a.cosmoUpgrades?.[t]?.[n]?.x0*e?.[n]),et=({holesObject:e,t})=>{let n=a.holesInfo[55].split(" ");return -1!==n[t].indexOf("TOT")?(1+ee({majik:e?.villageMajiks,t:1,i:3})/100)*(n[t].replace("TOT","")*e?.measurementBuffLevels[t]/(100+e?.measurementBuffLevels[t])):(1+ee({majik:e?.villageMajiks,t:1,i:3})/100)*n[t]*e?.measurementBuffLevels[t]},ea=({holesObject:e,accountData:t,t:a})=>{let n=el({holesObject:e,accountData:t,t:a,i:99});return 5>n?1+18*n/100:1+(18*n+8*(n-5))/100},en=({holesObject:e,accountData:t,t:a})=>({0:{label:"Gloomie Kills",value:e?.extraCalculations?.[28]},1:{label:"Crops",value:t?.farming?.cropsFound},2:{label:"Account lv",value:t?.tome?.tome?.[5]?.quantity},3:{label:"Tome score",value:t?.tome?.totalPoints},4:{label:"All skill lv",value:t?.tome?.tome?.[13]?.quantity},5:{label:"N/A",value:0},6:{label:"Deathnote pts",value:Object.values(t?.deathNote||{}).reduce((e,{rank:t})=>e+t,0)},7:{label:"Highest DMG",value:t?.tasks?.[0]?.[1]?.[0]},8:{label:"Slab Items",value:t?.looty?.lootedItems},9:{label:"Studies done",value:e?.studyStuff?.reduce((e,t)=>e+t,0)},10:{label:"Golem kills",value:Math.floor(e?.extraCalculations?.[63])}})[a]??{label:"Unknown",value:0},el=({holesObject:e,accountData:a,t:n,i:l})=>{let s;switch(n){case 0:let o=e?.extraCalculations?.[28];s=99===l?(0,t.lavaLog)(o):o;break;case 1:s=99===l?a?.farming?.cropsFound/14:a?.farming?.cropsFound;break;case 2:let r=a?.tome?.tome?.[5]?.quantity;s=99===l?r/500:r;break;case 3:let i=a?.tome?.totalPoints;s=99===l?i/2500:i;break;case 4:let u=a?.tome?.tome?.[13]?.quantity;s=99===l?u/5e3+Math.max(0,u-18e3)/1500:u;break;case 5:default:s=0;break;case 6:let c=Object.values(a?.deathNote||{})?.reduce((e,{rank:t})=>e+t,0);s=99===l?c/125:c;break;case 7:let m=a?.tasks?.[0]?.[1]?.[0];s=99===l?(0,t.lavaLog)(m)/2:m;break;case 8:let d=a?.looty?.lootedItems;s=99===l?d/150:d;break;case 9:let p=e?.studyStuff?.reduce((e,t)=>e+t,0);s=99===l?p/6:p;break;case 10:let g=e?.extraCalculations?.[63];s=99===l?Math.max(0,(0,t.lavaLog)(g)-2):g}return s},es=({holesObject:e,accountData:t,t:n})=>et({holesObject:e,t:n})*ea({holesObject:e,accountData:t,t:Number((a.holesInfo[52]?.split(" "))[n])}),eo=({x2:e,x3:t,x4:a,index:n,discountWish:l})=>1===a?Math.max(.01,Math.pow(.85,l))*t:10>e?50*Math.max(.01,Math.pow(.85,l))*Math.pow(1.28,n+Math.floor(n/2.7)):20>e?50*Math.max(.01,Math.pow(.85,l))*Math.pow(1.28,n-16+Math.floor((n-16)/2.7))*Math.pow(1.23,Math.min(Math.max(0,(n-16)/2),14)):40*Math.max(.01,Math.pow(.85,l))*Math.pow(1.34,n-54+Math.floor((n-54)/2.7))*Math.pow(1.26,Math.min(Math.max(0,(n-54)/2),14)),er=(e,t,a,l,s)=>{let i=+!!(0,d.isBundlePurchased)(t?.bundles,"bun_u")?.owned,u=(0,p.getCardBonusByEffect)(t?.cards,"Villager_EXP_(Passive)"),c=(0,d.getEventShopBonus)(t,6),m=(0,f.getGrimoireBonus)(t?.grimoire?.upgrades,29),h=(0,K.getTesseractBonus)(t,32),_=(0,B.getArcadeBonus)(t?.arcade?.shop,"Villager_XP_multi")?.bonus??0,M=+!!(0,d.isCompanionBonusActive)(t,13),S=(0,x.getStatueBonus)(t,28),b=(0,v.getJarBonus)({holesObject:e,i:4})+((0,v.getJarBonus)({holesObject:e,i:10})+((0,v.getJarBonus)({holesObject:e,i:12})+((0,v.getJarBonus)({holesObject:e,i:22})+((0,v.getJarBonus)({holesObject:e,i:29})+(0,v.getJarBonus)({holesObject:e,i:35}))))),y=U(t,59),C=(0,k.getCharmBonus)(t,"Candy_Cache");return{value:(0===a&&s<13?Math.pow(1.5,t?.accountOptions?.[355]):1)*(100+(0,n.getSchematicBonus)({holesObject:e,t:0,i:25}))*Math.max(1,(1+y/100)*(1+C/100)*(1+2*M)*(1+S/100)*(1+b/100)*(1+25*c/100)*(1+50*i/100))*e?.opalsInvested[a]*((1+e?.parallelVillagersGemShop[a])??0)*(1+_/100)*(1+m/100)*(1+h/100)*(1+ee({majik:e?.villageMajiks,t:1,i:5})*Math.floor(l/5)/100)*(1+((0,o.getMonumentBonus)({holesObject:e,t:0,i:3})+((0,o.getMonumentBonus)({holesObject:e,t:1,i:3})+(0,o.getMonumentBonus)({holesObject:e,t:2,i:3})+(es({holesObject:e,accountData:t,t:7})+(Math.floor(e?.opalsInvested[a]/10)*ee({majik:e?.villageMajiks,t:1,i:0})+(ee({majik:e?.villageMajiks,t:1,i:1})*Z(e)+(ee({majik:e?.villageMajiks,t:1,i:2})+((0,n.getSchematicBonus)({holesObject:e,t:48,i:0})+(u+((0,r.getBellBonus)({holesObject:e,t:1})+(es({holesObject:e,accountData:t,t:0})+(0,g.getWinnerBonus)(t,"+{% Villager EXP")))))))))))/100),breakdown:[{title:"Base Value"},{name:"Opal Dividends",value:100+(0,n.getSchematicBonus)({holesObject:e,t:0,i:25})},{title:"Multiplicative"},{name:"Opal Invested",value:e?.opalsInvested[a]},{name:"Companion",value:3*!!M},{name:"Statue",value:1+S/100},{name:"Jar",value:1+b/100},{name:"Event shop",value:1+25*c/100},{name:"Bundle",value:1+50*i/100},{name:"Arcade",value:1+_/100},{name:"Grimoire",value:1+m/100},{name:"Tesseract",value:1+h/100},{name:"Gem shop",value:2*!!e?.parallelVillagersGemShop[a]},{name:"Compass",value:1+y/100},{name:"Charm",value:1+C/100},{title:"Additive"},{name:"Gloomie Opie",value:(0,n.getSchematicBonus)({holesObject:e,t:48,i:0})},{name:"Num. of Schematics",value:Z(e)},{name:"Village Majik",value:ee({majik:e?.villageMajiks,t:1,i:5})*Math.floor(l/5)+Math.floor(e?.opalsInvested[a]/10)*ee({majik:e?.villageMajiks,t:1,i:0})+ee({majik:e?.villageMajiks,t:1,i:1})*Z(e)+ee({majik:e?.villageMajiks,t:1,i:2})},{name:"Monument",value:(0,o.getMonumentBonus)({holesObject:e,t:0,i:3})+(0,o.getMonumentBonus)({holesObject:e,t:1,i:3})+(0,o.getMonumentBonus)({holesObject:e,t:2,i:3})},{name:"Measurements",value:es({holesObject:e,accountData:t,t:7})+es({holesObject:e,accountData:t,t:0})},{name:"Cards",value:u},{name:"Bell",value:(0,r.getBellBonus)({holesObject:e,t:1})},{name:"Summoning",value:(0,g.getWinnerBonus)(t,"+{% Villager EXP")}]}},ei=(e,t)=>1===e&&0===t?5:0===t?10*(-1.5+(10+7*Math.pow(e,2.1))*Math.pow(2.1,e)*(1+.75*Math.max(0,e-4))*Math.pow(3.4,Math.min(1,Math.max(0,Math.floor(1.0000099753310063)))*Math.max(0,e-12))):1===t?30*(10+6*Math.pow(e,1.8))*Math.pow(1.57,e):2===t?50*(10+5*Math.pow(e,1.7))*Math.pow(1.4,e):3===t?120*(30+10*Math.pow(e,2))*Math.pow(2,e):4===t?500*(10+5*Math.pow(e,1.3))*Math.pow(1.13,e):10*1e20,eu=(e,t,n)=>{let l=a.holesInfo[70]?.split(" ");return 99===n?+(1<=e?.studyStuff?.[t]):9===t?1<=e?.studyStuff?.[t]?50+e?.studyStuff?.[t]*Number(l[t]):0:3===t?1<=e?.studyStuff?.[t]?Math.min(32,12+e?.studyStuff?.[t]*Number(l[t])):0:e?.studyStuff?.[t]*Number(l[t])},ec=(e,t,l)=>{let s=["Shallow Caverns","Glowshroom Tunnels","Underground Overgrowth"],o=a.holesInfo?.[68]?.split(" "),r=a.holesInfo?.[69]?.split(" ")?.map((t,a)=>{let n=Math.floor(a/5),l=eu(e,a,0),r=e?.studyProgress?.[a],i=4e3*Math.pow(1.25,e?.studyStuff?.[a])*Math.pow(1.5,Math.floor(a/5));return{name:o?.[a]?.toLowerCase().camelToTitleCase(),description:t.replace("{",Math.round(l)).replace("}",Math.round(100*(1+l/100))/100),listIndex:n,active:e?.extraCalculations?.[61]===a,progress:r,req:i,location:s?.[n],bonus:l,level:e?.studyStuff?.[a],readyToLevel:r>=i}}),i=(0,y.getStampsBonusByEffect)(l,"Study_rate_for_Bolaia");return{studyPerHour:100*(1+(5+((0,n.getSchematicBonus)({holesObject:e,t:85,i:2})+((0,n.getSchematicBonus)({holesObject:e,t:87,i:3})+(0,n.getSchematicBonus)({holesObject:e,t:88,i:5}))))*t/100)*(1+((0,v.getJarBonus)({holesObject:e,i:16})+(i+ee({majik:e?.villageMajiks,t:1,i:4})))/100),studies:r}}},626071,e=>{"use strict";e.s(["getGambit",()=>i,"getGambitBonus",()=>d]);var t=e.i(695906),a=e.i(694186),n=e.i(82748),l=e.i(608580),s=e.i(734002),o=e.i(210270),r=e.i(878012);let i=(e,t)=>{let a=c(e,t),s=m(e,t,99),r=m(e,t,777),i=n.holesInfo?.[71]?.split(" ")?.map((e,t)=>{let[a,n,s,o]=e?.split("|"),i=u(t),c=p({index:t,x0:parseFloat(a),x1:parseFloat(n),points:r,pointsReq:i});return{description:s,bonus:c,pointsReq:i,name:o.replace("{",Math.floor(c)).replace("}",c?(0,l.notateNumber)(1+Math.floor(c)/100,"MultiplierInfo"):0).replace(/[]/g,"").replace("(TAP ME)","")}}),d=i?.find(({pointsReq:e})=>r<e),g=i?.[0]?.bonus+10*(0,o.getEventShopBonus)(t,15),h=e?.gambitStuff?.slice(0,g)?.reduce((e,t)=>e+ +(-1!==t),0),f=e?.extraCalculations.slice(65,71),B=f.reduce((e,t)=>e+t,0);return{pointsMulti:a,basePoints:s,points:r,bonuses:i,nextUnlock:d,times:f,totalTime:B,summoningDoublers:{appointed:h,total:i?.[0]?.bonus}}},u=e=>2e3+1e3*(e+1)*(1+e/5)*Math.pow(1.26,e),c=(e,n)=>1+((0,t.getMeasurementBonus)({holesObject:e,accountData:n,t:13})+(0,t.getStudyBonus)(e,13,0)+(0,a.getSchematicBonus)({holesObject:n?.hole?.holesObject,t:78,i:10})+(0,s.getMonumentBonus)({holesObject:e,t:2,i:7})+(0,r.getTesseractBonus)(n,47))/100,m=(e,t,a)=>{let n=e?.extraCalculations[Math.round(a+65)]+(3*Math.floor(e?.extraCalculations[Math.round(a+65)]/10)+10*Math.floor(e?.extraCalculations[Math.round(a+65)]/60));return 99===a?m(e,t,0)+(m(e,t,1)+(m(e,t,2)+(m(e,t,3)+(m(e,t,4)+m(e,t,5))))):777===a?m(e,t,99)*c(e,t):0===a?100*n:200*n},d=(e,t)=>e?.hole?.caverns?.gambit?.bonuses?.[t]?.bonus||0,p=({index:e,x0:t,x1:a,points:n,pointsReq:s})=>{let o=(0,l.lavaLog)(n),r=(0,l.lavaLog2)(n);return n<s?0:0===e?Math.max(1,Math.ceil(r-8+(o-1))):1===a?t*o:t}},198659,405127,764964,109304,e=>{"use strict";e.s(["addBreedingChance",()=>K,"calcBreedabilityMulti",()=>ea,"calcHighestPower",()=>et,"calcShinyLvMulti",()=>en,"calcUpgradeBonus",()=>Q,"getBreeding",()=>V,"getShinyBonus",()=>X,"getTimeToLevel",()=>z],198659);var t=e.i(82748),a=e.i(608580),n=e.i(172833),l=e.i(685849),s=e.i(262887),o=e.i(775003),r=e.i(161866);e.s(["getConstellations",()=>L,"getStarSignBonus",()=>D,"getStarSignByEffect",()=>R,"getStarSigns",()=>P],109304);var i=e.i(781357);e.s(["getConstructMastery",()=>A,"getRift",()=>T,"isRiftBonusUnlocked",()=>E],764964),e.s(["constructionMasteryThresholds",()=>x,"getBuildCost",()=>y,"getConstruction",()=>m,"getExtraMaxLevels",()=>C,"getTowers",()=>S,"optimizeArrayWithSwaps",()=>B],405127);var u=e.i(292996),c=e.i(626071);let m=(e,t)=>{let n=e?.CogMap||(0,a.tryToParse)(e?.CogM),l=e?.CogOrder||(0,a.tryToParse)(e?.CogO),s=p(g(n,l?.length)),o=d(e,s,l,t),r=(0,u.createCogstructionData)(s,l);return{...o,cogstruction:r}},d=(e,t,n,l)=>h(e?.FlagUnlock||(0,a.tryToParse)(e?.FlagU),e?.FlagsPlaced||(0,a.tryToParse)(e?.FlagP),t,n,l),p=e=>e?.map(e=>Object.entries(e)?.reduce((e,[a,n])=>t.cogKeyMap?.[a]&&t.cogKeyMap?.[a]!=="_"?{...e,[a]:{name:t.cogKeyMap?.[a],value:n}}:{...e,[a]:n},{})),g=(e,t)=>{let a=[];for(let n=0;n<t;n++)a[n]=e?.[n]||{};return a},h=(e,a,n,l,s)=>{let o=e?.reduce((e,s,o)=>{let r=l?.[o],i=n?.[o];return[...e,{currentAmount:-11===s?t.flagsReqs?.[o]:parseFloat(s),requiredAmount:t.flagsReqs?.[o],flagPlaced:a?.includes(o),cog:{name:r,stats:i,originalIndex:o}}]},[]),r=s?.gemShopPurchases?.find((e,t)=>118===t)??0,i=n?.map((e,t)=>({...e,name:l?.[t]})).filter(({name:e})=>e?.includes("Player_")).reduce((e,{a:t})=>e+(t?.value||0),0),u=v(o);return{...u,baseBoard:o,totalFlaggyRate:u?.totalFlaggyRate*(1+50*r/100),playersBuildRate:i}},f=(e,t,a)=>{let n=[...e],l={...n[t]?.cog};return n[t]={...n[t],cog:{...n[a]?.cog}},n[a]={...n[a],cog:l},n},B=(e,t,a=2500,n)=>{let l=[...e],s=v(l,n),o=s?.[t],r=[],i=Date.now();for(;Date.now()-i<a;){let e=Math.floor(Math.random()*l.length),a=Math.floor(Math.random()*l.length);if(e===a||l?.[e]?.currentAmount<l?.[e]?.requiredAmount||l?.[a]?.currentAmount<l?.[a]?.requiredAmount||l?.[e]?.flagPlaced||l?.[e]?.cog?.stats?.h==="everything"||l?.[a]?.flagPlaced||l?.[a]?.cog?.stats?.h==="everything")continue;let i=f(l,e,a),u=v(i,n);u?.[t]>o&&(s=u,l=i,o=u?.[t],r=[...r,{from:e,to:a}])}return{...s,moves:r}},v=(e,t)=>{let{boosted:a,relations:n}=_(e),l=0,s=0,o=0,r=0,i=e?.map((e,i)=>{let{cog:u}=e||{},{e:c,g:m,f:d}=a?.[i]||{},p=u?.stats?.a?.value||0,g=u?.stats?.c?.value||0,h=u?.stats?.b?.value||0,f=0;if(u?.name?.includes("Player_")){let e=t?.find(({name:e})=>e===u?.name.replace("Player_",""));e?(f=e?.constructionExpPerHour*(1+(d?.value||0)/100),r+=f):r+=h}let B=p*(1+(c?.value||0)/100);l+=Math.max(B,0),s+=u?.stats?.d?.value||0;let v=g+g*(m?.value||0)/100;return o+=Math.max(v,0),{...e,cog:{...u,stats:{...u?.stats,a:{...u?.stats?.a,value:B},c:{...u?.stats?.c,value:v},...t?{b:{...u?.stats?.b,value:f}}:{}}},affectedBy:n?.[i]||[],affects:Object.entries(n).filter(([e,t])=>t.includes(i)).map(([e])=>parseInt(e))}});return t&&(i=i?.map(e=>e?.cog?.name?.includes("Player_")?{...e,cog:{...e?.cog,stats:{...e?.cog?.stats,b:{...e?.cog?.stats?.b,value:e?.cog?.stats?.b?.value*(1+s/100)}}}}:e)),{totalBuildRate:l,totalExpRate:s,totalFlaggyRate:o,totalPlayerExpRate:r*(t?1+s/100:1),board:i}},_=e=>{let t={},a=Array(96).fill(0);for(let n=0;n<8;n++)for(let l=0;l<12;l++){let s=(7-n)*12+l,o=e?.[s]?.cog,r=e?.[s]?.cog?.stats||{},i=M(o,l,n);if(i?.length>0){i=i?.map(([e,t])=>e<0||t<0||e>=12||t>=8?null:(7-t)*12+e)?.filter(e=>null!==e);let{e,f:n,g:l}=r||{};if(e||n||l)for(let e=0;e<i.length;e++){let n=i[e],{e:l,f:o,g:u}=r;if(a?.[n]===0)a[n]={e:{...l,value:Math.ceil(l?.value)},f:{...o,value:Math.ceil(o?.value)},g:{...u,value:Math.ceil(u?.value)}};else{let{e:e,f:t,g:s}=a[n]||{};a[n]={e:{...e,value:Math.ceil((e?.value||0)+(l?.value||0))},f:{...t,value:Math.ceil((t?.value||0)+(o?.value||0))},g:{...s,value:Math.ceil((s?.value||0)+(u?.value||0))}}}t[n]=[...t[n]||[],s]}}}return{boosted:a,relations:t}},M=(e,t,a)=>{let n=[];switch(e?.stats?.h){case"diagonal":n.push([t-1,a-1],[t+1,a-1],[t-1,a+1],[t+1,a+1]);break;case"adjacent":n.push([t-1,a],[t,a+1],[t+1,a],[t,a-1]);break;case"up":n.push([t-1,a+2],[t,a+2],[t+1,a+2],[t-1,a+1],[t,a+1],[t+1,a+1]);break;case"right":n.push([t+2,a-1],[t+2,a],[t+2,a+1],[t+1,a-1],[t+1,a],[t+1,a+1]);break;case"down":n.push([t-1,a-2],[t,a-2],[t+1,a-2],[t-1,a-1],[t,a-1],[t+1,a-1]);break;case"left":n.push([t-2,a-1],[t-2,a],[t-2,a+1],[t-1,a-1],[t-1,a],[t-1,a+1]);break;case"row":for(let e=0;e<12;e++)t!==e&&n.push([e,a]);break;case"column":for(let e=0;e<8;e++)a!==e&&n.push([t,e]);break;case"corners":n.push([t-2,a-2],[t+2,a-2],[t-2,a+2],[t+2,a+2]);break;case"around":n.push([t,a-2],[t-1,a-1],[t,a-1],[t+1,a-1],[t-2,a],[t-1,a],[t+1,a],[t+2,a],[t-1,a+1],[t,a+1],[t+1,a+1],[t,a+2]);break;case"everything":for(let e=0;e<8;e++)for(let l=0;l<12;l++)(a!==e||t!==l)&&n.push([l,e])}return n},S=e=>b(e?.TowerInfo||(0,a.tryToParse)(e?.Tower),(0,a.tryToParse)(e?.TotemInfo)||e?.TotemInfo),b=(e,a)=>{let n=a?.[0],l=n?.reduce((e,t)=>e+t,0),s=Object.keys(t.towers).length,o=e?.slice(54,62),r=0,i=0;return{data:Object.entries(t.towers)?.map(([t,a])=>{let n=e?.[a?.index];return a?.index>=9&&a?.index<=17&&n>50&&(r+=n-50),i+=n,{...a,name:t,level:n,nextLevel:n+1===e?.[a.index+s],progress:e?.[a?.index+12+2*s],inProgress:o?.includes(a?.index),slot:o?.findIndex(e=>e===a?.index)}}),buildMultiplier:t.randomList?.[13].split(" "),wizardOverLevels:r,totalLevels:i,totalWaves:l,towersTwo:e?.[2]}},y=(e,t,a,n)=>0===n?20*Math.pow(t+1,2)*Math.pow(1.6,t+1):Number(e?.buildMultiplier?.[n])*Math.pow(a,t),x=[250,500,750,1e3,1250,1500,2500],k=(e,t)=>6===t?30*(e>=x?.[6]):4===t?100*(e>=x?.[3]):5===t?100*(e>=x?.[5]):3===t?35*(e>=x?.[1]):0,C=(e,t,a)=>{let n=e?.towers?.totalLevels;return 50===t?Math.round(2*a+(k(n,6,0)+100*(0,c.getGambitBonus)(e,9))):101===t?k(n,4,0):100===t?k(n,5,0):15===t?k(n,3,0):0},T=e=>w((0,a.tryToParse)(e?.Rift)||e?.Rift),w=e=>{let[a,n,l]=e||[];return{list:t.riftInfo,currentRift:parseInt(a),currentProgress:n,chars:l}},E=(e,t)=>e?.list?.find(({riftBonus:a},n)=>a===t&&n<=e?.currentRift),A=(e,t)=>"Ref Spd"===t?e>=x?.[0]?Math.floor(e/10):0:"Dmg"===t?e>=x?.[2]?2*Math.floor((e-x?.[2])/10):0:"Build Spd"===t?e>=x?.[4]?5*Math.floor((e-x?.[4])/10):0:0;var O=e.i(878012);let P=e=>I((0,a.tryToParse)(e?.StarSg)||e?.StarSignsUnlocked),L=e=>{let t=(0,a.tryToParse)(e?.SSprog)||e?.StarSignProg;return{constellations:N(t),rawConstellationsDone:t?.reduce((e,[,t])=>e+t,0)}},I=e=>t.starSigns?.map(t=>{let{starName:a}=t;return{...t,indexedStarName:`${i.starSignsIndicesMap?.[a]} - ${a}`,starName:a,unlocked:!!e?.[a]}},[]),N=e=>e?.reduce((e,a,n)=>{let l=t.constellations[n],[s,o]=a,r=l?.mapIndex;return null!==r?[...e,{...l,location:t.mapNames[r],completedChars:s,done:!!o}]:e},[]),R=(e,t)=>{if(e?.length===0)return 0;let a=e?.flatMap(({bonuses:e})=>e).filter(e=>e);return a?.reduce((e,{effect:a,bonus:n})=>a===t?e+n:e,0)},D=(e,t,a,n=!1,l=!1)=>{let o=E(t?.rift,"Infinite_Stars")?5+X(t?.breeding?.pets,"Infinite_Star_Signs"):0,r=t?.starSigns?.map((r,i)=>{let u=e?.starSigns?.find(({starName:e})=>e===r?.starName),c=i<o,m=l&&r?.bonuses?.some(e=>e?.effect?.toLowerCase().includes(a.toLowerCase()));if(u){let a=(0,s.getPlayerLabChipBonus)(e,t,15)||n?2:1;u={...u,bonuses:u?.bonuses?.map(e=>({...e,bonus:e?.bonus>0?e?.bonus*a:e?.bonus,active:!0,isInfiniteStar:c}))}}else if(m&&r?.unlocked){let a=(0,s.getPlayerLabChipBonus)(e,t,15)||n?2:1;u={...r,bonuses:r?.bonuses?.map(e=>({...e,bonus:e?.bonus>0?e?.bonus*a:e?.bonus,active:!0,forcedByEffect:!0}))}}return o&&!u&&r?.unlocked&&(r={...r,bonuses:r?.bonuses?.map(e=>({...e,isInfiniteStar:c,bonus:r?.starName==="Gordonius_Major"&&n?e?.bonus*2:e?.bonus}))}),u||r}),i=e?.skillsInfo?.summoning?.level,u=r.find(({starName:e,unlocked:t})=>"Seraph_Cosmos"===e&&t),c=F(r);return c?.reduce((e,{effect:n,bonus:l,active:s,isInfiniteStar:o,forcedByEffect:r})=>{if(n.toLowerCase().includes(a.toLowerCase())&&(s||o||r)){let a=(0,O.getTesseractBonus)(t,40),n=u?l*Math.min(5,Math.pow(1.1+Math.min(a,10)/100,Math.ceil((i+1)/20))):l;return e+(o&&l<0?0:n)}return e},0)},F=e=>e?.map(({bonuses:e})=>e).flatMap(e=>e).filter(e=>e);var G=e.i(264046),j=e.i(801902),W=e.i(476219),U=e.i(210270),q=e.i(173024),H=e.i(279522);let V=(e,t,n)=>{let l=(0,a.tryToParse)(e?.Breeding)||e?.Breeding,s=(0,a.tryToParse)(e?.Pets)||e?.Pets,o=(0,a.tryToParse)(e?.PetsStored)||e?.PetsStored;return $(l,(0,a.tryToParse)(e?.Territory)||e?.Territory,s,o,(0,a.tryToParse)(e?.Cooking)||e?.Cooking,t,n)},$=(e,a,n,l,s,o,r)=>{let i=e?.[0],u=e?.[3]?.slice(0,4),c=e?.[3]?.[8],m=e?.[1],d=e?.[2]?.map((e,a)=>({...t.petUpgrades[a]||[],level:e})),p={second:d?.[2]?.level>0,third:d?.[4]?.level>0,fourth:d?.[6]?.level>0,fifth:d?.[9]?.level>0},g=l?.map(([e,t,a])=>({name:e,level:t,power:a})),h=e?.slice(4,8),f=e?.slice(22,26),B=e?.slice(13,17),v=Math.round(5+e?.[2]?.[4]+2*(o?.gemShopPurchases?.find((e,t)=>125===t)??0)),_=n?.slice(0,v),M=_?.reduce((e,[t,a])=>(e[t]||(e[t]={amount:0,shiny:0,breedability:0}),e[t].amount+=1,4===a&&(e[t].breedability+=1),5===a&&(e[t].shiny+=1),e),{}),S=a?.map(([,e])=>e),b=a?.map(([e])=>e),y=n?.slice(27)?.map(([e,a,n,l])=>{let s=t.petGenes?.[a],o=t.monsters?.[e]?.Name;return{name:e,realName:o,x1:a,power:n,x3:l,gene:s}})?.toChunks(4),x=t.territory.filter((e,t)=>14!==t),k=x?.map((e,t)=>{let a=y?.[t]||[],n=y?.[t-1]||[],l=y?.[t+1]||[],s=1+(0,W.getUpgradeVaultBonus)(o?.upgradeVault?.upgrades,56)/100,r=a?.reduce((e,t,l)=>e+Z({team:a,previousTeam:n,teamMember:t,position:l}),0)*s,i=a?.reduce((e,t)=>e+ee(t),0),u=a?.some(e=>e?.gene?.abilityType===0)?0:a?.filter(e=>e?.gene?.name==="Flashy")?.length,c=a?.filter(e=>e?.gene?.name==="Fleeter")?.length,m=a?.filter(e=>e?.gene?.name==="Fasidious")?.length,d=a?.filter(e=>e?.gene?.name==="Miasma");d=d.length?a?.map(({gene:e})=>e?.name)?.every((e,t,a)=>a.indexOf(t)===e)?1:4:1;let p=[...a,...n,...l],g=p?.filter(e=>e?.gene?.name==="Badumdum")?.length,h=p?.filter(e=>e?.gene?.name==="Tsar")?.length,f=r*Math.pow(1.3,c)*Math.pow(1.2,g)*Math.pow(1.5,u)*Math.pow(1.5,m)*d,B=(i+r*t)*Math.pow(1.5,h)<e.fightPower?0:f,v=1+.02/(a.filter(e=>e?.gene?.name==="Monolithic").length/5+1),_=((t>14?x?.[t-1]?.powerReq:e?.powerReq)+S?.[t])*Math.pow(v,S?.[t]);return{...e,team:a,forageSpeed:B,reqProgress:_,currentProgress:b?.[t]}}),C=[],T={},w=0,E=t.petStats?.map((e,t)=>{let a=m?.[t];return e?.map((e,n)=>{let l=Y(f,t,n);w+=0===l?1:l;let s=Math.floor((1+Math.pow(l,1.6))*Math.pow(1.7,l)),o=Math.round(e?.baseValue*l),r={...e,world:"World"+(t+1),level:h?.[t]?.[n],shinyLevel:l,shinyProgress:f?.[t]?.[n],breedingProgress:B?.[t]?.[n],shinyGoal:s,rawPassive:e?.passive,passive:e?.passive?.replace("{",o),passiveValue:o,unlocked:n<a};return T?.[e?.passive]?T[e?.passive]+=o:o>0&&(T[e?.passive]=o),M?.[e?.monsterRawName]&&C.push(r),r})});return{eggsPowerRange:el(r?.charactersData),passivesTotals:T,storedPets:g,eggs:i,genetics:u,deadCells:c,speciesUnlocks:m,fencePets:C,fencePetsObject:M,maxArenaLevel:o?.accountOptions?.[89],timeToNextEgg:o?.accountOptions?.[87]*1e3,petUpgrades:d,arenaBonuses:t.arenaBonuses,unlockedBreedingMulti:p,pets:E,territories:k,foragingRounds:S,currentProgress:b,totalShinyLevels:w}},Y=(e,t,a)=>{let n=Array(19).fill(1)?.reduce((n,l,s)=>e?.[t]?.[a]>Math.floor((1+Math.pow(s+1,1.6))*Math.pow(1.7,s+1))?s+2:n,0);return e?.[t]?.[a]===0?0:0===n?1:n},K=(e,t)=>{let n=(0,a.tryToParse)(e?.Breeding)||e?.Breeding,l=0,s=t?.breeding?.pets?.map((e,a)=>e?.map((e,s)=>{let r=(0,o.getTotalKitchenLevels)(t?.cooking?.kitchens),i=J(t,n,a,s,t?.breeding?.unlockedBreedingMulti,r),u=Math.min(9,Math.floor(Math.pow(i?.second-1,.8))+1),c=Math.pow(Math.pow(Math.E,Math.pow(u,1.25)),1/.725)-1;return l+=u,{...e,breedingLevel:u,breedingGoal:c,breedingMultipliers:i}}));return{...t?.breeding,pets:s,totalBreedabilityLv:l}},J=(e,a,s,r,i,u)=>{let c,m=1+Math.ceil(100*Math.pow(a?.[4+s|0][r]/10,1.9))/100,d=i?.second?1+Math.log(Math.max(1,Math.pow(a?.[s+13|0][r]+1,.725))):1,p=i?.third?1+(.25*Math.pow(a?.[0]?.[0],1.4)+Math.pow(a?.[0]?.[0]/3,6)):1,g=i?.fourth?0===s?1:1+.1*s+Math.max(1,Math.min(3,1+.15*a?.[2]?.[7]))*Math.pow(a?.[1]?.[s-1|0]/(t.petStats[s-1].length-t.petStats[s-1].length/2),3):1,h=i?.fifth?Math.max(1,Math.pow(e?.accountOptions?.[86]+1,.3)):1,f=(c=t.randomList[54].split(" "),r+2>a?.[1]?.[s]?1/Math.max(1,c[t.petStats[s][r].passiveIndex]):1),B=e?.gemShopPurchases?.find((e,t)=>119===t)??0,v=(0,n.getVialsBonusByEffect)(e?.alchemy?.vials,null,"NewPet"),_=(0,n.getBubbleBonus)(e,"PETTING_THE_RIFT",!1),M=(0,l.getStampsBonusByEffect)(e,"New_Pet_Chance"),S=(0,o.getMealsBonusByEffectOrStat)(e,null,"Npet"),b=Q(e?.breeding?.petUpgrades?.[9],9,e),y=(1+10*B/100)*(1+(v+_*e?.rift?.currentRift)/100)*(1+M/100)*(1+S/100)*Math.pow(Math.max(1,b),u/100)*f*m*d*p*g*h;return{first:m,second:d,third:p,fourth:g,fifth:h,totalChance:y}},X=(e,t)=>e?.reduce((e,a)=>e+a?.reduce((e,{passive:a,passiveValue:n})=>e+(a.includes(t)&&n),0),0),z=(e,t,a,n,l)=>{let s=l?e?.shinyLevel:e?.breedingLevel,o=l?e?.shinyProgress:e?.breedingProgress;if(s===n)return 0;let r=0;for(let e=s;e<n;e++)l?r+=Math.floor((1+Math.pow(e,1.6))*Math.pow(1.7,e)):r+=Math.pow(Math.pow(Math.E,Math.pow(e,1.25)),1/.725)-1;return(r-o)/t/(a||1)*864e5},Q=(e,t,a)=>0===t||2===t||4===t?e?.level:1===t?4*e?.level:3===t?25*e?.level:5===t?(1+.25*e?.level)*Math.min(2,Math.max(1,1+.1*(0,r.getAchievementStatus)(a?.achievements,221))):6===t?6*e?.level:7===t?1+.15*e?.level:8===t?1+2*e?.level:9===t?1+.02*e?.level:10===t?10*e?.level:11===t?Math.ceil(12*Math.pow(e?.level,.698)):12===t?5*e?.level:0,Z=({team:e,previousTeam:t,teamMember:a,position:n})=>{if(a?.gene?.abilityType===1){switch(a?.gene?.name){case"Forager":return 2*a?.power;case"Targeter":if(t?.[n]?.gene?.name==="Targeter")return 5*a?.power;break;case"Opticular":if(e?.every(e=>e.power<=a.power))return 3*a?.power;break;case"Borger":if(t.some(e=>e?.gene?.name==="Forager"))return 10*a?.power}return a?.power}return 0},ee=e=>e?.gene?.abilityType===0?e?.gene?.name==="Mercenary"?2*e.power:e.power:0,et=e=>{let t=e?.territories?.reduce((e,{team:t})=>[...e,...t],[]);return Math.max(...[...e?.storedPets||[],...t].map(({power:e})=>e))},ea=(e,t)=>{let a=Q(e?.breeding?.petUpgrades?.[3],3,e),n=t?.reduce((t,a)=>{let n=D(a,e,"Breedable_Spd")??0;return n>t?n:t},0),l=(0,o.getMealsBonusByEffectOrStat)(e,null,"Breed"),s=(0,j.getLampBonus)({holesObject:e?.hole?.holesObject,t:0,i:1}),i=(0,H.getArcadeBonus)(e?.arcade?.shop,"Breedability_Rate")?.bonus;return{value:(1+(a+(l+(20*(0,r.getAchievementStatus)(e?.achievements,218)+n)))/100)*(1+e?.farming?.cropDepot?.shiny?.value/100)*(1+s/100)*(1+i/100),breakdown:[{name:"Breeding bonus",value:a/100},{name:"Meal bonus",value:l/100},{name:"Achievement bonus",value:20*(0,r.getAchievementStatus)(e?.achievements,218)/100},{name:"Starsign bonus",value:n/100},{name:"Crop bonus",value:e?.farming?.cropDepot?.shiny?.value/100},{name:"Lamp bonus",value:s/100},{name:"Arcade bonus",value:i/100}]}},en=(e,t)=>{let a=(0,s.getLabBonus)(e?.lab.labBonuses,8),n=(0,s.getJewelBonus)(e?.lab.jewels,15,a),l=X(e?.breeding?.pets,"Faster_Shiny_Pet_Lv_Up_Rate"),o=t?.reduce((t,a)=>{let n=D(a,e,"Shiny_Pet_LV_spd")??0;return n>t?n:t},0),r=(0,G.getWinnerBonus)(e,"<x Shiny EXP",!1),i=(0,j.getLampBonus)({holesObject:e?.hole?.holesObject,t:0,i:1}),u=Q(e?.breeding?.petUpgrades?.[12],12,e);return{value:(1+(n+(l+(e?.farming?.cropDepot?.shiny?.value+o+u)))/100)*(1+r/100)*(1+i/100),breakdown:[{name:"Jewel bonus",value:n/100},{name:"Shiny bonus",value:l/100},{name:"Starsign bonus",value:o/100},{name:"Crop bonus",value:e?.farming?.cropDepot?.shiny?.value/100},{name:"Summoning bonus",value:r/100},{name:"Breeding bonus",value:u/100},{name:"Lamp bonus",value:i/100}]}},el=e=>{let t=(0,U.getCharacterByHighestSkillLevel)(e,q.CLASSES.Wind_Walker,"breeding"),n=t?.skillsInfo?.breeding?.level,l=(0,q.getTalentBonus)(t?.flatTalents,"CURVITURE_OF_THE_PAW"),s=Math.pow(4*n+Math.pow(n/2,3),.85),o=Math.min(2.1,Math.max(1,1+l)),r=Math.min(1.2+n/12,4);return(0,a.createRange)(0,10).map(e=>{let t=.2*e+.3*Math.floor((e+1)/4)+1;return{minPower:s*o*t*(r*Math.pow(2.71828,-10*Math.max(.1,1-(e+4)/12*.9))+1),maxPower:s*o*t*(+r+1)}})}},942144,e=>{"use strict";e.s(["getFamilyBonus",()=>o,"getFamilyBonusBonus",()=>s,"getUpdatedFamilyBonus",()=>r]);var t=e.i(608580),a=e.i(173024),n=e.i(82748),l=e.i(210270);let s=(e,a,n)=>{let l=e?.find(({name:e})=>e?.includes(a));return l?(0,t.growth)(l?.func,Math.max(0,Math.round(n-l?.x3)),l?.x1,l?.x2,!1):0},o=(e,t)=>e?.find(({name:e})=>e?.includes(t)),r=(e,t)=>{let r=(0,l.getHighestLevelOfClass)(t,a.CLASSES.Elemental_Sorcerer,!0),i=s(n.classFamilyBonuses,"LV_FOR_ALL_TALENTS_ABOVE_LV_1",r);if((0,a.checkCharClass)(e?.class,a.CLASSES.Elemental_Sorcerer)){i*=1+(0,a.getTalentBonus)(e?.flatTalents,"THE_FAMILY_GUY")/100;let t=o(n.classFamilyBonuses,"LV_FOR_ALL_TALENTS_ABOVE_LV_1");i=(0,a.getFamilyBonusValue)(i,t?.func,t?.x1,t?.x2)}return i}},980753,e=>{"use strict";let t={};t._mul=Math.imul;var a=function(e){this.init(e)};a.__name__="Rand",a.hash=function(e,a){return null==a&&(a=5381),e=t._mul(e,-0x3361d2af),a^=e=t._mul(e<<15|e>>>17,0x1b873593),a=t._mul(a<<13|a>>>19,5)+-0x19ab949c|0,a=t._mul(a^a>>16,-0x7a143595),(a=t._mul(a^a>>13,-0x3d4d51cb))^a>>16},a.inlineHash=function(e,a){return e=t._mul(e,-0x3361d2af),a^=e=t._mul(e<<15|e>>>17,0x1b873593),a=t._mul(a<<13|a>>>19,5)+-0x19ab949c|0,a=t._mul(a^a>>16,-0x7a143595),(a=t._mul(a^a>>13,-0x3d4d51cb))^a>>16},a.prototype={seed:null,seed2:null,init:function(e){this.seed=e,this.seed2=a.hash(e),0==this.seed&&(this.seed=1),0==this.seed2&&(this.seed2=1)},random:function(e){return this.seed=36969*(65535&this.seed)+(this.seed>>16),this.seed2=18e3*(65535&this.seed2)+(this.seed2>>16),(0x3fffffff&(this.seed<<16)+this.seed2)%e},shuffle:function(e){for(var t=e.length,a=0;a<t;){a++,this.seed=36969*(65535&this.seed)+(this.seed>>16),this.seed2=18e3*(65535&this.seed2)+(this.seed2>>16);var n=(0x3fffffff&(this.seed<<16)+this.seed2)%t;this.seed=36969*(65535&this.seed)+(this.seed>>16),this.seed2=18e3*(65535&this.seed2)+(this.seed2>>16);var l=(0x3fffffff&(this.seed<<16)+this.seed2)%t,s=e[n];e[n]=e[l],e[l]=s}},rand:function(){return this.seed=36969*(65535&this.seed)+(this.seed>>16),this.seed2=18e3*(65535&this.seed2)+(this.seed2>>16),(0x3fffffff&(this.seed<<16)+this.seed2)%10007/10007},srand:function(e){return null==e&&(e=1),this.seed=36969*(65535&this.seed)+(this.seed>>16),this.seed2=18e3*(65535&this.seed2)+(this.seed2>>16),((this.seed<<16)+this.seed2|0)%10007/10007*e},int:function(){return this.seed=36969*(65535&this.seed)+(this.seed>>16),this.seed2=18e3*(65535&this.seed2)+(this.seed2>>16),(this.seed<<16)+this.seed2|0},uint:function(){return this.seed=36969*(65535&this.seed)+(this.seed>>16),this.seed2=18e3*(65535&this.seed2)+(this.seed2>>16),0x3fffffff&(this.seed<<16)+this.seed2},__class__:a},e.s(["default",0,a])},470242,e=>{"use strict";e.s(["getEquinox",()=>m,"getEquinoxBonus",()=>h]);var t=e.i(82748),a=e.i(608580),n=e.i(172833),l=e.i(210270),s=e.i(441132),o=e.i(264046),r=e.i(695906),i=e.i(279522),u=e.i(669203),c=e.i(878012);let m=(e,t)=>{let n=(0,a.tryToParse)(e?.WeeklyBoss)||e?.WeeklyBoss,l=(0,a.tryToParse)(e?.Dream)||e?.Dream;return n&&l?d(n,l,t):null},d=(e,a,o)=>{let m=a.slice(2,16).reduce((e,t)=>e+t,0),d=Object.keys(e).filter(e=>e.startsWith("d_")).reduce((t,a)=>(t[a.substring(2)]=e[a],t),{}),g=Object.values(d).reduce((e,t)=>e+ +(-1===t),0),h=a[2],f=t.equinoxChallenges.map(({label:e,goal:t,reward:a},n)=>({label:e,goal:t,reward:a,current:d[n]||0,active:-1!==d[n]&&0<h--})),B=p(f,a.slice(2,14),o),v=(0,l.isBundlePurchased)(o?.bundles,"bun_q"),_=(0,n.getVialsBonusByStat)(o?.alchemy?.vials,"EqBar"),M=(0,s.getVoteBonus)(o,32),S=(0,l.getEventShopBonus)(o,3),b=+!!(0,l.isCompanionBonusActive)(o,15),y=(0,r.getCosmoBonus)({majik:o?.hole?.holesObject?.idleonMajiks,t:2,i:5})||0,x=(0,i.getArcadeBonus)(o?.arcade?.shop,"Equinox_Fill_Rate")?.bonus,k=(0,u.getEmperorBonus)(o,5),C=(0,c.getTesseractBonus)(o,37),T=10*(-1===d[3])+(15*(-1===d[9])+(20*(-1===d[14])+(25*(-1===d[19])+(30*(-1===d[22])+(35*(-1===d[24])+40*(-1===d[29])))))),w=(1+M/100)*(1+2.5*b)*(1+y/100)*(1+.5*S)*(1+(o?.accountOptions?.[320]??0)/10)*(1+(_+T+x+k+C)/100),E=[{title:"Multiplicative"},{name:""},{name:"Arcade",value:x/100},{name:"Vote",value:M/100},{name:"Cosmo",value:y/100},{name:"Companion",value:2.5*b},{name:"Event shop",value:.5*S},{name:"Penguins",value:1+o?.accountOptions?.[320]/10},{name:"Vial",value:_/100},{name:"Clouds",value:T/100},{name:"Emperor",value:k/100},{name:"Tesseract",value:C/100},{name:"Bundle*",value:v?90:60}],A=v?Math.round(90*w):Math.round(60*w),O=Math.round((120+40*m)*Math.pow(1.02,m)),P=a?.[0],L=new Date().getTime()+(O-P)/A*36e5;return{currentCharge:P,chargeRequired:O,chargeRate:A,timeToFull:L,challenges:f,upgrades:B,completedClouds:g,breakdown:E,expression:`const base = (1 + voteBonus / 100)
    * (1 + companionBonus * 2.5)
    * (1 + cosmoBonus / 100)
    * (1 + .5 * eventShopBonus)
    * (1 + (penguins) / 10)
    * (1 + (eqBarVial + cloudsBonus + arcadeBonus + emperorBonus) / 100);
const chargeRate = bundleBonus ? Math.round(90 * base) : Math.round(60 * base)
    `}},p=(e,a,n)=>{let l=e.filter(e=>-1===e.current&&"Unlock_next_Equinox_upgrade"===e.reward).length;return t.equinoxUpgrades.map(({name:t,description:s,maxLevel:r,bonus:i},u)=>{let c="Hmm..."===t?0:"Food_Lust"===t?Math.min(parseInt(a[u]),n?.accountOptions?.[193]):i*a[u]||0,m=(0,o.getWinnerBonus)(n,"+{ Equinox Max LV"),d={4:5*g(e,12)+10*g(e,18)+10*g(e,34),5:6*g(e,32),8:5*g(e,21)+10*g(e,26),9:4*g(e,25),10:4*g(e,30),11:15*g(e,35)},p=u in d?r+m+Math.round(d[u]):7===u?r+m:3===u?r+3*g(e,6)+4*g(e,15):r;return{name:t,bonus:c,desc:s?.replace("{}",i*a[u]||0).replace("{","").replace("}",a[u]||0).split("_@_"),lvl:a[u]||0,maxLvl:p,unlocked:u<=l}})},g=(e,t)=>+!!e.find((e,a)=>a===t&&-1===e.current),h=(e,t)=>(e||[])?.filter(e=>e.name===t)?.[0]?.bonus||0},441132,e=>{"use strict";e.s(["getVoteBallot",()=>o,"getVoteBonus",()=>i]);var t=e.i(470242),a=e.i(82748),n=e.i(695906),l=e.i(264046),s=e.i(210270);let o=(e,t)=>r(e,t),r=(e,o)=>{let{votePercent:r,voteCategories:i}=o?.serverVars||{},[u,...c]=i||[],m=(0,s.isCompanionBonusActive)(o,19)?o?.companions?.list?.at(19)?.bonus:0,d=1+((0,t.getEquinoxBonus)(o?.equinox?.upgrades,"Voter_Rights")+((0,n.getCosmoBonus)({majik:o?.hole?.holesObject?.idleonMajiks,t:2,i:3})+(0,l.getWinnerBonus)(o,"+{% Ballot Bonus")+(17*(0,s.getEventShopBonus)(o,7)+13*(0,s.getEventShopBonus)(o,7)+m)))/100,p=a.ninjaExtraInfo[38].split(" ").toChunks(3).map((e,t)=>{let a=c.findIndex(e=>e===t);return{...e,icon:`VoteBon${t}.png`,active:a>-1,selected:u===t,percent:r?.[a]||0,bonus:parseFloat(e?.[1])*d}});return{bonuses:p,voteMulti:d,selectedBonus:{...p?.[u],index:u}}},i=(e,t)=>e?.voteBallot?.bonuses?.[t]?.selected?e?.voteBallot?.bonuses?.[t]?.bonus:0},24174,e=>{"use strict";e.s(["calcArtifactsAcquired",()=>Q,"calcTotalBoatLevels",()=>z,"getArtifacts",()=>x,"getSailing",()=>v,"isArtifactAcquired",()=>A]);var t=e.i(608580),a=e.i(82748),n=e.i(210270),l=e.i(173024),s=e.i(172833),o=e.i(618332),r=e.i(685849),i=e.i(775003),u=e.i(267350),c=e.i(276924),m=e.i(262887),d=e.i(198659),p=e.i(942144),g=e.i(980753),h=e.i(161866),f=e.i(441132),B=e.i(532600);let v=(e,a,n,l,s,o)=>{let r=(0,t.tryToParse)(e?.Sailing)||e?.Sailing,i=(0,t.tryToParse)(e?.Captains)||e?.Captains,u=(0,t.tryToParse)(e?.Boats)||e?.Boats,c=(0,t.tryToParse)(e?.SailChests)||e?.SailChests;return r&&i&&u&&c?_(a,r,i,u,c,n,l,s,o):null},_=(e,t,a,n,l,s,o,r,i)=>{let u=t?.[1],c=A(e,"Dreamcatcher")?.bonus??0,m=o?.gemShopPurchases?.find((e,t)=>129===t),d=(0,h.getAchievementStatus)(o?.achievements,287)+(0,h.getAchievementStatus)(o?.achievements,290),p=Math.min(Math.round(5+m+(Math.min(4,c)+o?.tasks?.[2]?.[4]?.[2]+d)),30),g=k(l,e,r),f=O(),B=J(u),v=P(t,a,n,o,s,i,e,B),_=M(v?.boats?.map(({maxTime:e})=>e),p-(g?.length||0)),b=S(v,t?.[0],B,e,o);return{maxChests:p,artifacts:e,lootPile:B,chests:g,rareTreasureChance:f,trades:b,timeToFullChests:_,...v}},M=(e,t)=>{let a=t/Math.min(...e),n=0,l=0;for(let s of e)if(n+=s,(l+=a*(n-s))>=t)break;return n},S=({boats:e}={},t,a,n,l)=>{let s=e?.[0]?.loot?.value??0,o=A(n,"Emerald_Relic"),r=t?.reduce((e,t)=>-1===t?e+1:e,0),i=Math.floor(l?.timeAway?.GlobalTime/21600),u=[];for(let e=0;e<40;e++){let t=Math.min(30,Math.ceil(2*new g.default(i+e).rand()*r)),n=b(a?.[t],s),l=new Date(Math.floor((i+e)*216e5));(0,B.isPast)(l)||u.push({...a?.[t],date:l,moneyValue:y(n,t,o),lootItemCost:n})}return u},b=(e,t)=>Math.max(.2*e?.amount,t),y=(e,t,a)=>{let n=a?.acquired??0;return e*(1.5*Math.pow(1.6,Math.floor(t/2))*(1+((t+1)%2*150+(30*Math.floor(n/2)+30*Math.floor(n/3)))/100))},x=(e,n,l)=>{let s=(0,t.tryToParse)(e?.Sailing)||e?.Sailing,o=s?.[3],r=s?.[1];return a.artifacts?.map((e,t)=>X(e,o?.[t],r,t,n,l))},k=(e,t,a)=>e?.map(e=>({...C(e,t,a),rawName:`SailChest${e?.[3]}`})),C=(e,t,n)=>{let[l,s,o]=e,r=a.islands?.[s],i=0;for(let e=0;e<s;e++){let t=a.islands?.[e];i+=t?.numberOfArtifacts}let u=1,c=0;for(let e=0;e<r?.numberOfArtifacts;e++){let a=t[i+e];a?(a?.acquired===1&&(u=c=u*(1-o/T(s,n))),a?.acquired===2&&(u=c=u*(1-o/w(s,n)))):c=u*(1-o/a?.baseFindChance)}if(0===c)return{done:!0,island:r,islandIndex:s,treasure:l};let m=100*Math.min(1,1-c),d=t?.slice(i,i+r?.numberOfArtifacts).filter(({acquired:e})=>e<3);return{artifactChance:m>.01?Math.round(100*m)/100:.01,ancientChance:(o/T(s,n)).toFixed(5),eldritchChance:(o/w(s,n)).toFixed(5),sovereignChance:(o/E(s,n)).toFixed(5),island:r,islandIndex:s,treasure:l,possibleArtifacts:d}},T=(e,t)=>3>e?850:(1e3+(e-3)*t?.AncientOddPerIsland)/(1+t?.AncientArtiPCT/100),w=(e,t)=>3>e?900+250*e:(1e3+(e-3)*t?.AncientOddPerIsland)/(1+t?.AncientArtiPCT/100)*4,E=(e,t)=>5>e?9e3+2e3*e:(1e3+1.25*(e-3)*t?.AncientOddPerIsland)/(1+t?.AncientArtiPCT/100)*180,A=(e=[],t)=>e?.find(({name:e,acquired:a})=>e===t&&a),O=()=>.05,P=(e,t,s,o,r,i,u,c)=>{let m=e?.[2]?.[0]||0,g=e?.[2]?.[1]||0,h=(0,n.getHighestLevelOfClass)(i,l.CLASSES.Siege_Breaker)??0,f=(0,l.getHighestTalentByClass)(r,l.CLASSES.Siege_Breaker,"THE_FAMILY_GUY")??0,B=(0,p.getFamilyBonusBonus)(a.classFamilyBonuses,"FASTER_MINIMUM_BOAT_TRAVEL_TIME",h),v=(0,d.getShinyBonus)(o?.breeding?.pets,"Lower_Minimum_Travel_Time_for_Sailing"),_=Math.round(120/(1+(B*(1+f/100)+v)/100)),M=I(o,r,u),S=t?.slice(30,34);S=S.map((e,t)=>N(e,t,!0));let b=t?.slice(0,m+1),y=b?.map((e,t)=>N(e,t)),x=s?.slice(0,g+1),k=x?.map((e,t)=>L(e,t,c,y,u,r,o,M,_)),C=k?.reduce((e,{captainMappedIndex:t},a)=>({...e,[t]:a}),{});return{captains:y,boats:k,shopCaptains:S,captainsOnBoats:C,minimumTravelTime:_,minimumTravelTimeBreakdown:[{name:"Base",value:120},{name:"Family Bonus",value:B},{name:"The Family Guy",value:f},{name:"Shiny Bonus",value:v}]}},L=(e,t,n,l,s,o,r,i,u=120)=>{let[c,m,,d,p,g]=e,h=l?.[c],f=a.islands?.[m],B={rawName:`Boat_Frame_${K(d+g)}`,level:d+g,artifactChance:$(s,l[c],r),captainIndex:c,captainMappedIndex:h?.captainIndex,lootLevel:d,speedLevel:g,boatIndex:t,island:f,islandIndex:m,distanceTraveled:p};return B.resources=D(B,n),B.breakpointResources=R(B,n),B.loot=q(o,r,s,B,h),B.speed=W(h,f,g,i,u),B.maxTime=f?.distance/B.speed?.value*36e5,B.timeLeft=(f?.distance-p)/B.speed?.value*36e5,B},I=(e,t,a)=>{let l=t?.find(({linkedDeity:e})=>6===e),m=(0,u.getMinorDivinityBonus)(l,e,6,t),d=(0,o.getCardBonusByEffect)(e?.cards,"Sailing_Speed_(Passive)"),p=(0,r.getStampsBonusByEffect)(e,"Sailing_Speed"),g=(0,i.getMealsBonusByEffectOrStat)(e,null,"Sailing"),h=(0,s.getBubbleBonus)(e,"BOATY_BUBBLE",!1),B=(0,u.getGodBlessingBonus)(e?.divinity?.deities,"Goharut"),v=(0,u.getGodBlessingBonus)(e?.divinity?.deities,"Bagur"),_=(0,u.getGodBlessingBonus)(e?.divinity?.deities,"Purrmep"),M=A(a,"10_AD_Tablet")?.bonus??0,S=(0,s.getVialsBonusByStat)(e?.alchemy?.vials,"SailSpd"),b=(0,n.isMasteryBonusUnlocked)(e?.rift,e?.totalSkillsLevels?.sailing?.rank,1),y=(0,c.getStatueBonus)(e,24);return(1+(m+(d+h))/125)*(1+B/100)*(1+_/100)*(1+(0,f.getVoteBonus)(e,24)/100)*(1+(v+(M+(p+(y+(g+(S+(17*b+(e?.msaTotalizer?.sailing?.value??0))))))))/125)},N=(e,n,l)=>{let s=String.fromCharCode(65+n),[o,r,i,u,c,m,d]=e,p={captainIndex:s,captainType:o,level:u,firstBonusIndex:r,secondBonusIndex:i,firstBonusDescription:a.captainsBonuses?.[r]?.bonus,secondBonusDescription:a.captainsBonuses?.[i]?.bonus,firstBonusValue:m,secondBonusValue:d,exp:(0,t.notateNumber)(Math.floor(c),"Big")},g=V(p,m),h=V(p,d);return p.firstBonus=g,p.secondBonus=h,p.firstBonusDescription=p?.firstBonusDescription?.replace("{",g),p.secondBonusDescription=p?.secondBonusDescription?.replace("{",h),p.expReq=(0,t.notateNumber)(H(p),"Big"),l&&(p.cost=Math.pow(8,1+o)*(1+Math.pow(2*r+2*i+m+d,2)/100)),p},R=(e,t)=>{let a=[{required:0},{required:0}],n=e?.lootLevel+(8-e?.lootLevel%8),l=e?.speedLevel+(7-e?.speedLevel%7);for(let l=e?.lootLevel;l<n;l++){let[n]=D({...e,lootLevel:l},t);a[0]={...n,required:a[0].required+n?.required}}for(let n=e?.speedLevel;n<l;n++){let[,l]=D({...e,speedLevel:n},t);a[1]={...l,required:a[1].required+l?.required}}return a},D=(e,t)=>[0,1].map(a=>{let n=F(e?.boatIndex,a);return{required:G(e,a),...t?.[n]||{}}}),F=(e,t)=>0===t?4>e?0:Math.min(30,1+2*(e-4)):2>e?e:5>e?1+2*(e-2):Math.min(30,2*(e-4)),G=(e,t)=>{let a=F(e?.boatIndex,t),n=0===t?e?.lootLevel:e?.speedLevel;return 0===a?Math.round((5+4*n)*Math.pow(1.17-.12*n/(n+200),n)):a%2==1?Math.round((5+2*n)*Math.pow(1.15-.1*n/(n+200),n)):Math.round((2+n)*Math.pow(1.12-.07*n/(n+200),n))},j=({speedLevel:e,captainSpeedBonus:t,baseSpeed:a})=>(10+(5+Math.pow(Math.floor(e/7),2))*e)*(1+t/100)*a,W=(e,t,a,n,l)=>{let s,o=0;e?.firstBonusDescription?.includes("Boat_Speed")&&(o+=e?.firstBonus),e?.secondBonusDescription?.includes("Boat_Speed")&&(o+=e?.secondBonus);let r=a+(7-a%7),i=j({speedLevel:a,captainSpeedBonus:o,baseSpeed:n}),u=j({speedLevel:a+1,captainSpeedBonus:o,baseSpeed:n});return r!==a+1&&(s=j({speedLevel:r,captainSpeedBonus:o,baseSpeed:n})),{raw:i,value:t?Math.min(i,t?.distance*60/l):i,nextLevelValue:u,nextBreakpointValue:s}},U=({lootLevelMath:e,lootLevel:t,lootPileSigil:a,artifactBonus:n,firstCaptainBonus:l,secondCaptainBonus:s,talentBonus:o})=>(5+e*t)*(1+(a+(l+s+n))/100)*o,q=(e,t,a,n,o)=>{let r,i=1+(0,l.getHighestTalentByClass)(e,l.CLASSES.Siege_Breaker,"UNENDING_LOOT_SEARCH")/100,u=n?.lootLevel+(8-n?.lootLevel%8),c=2+Math.pow(Math.floor((n?.lootLevel+1)/8),2),m=2+Math.pow(Math.floor(n?.lootLevel/8),2),d=2+Math.pow(Math.floor(u/8),2),p=(0,s.getSigilBonus)(t?.alchemy?.p2w?.sigils,"LOOT_PILE"),g=Y(1,o,o?.firstBonusIndex),h=Y(1,o,o?.secondBonusIndex),f=A(a,"Genie_Lamp")?.bonus??0,B=U({lootLevelMath:m,lootLevel:n?.lootLevel,lootPileSigil:p,artifactBonus:f,firstCaptainBonus:g,secondCaptainBonus:h,talentBonus:i}),v=U({lootLevelMath:c,lootLevel:n?.lootLevel+1,lootPileSigil:p,artifactBonus:f,firstCaptainBonus:g,secondCaptainBonus:h,talentBonus:i});return u!==n?.lootLevel+1&&(r=U({lootLevelMath:d,lootLevel:u,lootPileSigil:p,artifactBonus:f,firstCaptainBonus:g,secondCaptainBonus:h,talentBonus:i})),{value:B,nextLevelValue:v,nextBreakpointValue:r}},H=e=>(9+Math.pow(e?.level,3))*Math.pow(1.5,e?.level)*Math.pow(1.5,Math.max(e?.level-10,0)),V=(e,t)=>Math.round(e?.level*t*10)/10,$=(e,a,n)=>{let l=A(e,"Fauxory_Tusk")?.bonus??0,s=(0,d.getShinyBonus)(n?.breeding?.pets,"Higher_Artifact_Find_Chance"),o=Y(3,a,a?.firstBonusIndex),r=Y(3,a,a?.secondBonusIndex);return(0,t.notateNumber)(Math.max(1,1+(l+(o+r)+s)/100),"MultiplierInfo")},Y=(e,t,a)=>a>0?0:a===e?t?.level*t?.firstBonusValue:a===e?t?.level*t?.secondBonusValue:0,K=e=>e<25?0:e<50?1:e<100?2:e<200?3:e<300?4:5,J=e=>e?.map((e,t)=>({amount:e>0?e:0,rawName:`SailT${t}`})),X=(e,a,s,o,r,i)=>{let u,c=e?.baseBonus,d=e?.baseBonus,p=2===a||3===a||4===a||5===a,g=2===a?"ancientMultiplier":3===a?"eldritchMultiplier":4===a?"sovereignMultiplier":5===a?"omnipotentMultiplier":"baseBonus",h=e?.description;if(e?.name==="Maneki_Kat"||e?.name==="Ashen_Urn"){let t=(0,n.getHighestLevelCharacter)(r);u=`Highest level: ${t}`,c=t*e?.baseBonus,e?.name==="Ashen_Urn"&&(c=t>e?.[g]?e?.[g]*e?.baseBonus:t*e?.baseBonus,h=`${h} Total Bonus: ${p?c*a:c}`)}else if(e?.name==="Ruble_Cuble"||e?.name==="10_AD_Tablet"||e?.name==="Jade_Rock"||e?.name==="Gummy_Orb"){let t=i?.looty?.rawLootedItems,a=e?.name==="10_AD_Tablet"||e?.name==="Gummy_Orb"||e?.name==="Jade_Rock";u=`Looted items: ${t}`;let n=(0,m.getLabBonus)(i?.lab.labBonuses,15),l=e?.[g]*(1+n/100)*Math.floor(Math.max(0,t-500)/10);c=a&&"baseBonus"!==g?e?.baseBonus*l:l}else if(e?.name==="Fauxory_Tusk"||e?.name==="Genie_Lamp"){let t=e?.name==="Genie_Lamp",a=(0,n.getHighestCharacterSkill)(r,"sailing");c=t?a*e?.baseBonus:a,u=`Sailing level: ${a}`}else if(e?.name==="Weatherbook"){let t=(0,n.getHighestCharacterSkill)(r,"gaming");u=`Gaming level: ${t}`,c=t*e?.baseBonus}else if(e?.name==="Triagulon"){let a=i?.cooking?.meals?.[0]?.amount;c=e?.baseBonus*(0,t.lavaLog)(a)}else if(e?.name==="Opera_Mask"){let a=s?.[0];c=e?.baseBonus*(0,t.lavaLog)(a)}else if(e?.name==="Fun_Hippoete")c=e?.baseBonus*(0,t.lavaLog)(i?.construction?.playersBuildRate);else if(e?.name==="The_True_Lantern")c=e?.baseBonus*((0,t.lavaLog)(i?.atoms?.particles)??0);else if(e?.name==="Gold_Relic"){let a=i?.accountOptions?.[125],n=p?e?.[g]:0;u=`Days passed: ${a}. Bonus: ${(0,t.notateNumber)(1+a*(2+n)/100,"MultiplierInfo").replace("#","")}x`}else if(e?.name==="Crystal_Steak"){let e=r?.map(({name:e,class:t,stats:a})=>{let n=l.mainStatMap?.[t];return{name:e,stat:a?.[n]}});h=h.replace("_Total_Bonus:_+}%_dmg",""),u=e.map(({name:e,stat:t})=>({name:e,bonus:(p?c*a:c)*Math.floor(t/100)}))}else e?.name==="Socrates"&&(u=(r?.map(({name:e,stats:t})=>({name:e,strength:t?.strength??0,agility:t?.agility??0,wisdom:t?.wisdom??0,luck:t?.luck??0}))).map(({name:t,strength:n,agility:l,wisdom:s,luck:o})=>{let r=1+(p?e?.baseBonus*a:e?.baseBonus)/100;return{name:t,strength:Math.floor(r*n),agility:Math.floor(r*l),wisdom:Math.floor(r*s),luck:Math.floor(r*o)}}));return 2===a&&e?.ancientFormDescription==="The_artifact's_main_bonus_is_doubled!"?c*=2:3===a&&e?.eldritchFormDescription==="The_artifact's_main_bonus_is_tripled!"?c*=3:4===a&&e?.sovereignFormDescription==="The_artifact's_main_bonus_is_quadrupled!"?c*=4:5===a&&e?.omnipotentFormDescription==="The_artifact's_main_bonus_is_quintupled"&&(c*=5),h=h.replace(/{/,d).replace(/}/,(0,t.kFormatter)(c,2)).replace(/@/,""),{...e,description:h,additionalData:u,bonus:c,acquired:a,rawName:`Arti${o}`}},z=e=>e?.reduce((e,{level:t})=>e+t,0),Q=e=>e?.reduce((e,{acquired:t})=>e+t,0)},435327,e=>{"use strict";var t=e.i(971176),a=e.i(82748),n=e.i(608580);e.s(["getSaltLick",0,(e,l)=>{let s=(0,n.tryToParse)(e?.SaltLick)||e?.SaltLick;return a.saltLicks?.map((e,a)=>{let n=s?.[a],o=(0,t.calculateItemTotalAmount)(l,e?.name,!0);return{...e,totalAmount:o,level:n}})},"getSaltLickBonus",0,(e,t,a=!1)=>{let l=e?.[t];if(!l||0===l)return 0;let s=(l.baseBonus*(l.level??0))??0;return a?(0,n.round)(s)??0:s}])},172833,e=>{"use strict";e.s(["CAULDRONS_MAX_LEVELS",()=>M,"MAX_VIAL_LEVEL",()=>g,"applyArtifactBonusOnSigil",()=>$,"calcBubbleLevels",()=>J,"calcSigilsLevels",()=>z,"calcVialsLevels",()=>X,"cauldronColors",()=>h,"cauldronsIndexMapping",()=>f,"getActiveBubbleBonus",()=>L,"getAlchemy",()=>S,"getBubbleAtomCost",()=>K,"getBubbleBonus",()=>I,"getEquippedBubbles",()=>P,"getLiquidCauldrons",()=>x,"getMaxCauldron",()=>j,"getSigilBonus",()=>V,"getUpgradeableBubbles",()=>Z,"getVialsBonusByEffect",()=>R,"getVialsBonusByStat",()=>D,"isPrismaBubble",()=>y,"liquidsIndex",()=>B,"updateVials",()=>F,"vialCostsArray",()=>Y]);var t=e.i(608580),a=e.i(82748),n=e.i(24174),l=e.i(435327),s=e.i(775003),o=e.i(262887),r=e.i(210270),i=e.i(685849),u=e.i(279522),c=e.i(764964),m=e.i(476219),d=e.i(878012),p=e.i(173024);let g=13,h={0:"#ff9000",1:"#76ef5a",2:"#f1a2fc",3:"#f6f031"},f={0:"power",1:"quicc",2:"high-iq",3:"kazam"},B={0:"water drops",1:"liquid n2",2:"trench h2o",3:"toxic mercury"},v={0:"O",1:"G",2:"P",3:"Y"},_={_:"power",a:"quicc",b:"high-iq",c:"kazam"},M={brewing:170,liquidsRegen:100,liquidsCapacity:80,cauldronsSpeed:150,cauldronsNewBubble:125,cauldronsBoostReq:100,vialsAttempts:15,vialsRng:45},S=(e,a,n)=>{let l=(0,t.createArrayOfArrays)(e?.CauldronInfo),s=(0,t.tryToParse)(e?.CauldronJobs1),o=U(e);return l?.[8]&&l?.[8]?.length===0&&(l[8]=o.slice(0,16)),b(e,l,s,o,a,n)},b=(e,t,a,n,l,s)=>{let o=a?.map((e,t)=>({activity:e,index:t})),r=T(e,o,l),i=O(t),u=G(t?.[5],n.slice(0,16),r,i,o),c=N(t?.[4]),m=t?.slice(0,4)?.flat()?.reduce((e,t)=>e+Math.min(100,t),0),d=s?.accountOptions?.[383],p=s?.accountOptions?.[384];return{p2w:r,bubbles:i,bubblesFlat:Object.values(i).flat(),vials:c,cauldrons:u,cauldronsInfo:n,multiplierArray:t?.[10],liquids:t?.[6],activities:o,totalBubbleLevelsTill100:m,prismaFragments:d,prismaBubbles:p}},y=(e,t)=>-1!==(e?.alchemy?.prismaBubbles||"")?.indexOf(t+","),x=e=>{let t=e?.alchemy?.liquids,a=e?.alchemy?.cauldronsInfo.slice(18);return t.map((t,n)=>{let[c,m]=a[4*n],[d,p]=a[4*n+1],[g,h]=[k(m+1),k(p+1)],f=C(n+4,m),B=e?.gemShopPurchases?.find((e,t)=>106===t)??0,v=(0,l.getSaltLickBonus)(e?.saltLick,5),_=0;B>n&&(_=.5+v/100),e?.accountOptions?.[123]>n&&(_=0===_?1:v/100+2);let M=I(e,"DA_DAILY_DRIP",!1),S=R(e?.alchemy?.vials,null,`Liquid${n+1}Cap`),b=(0,o.getLabBonus)(e?.lab.labBonuses,8),y=(0,o.getJewelBonus)(e?.lab.jewels,16,b),x=(0,s.getMealsBonusByEffectOrStat)(e,null,`Liquid${0===n||1===n?"12":"34"}`,y),T=(0,r.isMasteryBonusUnlocked)(e?.rift,e?.totalSkillsLevels?.alchemy?.rank,4),w=(0,o.getLabBonus)(e?.lab.labBonuses,6),E=e?.alchemy?.p2w?.liquids?.[n]?.capacity?.level,A=(0,i.getStampsBonusByEffect)(e,"Cap_for_all_Liquids_in_Alchemy"),O=(0,u.getArcadeBonus)(e?.arcade?.shop,"Cap_for_all_Liquids")?.bonus,P=M*Math.max(Math.pow(e?.totalSkillsLevels?.alchemy?.level/25,.3),0),L=_+(x+5*T)/100,N=w*(10+(f+(S+(E+(P+(A+Math.ceil(O)))))));return{isDragonic:e?.accountOptions?.[106]>n,maxLiquid:Math.ceil((1+L)*N),maxLiquidBreakdown:[{name:"Bleach Liquid",value:1.5*(B>n)},{name:"Dragonic",value:2*(e?.accountOptions?.[123]>n)},{name:"Meal",value:x/100},{name:"Skill Mastery",value:5*T/100},{name:"Lab",value:w},{name:"Cauldron Cap",value:f},{name:"Vial",value:S},{name:"P2W",value:E},{name:"Da daily drip",value:P},{name:"Stamp",value:A},{name:"Arcade",value:Math.ceil(O)}],decantCap:{level:m,progress:c,req:g},decantRate:{level:p,progress:d,req:h}}})},k=e=>Math.floor(1.6+Math.pow(1.25*e,1.8)),C=(e,a)=>e<4?Math.round(10*(0,t.growth)("decay",90,100,a,0,0))/10:Math.round(a),T=(e,a,n)=>{let l={0:4,1:5,2:6},s=a.filter(({activity:e},t)=>e<100&&e>=4&&-1!==e&&t<n?.length),o={},[r,i,u,c,,m]=(0,t.tryToParse)(e?.CauldronP2W)||e?.CauldronP2W;return o.cauldrons=r.toChunks(3).map(([e,t,a],n)=>({name:f[n],speed:{cost:A("cauldron",0,e),costToMax:E("cauldron",0,e,M.cauldronsSpeed),level:e},newBubble:{cost:A("cauldron",1,t),costToMax:E("cauldron",1,t,M.cauldronsNewBubble),level:t},boostReq:{cost:A("cauldron",2,a),costToMax:E("cauldron",2,a,M.cauldronsBoostReq),level:a}})),o.liquids=i.toChunks(2).map(([e,t],a)=>({name:B[a],regen:{cost:A("liquid",0,e),costToMax:E("liquid",0,e,M.liquidsRegen),level:e},capacity:{cost:A("liquid",1,t),costToMax:E("liquid",1,t,M.liquidsCapacity),level:t},players:s?.filter(({activity:e})=>e===l?.[a])})).filter(({name:e})=>e),o.vials={attempts:u?.[0]||0,rng:u?.[1]||0},o.player={speedLv:c?.[0]||0,speed:w(c?.[0]||0,3,0),extraExpLv:c?.[1]||0,extraExp:w(c?.[1]||0,3,1)},o.sigils=q(e,a,n),o.vialsAttempts={current:m[0],max:Math.round(3+u?.[0])},o},w=(e,n,l)=>{let[s,o,r]=a.p2w[n][l];return(0,t.growth)(r,e,s,o)},E=(e,t,a,n)=>{let l=0;for(let s=a;s<n;s++)l+=A(e,t,s);return l},A=(e,t,a)=>"liquid"===e?0===t?Math.round(2500*Math.pow(1.19-.135*a/(100+a),a)):Math.round(3500*Math.pow(1.2-.13*a/(100+a),a)):"cauldron"===e?0===t?Math.round(2500*Math.pow(1.15-.117*a/(100+a),a)):1===t?Math.round(3200*Math.pow(1.18-.145*a/(100+a),a)):Math.round(3750*Math.pow(1.2-.14*a/(100+a),a)):0,O=e=>{let t={0:{5:"",7:"Pickaxes_and_Fishing_Rods"},1:{5:"",6:"Catching_Nets_and_Traps"},2:{5:"",6:"Hatchets_and_Worship_Skulls"},3:{7:"",25:""}};return e?.reduce((e,n,l)=>l<=3?{...e,[f?.[l]]:Object.keys(n)?.reduce((e,s,o)=>"length"!==s?[...e,{level:parseInt(n?.[s])||0,index:o,rawName:`aUpgrades${v[l]}${o}`,...a.cauldrons[f?.[l]][s],desc:a.cauldrons[f?.[l]][s]?.desc.replace("$",t?.[l]?.[o])}]:e,[])}:e,{})},P=(e,a,n)=>{let l=(0,t.tryToParse)(e?.CauldronBubbles)||e?.CauldronBubbles;return l?.filter((e,t)=>t<n?.length)?.map(e=>e?.reduce((e,t)=>{let n=_[t[0]],l=n?t?.substring(1):null;return[...e,l?a?.[n]?.[l]:{}]},[])).filter(e=>e.length)},L=(e,a,n)=>{let l=(0,r.isCompanionBonusActive)(n,4);if(l)return I(n,a,!1);let s=e?.find(({bubbleName:e})=>a===e);return s||l?(0,t.growth)(s?.func,s?.level,s?.x1,s?.x2,!1)??0:0},I=(e,a,n,l)=>{let s=e?.alchemy?.bubblesFlat?.find(({bubbleName:e})=>e===a);if(-1===s)return 0;let o=(0,t.growth)(s?.func,s?.level,s?.x1,s?.x2,n)??0,r=y(e,s?.bubbleIndex)?(0,d.getPrismaMulti)(e):1,i=1;if(l){let a=e?.alchemy?.bubbles[s?.cauldron][1];a&&(i=(0,t.growth)(a?.func,a?.level,a?.x1,a?.x2,n)*(y(e,a?.bubbleIndex)?(0,d.getPrismaMulti)(e):1))}let u={quicc:new Set([0,6,9,12,14]),power:new Set([0,2,4,7,14]),"high-iq":new Set([0,2,6,12,14])},c=1;if(u[s?.cauldron]?.has(s?.index)){let a=e?.alchemy?.bubbles[s?.cauldron][16];a&&(c=(0,t.growth)(a?.func,a?.level,a?.x1,a?.x2,n)*(y(e,a?.bubbleIndex)?(0,d.getPrismaMulti)(e):1))}return o*r*i*c},N=e=>Object.keys(e).reduce((t,n,l)=>{let s=a.vials?.[l];return"length"!==n?[...t,{...s,level:parseInt(e?.[n])||0}]:t},[]).filter(({name:e})=>e),R=(e,a,n)=>e?.reduce((e,l)=>{let{func:s,level:o,x1:r,x2:i,desc:u,stat:c,multiplier:m=1}=l;return a&&!u.includes(a)||n&&!c.includes(n)?e:e+((0,t.growth)(s,o,r,i,!1)??0)*m},0),D=(e,a)=>e?.reduce((e,n)=>{let{func:l,level:s,x1:o,x2:r,multiplier:i=1,stat:u}=n;return a!==u?e:e+((0,t.growth)(l,s,o,r)??0)*i},0),F=e=>{let t,a=(0,o.getLabBonus)(e.lab.labBonuses,10),n=0,l=(0,m.getUpgradeVaultBonus)(e?.upgradeVault?.upgrades,42);if((0,c.isRiftBonusUnlocked)(e?.rift,"Vial_Mastery")){let t=e?.alchemy?.vials?.filter(({level:e})=>e>=13);n=isNaN(n=2*t?.length)?0:n}let s=a*(1+(n+l)/100);return t=e.alchemy.vials,t?.map(e=>({...e,multiplier:s}))},G=(e,t,a,n,l)=>{let s=l.filter(({activity:e})=>e<100&&-1!==e),o={0:"power",4:"quicc",8:"high-iq",12:"kazam"},r={};for(let l=0,i=t.length;l<i;l+=4){let[i,u,c,m]=t.slice(l,l+4),d={speed:i,luck:u,cost:c,extra:m},p=s.filter(({activity:e})=>e===l/4);r[o[l]]={progress:e?.[l/4],req:j(n?.[o[l]]?.length),players:p},Object.entries(d).forEach(([e,t])=>{let[n,s]=t;r[o[l]]={...r[o[l]],boosts:{...r[o[l]].boosts,[e]:{progress:n,level:parseInt(s),req:W(0,2,a.cauldrons[l/4]?.boostReq?.level,parseInt(s))}}}})}return r},j=e=>3+Math.pow(3*e,2.2)*Math.pow(1.3,e),W=(e,n,l,s)=>Math.floor(1+Math.pow(1.5*(s+1),1.6)*Math.pow(1.073,s+1)*2*((e,n,l)=>{let[s,o,r]=a.p2w[e][n];return Math.max((100-Math.max(0,(0,t.growth)(r,l,s,o)))/100,.05)})(0,2,l)),U=e=>e?.CauldUpgLVs&&e?.CauldUpgXPs?e?.CauldUpgLVs?.map((t,a)=>[e?.CauldUpgXPs?.[a],t]):e?.CauldronInfo?.[8]?.reduce((e,t)=>[...e,...t],[]),q=(e,a,n)=>H((0,t.tryToParse)(e?.CauldronP2W)||e?.CauldronP2W,a,n),H=(e,t,n)=>{let l=e?.[4],s=[];for(let e=0,o=l.length;e<o;e+=2){let[o,r]=l.slice(e,e+2),i=a.sigils?.[e/2],u=t.filter(({activity:t,index:a})=>t>=100&&Math.floor(t-100)===e/2&&a<11&&a<n?.length);i&&(s=[...s,{...i,unlocked:r,progress:o,bonus:2===r?i.jadeBonus:1===r?i?.boostBonus:0===r?i?.unlockBonus:0,characters:u}])}return s.map((e,t)=>({...e,index:t}))},V=(e,t)=>e?e?.reduce((e,a)=>a?.name!==t?e:e+a?.bonus,0):0,$=(e,t)=>{let a=(0,n.isArtifactAcquired)(t,"Chilled_Yarn");if(!a)return e;let l=1+a?.bonus;return e?.map(e=>({...e,bonus:e.bonus*l}))},Y=[0,100,1e3,2500,1e4,5e4,1e5,5e5,1000001,5e6,25e6,1e8,1e9,5e10],K=(e,t)=>Math.floor(t/1e9*(e+1)*Math.pow(1.04,e)*100),J=e=>e?Object.values(e)?.reduce((e,t)=>e+t?.reduce((e,{level:t})=>e+t,0),0):0,X=e=>e?Object.values(e)?.reduce((e,{level:t})=>e+t,0):0,z=e=>e?Object.values(e)?.reduce((e,{unlocked:t})=>e+(t+1),0):0,Q=(e,t,a)=>{let n,l=e?.lab?.labBonuses?.find(e=>"No_Bubble_Left_Behind"===e.name),s=(0,o.getLabBonus)(e?.lab.labBonuses,8),i=(0,o.getJewelBonus)(e?.lab.jewels,7,s);return(n=Math.max(1,(l?.active?l?.bonusOn:l?.bonusOff)+i-1),a)?Math.floor(n):(n+=1,(0,r.isBundlePurchased)(e?.bundles,"bun_s")&&(n=Math.round(n+3),l?.active&&l?.bonusOn>.5&&(n+=1)),(0,r.getEventShopBonus)(e,2)&&(n+=2),(0,p.getHighestTalentByClass)(t,p.CLASSES.Arcane_Cultist,"TACHYON_TRUTH")>=1&&(n+=3),n)},Z=(e,t)=>{let a=3,l=e?.lab?.labBonuses?.find(e=>"No_Bubble_Left_Behind"===e.name);if(!l?.active)return{normal:[],atomBubbles:[],upgradeableBubblesAmount:0,maxBubblesToUpgrade:10,minLevel:0,maxLevel:0,breakdown:[{name:"Base",value:0},{name:"Artifact",value:0},{name:"Merit",value:0},{name:"Jewel",value:0}]};let s=Object.values(e?.alchemy?.bubbles).flatMap((e,t)=>e.map((e,a)=>({...e,tab:t,flatIndex:1e3*t+a}))).filter(({level:e,index:t})=>e>=2&&t<15).filter(({level:e})=>e<1e4).sort((e,t)=>t.flatIndex-e.flatIndex).sort((e,t)=>e.level-t.level),o=e?.lab?.jewels?.find(e=>"Pyrite_Rhinestone"===e.name);o?.acquired&&a++;let r=(0,n.isArtifactAcquired)(e?.sailing?.artifacts,"Amberite"),i=r?.acquired||1;r&&(a+=r?.baseBonus*i);let u=e?.tasks?.[2]?.[3]?.[6];u>0&&(a+=u),a=Math.min(10,a);let c=s.slice(0,a),m=((e,t,a)=>{let n=Object.values(e?.alchemy?.bubbles||{}).map(e=>e.filter(({level:e,index:a})=>e>=5&&a<t).sort((e,t)=>e.level-t.level).filter(({level:e})=>e<1e4)),l=Math.ceil(Math.min(10,a)/4),s=[];for(let e=0;e<n.length;e++){let t=n[e];s.push(t.slice(0,l))}return s.flat()})(e,30,a).map(e=>({...e,lithium:!0}));return{normal:c,atomBubbles:m,upgradeableBubblesAmount:a,maxBubblesToUpgrade:10,minLevel:Q(e,t,!0),maxLevel:Q(e,t),breakdown:[{name:"Base",value:3},{name:"Artifact",value:(r?.baseBonus||0)*i},{name:"Merit",value:u},{name:"Jewel",value:+!!o?.acquired}]}}},39188,e=>{"use strict";e.s(["calculateSnailEncouragementForSuccessChance",()=>R,"getBitsMulti",()=>_,"getGaming",()=>B,"isSuperbitUnlocked",()=>N]);var t=e.i(82748),a=e.i(608580),n=e.i(267350),l=e.i(210270),s=e.i(470242),o=e.i(441132),r=e.i(24174),i=e.i(734002);e.i(262887);var u=e.i(775003),c=e.i(172833),m=e.i(173024),d=e.i(161866),p=e.i(264046),g=e.i(801902),h=e.i(669203);let{tryToParse:f}=e.r(608580),B=(e,t,a,n)=>{let l=f(e?.Gaming)||e?.Gaming,s=f(e?.GamingSprout)||e?.GamingSprout;return l&&s?v(l,s,t,a,n):null},v=(e,n,l,r,i)=>{let u=[];for(let t=0;t<9;t++){let n=0;for(let l=a.number2letter.indexOf("hhhhhhhhh".charAt(t));n<l;n++)u.push({rawName:"GamingPlant"+a.number2letter[t+1]+n+".png",unlocked:!!e?.[11]&&n<a.number2letter.indexOf(e?.[11]?.charAt(t))})}let[,c,m]=n?.[32],d=e?.[13],p=n.slice(0,25).reduce((e,t)=>t?.[1]>0?e+1:e,0),g=e?.[0],h=e?.[10],f=Math.max(1+Math.pow(h,.5)/100,1),B=e?.[8],v=n?.[28]?.[2],_=n?.[28]?.[1],P=n?.[26]?.[1],N=C(P),[R,D,F]=n?.[27],G=T(D,R),j=k("nugget"),W=k("acorn",R),U=I(n),q=n?.slice(25,25+t.gamingImports?.length+1),H=r?.gemShopPurchases?.find((e,t)=>131===t)??0,V=w(r?.gemShopPurchases?.find((e,t)=>131===t)??0),$=t.gamingImports?.map((e,t)=>{let a=E(t,e?.minorBonus,q);return{...e,level:q?.[t]?.[0],rawName:3===t?`GamingItem${t}_0`:0===t&&H>0?`GamingItem${t}b`:`GamingItem${t}`,minorBonus:a?.description,bonus:a?.value,cost:A(t,q),acquired:q?.[t]?.[0]>0,...0===t?{saveSprinklerChance:100*V}:{},...1===t?{maxNuggetValue:x(a?.result,(0,s.getEquinoxBonus)(r?.equinox?.upgrades,"Metal_Detector"),r?.accountOptions?.[192])}:{},...2===t?{acornShop:U}:{}}}).filter((e,t)=>t<8),Y=e?.slice(1,t.gamingUpgrades?.length+1)?.map((a,s)=>{let o=O(s,e,n,l,r,U,$);return{...t.gamingUpgrades?.[s],level:a,bonus:o,description:t.gamingUpgrades?.[s]?.description.replace(/{/,o),cost:L(s,e,i)}}),K=y(n?.[25]?.[1],$),J=e?.[12]||[],X=t.superbitsUpgrades?.map((e,t)=>({...e,unlocked:J?.indexOf(a.number2letter?.[t])!==-1,cost:e?.x1*Math.pow(10,e?.x2),...b(l,r,t)})),z=e?.[5],Q=e?.[4],Z=e?.[7],ee=S(),et=(25+(10*(Z+1)+Math.pow(Z+1,2)))*Math.pow(1.3,Z),ea=M(Q,z,1+(0,o.getVoteBonus)(r,21)/100),en=[100,200,300,400,500].map(e=>({value:e,chance:M(Q,e)}));return{bestNugget:B,bits:g,envelopes:d,snailLevel:c,snailEncouragement:m,squirrelMulti:F,elegantShellRank:v,fertilizerUpgrades:Y,availableSprouts:p,availableDrops:K,sproutsCapacity:Y?.[2]?.bonus,imports:$,lastShovelClicked:P,goldNuggets:N,lastAcornClicked:D,acorns:G,nuggetsBreakpoints:j,acornsBreakpoints:W,superbitsUpgrades:X,mutations:ee,unlockedMutations:Q,mutationCost:et,dna:z,newMutationChance:ea,mutationChanceBreakpoints:en,logBook:u,poingHighscore:h,poingMulti:f,totalPlantsPicked:_}},_=(e,t)=>{let a=(0,r.isArtifactAcquired)(e?.sailing?.artifacts,"Gummy_Orb")?.bonus??0,n=(0,r.isArtifactAcquired)(e?.sailing?.artifacts,"Weatherbook")?.bonus??0,s=Math.pow(2,Math.max(0,Math.min(25,e?.gaming?.snailLevel))),o=1+8*e?.gaming?.squirrelMulti/(250+e?.gaming?.squirrelMulti),f=e?.gaming?.imports?.[3]?.bonus,B=(0,u.getMealsBonusByEffectOrStat)(e,null,"GamingBits"),v=(0,c.getVialsBonusByStat)(e?.alchemy?.vials,"GameBits"),_=(0,m.getHighestTalentByClass)(t,m.CLASSES.Divine_Knight,"BITTY_LITTY")??0,M=(0,l.getHighestCharacterSkill)(t,"gaming"),S=(0,p.getWinnerBonus)(e,"<x Gaming Bits"),b=(0,g.getLampBonus)({holesObject:e?.hole?.holesObject,t:1,i:1}),y=(0,h.getEmperorBonus)(e,7),x=(0,l.isMasteryBonusUnlocked)(e?.rift,e?.totalSkillsLevels?.gaming?.rank,1)||0,k=(0,c.getBubbleBonus)(e,"BIT_BY_BIT",!1),C=e?.gaming?.logBook?.reduce((e,{unlocked:t})=>e+ +!!t,0),T=Math.max(1,Math.pow(1.08,C)+k*C/100),w=[{title:"Multiplicative"},{name:"Gummy Orb Artifact",value:a/100},{name:"Weatherbook Artifact",value:n/100},{name:"Monument",value:(0,i.getMonumentBonus)({holesObject:e?.hole?.holesObject,t:0,i:4})/100},{name:"Skill mastery",value:15*x/100},{name:"MSA Bonus",value:e?.msaTotalizer?.bit?.value/100},{name:"Snail",value:s},{name:"Acorn",value:o},{name:"Nugget",value:e?.gaming?.bestNugget},{name:"Elegant Shell",value:e?.gaming?.elegantShellRank*f/100},{name:"Logbook",value:T},{name:"Meal",value:B/100},{name:"Vial",value:v/100},{name:"Bitty Litty Talent",value:_*M/100},{name:"Achievements",value:1+((0,d.getAchievementStatus)(e?.achievements,296)+(0,d.getAchievementStatus)(e?.achievements,307))/20},{name:"Poing",value:Math.max(1,Math.min(25,e?.gaming?.poingMulti))},{name:"Summoning",value:S/100},{name:"Lamp",value:b/100},{name:"Emperor",value:y/100}];return{value:(1+a/100)*(1+n/100)*(1+(0,i.getMonumentBonus)({holesObject:e?.hole?.holesObject,t:0,i:4})/100)*(1+15*x/100)*(1+e?.msaTotalizer?.bit?.value/100)*Math.max(1,s)*Math.max(1,o)*Math.max(1,e?.gaming?.bestNugget)*(1+e?.gaming?.elegantShellRank*f/100)*Math.max(1,T)*(1+(B+v)/100)*(1+_*M/100)*Math.max(1,Math.min(25,e?.gaming?.poingMulti))*(1+((0,d.getAchievementStatus)(e?.achievements,296)+(0,d.getAchievementStatus)(e?.achievements,307))/20)*(1+S/100)*(1+b/100)*(1+y/100),breakdown:w,expression:`(1 + gummyOrbArtifactBonus / 100)
  * (1 + weatherbookArtifactBonus / 100)
  * (1 + monumentBonus / 100)
  * (1 + (15 * skillMastery) / 100)
  * (1 + msaBitBonus / 100)
  * Math.max(1, snailBonus)
  * Math.max(1, acornBonus)
  * Math.max(1, bestNugget)
  * (1 + (account?.gaming?.elegantShellRank * elegantShellBonus) / 100)
  * Math.max(1, logBookBitBonus)
  * (1 + (mealBonus + vialBonus) / 100)
  * (1 + (bittyLittlyTalentBonus * highestGaming) / 100)
  * Math.max(1, Math.min(25, account?.gaming?.poingMulti))
  * (1 + (achievement1 + achievement1) / 20)
  * (1 + winBonus / 100) *
  (1 + lampBonus / 100) *
  (1 + emperorBonus / 100)`}},M=(e,t,a=1)=>Math.floor(1e3*(0===e?Math.min(.8,7*t/(100+t)*a):Math.min(.99,42*t/(100+t)*Math.pow(.31,e)*a)))/10,S=()=>{let e=t.randomList2?.[0]?.split(" ");return["FunGi","Bonsai","Cactus","Blossom","Voraci","Berri Bush","EverGreen","Chemical"].map((t,a)=>({name:t,index:a,description:e?.[a]?.replace(//g,"bits")}))},b=(e,t,a)=>{let n,s,o;return 0===a?s=Math.pow(1.03,n=t?.achievements?.filter(({completed:e})=>e)?.length??0):3===a||11===a||16===a?(n=Math.floor(t?.towers?.totalWaves/10),o=`Total Bonus: ${n}% (${t?.towers?.totalWaves} waves)`):13===a?(n=10*Math.floor(t?.towers?.totalWaves/10),o=`Total Bonus: ${n}% (${t?.towers?.totalWaves} waves)`):7===a?(n=Math.floor(t?.towers?.totalWaves/10),o=`Total Bonus: ${n}% (${t?.towers?.totalWaves} waves)`):20===a?(n=50*Math.floor(t?.towers?.totalWaves/10),o=`Total Bonus: ${n}% (${t?.towers?.totalWaves} waves)`):12===a&&(s=Math.floor((0,l.getHighestCharacterSkill)(e,"gaming"))),{bonus:n,totalBonus:s,additionalInfo:o}},y=(e,t)=>Math.floor(Math.pow(e*(1+t?.[0]?.level/100)/3600,.75)),x=(e,t,a)=>1584.8931924611136*e*(1+t*a/100),k=(e,t)=>{let a=[1,2,3,4,5,6].reduce(({breakpoints:a,lastClicked:n},l,s)=>{let o=3600*Math.floor(n)+n%1*6e3,r="nugget"===e?C(o):T(o,t);if(0===a.length)return{breakpoints:[...a,{time:o,amount:r}],lastClicked:n+.1};for(;r<=a?.[s-1]?.amount&&n%1!=0;)(r="nugget"===e?C(o):T(o,t))<=a?.[s-1]?.amount&&(n+=.1,o=3600*Math.floor(n)+n%1*6e3);return{breakpoints:[...a,{time:o,amount:r}],lastClicked:n}},{breakpoints:[],lastClicked:1});return a?.breakpoints},C=e=>Math.floor(Math.pow(e/3600,.44)),T=(e,t)=>Math.floor(Math.pow(e*(1+t/100)/3600,.85)),w=e=>1===e?.3:2===e?.43:3===e?.53:.6*(4===e),E=(e,t,a)=>{let n=a?.[e]?.[0];if(1===e){let e=Math.floor(10*(1+Math.pow(60*n/(250+n),1.7)))/10;return{description:t.replace(/{/,e),result:e}}if(2===e){let e=Math.round(5*n);return{description:t.replace(/{/,e),result:e}}if(5===e){let e=Math.floor(60*n/(100+n)*10)/10;return{description:t.replace(/{/,e),result:e}}return{description:t.replace(/{/,Math.round(n)),value:Math.round(n)}},A=(e,a)=>t.gamingImports?.[e]?.x1*Math.pow(10,t.gamingImports?.[e]?.x2)/4*Math.pow(1.4,a?.[e]?.[0]),O=(e,t,l,s,o,r,i)=>{if(0===e){let e=t?.[1];return(0,a.notateNumber)((1+4*e)*Math.pow(1.065,e),"bits")}if(1===e){let e=t?.[2],a=s?.find(({linkedDeity:e})=>6===e),u=(0,n.getMinorDivinityBonus)(a,o,6,s)??0,c=5e3/((1+2*e/100)*(1+(r?.[1]?.bonus+u)/100)*(1+(3+i?.[4]?.level/100)*l?.[29]?.[1]))*(1/P(t))/60*100/100;return c>60?`${100*c/60/100} Hr`:`${Math.trunc(1e3*c)/1e3} Min`}if(2===e){let e=t?.[3],n=o?.gemShopPurchases?.find((e,t)=>133===t)??0;return(0,a.notateNumber)(Math.round(Math.min(24,3+e+n)))}},P=e=>{let t=e?.[7];return .13+.11*t/(150+t)},L=(e,t,a)=>{if(0===e){let e=t?.[1];return(1+(3*e+Math.pow(e,2)))*Math.pow(Math.min(1.25,Math.max(1.13,1+a?.GamingFertCostExpA/1e3))+Math.max(0,Math.min(.15,.18*(e-50)/(e+100))),e)}if(1===e){let e=t?.[2];return(2+(5*e+Math.pow(e,2)))*Math.pow(1.22,e)}if(2===e){let e=t?.[3];return 11>e?(25*(e+1)+Math.pow(e+1,3))*Math.pow(5+3.7*e,e):9999*1e63}},I=e=>{let t=["All plants give x{ bits","All plants grow {% faster"],[,,a,n]=e?.[27];return[a,n].map((e,a)=>{let n=0===a?1+8*e/(250+e):Math.pow(3*e,.8);return{cost:1+e+2*Math.max(0,e-5),description:t?.[a].replace(/{/,`${n.toFixed(2)}`),bonus:n}})},N=(e,t)=>e?.gaming?.superbitsUpgrades?.find(({name:e,unlocked:a})=>e===t&&a),R=(e,t)=>{let a=0,n=1e3;for(;n-a>1;){let l=Math.floor((a+n)/2);(1-.1*Math.pow(e,.72))*(1+100*l/(25+l)/100)<t?a=l+1:n=l}return a}},398241,e=>{"use strict";e.s(["calcTotalAtomLevels",()=>h,"getAtomBonus",()=>p,"getAtomColliderThreshold",()=>g,"getAtoms",()=>i]);var t=e.i(608580),a=e.i(82748),n=e.i(172833),l=e.i(39188),s=e.i(685849),o=e.i(521637),r=e.i(723748);let i=(e,a)=>{let n=(0,t.tryToParse)(e?.Atoms)||e?.Atoms;return u((0,t.tryToParse)(e?.Divinity)||e?.Divinity,n,a)},u=(e,t,o)=>{let i=t??[],u=e?.[39],p=a.atomsInfo?.map((e,u)=>{let p=i?.[u]??0,g=o?.towers?.data?.[8]?.level??0,h=t?.[9]??0,f=(0,n.getBubbleBonus)(o,"ATOM_SPLIT",!1),B=(0,l.isSuperbitUnlocked)(o,"Atom_Redux")?.unlocked??0,v=(0,l.isSuperbitUnlocked)(o,"Isotope_Discovery")??0,_=(0,s.getStampsBonusByEffect)(o,"Lower_Atom_Upgrade_Costs"),M=Math.round(20+(10*!!v+(0,r.getCompassBonus)(o,53))),S={account:o,atomReductionFromAtom:h,reduxSuperbit:B,bubbleBonus:f,atomColliderLevel:g,stampBonusReduction:_,atomInfo:e,level:p},b=c(S),y=c({...S,level:p+1}),x=m({...S,maxLevel:M}),k=d(e,p,o);return{level:p,maxLevel:M,rawName:`Atom${u}`,...a.atomsInfo?.[u]||{},cost:Math.floor(b),nextLeveCost:Math.floor(y),costToMax:Math.floor(x),bonus:k}}),g=o?.accountOptions?.[134],h=p?.find(({name:e})=>"Hydrogen_-_Stamp_Decreaser"===e);return{particles:u,atoms:p,stampReducer:Math.min(90,(h?.level??0)*g)}},c=({account:e,atomReductionFromAtom:t,reduxSuperbit:a,bubbleBonus:n,atomColliderLevel:l,stampBonusReduction:s,atomInfo:i,level:u})=>1/(1+(s+t+10*!!a+((0,o.getGrimoireBonus)(e?.grimoire?.upgrades,51)+(0,r.getCompassBonus)(e,50))+n+l/10+7*e?.tasks?.[2][4][6])/100)*(i?.x3+i?.x1*u)*Math.pow(i?.x2,u),m=e=>{let t=0;for(let a=e?.level;a<e?.maxLevel;a++)t+=c({...e,level:a});return t},d=(e,t,a)=>{if(e?.name==="Fluoride_-_Void_Plate_Chef"){let n=a?.cooking?.meals?.reduce((e,{level:t})=>t>=30?e+1:e,0);return 100*(Math.pow(1+e?.baseBonus*t/100,n)-1)}if(e?.name==="Carbon_-_Wizard_Maximizer")return e?.baseBonus*a?.towers?.wizardOverLevels},p=(e,t)=>{let a=e?.atoms?.atoms;return a?.filter(e=>e?.name===t).map(a=>"Fluoride_-_Void_Plate_Chef"===t?a?.bonus:"Carbon_-_Wizard_Maximizer"===t?a?.baseBonus*e?.towers?.wizardOverLevels:a?.level*a?.baseBonus)?.[0]},g=e=>0===e?15e6:1===e?25e6:2===e?1e8:3===e?25e7:105e7,h=e=>e?.reduce((e,{level:t})=>e+t,0)},685849,e=>{"use strict";e.s(["altStampsMapping",()=>g,"applyStampsMulti",()=>w,"calcStampCollected",()=>A,"calcStampLevels",()=>E,"evaluateStamp",()=>v,"getStampBonus",()=>T,"getStamps",()=>h,"getStampsBonusByEffect",()=>C,"getStampsPerDay",()=>B,"stampsMapping",()=>p,"unobtainableStamps",()=>O,"updateStamps",()=>_]);var t=e.i(608580),a=e.i(82748),n=e.i(173024),l=e.i(971176),s=e.i(210270),o=e.i(172833),r=e.i(394699),i=e.i(476219),u=e.i(398241),c=e.i(723748),m=e.i(384308),d=e.i(264046);let p={0:"combat",1:"skills",2:"misc"},g={_:"combat",a:"skills",b:"misc"},h=(e,a)=>f((0,t.tryToParse)(e?.StampLv)||e?.StampLevel,(0,t.tryToParse)(e?.StampLvM)||e?.StampLevelMAX,a),f=(e,t,n)=>{let s=e?.reduce((e,a,n)=>({...e,[p?.[n]]:Object.keys(a).reduce((e,l,s)=>"length"!==l?[...e,{level:parseFloat(a[l]),maxLevel:t?.[n]?.[s]}]:e,[])}),{});return Object.entries(s)?.reduce((e,[t,s])=>{let o=s?.map((e,s)=>{let o=a.stamps[t][s],r=o?.itemReq?.[0],i=(0,l.flattenCraftObject)(a.crafts[r?.name]),u=n?.storage?.list?.reduce((e,{rawName:t,amount:a})=>t!==r?.rawName?e:e+(a||0),0),c=Math.max(0,u-1e7);return{...o,...e,materials:i,ownedMats:u,greenStackOwnedMats:c,itemReq:r,category:t}});return{...e,[t]:o}},{})},B=e=>{let t=0,a=(0,s.isBundlePurchased)(e?.bundles,"bun_s");a&&(t+=5);let n=(0,s.getEventShopBonus)(e,1);n&&(t+=3);let l=(0,d.getWinnerBonus)(e,"+{ Stamp LV/day");return l&&(t+=l),{value:t,breakdown:[{name:"Bundle",value:5*!!a},{name:"Event",value:3*!!n},{name:"Summoning",value:l||0}]}},v=(e,t,n,l=!0,o,r=!1)=>{let i,u,c=o??t?.atoms?.stampReducer,m=(0,s.getHighestCapacityCharacter)(a.items?.[e?.itemReq?.rawName],n,t,r),d=y(e?.level,e,t),p=t?.currencies?.rawMoney>=d,g=Math.floor(k(e?.level,e,t,c,l));e?.materials?.length>0?(i=M(e?.materials,g,t),u=M(e?.materials,g,t,!0)):(i=e?.ownedMats>=g,u=Math.max(0,e?.ownedMats-1e7)>=g);let h=m?.maxCapacity>=g,f={...e,bestCharacter:m,goldCost:d,materialCost:g,enoughPlayerStorage:h,greenStackHasMaterials:u,hasMaterials:i,hasMoney:p},B=S(f,t,c,l);return{...f,futureCosts:B}},_=(e,a,n=!0,l,s)=>{let o=Object.values(e?.stamps||{}).flat().map(t=>v(t,e,a,n,l,s));return(0,t.groupByKey)(o,({category:e})=>e)},M=(e,t,a,n)=>e?.every(({itemName:e,type:s,itemQuantity:o})=>{if("Equip"===s)return!0;let r=(0,l.calculateItemTotalAmount)(a?.storage?.list,e,!0);return n?Math.max(0,r-1e7):r>=o*t}),S=(e,t,a,n)=>{let l=e?.maxLevel;for(;k(l,e,t,a,n)<e?.bestCharacter?.maxCapacity;)l+=e?.reqItemMultiplicationLevel;let s=t?.atoms?.atoms?.[0]?.baseBonus*t?.atoms?.atoms?.[0]?.level,o=e?.level+e?.reqItemMultiplicationLevel*3,r=[];for(let l=e?.level+e?.reqItemMultiplicationLevel;l<=o;l+=e?.reqItemMultiplicationLevel)for(let o=l===e?.level+e?.reqItemMultiplicationLevel?a:0;o<=90;o=Math.min(90,o+s)){let a,i,u=k(l-e?.reqItemMultiplicationLevel,e,t,o,n);if(90===o){u<e?.bestCharacter?.maxCapacity&&(a=l-e?.reqItemMultiplicationLevel===e?.level?u:x(e?.level,l,e,t,o,n),i=b(e?.level,l,e,t),r.push({...e?.itemReq,level:l,goldCost:i,materialCost:a,reduction:o}));break}if(u<e?.bestCharacter?.maxCapacity){a=l-e?.reqItemMultiplicationLevel===e?.level?u:x(e?.level,l,e,t,o,n),i=b(e?.level,l,e,t),r.push({...e?.itemReq,level:l,goldCost:i,materialCost:a,reduction:o});break}if(0===s)break}if(0===r.length){let s=k(l,e,t,a,n),o=y(l,e,t);r.push({...e?.itemReq,level:l,goldCost:o,materialCost:s,reduction:a})}return r},b=(e,t,a,n)=>{let l=y(e,a,n);for(let s=e;s<t;s++)l+=y(s,a,n);return l},y=(e,t,a)=>{if(!t||"number"!=typeof e)return 0;let n=(0,o.getVialsBonusByEffect)(a?.alchemy?.vials,"material_cost_for_stamps")||0,l=a?.bribes?.[0],s=l?.done?l.value/100:0,r=t.baseCoinCost*(1-s),i=t.reqItemMultiplicationLevel||1;return Math.floor(r*Math.pow(Math.max(1.05,t.powCoinBase-e/(e+5*i)*.25),10/i*e)*Math.max(.1,1-n/100))},x=(e,t,a,n,l=0,s)=>{let o=0;for(let r=e;r<t;r+=a?.reqItemMultiplicationLevel)o+=k(r,a,n,l,s);return o},k=(e,t,a,n=0,l)=>{let s=(0,o.getVialsBonusByEffect)(a?.alchemy?.vials,"material_cost_for_stamps"),r=(0,o.getSigilBonus)(a?.alchemy?.p2w?.sigils,"ENVELOPE_PILE")??0,i=Math.max(.1,1-n/100);return Math.max(1,t?.baseMatCost*(l?.05:1)*i*(1/(1+r/100))*Math.pow(t?.powMatBase,Math.pow(Math.round(e/t?.reqItemMultiplicationLevel)-1,.8))*Math.max(.1,1-s/100))},C=(e,t,a)=>e?.stamps&&Object.entries(e?.stamps)?.reduce((n,[l,s])=>{let o=s?.filter(({effect:e})=>e?.includes(t));return n+o?.reduce((t,{rawName:n})=>t+T(e,l,n,a),0)},0),T=(e,a,l,o)=>{let d=e?.stamps?.[a]?.findIndex(({rawName:e})=>e===l),p=e?.stamps?.[a]?.[d];if(!p)return 0;let g=1,h=0;p?.stat?.includes("Eff")&&(g=(0,n.getTalentBonus)(o?.flatStarTalents,"TOILET_PAPER_POSTAGE")),"misc"!==a&&(h=(0,r.getCharmBonus)(e,"Liqorice_Rolle"));let f=e?.compass?.exaltedStamps?.[a]?.[d],B=(0,r.isJadeBonusUnlocked)(e,"Level_Exemption"),v=(0,u.getAtomBonus)(e,"Aluminium_-_Stamp_Supercharge")??0,_=(0,r.getCharmBonus)(e,"Jellypick"),M=(0,m.getArmorSetBonus)(e,"EMPEROR_SET"),S=(0,s.getEventShopBonus)(e,18),b=100+(v+(_+(0,c.getCompassBonus)(e,76)+M+20*S)),y=f?1+b/100:1;if(p?.skillIndex>0&&!B&&p?.reqItemMultiplicationLevel>1){let e=p?.level*(200/(20*p?.reqItemMultiplicationLevel));if(e>3){let a=3+(e-3)*Math.pow(o?.skillsInfoArray?.[p?.skillIndex]?.level/(e-3),.75),n=Math.min(Math.floor(Math.min(a*=20*p?.reqItemMultiplicationLevel/200,e)),p?.level);return((0,t.growth)(p?.func,n,p?.x1,p?.x2,!1)??0)*(p?.multiplier||1)*(g||1)*(1+h/100)*y}}let x=0;return(p?.stat==="BaseDmg"||p?.stat==="BaseHp"||p?.stat==="BaseAcc"||p?.stat==="BaseDef")&&(x=(0,i.getUpgradeVaultBonus)(e?.upgradeVault?.upgrades,16)),((0,t.growth)(p?.func,p?.level,p?.x1,p?.x2,!1)??0)*(p?.multiplier||1)*(g||1)*(1+h/100)*(1+x/100)*y},w=(e,t)=>Object.entries(e).reduce((e,[a,n])=>{let l=n;return"misc"!==a&&(l=n?.map(e=>({...e,multiplier:t}))),{...e,[a]:l}},{}),E=e=>e?Object.values(e)?.reduce((e,t)=>e+t?.reduce((e,{level:t})=>e+t,0),0):0,A=e=>e?Object.values(e)?.reduce((e,t)=>e+t?.reduce((e,{level:t})=>e+ +(t>0),0),0):0,O=["Stat_Wallstree_Stamp","SpoOoky_Stamp","Prayday_Stamp","Shiny_Crab_Stamp","Talent_I_Stamp","Talent_V_Stamp","Gear_Stamp"].toSimpleObject()},805861,e=>{"use strict";var t=e.i(608580),a=e.i(82748);e.s(["getPlayerPostOffice",0,(e,t)=>{let n=0,l=a.postOffice?.map((t,a)=>{let l=e?.[a]?.[0]??e?.[a];return n+=l,{...t,level:l||0}}),s=t?.currencies?.DeliveryBoxComplete+t?.currencies?.DeliveryBoxStreak+t?.currencies?.DeliveryBoxMisc+(t?.accountOptions?.[347]??0);return{boxes:l,totalOrders:s,totalPointsSpent:n,unspentPoints:s-n||0}},"getPostOfficeBonus",0,(e,a,n)=>{let l=e?.boxes?.find(({name:e})=>e===a);if(!l)return 0;let s=Math.round(0===n?l?.level:1===n?l?.level-l?.upgradeLevels?.[0]:l?.level-l?.upgradeLevels?.[1]),o=l?.upgrades?.[n];return(0,t.growth)(o?.func,s>0?s:0,o?.x1,o?.x2,!1)??0},"getPostOfficeBoxLevel",0,(e,t)=>{let a=e?.boxes?.find(({name:e})=>e===t);return a?a?.level:0},"getPostOfficeShipments",0,e=>{let a=(0,t.tryToParse)(e?.PostOfficeInfo0)||e?.PostOfficeInfo0,n=(0,t.createArrayOfArrays)(a),l=(0,t.tryToParse)(e?.PostOfficeInfo1)||e?.PostOfficeInfo1,s=(0,t.createArrayOfArrays)(l);return s?.map((e,t)=>{let[a,l,s]=e;return{index:t,totalShipments:a,streak:l,completedAnOrder:n?.[t]?.[2],shield:s}})}])},76487,990732,948982,284565,71791,e=>{"use strict";e.s(["default",()=>eN],76487);var t=e.i(391398),a=e.i(261576),n=e.i(191788),l=e.i(627242),s=e.i(201084),o=e.i(717803),r=e.i(886779),i=e.i(356119),u=e.i(514707),c=e.i(608580),m=e.i(782808),d=e.i(10051),p=e.i(405127),g=e.i(172833),h=e.i(775003),f=e.i(764964),B=e.i(82748);e.s(["calcCost",()=>L,"calcResourceToRankUp",()=>I,"calcTimeToRankUp",()=>P,"getRefinery",()=>C,"getRefineryCycles",()=>O,"hasMissingMats",()=>E],990732);var v=e.i(971176),_=e.i(805861),M=e.i(685849),S=e.i(198659),b=e.i(279522),y=e.i(173024),x=e.i(942144),k=e.i(441132);let C=(e,t,a)=>T((0,c.tryToParse)(e?.Refinery)||e?.Refinery,t,a),T=(e,t,a)=>{let n=e?.[1],l=e?.[2],s=n?.reduce((e,t,a)=>"Blank"!==t?[...e,{rawName:t,name:B.items[t]?.displayName,amount:l?.[a],owner:"refinery"}]:e,[]),o=[...t,...s||[]],r=a?.[2]?.[2]?.[6],i=e?.slice(3,3+e?.[0]?.[0]),u=i?.reduce((e,t,a)=>{let n=`Refinery${a+1}`,[l,s,,r,i]=t,{saltName:u,cost:c}=B.refinery?.[n]||{};return[...e,{saltName:u,cost:c?.map(e=>{let t=(0,v.calculateItemTotalAmount)(o,e?.name,!0);return{...e,totalAmount:t}}),rawName:n,powerCap:w(s),refined:l,rank:s,active:r,autoRefinePercentage:i}]},[]);return{salts:u,refinerySaltTaskLevel:r,timePastCombustion:e?.[0]?.[1],timePastSynthesis:e?.[0]?.[2],totalLevels:u?.reduce((e,{rank:t})=>e+t,0),refineryStorage:s}},w=e=>{let t=B.randomList[18]?.split(" ");return parseFloat(Math.max(t?.[Math.min(e,t?.length-2)],25))},E=(e,t,a,n)=>a?.filter(({rawName:a,quantity:l,totalAmount:s})=>s<Math.floor(Math.pow(t,a?.includes("Refinery")&&e<=n?.refinery?.refinerySaltTaskLevel?1.3:1.5))*l),A=(e,t)=>{let{alchemy:a,saltLick:n,charactersLevels:l,breeding:s,rift:o,towers:r}=e,i=a?.vials,u=(0,g.getVialsBonusByEffect)(i,"Refinery_Cycle_Speed"),c=n?.[2]?n?.[2]?.baseBonus*n?.[2]?.level:0,m=a?.p2w?.sigils?.find(e=>e?.name==="PIPE_GAUGE")?.bonus||0,d=(0,M.getStampsBonusByEffect)(e,"Faster_refinery_cycles"),h=(0,S.getShinyBonus)(s?.pets,"Faster_Refinery_Speed"),v=0;(0,f.isRiftBonusUnlocked)(o,"Construct_Mastery")&&(v=r?.totalLevels>=p.constructionMasteryThresholds?.[0]?Math.floor(r?.totalLevels/10):0);let _=(0,b.getArcadeBonus)(e?.arcade?.shop,"Refinery_Speed")?.bonus??0,C=l?.filter(e=>(0,y.checkCharClass)(e?.class,y.CLASSES.Divine_Knight))?.map(({level:e})=>e),T=C?.length>0?Math.max(...C):0,w=(0,y.getHighestTalentByClass)(t,y.CLASSES.Divine_Knight,"THE_FAMILY_GUY"),E=(0,x.getFamilyBonusBonus)(B.classFamilyBonuses,"Refinery_Speed",T)*(w>0?1+w/100:1)||0,A=(0,k.getVoteBonus)(e,33);return{bonusBreakdown:[{name:"Vials",value:u/100},{name:"Salt lick",value:c/100},{name:"Family",value:E/100},{name:"Sigils",value:m/100},{name:"Stamps",value:d/100},{name:"Shinies",value:h/100},{name:"Const mastery",value:v/100},{name:"Arcade",value:_/100},{name:"Vote",value:A/100}],bonus:u+c+E+m+d+h+v+_+A}},O=(e,t,a)=>{let{bonusBreakdown:n,bonus:l}=A(e,t,a),s=e?.lab?.labBonuses?.find(e=>"Gilded_Cyclical_Tubing"===e.name)?.active?3:1,o=(t?.filter(e=>(0,y.checkCharClass)(e?.class,y.CLASSES.Squire)||(0,y.checkCharClass)(e?.class,y.CLASSES.Divine_Knight))).reduce((e,t)=>{let{name:a,talents:n,cooldowns:l,postOffice:s,afkTime:o}=t,r=Math.max(0,(0,_.getPostOfficeBonus)(s,"Magician_Starterpack",2)),i=n?.[2]?.orderedTalents.find(e=>e?.name==="REFINERY_THROTTLE"),u=0;i?.maxLevel>0&&(u=(0,c.growth)(i?.funcX,i?.maxLevel,i?.x1,i?.x2)||0);let m=(new Date().getTime()-o)/1e3,d=(1-r/100)*l?.[130]-m;return{squiresCycles:e?.squiresCycles+u,squiresCooldowns:[...e?.squiresCooldowns,{name:a,cooldown:d<0?d:new Date().getTime()+1e3*d}]}},{squiresCycles:0,squiresCooldowns:[]}),r=(new Date().getTime()-(a??0))/1e3,i=[...n,{title:"Multiplicative"},{name:""},{name:"Lab",value:s}],u={name:"Combustion",time:Math.ceil(900/((1+l/100)*s)),timePast:e?.refinery?.timePastCombustion+r,breakdown:[{title:"Additive"},{name:""},{name:"Base",value:900},...i]},m={name:"Synthesis",time:Math.ceil(3600/((1+l/100)*s)),timePast:e?.refinery?.timePastSynthesis+r,breakdown:[{title:"Additive"},{name:""},{name:"Base",value:3600},...i]};return{...o,cycles:[u,m]}},P=(e,t,a,n,l,s,o,r,i)=>{let{bonus:u}=A(e,t,a),c=e?.lab?.labBonuses?.find(e=>"Gilded_Cyclical_Tubing"===e.name)?.active?3:1,m=Math.floor(Math.pow(s,1.3)),d=86400/((i<=2?900:3600)/(1+u/100))+(l?n?.squiresCycles??0:0),p=Math.floor((o-r)/m)/d*24/c;return{timeLeft:new Date().getTime()+3600*p*1e3,totalTime:new Date().getTime()+(o-0)/m/d*24/c*36e5}},L=(e,t,a,n,l)=>Math.floor(Math.pow(t,n?.includes("Refinery")&&l<=e?.refinerySaltTaskLevel?1.3:1.5))*a,I=(e,t,a,n)=>(a-t)/Math.floor(Math.pow(e,1.3))*n;e.s(["calcTotals",()=>H,"getPrinter",()=>W,"getPrinterExclusions",()=>$,"getPrinterMulti",()=>q],948982);var N=e.i(267350),R=e.i(24174),D=e.i(210270),F=e.i(398241),G=e.i(394699),j=e.i(723748);let W=(e,t,a)=>U((0,c.tryToParse)(e?.Print)||e?.Printer,(0,c.tryToParse)(e?.PrinterXtra)||e?.PrinterXtra,t,a),U=(e,t,a,n)=>{let l=(0,N.getDeityLinkedIndex)(n,a,3),s=n?.hole?.godsLinks?.find(({index:e})=>3===e),o=n?.lab?.labBonuses?.find(e=>"Wired_In"===e.name)?.active,r=n?.lab?.connectedPlayers,{value:i,params:u}=q(n,a),m=e?.slice(5,e?.length);return a.map((e,a)=>{let d=m?.slice(14*a,14*a+14);if(t){let e=t?.slice(10*a,10*a+10);d.splice(-4,0,e),d=d.flat()}return d?.reduce((e,t,m,p)=>{if(m%2==0){let t=p.slice(m,m+2).map((e,t)=>e),g=t[1],h=r?.find(({playerId:e})=>e===a);g*=o&&h?l.includes(a)||s?6*i:2*i:l.includes(a)||s?3*i:i;let f=[{title:"Multiplicative"},{name:""},{name:"Lab",value:h&&o?2:0},{name:"Harriep God",value:l.includes(a)||s?3:0},{name:"Companion",value:u.companionBonus},{name:"Compass",value:u.compassBonus},{name:"Skill Mastery",value:1+u.skillMasteryBonus/100},{name:"Divine Knight",value:(0,c.notateNumber)(1+u.highestKingOfRemembrance*(0,c.lavaLog)(u.orbOfRemembranceKills)/100,"MultiplierInfo")},{name:"Gold Relic",value:1+u.daysSinceLastSample*(2+u.goldRelicBonus)/100},{name:"Charm",value:1+u.charmBonus/100},{name:"Vote",value:u.voteBonus},{name:"Winter event",value:1+2*n?.accountOptions?.[323]*(0,D.getEventShopBonus)(n,4)/100}];return[...e,{item:t[0],value:t[1],active:m>=d.length-4,boostedValue:g,breakdown:f,expression:""}]}return e},[])})},q=(e,t)=>{let a=(0,R.isArtifactAcquired)(e?.sailing?.artifacts,"Gold_Relic"),n=a?.acquired===4?a?.sovereignMultiplier:a?.acquired===3?a?.eldritchMultiplier:a?.acquired===2?a?.ancientMultiplier:0,l=e?.accountOptions?.[125],s=e?.accountOptions?.[138],o=t?.filter(e=>(0,y.checkCharClass)(e?.class,y.CLASSES.Divine_Knight)),r=o?.reduce((e,{flatTalents:t,addedLevels:a})=>{let n=(0,y.getTalentBonus)(t,"KING_OF_THE_REMEMBERED",!1,!1,a,!1);return n>e?n:e},0),i=e?.rift?.currentRift>15?(0,D.getSkillMasteryBonusByIndex)(e?.totalSkillsLevels,e?.rift,3):0,u=(0,G.getCharmBonus)(e,"Lolly_Flower"),m=1+(0,k.getVoteBonus)(e,11)/100,d=1+e?.accountOptions?.[354]*(0,D.isCompanionBonusActive)(e,17)/100,p=1+e?.accountOptions?.[364]*(0,j.getCompassBonus)(e,43)/100,g=(1+l*(2+n)/100)*(1+r*(0,c.lavaLog)(s)/100)*(1+i/100)*(1+u/100)*m*(1+2*e?.accountOptions?.[323]*(0,D.getEventShopBonus)(e,4)/100)*d*p;return{params:{daysSinceLastSample:l,highestKingOfRemembrance:r,skillMasteryBonus:i,charmBonus:u,voteBonus:m,orbOfRemembranceKills:s,goldRelicBonus:n,companionBonus:d,compassBonus:p},value:g,expression:`(1 + (daysSinceLastSample * (2 + goldRelicBonus)) / 100)
* (1 + (highestKingOfRemembrance * lavaLog(orbOfRemembranceKills)) / 100)
* (1 + skillMasteryBonus / 100) * (1 + charmBonus / 100)
* voteBonus
* (1 + (2 * accountData?.accountOptions?.[323] * getEventShopBonus(accountData, 4)) / 100)
* companionBonus
* compassBonus`}},H=(e,t)=>{let{printer:a,storage:n}=e||{},l=(0,F.getAtomColliderThreshold)(e?.accountOptions?.[133]),s=a?.reduce((e,t)=>(t.forEach(({boostedValue:t,item:a,active:s})=>{if("Blank"!==a&&s)if(e?.[a])e[a]={...e[a],boostedValue:t+e[a]?.boostedValue};else{let s=n?.list.find(({rawName:e})=>e===a)?.amount;e[a]={boostedValue:t,atomable:s>=l-.01*l,storageItem:s}}}),e),{});s=V(s,l,t);let o=Object.entries(s)?.reduce((e,[,t])=>e+(t?.atoms??0),0);return{...s,atom:{boostedValue:o,atoms:o}}},V=(e={},t,a)=>Object.entries(e)?.reduce((e,[n,l])=>{let{boostedValue:s,atomable:o,storageItem:r}=l,i=s,u;if(a?.checked)u=o;else{let e=s>=t&&!o,a=s>t-r&&!o;i=e?s-t:a?s-(t-r):s,u=e||a||o}return e[n]={...l,...u?{atoms:i/1e7}:{}},e},{}),$=()=>["Copper","OakTree","Grasslands1","Bug1","Fish1"].toSimpleObject();var Y=e.i(262887);e.s(["getCropEvolution",()=>ev,"getFarming",()=>ea,"getLandRank",()=>ep,"getLandRankTotalBonus",()=>eg,"getMarketBonus",()=>ed,"getProductDoubler",()=>eB,"getRanksTotalBonus",()=>es,"getTotalCrop",()=>ef,"updateFarming",()=>ei],284565);var K=e.i(109304),J=e.i(264046),X=e.i(161866),z=e.i(521637),Q=e.i(801902),Z=e.i(734002),ee=e.i(669203),et=e.i(980753);let ea=(e,t,a)=>en((0,c.tryToParse)(e?.FarmUpg),(0,c.tryToParse)(e?.FarmPlot),(0,c.tryToParse)(e?.FarmCrop),(0,c.tryToParse)(e?.FarmRank),t,a),en=(e,t,a,n,l,s)=>{let o=l?.gemShopPurchases?.find((e,t)=>139===t),r=e?.slice(2,B.marketInfo.length+2),i=e?.[1],u=e?.[19],c=B.marketInfo?.map((e,t)=>{let{cropId:a,cropIdIncrement:n,cost:s,costExponent:o,bonusPerLvl:i,maxLvl:u,bonus:c}=e,m=r?.[t]??0,d=(0,ee.getEmperorBonus)(l,2),p=Math.max(.001,1-d/(d+100)),g=p*s*Math.pow(o,m);return{...e,level:m,type:ec({index:t,cropId:a,cropIdIncrement:n,level:m}),cost:g,nextUpgrades:eu({index:t,cropId:a,cropIdIncrement:n,level:m,maxLvl:u,cost:s,costExponent:o,emperorCostCalc:p}),costToMax:eh({level:m,maxLvl:u,cost:s,costExponent:o,emperorCostCalc:p}),baseValue:c.includes("}")?1+m*i/100:m*i}}),m=el(l),d=B.exoticMarketInfo?.map((t,a)=>{let n,l,s=e?.[20+a]??0;return n=1===t.type?t.baseValue*(s/(1e3+s)):t.baseValue*s,l=0===s?t.bonus.replace(/[{}$]/g,"0"):t.bonus.replace("{",Math.round(100*n)/100+"").replace("}",Math.round((1+n/100)*100)/100+"").replace("$",Math.ceil(n)+""),{...t,level:s,value:n,isAvailableThisWeek:m.includes(a),displayText:l}}).filter(({name:e})=>"NAME_MAGNI"!==e),p=d.reduce((e,t)=>e+t.level,0),[g,h,f]=n||[];Array.isArray(g)||(g=[]),Array.isArray(h)||(h=[]),Array.isArray(f)||(f=[]);let v=g?.reduce((e,t)=>e+t,0),_=f?.reduce((e,t)=>e+t,0),M=B.ninjaExtraInfo?.[37]?.split(" "),S=B.ninjaExtraInfo?.[34]?.split(" "),b=B.ninjaExtraInfo?.[36]?.split(" ")?.map(e=>parseFloat(e)),x=(0,y.getHighestTalentByClass)(s,y.CLASSES.Death_Bringer,"DANK_RANKS")??0,k=B.ninjaExtraInfo?.[35]?.split(" ")?.map((e,t)=>{let a=S?.[t],n=b?.[t],l=f?.[t],s=M?.[t];return{name:a,description:e,bonus:4===t||9===t||14===t||19===t?Math.max(1,x)*n*l:1.7*n*l/(l+80)*Math.max(1,x),upgradeLevel:l,unlockAt:s}}),C=t?.map(([e,t,a,n,l,s,o],r)=>{let i=B.seedInfo?.[e],u=Math.round(i?.cropIdMin+a),c=14400*Math.pow(1.5,e),m=g?.[r],d=h?.[r],p=(7*m+25*Math.floor(m/5)+10)*Math.pow(1.11,m);return{seed:i,index:r,rank:m,rankProgress:d,rankRequirement:p,seedType:e,baseCropType:a,cropType:u,cropQuantity:l,cropProgress:o,progress:t,growthReq:c,isLocked:n,currentOG:s,cropRawName:`FarmCrop${u}.png`,seedRawName:`Seed_${e}.png`}}),T=Math.floor(1+(ed(c,"LAND_PLOTS")+20*o)/100),w=Object.entries(a||{}).reduce((e,[t,a])=>{let n=B.seedInfo.find(e=>parseFloat(t)>=e.cropIdMin&&parseFloat(t)<=e.cropIdMax);return e+parseFloat(a)*Math.pow(2.5,n?.seedId??0)*Math.pow(1.08,t-(n?.cropIdMin??0))},0),E=(0,G.isJadeBonusUnlocked)(l,"Deal_Sweetening")??0,A=ed(c,"MORE_BEENZ"),O=ed(c,"LAND_RANK"),P=Math.pow(w,.5)*(1+A/100)*(1+(25*E+5*(0,X.getAchievementStatus)(l?.achievements,363))/100);return{plot:C,crop:{...a,beans:i},market:c,exoticMarket:d,totalExoticLevels:p,cropsFound:Object.keys(a||{}).length,cropsOnVine:T,instaGrow:u,beanTrade:P,ranks:k,totalPoints:v,usedPoints:_,hasLandRank:O,totalRanks:g?.reduce((e,t)=>e+t,0)}},el=e=>{if(!e?.timeAway?.GlobalTime)return[];let t=Math.round(100*Math.floor(e.timeAway.GlobalTime/604800)),a=[];for(let e=0;e<8;e++){let n,l=0;do{let a=t+e+1e3*l;n=Math.floor(Math.max(0,Math.min(59,60*new et.default(a).rand()))),l++}while(a.includes(n))a.push(n)}return a},es=(e,t)=>0===t?(1+e?.[3]?.bonus/100)*(1+e?.[10]?.bonus/100)*(1+e?.[15]?.bonus/100):1===t?e?.[8]?.bonus+e?.[17]?.bonus:2===t?e?.[6]?.bonus+e?.[13]?.bonus:3===t?e?.[7]?.bonus+(e?.[11]?.bonus+e?.[18]?.bonus):4===t?e?.[5]?.bonus+(e?.[12]?.bonus+e?.[16]?.bonus):1,eo=(e,t)=>Object.values(e)?.filter(e=>e>=t).length,er=(e,t,a)=>{let n=e.find((e,t)=>t===a);if(!n)return 0;switch(a){case 7:return n.level*n.bonusPerLvl;case 9:return er(e,t,15)*Math.pow(1+n.level*n.bonusPerLvl/100,eo(t,200));case 11:return 1+n.level*n.bonusPerLvl/100;case 10:return er(e,t,15)*(1+n.level*n.bonusPerLvl*eo(t,1e3)/100);case 12:return er(e,t,15)*(1+n.level*n.bonusPerLvl*eo(t,2500)/100);case 13:return 0;case 14:return er(e,t,15)*(1+n.level*n.bonusPerLvl*eo(t,1e4)/100);case 15:return 1+n.level*n.bonusPerLvl*eo(t,1e5)/100;default:return n.bonus.includes("}")?1+n.level*n.bonusPerLvl/100:n.level*n.bonusPerLvl}},ei=(e,t)=>{let a=t?.farming?.market?.map((e,a)=>({...e,value:er(t?.farming?.market,t?.farming?.crop,a)})),n=ed(a,"NUTRITIOUS_SOIL"),l=ed(a,"SPEED_GMO","value"),s=(0,g.getVialsBonusByStat)(t?.alchemy?.vials,"6FarmSpd"),o=(0,J.getWinnerBonus)(t,"<x Farming SPD"),r=Math.max(1,l)*(1+(n+s)/100)*(1+o/100),i=[0,1,2,3,4,5].map(e=>{let t=14400*Math.pow(1.5,e);return{value:t/r,breakdown:[{name:"Base Growth Time",value:t},{name:"Speed GMO",value:Math.max(1,l)},{name:"Nutritious Soil",value:1+n/100},{name:"Vial Bonus",value:1+s/100},{name:"Summoning Bonus",value:1+o/100}]}}),u=t?.farming?.plot?.map(a=>{let n=ed(t?.farming?.market,"OG_FERTILIZER"),l=(0,G.getCharmBonus)(t,"Taffy_Disc"),s=(0,K.getStarSignBonus)(e?.[0],t,"OG_Chance"),o=(0,X.getAchievementStatus)(t?.achievements,365),i=eg(t,3),u=Math.pow(.4,a?.currentOG+1)*Math.max(1,n)*(1+l/100)*(1+s/100)*(1+2*t?.tasks?.[2]?.[5]?.[2]/100)*(1+15*o/100)*(1+i/100),c=(a?.growthReq-a?.cropProgress)/r,m=a?.growthReq/r,d=Math.min(1e9,Math.max(1,Math.pow(2,a?.currentOG)));return{...a,nextOGChance:u,growthRate:r,ogMulti:d,timeLeft:c,maxTimeLeft:m}});return{...t?.farming||{},plot:u,cropDepot:em(t),market:a,maxTimes:i}},eu=({index:e,cropId:t,cropIdIncrement:a,level:n,maxLvl:l,cost:s,costExponent:o,isUnique:r=!0,emperorCostCalc:i})=>{let u=new Map,c=0;for(;u.size<4&&n+c<l;){let l=ec({index:e,cropId:t,cropIdIncrement:a,level:n+c}),m=i*s*Math.pow(o,n+c);u.has(l)&&r?u.set(l,u.get(l)+m):u.set(l,m),c++}return Array.from(u.entries()).map(([e,t])=>({type:e,cost:t}))},ec=({index:e,cropId:t,cropIdIncrement:a,level:n})=>0===e?Math.floor(t+a*(n+(2*Math.floor(n/3)+Math.floor(n/4)))):Math.floor(t+a*n),em=e=>{let t=(0,Y.getLabBonus)(e?.lab?.labBonuses,17),a=(0,Y.getLabBonus)(e?.lab.labBonuses,8),n=(1+(t+(0,Y.getJewelBonus)(e?.lab?.jewels,20,a))/100)*(1+(0,z.getGrimoireBonus)(e?.grimoire?.upgrades,22)/100)*1,l={damage:{name:"DMG",value:0},gamingEvo:{name:"Gaming Evo",value:0},jadeCoin:{name:"Jade Coin",value:0},cookingSpeed:{name:"Meal Spd",value:0},cash:{name:"Cash",value:0},shiny:{name:"Pet Rate",value:0},critters:{name:"Critters",value:0},dropRate:{name:"Drop Rate",value:0},spelunky:{name:"Spelunky",value:0}};return(0,G.isJadeBonusUnlocked)(e,"Reinforced_Science_Pencil")&&(l.damage.value=20*Math.round(e?.farming?.cropsFound)*n),(0,G.isJadeBonusUnlocked)(e,"Science_Pen")&&(l.gamingEvo.value=Math.pow(1.02,Math.round(e?.farming?.cropsFound))*n),(0,G.isJadeBonusUnlocked)(e,"Science_Marker")&&(l.jadeCoin.value=8*Math.round(e?.farming?.cropsFound)*n),(0,G.isJadeBonusUnlocked)(e,"Science_Featherpen")&&(l.cookingSpeed.value=Math.pow(1.1,Math.round(e?.farming?.cropsFound))*n),(0,G.isJadeBonusUnlocked)(e,"Science_Environmentally_Sourced_Pencil")&&(l.cash.value=15*Math.round(e?.farming?.cropsFound)*n),(0,G.isJadeBonusUnlocked)(e,"Science_Crayon")&&(l.shiny.value=7*Math.round(e?.farming?.cropsFound)*n),(0,G.isJadeBonusUnlocked)(e,"Science_Paintbrush")&&(l.critters.value=.1*Math.round(e?.farming?.cropsFound)*n),(0,G.isJadeBonusUnlocked)(e,"Science_Highlighter")&&(l.dropRate.value=Math.round(Math.max(0,e?.farming?.cropsFound-100))*n),(0,G.isJadeBonusUnlocked)(e,"Science_Fancy_Pen")&&(l.spelunky.value=5*Math.round(Math.max(0,e?.farming?.cropsFound-100-200))*n),l},ed=(e,t,a="baseValue")=>e?.find(({name:e})=>e===t)?.[a]??0,ep=(e,t)=>e?.[t]?.bonus,eg=(e,t)=>0===t?(1+ep(e?.farming?.ranks,3)/100)*(1+ep(e?.farming?.ranks,10)/100)*(1+ep(e?.farming?.ranks,15)/100):1===t?ep(e?.farming?.ranks,8)+ep(e?.farming?.ranks,17):2===t?ep(e?.farming?.ranks,6)+ep(e?.farming?.ranks,13):3===t?ep(e?.farming?.ranks,7)+(ep(e?.farming?.ranks,11)+ep(e?.farming?.ranks,18)):4===t?ep(e?.farming?.ranks,5)+(ep(e?.farming?.ranks,12)+ep(e?.farming?.ranks,16)):1,eh=({level:e,maxLvl:t,cost:a,costExponent:n,emperorCostCalc:l})=>{let s=0;for(let o=e;o<t;o++)s+=l*a*Math.pow(n,o);return s??0},ef=(e,t,a,n)=>e?.reduce((e,{seedType:l,cropQuantity:s,cropRawName:o,ogMulti:r,rank:i})=>{if(-1===l)return e;let{productDoubler:u}=eB(t),c=ep(a,1),m=(0,k.getVoteBonus)(n,29),d=ed(n?.farming?.market,"VALUE_GMO","value"),p=Math.min(1e4,Math.round(Math.max(1,Math.floor(1+u/100))*(1+es(a,1)/100)*Math.max(1,d)*(1+(c*(i??0)+m)/100)));return{...e,[o]:(e?.[o]||0)+s*r*p}},{}),eB=e=>{let t=e?.[5]?.value||0;return{productDoubler:t,percent:t%100,multi:Math.max(2,Math.floor(t/100)+1)}},ev=(e,t,a,n)=>{let l=ed(e?.farming?.market,"BIOLOGY_BOOST"),s=(0,J.getWinnerBonus)(e,"<x Crop EVO"),o=(0,Q.getLampBonus)({holesObject:e?.hole?.holesObject,t:2,i:0}),r=(0,g.getBubbleBonus)(e,"W10AllCharz",!1),i=(0,g.getBubbleBonus)(e,"CROPIUS_MAPPER",!1),u=(0,g.getVialsBonusByEffect)(e?.alchemy?.vials,null,"6FarmEvo"),c=(0,h.getMealsBonusByEffectOrStat)(e,null,"zCropEvo"),m=(0,h.getMealsBonusByEffectOrStat)(e,null,"zCropEvoSumm"),d=(0,Z.getMonumentBonus)({holesObject:e?.hole?.holesObject,t:2,i:4}),p=(0,M.getStampsBonusByEffect)(e,"Crop_Evolution_Chance",t),f=(0,z.getGrimoireBonus)(e?.grimoire?.upgrades,14),B=(0,D.getKillroyBonus)(e,3),v=ed(e?.farming?.market,"EVOLUTION_GMO"),_=(0,D.isMasteryBonusUnlocked)(e?.rift,e?.totalSkillsLevels?.farming?.rank,1),S=(0,K.getStarSignBonus)(t,e,"Crop_Evo",n),b=(0,y.getTalentBonus)(t?.flatTalents,"MASS_IRRIGATION"),x=(0,k.getVoteBonus)(e,29),C=(1+l/100)*(1+s/100)*(1+o/100)*(1+r/100)*(1+i/100)*(1+u/100)*(1+c/100)*(1+d/100)*(1+p/100)*(1+f/100)*(1+m*Math.ceil((t?.skillsInfo?.summoning?.level+1)/50)/100)*(1+5*(0,X.getAchievementStatus)(e?.achievements,355)/100)*Math.max(1,B)*Math.max(1,v)*(1+15*_/100)*(1+S*t?.skillsInfo?.farming?.level/100)*Math.max(1,eg(e,0))*Math.max(1,b)*(1+(ep(e?.farming?.ranks,0)*e?.farming?.plot?.[a?.index]?.rank+x)/100)*a?.seed?.nextCropChance*Math.pow(a?.seed?.nextCropDecay,a?.baseCropType);return{value:C=Math.round(10*(C=Math.min(100,100*C)))/10,breakdown:[{title:"Additive"},{name:"Base Chance",value:a?.seed?.nextCropChance.toExponential(3)},{name:"Decay Rate",value:Math.pow(a?.seed?.nextCropDecay,a?.baseCropType).toExponential(3)},{name:"Market",value:Number(((1+l/100)*(1+v/100)).toFixed(3))},{name:"Summoning",value:Number((1+s/100).toFixed(3))},{name:"Lamp",value:Number((1+o/100).toFixed(3))},{name:"Bubble",value:Number(((1+r/100)*(1+i/100)).toFixed(3))},{name:"Vial",value:Number((1+u/100).toFixed(3))},{name:"Meal",value:Number(((1+c/100)*(1+m*Math.ceil((t?.skillsInfo?.summoning?.level+1)/50)/100)).toFixed(3))},{name:"Monument",value:Number((1+d/100).toFixed(3))},{name:"Stamp",value:Number((1+p/100).toFixed(3))},{name:"Grimoire",value:Number((1+f/100).toFixed(3))},{name:"Achievement",value:Number((1+5*(0,X.getAchievementStatus)(e?.achievements,355)/100).toFixed(3))},{title:"Multiplicative"},{name:"Killroy",value:Number(Math.max(1,B).toFixed(3))},{name:"Skill Mastery",value:Number((1+15*_/100).toFixed(3))},{name:"Star Sign",value:Number((1+S*t?.skillsInfo?.farming?.level/100).toFixed(3))},{name:"Land Rank Total",value:Number(Math.max(1,eg(e,0)).toFixed(3))},{name:"Talent",value:Number(Math.max(1,b).toFixed(3))},{name:"Land Rank + Vote",value:Number((1+(ep(e?.farming?.ranks,0)*e?.farming?.plot?.[a?.index]?.rank+x)/100).toFixed(3))}],expression:`let value = (1 + marketBonus1 / 100)
    * (1 + winBonus / 100)
    * (1 + lampBonus / 100)
    * (1 + bubbleBonus1 / 100)
    * (1 + bubbleBonus2 / 100)
    * (1 + vialBonus / 100)
    * (1 + mealBonus1 / 100)
    * (1 + monumentBonus / 100)
    * (1 + stampBonus / 100)
    * (1 + grimoireBonus / 100)
    * (1 + (mealBonus2
      * Math.ceil((character?.skillsInfo?.summoning?.level + 1) / 50)) / 100)
    * (1 + (5 * getAchievementStatus(account?.achievements, 355)) / 100)
    * Math.max(1, killroyBonus)
    * Math.max(1, marketBonus2)
    * (1 + (15 * skillMasteryBonus) / 100)
    * (1 + (starSignBonus * character?.skillsInfo?.farming?.level) / 100)
    * Math.max(1, getLandRankTotalBonus(account, 0))
    * Math.max(1, talentBonus)
    * (1 + (getLandRank(account?.farming?.ranks, 0) * account?.farming?.plot?.[crop?.index]?.rank + voteBonus) / 100)
    * crop?.seed?.nextCropChance
    * Math.pow(crop?.seed?.nextCropDecay, crop?.baseCropType);

  value = Math.min(100, 100 * value);
  value = Math.round(10 * value) / 10;`}};var e_=e.i(532600);e.s(["getIsland",()=>eC,"getIslands",()=>ex],71791);var eM=e.i(787031);let eS=["Get_as_much_total_stats_as_possible,_STR_AGI_WIS_and_LUK_combined.","Get_as_much_STR_stat_as_you_can.","Get_as_much_AGI_stat_as_you_can.","Get_as_much_WIS_stat_as_you_can.","Get_as_much_LUK_stat_as_you_can.","Get_the_highest_DPS_(number_of_digits)_you_can;_but_on_a_beginner","Get_the_highest_DPS_(number_of_digits)_you_can;_but_on_a_warrior.","Get_the_highest_DPS_(number_of_digits)_you_can;_but_on_a_archer.","Get_the_highest_DPS_(number_of_digits)_you_can;_but_on_a_mage.","Get_the_highest_Accuracy_stat_you_can.","Get_the_highest_Defence_stat._Tank_mains;_it's_your_moment!","Get_the_highest_Movement_Speed_you_can.","Get_the_highest_Critical_Chance_%_you_can.","Spawn_as_many_Giant_Mobs_this_week_as_you_can.","Get_the_highest_Max_HP_as_possible.","Get_the_highest_Max_MP_as_possible.","Get_as_many_individual_hits_on_the_DPS_Dummy_as_you_can_within_the_timer.","Get_as_much_Mining_Efficiency_(number_of_digits)_as_you_can.","Get_as_much_Choppin_Efficiency_(number_of_digits)_as_you_can.","Get_as_much_Fishing_Efficiency_(number_of_digits)_as_you_can.","Get_as_much_Catching_Efficiency_(number_of_digits)_as_you_can.","Claim_as_much_Guild_GP_this_week_as_you_can."],eb=[{effect:"+{,Base_STR",divider:12},{effect:"+{,Base_AGI",divider:12},{effect:"+{,Base_WIS",divider:12},{effect:"+{,Base_LUK",divider:10},{effect:"+{%,Total_DMG",divider:3},{effect:"+{%,Class_EXP",divider:4},{effect:"+{%,Skill_Eff",divider:5}],ey=[{effect:"1_in_100000_chance_for_Trophy_per_hr_of_Nothing_AFK",cost:24},{effect:"1.25x_Dungeon_Credits_and_Flurbos_gained",cost:200},{effect:"-30%_Kitchen_Upgrade_Costs",cost:750},{effect:"1.20x_Chance_to_find_Sailing_Artifacts",cost:2500},{effect:"Dirty_Shovel_digs_up_+25%_more_Gold_Nuggets",cost:1e4},{effect:"+100_Star_Talent_Pts",cost:2e4},{effect:"All_Ninja_Twins_get_+2%_Stealth_per_Sneaking_LV",cost:4e4},{effect:"World_7_Bonus..._I_wonder_what_it_will_be...",cost:6e4}],ex=(e,t)=>{let a,n=(e?.accountOptions?.[169]||"")?.split(""),l=e?.accountOptions?.[169]?.length,s={0:0,1:8,2:32,3:80,4:200,5:500},o={0:0,1:15,2:45,3:100,4:200,5:500},r=[{name:"Trash",description:"Trade_garbage_that_washs_up_each_day_for_items",preUnlockCost:4,baseCost:10},{name:"Rando",description:"Guaranteed_Random_Event_once_a_week",preUnlockCost:12,baseCost:12},{name:"Crystal",description:"Fight_daily_giant_crystal_mobs_that_drop_candy",preUnlockCost:20,baseCost:15},{name:"Seasalt",description:"Catch_legendary_fish_for_crafting_World_6_equips",preUnlockCost:28,baseCost:50},{name:"Shimmer",description:"Do_Weekly_Challenges_for_Shimmer_Upgrades",preUnlockCost:40,baseCost:25},{name:"Fractal",description:"Dump_your_time_candy_here_for..._nothing...?",preUnlockCost:52,baseCost:70}].map((a,r)=>({...a,unlocked:n?.indexOf(c.number2letter?.[r])!==-1,cost:0===l?a.preUnlockCost+s?.[l]:a.baseCost+o?.[l],...ek(e,t,r)})),i=e?.accountOptions?.[162],u=(0,eM.getBribeBonus)(e?.bribes,"Bottle_Service"),m=30*!!(0,D.isBundlePurchased)(e?.bundles,"bun_p"),d=e?.quests?.["Yum-Yum_Desert"]?.find(({name:e})=>"Omar_Da_Ogar"===e)?.npcQuests?.reduce((e,{completed:t})=>e+ +(t?.length>0),0),p=Math.floor(4*(1+(u+(10*e?.accountOptions?.[164]+10*d+m))/100)),g=e.accountOptions?.[160],h=e.accountOptions?.[163];a=14>g?.25+g:Math.pow(8*g,.5);let f=0===g?0:Math.round(3*a*Math.floor(1.01+(.5+(Math.min(g,70)/100+h/5))));return{islandsUnlocked:l,bottles:i,bottlesPerDay:p,trashPerDay:Math.round(3.75*Math.floor(1.01+(.5+(.01+h/5)))),trashPerDaysAfk:f,numberOfDaysAfk:g,allShimmerBonus:Math.max(1,Math.min(4,1+100*((0,R.isArtifactAcquired)(e?.sailing?.artifacts,"The_Shim_Lantern")?.bonus??0)/100)),list:r}},ek=(e,t,a)=>{let n={};if(0===a){let a=e?.accountOptions?.[161],l=[{icon:"data/StampB47",name:"Skelefish Stamp",acquired:(0,M.getStampBonus)(e,"skills","StampB47")},{icon:"data/StampB32",name:"Amplestample Stamp",acquired:(0,M.getStampBonus)(e,"skills","StampB32")},{icon:"data/StampA38",name:"Golden Sixes Stamp",acquired:(0,M.getStampBonus)(e,"combat","StampA38")},{icon:"data/StampA39",name:"Stat Wallstreet Stamp",acquired:(0,M.getStampBonus)(e,"combat","StampA39")},{icon:"etc/Trash_Currency",name:"+20% Garbage Gain",acquired:void 0},{icon:"etc/Bribe",name:"Unlock New Bribe Set",acquired:(0,eM.getBribeBonus)(e?.bribes,"The_Art_of_the_Bail")},{icon:"data/Island1",name:"10% Message Bottle Gain",acquired:void 0},{icon:"data/TalentBook1",name:"Filthy Damage Special Talent Book",acquired:t?.some(e=>e?.starTalents?.orderedTalents?.some(({maxLevel:e,name:t})=>"FILTHY_DAMAGE"===t&&e>0))},{icon:"data/EquipmentNametag6b",name:"Trash Tuna Nametag",acquired:e?.looty?.slabItems?.find(({rawName:e,obtained:t})=>"EquipmentNametag6b"===e&&t)}];n={trash:a,learnMore:!0,shop:[20,40,80,300,7*Math.pow(1.4,e?.accountOptions?.[163]),135,25*Math.pow(1.5,e?.accountOptions?.[164]),450,1500].map((t,a)=>{let n=4===a?e?.accountOptions?.[163]:6===a?e?.accountOptions?.[164]:null;return{cost:Math.round(t),...l?.[a],effect:l?.[a]?.icon,upgrades:n}})}}else if(1===a)n={learnMore:!0,shop:[{effect:`5% Loot (${e?.accountOptions?.[166]})`,cost:Math.round(10*Math.pow(1.5,e?.accountOptions?.[166]))},{effect:`3% Double boss (${e?.accountOptions?.[167]})`,cost:Math.round(6*Math.pow(1.4,e?.accountOptions?.[167]))},{effect:"Star book",cost:200}]};else if(4===a){let t=e?.accountOptions?.[183],a=(0,c.notateNumber)(e?.accountOptions?.[172]),l=e?.accountOptions?.[173];n={shop:eb?.map(({effect:t,divider:a},n)=>{let l=e?.accountOptions?.[174+n];return{effect:t?.replace("{",l)?.replace(","," "),bonus:l,cost:1+Math.floor(l/a)}}),currentTrial:eS[t],bestDpsEver:a,shimmerCurrency:l,learnMore:!0}}else if(5===a){let t=e?.accountOptions?.[184];n={hoursAfk:t,shop:ey?.map(e=>({...e,unlocked:t>=e?.cost})),learnMore:!0}}return n},eC=(e,t)=>e?.islands?.list?.find(({name:e})=>e===t);function eT(e){return e}function ew(e){return e}let eE={General:(e,t,a,n,l)=>{let s={};if(t?.tasks?.checked){let{tasks:t}=a?.tasks,n=e?.tasksDescriptions?.reduce((e,a,n)=>{let l=a?.[8];return l?.level===0&&t?.props?.value?.[n+1]?[...e,n]:e},[]);n?.length>0&&(s.tasks=n)}if(t?.materialTracker?.checked){let t=(0,c.tryToParse)(localStorage.getItem("material-tracker"));if(Object.keys(t||{}).length>0){let a=(0,v.getAllItems)(n,e),l=Object.values(t||{})?.reduce((e,{item:t,lowerBound:n,upperBound:l,includeNearly:s,note:o})=>{let{amount:r}=(0,v.findQuantityOwned)(a,t?.displayName),i=function(e,t,a,n,l,s){let o=l?"(nearly) ":"",r=.05*a,i=.05*n;return a&&!n&&(l?Math.abs(t-a)<=Math.abs(r):t<a)?`Your amount of ${e} (${(0,c.notateNumber)(t)}) is ${o}below the bound (${(0,c.notateNumber)(a)})`:!a&&n&&(l?Math.abs(t-n)<=Math.abs(i):t>n)?`Your amount of ${e} (${(0,c.notateNumber)(t)}) is ${o}above the bound (${(0,c.notateNumber)(n)})`:a&&n&&a<n&&(l?t<=a+5*a/100||t>=n+5*n/100:t<=a||t>=n)?`Your amount of ${e} (${(0,c.notateNumber)(t)}) is ${o}outside of the configured range (${(0,c.notateNumber)(a)} - ${(0,c.notateNumber)(n)})`:null}((0,c.cleanUnderscore)(t?.displayName),r,n,l,s,5);return(n||l||(i=`You have ${(0,c.notateNumber)(r)} ${(0,c.cleanUnderscore)(t?.displayName)}`),i)?[...e,{item:t,quantityOwned:r,text:i,note:o}]:e},[]);l.length>0&&(s.materialTracker=l)}}if(t?.guild?.checked&&e?.accountOptions?.[37]){let{daily:t,weekly:n}=a?.guild||{};if(t?.checked){let t=e?.guild?.guildTasks?.daily?.filter(({requirement:e,progress:t})=>t<e)?.length;t&&(s.guild={daily:t})}if(n?.checked){let t=e?.guild?.guildTasks?.weekly?.filter(({requirement:e,progress:t})=>t<e)?.length;t&&(s.guild={...s.guild||{},weekly:t})}}if(t?.shops?.checked){let t=e?.shopStock?.reduce((t,n,l)=>{if((2===l||3===l)&&!e?.finishedWorlds?.World1||4===l&&!e?.finishedWorlds?.World2)return[...t,[]];if(5===l&&!e?.finishedWorlds?.World3)return[...t,[]];if(6===l&&!e?.finishedWorlds?.World4)return[...t,[]];if(7===l&&!e?.finishedWorlds?.World5)return[...t,[]];return[...t,n?.filter(({rawName:e})=>a?.shops?.shops?.props?.value?.[e])]},[]);t?.flat()?.length>0&&(s.shops={items:t})}if(t?.etc?.checked){let t={};if(a?.etc?.dungeonTraits?.checked){let a=e?.dungeons?.rank,n=e?.dungeons?.statBoosts?.reduce((e,{section:t,levelReq:n,bonuses:l})=>{let s=l?.every(({isActive:e})=>!e);return a>n&&s?[...e,t]:e},[]);n?.length>0&&(t.dungeonTraits=n)}if(a?.etc?.randomEvents?.checked){let a=e?.accountOptions?.[137]===0;a&&(t.randomEvents=a)}if(a?.etc?.keys?.checked){var o;let a,n,l=(o=e,a=o?.currencies?.KeysAll,n=o?.currencies?.ColosseumTickets?.allTickets,[...a?.filter(({daysSincePickup:e,totalAmount:t})=>e>=3&&t>0)||[],...n?.filter(({daysSincePickup:e},t)=>(0===t||o?.finishedWorlds?.[`World${t}`])&&e>=3)||[]]);l.length>0&&(t.keys=l)}if(a?.etc?.miniBosses?.checked){let n=(0,D.getMiniBossesData)(e).filter(({current:e})=>e>=a?.etc?.miniBosses?.props?.value);n.length>0&&(t.miniBosses=n)}if(a?.etc?.newCharacters?.checked){let e=n?.length,a=n?.reduce((e,{level:t})=>e+t,0),l=0;5===e&&a>=300&&l++,6===e&&a>=500&&l++,7===e&&a>=750&&l++,8===e&&a>=1100&&l++,9===e&&a>=1500&&l++,l>0&&(t.newCharacters=l)}if(a?.etc?.gemsFromBosses?.checked){let t=Math.max(0,(600-e?.accountOptions?.[195])/4);t&&(s.gemsFromBosses=t)}if(a?.etc?.familyObols?.checked){let n=e?.obols?.list?.filter(({displayName:t,levelReq:a})=>!t&&e?.accountLevel>=a);n?.length>0&&(t.familyObols=n?.length);let l=new Date().getTime()+Math.max(0,594e6-(1e3*e?.timeAway?.GlobalTime-e?.companions?.lastFreeClaim));a?.etc?.freeCompanion?.checked&&(0,e_.isPast)(l)&&(t.freeCompanion=!0)}Object.keys(t).length>0&&(s.etc=t)}return s},"World 1":(e,t,a)=>{let n={};if(t?.stamps?.checked&&(0,f.isRiftBonusUnlocked)(e?.rift,"Stamp_Mastery")){let t={};a?.stamps?.gildedStamps?.checked&&e?.accountOptions?.[154]>0&&(!a?.stamps?.showGildedWhenNoAtomDiscount?.checked||e?.atoms?.stampReducer<=0)&&(t.gildedStamps=e?.accountOptions?.[154]),Object.keys(t).length>0&&(n.stamps=t)}if(t?.owl?.checked&&e?.accountOptions?.[253]>0){let t={},{nextLvReq:l,feathers:s,upgrades:o}=e?.owl,r=o?.[4],i=o?.[8],u=(0===l||r?.nextLvReq<l)&&s>=r?.cost,c=0===l&&s>=i?.cost;a?.owl?.featherRestart?.checked&&u&&(t.featherRestart=!0),a?.owl?.megaFeatherRestart?.checked&&c&&(t.megaFeatherRestart=!0),Object.keys(t).length>0&&(n.owl=t)}let l=e?.forge?.list?.filter(({ore:e})=>!e?.name);if(t?.forge?.checked){let e={};a?.forge?.emptySlots?.checked&&l?.length&&(e.emptySlots=l?.length),Object.keys(e).length>0&&(n.forge=e)}return n},"World 2":(e,t,a,n)=>{let l={};if(!e?.finishedWorlds?.World1)return l;if(t?.alchemy?.checked){let t={};if(a?.alchemy?.bargainTag?.checked){let{x1:a,x2:n,index:l}=B.liquidsShop?.find(({name:e})=>"BARGAIN_TAG"===e)||{},s=Math.round(a*Math.pow(n,e?.alchemy?.multiplierArray?.[l]));1===s&&(t.bargainTag=1===s)}if(a?.alchemy?.gems?.checked){let{x1:a,x2:n,index:l}=B.liquidsShop?.find(({name:e})=>"A_PAIR_OF_GEMS"===e)||{},s=Math.round(a*Math.pow(n,e?.alchemy?.multiplierArray?.[l]));5===s&&(t.gems=5===s)}if(a?.alchemy?.liquids?.checked){let n=e?.alchemy?.liquids,l=a?.alchemy?.liquids?.props?.value/100,s=e?.alchemy?.liquidCauldrons?.map((e,t)=>({current:n?.[t],max:e,index:t})).filter(({current:e,max:t})=>t&&e>=t*l-5);s.length>0&&(t.liquids=s)}if(a?.alchemy?.sigils?.checked){let a=(0,G.isJadeBonusUnlocked)(e,"Ionized_Sigils"),n=e?.alchemy?.p2w?.sigils?.filter(({characters:e,progress:t,boostCost:n,jadeCost:l})=>e.length>0&&(a?t>=l:t>=n));n.length>0&&(t.sigils=n)}if(a?.alchemy?.vials?.checked){let{subtractGreenStacks:n}=a?.alchemy||{},l=e?.alchemy?.vials?.filter(({level:t,itemReq:a})=>{if(t<=0||t>=g.MAX_VIAL_LEVEL)return!1;let l=g.vialCostsArray?.[t],s=e?.storage?.list?.find(({name:e})=>e===a?.[0]?.name)?.amount||0;n?.checked&&(s-=1e7);let o=parseInt(a?.[1]?.name.split("d")?.[1]||0),r=e?.alchemy?.liquids?.[o-1];return s>l&&r>3*t});l.length>0&&(t.vials=l)}if(a?.alchemy?.vialsAttempts?.checked){let{current:a}=e?.alchemy?.p2w?.vialsAttempts,l=(0,v.getAllItems)(n,e),s=(e?.alchemy?.vials?.filter(({level:e})=>0===e)).filter(({itemReq:e})=>{let t=e?.[0]?.name;return Object.keys((0,v.findItemInInventory)(l,t)).length>0});a>0&&s.length>0&&(t.vialsAttempts=a>0)}a?.alchemy?.alternateParticles?.checked&&e?.accountOptions?.[135]>0&&(t.alternateParticles=e?.accountOptions?.[135]),Object.keys(t).length>0&&(l.alchemy=t)}if(t?.islands?.checked){let t={};a?.islands?.unclaimedDays?.checked&&e?.islands?.numberOfDaysAfk>=a?.islands?.unclaimedDays?.props?.value&&(t.unclaimedDays=e?.islands?.numberOfDaysAfk),a?.islands?.shimmerIsland?.checked&&e?.accountOptions?.[182]===0&&(t.shimmerIsland=e?.accountOptions?.[182]===0);let n=eC(e,"Trash");a?.islands?.garbageUpgrade?.checked&&n?.trash>=n?.shop?.[4]?.cost&&(t.garbageUpgrade=!0),Object.keys(t).length>0&&(l.islands=t)}if(t?.postOffice?.checked){let{showAlertOnlyWhen0Shields:t,postOffice:n,dailyShipments:s}=a?.postOffice,o={};if(n?.checked){let t=e?.postOfficeShipments?.filter(({streak:e},t)=>n?.props?.value?.[t+1]&&e<=0);t.length>0&&(o.shipments=t)}if(s?.checked){let a=e?.postOfficeShipments?.filter(({shields:e,completedAnOrder:a},n)=>(!t?.checked||0===e)&&s?.props?.value?.[n+1]&&!a);a?.length>0&&(o.dailyShipments=a)}Object.keys(o).length>0&&(l.postOffice=o)}if(t?.arcade?.checked){let t={};if(a?.arcade?.balls?.checked){let a=Math.floor(Math.min(e?.timeAway?.GlobalTime-e?.timeAway?.Arcade,(0,d.getMaxClaimTime)(e))/Math.max((0,d.getSecPerBall)(e),1800)),n=5*e?.arcade?.maxBalls/100,l=a>=e?.arcade?.maxBalls-n;l&&(t.balls=l)}Object.keys(t).length>0&&(l.arcade=t)}if(t?.weeklyBosses?.checked&&e?.accountOptions?.[190]===0&&(l.weeklyBosses=e?.accountOptions?.[190]===0),t?.killRoy?.checked){let t={};if(a?.killRoy?.general?.checked&&(e?.accountOptions?.[113]===0||e?.accountOptions?.[113]<(e?.killroy?.rooms===3?321:21)&&e?.finishedWorlds?.World3)&&(t.general=!0),a?.killRoy?.underHundredKills?.checked){let a=(0,D.getKillroySchedule)(e,n,e?.serverVars)?.[0],l=a?.monsters?.filter(t=>{let a=e?.killroy?.list?.find(e=>e?.name===t?.Name);return(a?.killRoyKills??0)<100});l?.length>0&&(t.underHundredKills=l)}Object.keys(t).length>0&&(l.killRoy=t)}if(t?.kangaroo?.checked&&e?.accountOptions?.[267]>0){let t={};a?.kangaroo?.shinyThreshold?.checked&&e?.kangaroo?.shinyProgress>a?.kangaroo?.shinyThreshold?.props?.value&&(t.shinyThreshold=a?.kangaroo?.shinyThreshold?.props?.value);let n=e?.kangaroo?.upgrades?.find(({unlocked:e,name:t})=>"Fisheroo_Reset"===t&&e);a?.kangaroo?.fisherooReset?.checked&&n&&e?.kangaroo?.fish>=n?.cost&&(t.fisherooReset=!0);let s=e?.kangaroo?.upgrades?.find(({unlocked:e,name:t})=>"Greatest_Catch"===t&&e);a?.kangaroo?.greatestCatch?.checked&&s&&e?.kangaroo?.fish>=s?.cost&&(t.greatestCatch=!0),Object.keys(t).length>0&&(l.kangaroo=t)}return l},"World 3":(e,t,a)=>{let n={};if(!e?.finishedWorlds?.World2)return n;if(t?.printer?.checked){let t={},{includeResource:l,showAlertWhenFull:s}=a?.printer||{},o=H(e,s),r=["atom",...Object.keys(l?.props?.value).filter(e=>!l?.props?.value[e])].toSimpleObject(),i=Object.entries(o||{}).filter(([e,{atoms:t}])=>!r?.[e]&&t).map(([e,t])=>({name:B.items?.[e]?.displayName,rawName:e,...t}));i.length>0&&(t.atoms=i),Object.keys(t).length>0&&(n.printer=t)}if(t?.construction?.checked){let t={},{materials:l,rankUp:s,flags:o,buildings:r}=a?.construction||{};if(o?.checked){let a=e?.construction?.board?.filter(({flagPlaced:e,currentAmount:t,requiredAmount:a})=>e&&t===a);a.length>0&&(t.flags=a)}if(r?.checked){let a=e?.towers?.data?.filter(t=>{let a=(0,p.getBuildCost)(e?.towers,t?.level,t?.bonusInc,t?.index);return t?.progress>=a});a.length>0&&(t.buildings=a)}if(l?.checked){let a=e?.refinery?.salts?.reduce((t,{rank:a,cost:n,rawName:l},s)=>{let o=s>0?s-1:null,r=e?.refinery?.salts?.[o],i=E(s,a,n,e),u=E(o,r?.rank,r?.cost,e);return i?.length===1&&i?.[0]?.rawName?.includes("Refinery")&&r?.autoRefinePercentage>0||r?.active&&u?.length>0||i?.length>0&&(t=[...t,{rawName:l,missingMats:i}]),t},[]);a.length>0&&(t.materials=a)}if(s?.checked){let a=e?.refinery?.salts?.filter(({refined:e,powerCap:t,rank:a})=>e>=t-(Math.floor(Math.pow(a,1.3))-1));a.length>0&&(t.rankUp=a)}Object.keys(t).length>0&&(n.construction=t)}if(t?.equinox?.checked){let t=e?.equinox,l=t?.upgrades[9],{bar:s,challenges:o,foodLust:r}=a?.equinox,i={};if(s?.checked){let e=t?.currentCharge>=t?.chargeRequired&&t?.upgrades.filter(e=>e.unlocked).some(e=>e.lvl<e.maxLvl);e&&(i.bar=e)}if(o?.checked){let e=t?.challenges.filter(e=>e.active&&e.current>=e.goal)?.length;e>0&&(i.challenges=e)}if(r?.checked){let e=l?.lvl>0&&l?.bonus>=l?.lvl;e&&(i.foodLust=e)}Object.keys(i).length>0&&(n.equinox=i)}if(t?.atomCollider?.checked){let t={},l=e?.atoms?.stampReducer>=a?.atomCollider?.stampReducer?.props?.value,s=a?.atomCollider?.stampReducer?.props?.value;l&&(t.stampReducer=l,t.stampReducerValue=s),Object.keys(t).length>0&&(n.atomCollider=t)}if(t?.library?.checked){let t={},{books:l}=a?.library||{};l?.checked&&e?.libraryTimes?.bookCount>=20&&(t.books=e?.libraryTimes?.bookCount),Object.keys(t).length>0&&(n.library=t)}if(t?.traps?.checked){let t={},{trapsOverdue:l}=a?.traps||{},s=e?.traps?.flat().filter(e=>(0,e_.isPast)(e?.timeLeft)).length;l?.checked&&s&&(t.overdue=s),Object.keys(t).length>0&&(n.traps=t)}return n},"World 4":(e,t,a)=>{let n={};if(!e?.finishedWorlds?.World3)return n;if(t?.breeding?.checked){let t={},{shinies:l,eggs:s,eggsRarity:o,breedability:r}=a?.breeding||{};if(l?.checked){let a=e?.breeding?.pets?.reduce((t,a)=>[...t,...a?.filter(({monsterRawName:t,shinyLevel:a})=>e?.breeding?.fencePetsObject?.[t]?.shiny>0&&a>=l?.props?.value)],[]),n={pets:a,threshold:l?.props?.value};a.length>0&&(t.shinies=n)}if(r?.checked){let a=e?.breeding?.pets?.reduce((t,a)=>[...t,...a?.filter(({monsterRawName:t,breedingLevel:a})=>e?.breeding?.fencePetsObject?.[t]?.breedability>0&&a>=r?.props?.value)],[]),n={pets:a,threshold:r?.props?.value};a.length>0&&(t.breedability=n)}if(s?.checked){let a=e?.breeding?.eggs.slice(0,15).every(e=>e>0);a&&(t.eggs=a)}o?.checked&&e?.breeding?.eggs?.some(e=>parseInt(o?.props?.value)<=e)&&(t.eggsRarity=parseInt(o?.props?.value)>9?9:o?.props?.value),Object.keys(t).length>0&&(n.breeding=t)}if(t?.cooking?.checked){let t={};if(a?.cooking?.meals?.checked){let n=e?.cooking?.kitchens.reduce((e,{meal:t})=>({...e,[t.name]:!0}),{}),l=e?.cooking?.meals?.filter(({name:t,levelCost:l,amount:s,level:o})=>(!a?.cooking?.alertOnlyCookedMeal?.checked||!!n?.[t])&&s>=l&&o<e?.cooking?.mealMaxLevel);l?.length>0&&(t.meals=l)}if(a?.cooking?.spices?.checked){let a=h.maxNumberOfSpiceClicks-e?.cooking?.spices?.numberOfClaims;a>0&&(t.spices=a)}if(a?.cooking?.ribbons?.checked){let n=a?.cooking?.ribbons?.props?.value,l=e?.grimoire?.ribbons?.slice(0,28)?.filter(e=>!e);l?.length<=n&&(t.ribbons=l?.length)}Object.keys(t).length>0&&(n.cooking=t)}if(t?.laboratory?.checked){let t={},l=(0,h.getChipsAndJewels)(e,1)?.at(0)?.items||[],s=(l=l?.map((t,a)=>({...t,claimed:t?.index===e?.lab?.currentRotation?.[a],requirementsMet:t?.requirements?.reduce((t,a)=>t&&(0,Y.getRequirementAmount)(a?.name,a?.rawName,e)>a?.amount,!0)}))).slice(0,2),o=l.slice(2);a?.laboratory?.chipsRotation?.checked&&s.some(({claimed:e,requirementsMet:t})=>!e&&t)&&(t.chipsRotation=s),a?.laboratory?.jewelsRotation?.checked&&o.some(({claimed:e,requirementsMet:t,acquired:a})=>!e&&!a&&t)&&(t.jewelsRotation=o),Object.keys(t).length>0&&(n.laboratory=t)}return n},"World 5":(e,t,a)=>{let n={};if(!e?.finishedWorlds?.World4)return n;if(t?.gaming?.checked){let t={},{shovel:l,sprouts:s,squirrel:o}=a?.gaming||{};s?.checked&&e?.gaming?.availableSprouts>=e?.gaming?.sproutsCapacity&&(t.sprouts=e?.gaming?.availableSprouts),s?.checked&&e?.gaming?.availableDrops>=e?.gaming?.sproutsCapacity&&(t.drops=e?.gaming?.availableDrops);let r=e?.gaming?.imports?.find(({name:e,acquired:t})=>"Dirty_Shovel"===e&&t);if(l?.checked&&r&&l&&e?.gaming?.lastShovelClicked>=0){let a=new Date().getTime()-e?.gaming?.lastShovelClicked*1e3;(0,c.totalHoursBetweenDates)(new Date().getTime(),a)>=l?.props?.value&&(t.shovel=(0,c.totalHoursBetweenDates)(new Date().getTime(),a))}let i=e?.gaming?.imports?.find(({name:e,acquired:t})=>"Autumn_Squirrel"===e&&t);if(o?.checked&&i&&o&&e?.gaming?.lastAcornClicked>=0){let a=new Date().getTime()-e?.gaming?.lastAcornClicked*1e3;(0,c.totalHoursBetweenDates)(new Date().getTime(),a)>=o?.props?.value&&(t.squirrel=(0,c.totalHoursBetweenDates)(new Date().getTime(),a))}Object.keys(t).length>0&&(n.gaming=t)}if(t?.sailing?.checked){let t={},{captains:l,chests:s}=a?.sailing||{};if(l?.checked){let{captains:a,shopCaptains:n}=e?.sailing||{},l=a?.length>0&&a?.every(e=>e?.captainType===6),s=n?.reduce((e,t)=>{let{captainType:n,firstBonusIndex:s,secondBonusIndex:o,firstBonusValue:r,secondBonusValue:i,firstBonusDescription:u,secondBonusDescription:c}=t,m=a?.filter(e=>{let t=e?.firstBonusIndex===s&&e?.secondBonusIndex===o,a=e?.secondBonusIndex===s&&e?.firstBonusIndex===o,n=e?.firstBonusIndex===s||e?.firstBonusIndex===o;if(t||a)if(s===o)return r+i>e?.firstBonusValue+e?.secondBonusValue;else{let t=r>e?.firstBonusValue&&i>e?.secondBonusValue,a=r>e?.secondBonusValue&&i>e?.firstBonusValue;return t||a}if(n&&e?.firstBonusIndex===e?.secondBonusIndex){if(s===e?.firstBonusIndex)return r>e?.firstBonusValue+e?.secondBonusValue;else if(o===e?.firstBonusIndex)return i>e?.firstBonusValue+e?.secondBonusValue}return!1});if(m?.length>0&&-1!==n||6===n&&(!l||m?.length>0)){let a=s===o;return[...e,{captain:t,isSameValue:a,enderCaptain:6===n,badCaptains:m.map(({captainIndex:e,firstBonusDescription:t,secondBonusDescription:n,firstBonusValue:l,secondBonusValue:s})=>({captainIndex:e,firstBonusValue:l,secondBonusValue:s,bonus:a?t.substring(t.indexOf("%")).replace("%",l+s+"%"):[t.substring(t.indexOf("%")).replace("%",l+"%"),n.substring(n.indexOf("%")).replace("%",s+"%")]}))?.sort((e,t)=>t?.firstBonusValue+t?.secondBonusValue-(e?.firstBonusValue+e?.secondBonusValue)),bonus:a?u?.substring(u?.indexOf("%")).replace("%",r+i+"%"):[u?.substring(u?.indexOf("%")).replace("%",r+"%"),c?.substring(c?.indexOf("%")).replace("%",i+"%")]}]}return e},[]);s.length>0&&(t.captains=s)}if(s?.checked){let a=259200<e?.accountOptions?.[124]?Math.floor(e?.accountOptions?.[124]/8640)/10:Math.floor(e?.accountOptions?.[124]/3600),{maxChests:n,timeToFullChests:l}=e?.sailing,{hours:s}=(0,c.getDuration)(new Date().getTime(),l),o=a>s&&n>0;o>0&&(t.chests=o)}Object.keys(t).length>0&&(n.sailing=t)}if(t?.hole?.checked){let t={};if(!e?.finishedWorlds?.World4)return n;let{buckets:l,motherlode:s,bravery:o,justice:r,wisdom:i,theBell:u,theHarp:c,theHive:m,grotto:d,villagersLevelUp:p,jars:g,studyLevelUp:h}=a?.hole||{},f=e?.hole?.caverns?.theWell?.expandWhenFull,[,...B]=e?.hole?.caverns?.theWell?.sediments,v=B?.filter(({current:e,max:t})=>e>=0&&e>=(l?.props?.value||t)),_=e?.accountOptions?.[318];l?.checked&&!f&&v.length>0&&(t.buckets=!0);let M=e?.hole?.caverns?.motherlode?.ores?.maxed;s?.checked&&_<5&&M&&(t.motherlodeMaxed=M);let S=e?.hole?.caverns?.theHive?.bugs?.maxed;m?.checked&&_<5&&S&&(t.hiveMaxed=S),o?.checked&&e?.hole?.caverns?.bravery?.rewardMulti>=o?.props?.value&&(t.bravery=!0),r?.checked&&e?.hole?.caverns?.justice?.rewardMulti>=r?.props?.value&&(t.justice=!0),i?.checked&&e?.hole?.caverns?.wisdom?.rewardMulti>=i?.props?.value&&(t.wisdom=!0);let b=e?.hole?.caverns?.theBell?.bells?.filter(({exp:e,expReq:t})=>e>=t);u?.checked&&b?.length>0&&(t.theWell=!0);let y=e?.hole?.caverns?.theHarp?.power>=c?.props?.value;c?.checked&&y&&(t.theHarp=y),d?.checked&&e?.hole?.caverns?.grotto?.mushroomKillsLeft<=0&&(t.grotto=!0);let x=e?.hole?.villagers?.filter(({readyToLevel:e})=>e);p?.checked&&x.length>0&&(t.villagersLevelUp=x),g?.checked&&e?.hole?.caverns?.theJars?.totalJars>=g?.props?.value&&(t.jars=e?.hole?.caverns?.theJars?.totalJars);let k=e?.hole?.studies?.studies?.filter(({readyToLevel:e})=>e);h?.checked&&k.length>0&&(t.studyLevelUp=k),Object.keys(t).length>0&&(n.hole=t)}return n},"World 6":(e,t,a)=>{let n={};if(!e?.finishedWorlds?.World5)return n;if(t?.sneaking?.checked){let t={},{lastLooted:l}=a?.sneaking||{};e?.sneaking?.lastLooted/60>=l?.props?.value&&(t.lastLooted=!0),Object.keys(t).length>0&&(n.sneaking=t)}if(t?.farming?.checked){let t={},{plots:l,totalCrops:s,missingPlots:o,beanTrade:r}=a?.farming||{};if(l?.checked){let a=e?.farming?.plot?.filter(({currentOG:e})=>l?.props?.value>0?e>=l?.props?.value:e>0).map(e=>({...e,threshold:l?.props?.value}));a.length>0&&(t.plots=a)}if(s?.checked){let a=e?.farming?.plot?.reduce((t,{cropQuantity:a,ogMulti:n,rank:l})=>{let{productDoubler:s}=eB(e?.farming?.market),o=ep(e?.farming?.ranks,1);return t+a*n*Math.min(100,Math.round(Math.max(1,Math.floor(1+s/100))*(1+es(e?.farming?.ranks,1)/100)*(1+o*(l??0)/100)))},0),n=a>=s?.props?.value?a:0;n>0&&(t.totalCrops=n)}if(o?.checked){let a=e?.farming?.plot?.filter(({seedType:e})=>-1===e);a?.length>0&&(t.missingPlots=a)}r?.checked&&e?.farming?.beanTrade>=r?.props?.value&&(t.beanTrade=e?.farming?.beanTrade),Object.keys(t).length>0&&(n.farming=t)}if(t?.summoning?.checked){let t={},{familiar:l,battleAttempts:s}=a?.summoning,{level:o,maxLvl:r}=e?.summoning?.upgrades?.[0]?.[2]||{};l?.checked&&o<r&&o<l?.props?.value&&(t.familiar={level:o,maxLvl:r});let{summoningStuff:i}=e?.summoning;s?.checked&&i?.[0]>0&&(t.battleAttempts=i?.[0]),Object.keys(t).length>0&&(n.summoning=t)}if(t?.etc?.checked){let t={},{emperor:l}=a?.etc;l?.checked&&e?.emperor?.attempts>=l?.props?.value&&(t.emperorAttempts=e?.emperor?.attempts),Object.keys(t).length>0&&(n.etc=t)}return n},"World 7":(e,t,a)=>(!e?.finishedWorlds?.World6,{})},eA=e=>{let n,l,s,o,i,u,d,p,g,h=(0,a.c)(28),{title:f,iconPath:B,vial:v,atom:_,breedability:M,style:S,imgStyle:b,onError:y,extra:x}=e;h[0]!==S?(n=void 0===S?{}:S,h[0]=S,h[1]=n):n=h[1];let k=n;h[2]!==b?(l=void 0===b?{}:b,h[2]=b,h[3]=l):l=h[3];let C=l,T=void 0===y?e5:y;h[4]!==k?(s={position:"relative",...k},h[4]=k,h[5]=s):s=h[5],h[6]!==C?(o={...C},h[6]=C,h[7]=o):o=h[7];let w=`${c.prefix}${B}.png`;return h[8]!==T||h[9]!==o||h[10]!==w||h[11]!==v?(i=(0,t.jsx)(eI,{onError:T,style:o,vial:v,src:w,alt:""}),h[8]=T,h[9]=o,h[10]=w,h[11]=v,h[12]=i):i=h[12],h[13]!==_||h[14]!==M||h[15]!==v?(u=_||M?(0,t.jsx)(eL,{vial:v,src:`${c.prefix}etc/${_?"Particle":M?"PetHeart":""}.png`,alt:""}):null,h[13]=_,h[14]=M,h[15]=v,h[16]=u):u=h[16],h[17]!==v?(d=v?(0,t.jsx)("img",{onError:e4,src:`${c.prefix}data/aVials${v?.level===0?"1":v?.level}.png`,style:{opacity:v?.level===0?.5:1,width:35,height:40},alt:"vial image missing"},`${v?.name}`):null,h[17]=v,h[18]=d):d=h[18],h[19]!==x||h[20]!==u||h[21]!==d||h[22]!==s||h[23]!==i?(p=(0,t.jsxs)(r.Stack,{sx:s,children:[i,u,d,x]}),h[19]=x,h[20]=u,h[21]=d,h[22]=s,h[23]=i,h[24]=p):p=h[24],h[25]!==p||h[26]!==f?(g=(0,t.jsx)(m.default,{title:f,children:p}),h[25]=p,h[26]=f,h[27]=g):g=h[27],g},eO=e=>{let n,l,s=(0,a.c)(4),{missingMats:o}=e;return s[0]!==o?(n=o.map(e6),s[0]=o,s[1]=n):n=s[1],s[2]!==n?(l=(0,t.jsxs)(r.Stack,{alignItems:"center",children:["Missing materials",(0,t.jsx)(r.Stack,{direction:"row",children:n})]}),s[2]=n,s[3]=l):l=s[3],l},eP=e=>{let n,l,s=(0,a.c)(4),{shop:o}=e;return s[0]!==o?(n=o?.map(e8),s[0]=o,s[1]=n):n=s[1],s[2]!==n?(l=(0,t.jsx)(r.Stack,{direction:"row",gap:2,flexWrap:"wrap",children:n}),s[2]=n,s[3]=l):l=s[3],l},eL=u.default.img`
  width: 15px;
  height: 15px;
  position: absolute;
  left: -5px;
  bottom: 30%;
`,eI=u.default.img`
  width: ${({vial:e})=>e?"20px":"30px"};
  height: ${({vial:e})=>e?"20px":"30px"};
  object-fit: contain;
  ${({vial:e})=>e?"top: 50%;left: 50%;transform:translate(-60%, -70%);":""}
  position: ${({vial:e})=>e?"absolute":"relative"};
`,eN=e=>{let u,m,d,p=(0,a.c)(16),{account:g,characters:h,trackers:f,lastUpdated:B}=e;p[0]!==g||p[1]!==h||p[2]!==B||p[3]!==f?(u={alertsMap:eE,data:g,extraData:h,trackers:f,lastUpdated:B},p[0]=g,p[1]=h,p[2]=B,p[3]=f,p[4]=u):u=p[4];let{alerts:v,emptyAlertRows:_}=(e=>{let t,l,s,o,r=(0,a.c)(13),{alertsMap:i,data:u,extraData:c,trackers:m,lastUpdated:d}=e,[p,g]=(0,n.useState)();r[0]===Symbol.for("react.memo_cache_sentinel")?(t={},r[0]=t):t=r[0];let[h,f]=(0,n.useState)(t);return r[1]!==i||r[2]!==u||r[3]!==c||r[4]!==d||r[5]!==m?(l=()=>{if(m&&Object.values(m).some(eT)){let e={},t=Object.entries(m||{}).reduce((t,a)=>{let[n,l]=a,s=Object.values(l||{}).reduce((e,t)=>{if(t?.checked&&i?.[n]){let t=Object.entries(l)?.reduce((e,[t,a])=>{let n=a?.options?.reduce((e,t)=>({...e,[t?.name]:t}),{});return{...e,[t]:n}},{}),a=i?.[n]?.(u,l,t,c,d)||{};return{...e,...a}}return e},{}),o=0===Object.keys(s).length;return e[n]=Object.entries(l)?.reduce((e,[,t])=>e&&!t?.checked,!0)||o,{...t,[n]:s}},{}),a=Object.values(e).every(ew);f(e),g(a?null:t)}else g(null)},r[1]=i,r[2]=u,r[3]=c,r[4]=d,r[5]=m,r[6]=l):l=r[6],r[7]!==u||r[8]!==m?(s=[u,m],r[7]=u,r[8]=m,r[9]=s):s=r[9],(0,n.useEffect)(l,s),r[10]!==p||r[11]!==h?(o={alerts:p,emptyAlertRows:h},r[10]=p,r[11]=h,r[12]=o):o=r[12],o})(u);return p[5]===Symbol.for("react.memo_cache_sentinel")?(m={width:"fit-content"},p[5]=m):m=p[5],p[6]!==g?.accountOptions?.[113]||p[7]!==g?.finishedWorlds?.World3||p[8]!==g?.kangaroo?.shinyProgress||p[9]!==g?.killroy?.killRoyClasses||p[10]!==g?.killroy?.rooms||p[11]!==g?.libraryTimes?.bookCount||p[12]!==g?.sneaking?.lastLooted||p[13]!==v||p[14]!==_?(d=(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(l.Card,{sx:m,children:(0,t.jsx)(s.CardContent,{children:v?(0,t.jsxs)(r.Stack,{divider:(0,t.jsx)(o.Divider,{}),gap:1.5,children:[_?.General?null:(0,t.jsxs)(r.Stack,{direction:"row",gap:4,children:[(0,t.jsx)(i.Typography,{sx:{flexShrink:0},color:"text.secondary",children:"General"}),(0,t.jsxs)(r.Stack,{direction:"row",gap:2,flexWrap:"wrap",children:[v?.General?.etc?.familyObols?(0,t.jsx)(eA,{title:`You have ${v?.General?.etc?.familyObols} empty family obol slots`,iconPath:"data/ObolEmpty1"}):null,v?.General?.gemsFromBosses?(0,t.jsx)(eA,{title:`You can kill ${v?.General?.gemsFromBosses} more bosses for gems`,iconPath:"data/PremiumGem"}):null,v?.General?.etc?.freeCompanion?(0,t.jsx)(eA,{title:"You can claim a free companion",iconPath:"afk_targets/Dog"}):null,v?.General?.etc?.newCharacters?(0,t.jsx)(eA,{title:`You can create ${v?.General?.etc?.newCharacters} new character${v?.General?.etc?.newCharacters>1?"s":""}`,iconPath:"etc/CharFam0"}):null,v?.General?.etc?.randomEvents?(0,t.jsx)(eA,{title:"You haven't done a random event today",iconPath:"etc/Mega_Grumblo"}):null,v?.General?.etc?.miniBosses?.length>0?v?.General?.etc?.miniBosses?.map(eR):null,v?.General?.tasks?.length>0?v?.General?.tasks?.map(eD):null,v?.General?.etc?.keys?.length>0?v?.General?.etc?.keys?.map(eF):null,v?.General?.materialTracker?.length>0?v?.General?.materialTracker?.map(eG):null,v?.General?.etc?.dungeonTraits?.length>0?v?.General?.etc?.dungeonTraits?.map(ej):null,v?.General?.shops?.items?.length>0?v?.General?.shops?.items?.map(eW):null,v?.General?.guild?.daily?(0,t.jsx)(eA,{title:`You have ${v?.General?.guild?.daily} uncompleted daily tasks`,iconPath:"etc/GP",imgStyle:{filter:"sepia(1) hue-rotate(46deg) saturate(1)"}}):null,v?.General?.guild?.weekly?(0,t.jsx)(eA,{title:`You have ${v?.General?.guild?.weekly} uncompleted weekly tasks`,iconPath:"etc/GP",imgStyle:{filter:"sepia(1) hue-rotate(140deg) saturate(1)"}}):null]})]}),_?.["World 1"]?null:(0,t.jsxs)(r.Stack,{direction:"row",gap:4,children:[(0,t.jsx)(i.Typography,{sx:{flexShrink:0},color:"text.secondary",children:"World 1"}),(0,t.jsxs)(r.Stack,{direction:"row",gap:2,flexWrap:"wrap",children:[v?.["World 1"]?.stamps?.gildedStamps>0?(0,t.jsx)(eA,{title:`You have ${v?.["World 1"]?.stamps?.gildedStamps} available gilded stamps`,iconPath:"data/GildedStamp"}):null,v?.["World 1"]?.owl?.featherRestart?(0,t.jsx)(eA,{title:"Feather restart can be upgraded",iconPath:"etc/Owl_4"}):null,v?.["World 1"]?.owl?.megaFeatherRestart?(0,t.jsx)(eA,{title:"Mega feather restart can be upgraded",iconPath:"etc/Owl_8"}):null,v?.["World 1"]?.forge?.emptySlots?(0,t.jsx)(eA,{title:"You have empty forge slots",iconPath:"data/ForgeA"}):null]})]}),_?.["World 2"]?null:(0,t.jsxs)(r.Stack,{direction:"row",gap:4,children:[(0,t.jsx)(i.Typography,{sx:{flexShrink:0},color:"text.secondary",children:"World 2"}),(0,t.jsxs)(r.Stack,{direction:"row",gap:2,flexWrap:"wrap",children:[v?.["World 2"]?.kangaroo?.shinyThreshold?(0,t.jsx)(eA,{title:`You have reached your shiny % threshold of ${v?.["World 2"]?.kangaroo?.shinyThreshold}% (${Math.round(g?.kangaroo?.shinyProgress)}%)`,iconPath:"etc/KShiny"}):null,v?.["World 2"]?.kangaroo?.fisherooReset?(0,t.jsx)(eA,{title:"Fisheroo Reset can be upgraded",iconPath:"etc/KUpga_6"}):null,v?.["World 2"]?.kangaroo?.greatestCatch?(0,t.jsx)(eA,{title:"Greatest Catch can be upgraded",iconPath:"etc/KUpga_11"}):null,v?.["World 2"]?.islands?.unclaimedDays?(0,t.jsx)(eA,{title:`You haven't claimed your islands' content in ${v?.["World 2"]?.islands?.unclaimedDays} days`,iconPath:"data/Island1"}):null,v?.["World 2"]?.islands?.shimmerIsland?(0,t.jsx)(eA,{title:"You haven't claimed your shimmer's trial reward this week",iconPath:"etc/Shimmer_Currency"}):null,v?.["World 2"]?.islands?.garbageUpgrade?(0,t.jsx)(eA,{title:"You have enough garbage to buy a 'Garbage Gain' upgrade in trash island",iconPath:"etc/Trash_Currency"}):null,v?.["World 2"]?.alchemy?.bargainTag?(0,t.jsx)(eA,{title:"You haven't use bargain tag even once today",iconPath:"data/aShopItems10"}):null,v?.["World 2"]?.alchemy?.gems?(0,t.jsx)(eA,{title:"You haven't bought alchemy gems even once today",iconPath:"data/PremiumGem"}):null,v?.["World 2"]?.alchemy?.alternateParticles?(0,t.jsx)(eA,{title:`You have ${v?.["World 2"]?.alchemy?.alternateParticles} alternate particles upgrades available`,iconPath:"etc/Particle"}):null,v?.["World 2"]?.weeklyBosses?(0,t.jsx)(eA,{title:"You haven't done a weekly (W2) boss fight this week",iconPath:"data/Trophie"}):null,v?.["World 2"]?.killRoy?.general?(0,t.jsx)(eA,{title:v?.["World 2"]?.killRoy?.general?`You haven't done a killroy this week (${g?.killroy?.killRoyClasses.join(", ")})`:v?.["World 2"]?.killRoy>0&&g?.accountOptions?.[113]<(g?.killroy?.rooms===3?321:21)&&g?.finishedWorlds?.World3?`You haven't done a killroy this week (${g?.killroy?.killRoyClasses.join(", ")})`:"",iconPath:"etc/Killroy"}):null,v?.["World 2"]?.killRoy?.underHundredKills?(0,t.jsx)(eA,{title:`Killroy includes a monster with less than 100 kills (${v?.["World 2"]?.killRoy?.underHundredKills?.map(eU).join(", ")})`,iconPath:"etc/KillroyPrime"}):null,v?.["World 2"]?.arcade?.balls?(0,t.jsx)(eA,{title:"Max ball capacity has been reached",iconPath:"data/PachiBall0"}):null,v?.["World 2"]?.alchemy?.sigils?.length>0?v?.["World 2"]?.alchemy?.sigils?.map(eq):null,v?.["World 2"]?.alchemy?.liquids?.length>0?v?.["World 2"]?.alchemy?.liquids?.map(eH):null,v?.["World 2"]?.postOffice?.dailyShipments?.length>0?v?.["World 2"]?.postOffice?.dailyShipments?.map(eV):null,v?.["World 2"]?.alchemy?.vialsAttempts?(0,t.jsx)(eA,{title:"You have available vial attempts",iconPath:"data/aVials1"},"vialsAttempts"):null,v?.["World 2"]?.alchemy?.vials?.length>0?v?.["World 2"]?.alchemy?.vials?.map(e$):null]})]}),_?.["World 3"]?null:(0,t.jsxs)(r.Stack,{direction:"row",gap:4,children:[(0,t.jsx)(i.Typography,{sx:{flexShrink:0},color:"text.secondary",children:"World 3"}),(0,t.jsxs)(r.Stack,{direction:"row",gap:2,flexWrap:"wrap",children:[v?.["World 3"]?.library?.books?(0,t.jsx)(eA,{title:`Library has ${g?.libraryTimes?.bookCount} books ready`,iconPath:"data/Libz"}):null,v?.["World 3"]?.atomCollider?.stampReducer?(0,t.jsx)(eA,{title:`Stamp reducer has reached your threshold (${v?.["World 3"]?.atomCollider?.stampReducerValue}%)`,iconPath:"data/Atom0"}):null,v?.["World 3"]?.construction?.flags?.length>0?(0,t.jsx)(eA,{title:`There are ${v?.["World 3"]?.construction?.flags?.length} flags finished in construction board`,iconPath:"data/CogFLflag"}):null,v?.["World 3"]?.equinox?.bar?(0,t.jsx)(eA,{title:"Your Equinox bar is full",iconPath:"data/Quest78"}):null,v?.["World 3"]?.equinox?.challenges>0?(0,t.jsx)(eA,{title:`You have ${v?.["World 3"]?.equinox?.challenges} challenges to validate`,iconPath:"data/Quest78"}):null,v?.["World 3"]?.equinox?.foodLust?(0,t.jsx)(eA,{title:"Food Lust is maxed",iconPath:"etc/Dream_Upgrade_10"}):null,v?.["World 3"]?.construction?.materials?.length>0?v?.["World 3"]?.construction?.materials?.map(eY):null,v?.["World 3"]?.construction?.rankUp?.length>0?v?.["World 3"]?.construction?.rankUp?.map(eK):null,v?.["World 3"]?.construction?.buildings?.length>0?v?.["World 3"]?.construction?.buildings?.map(eJ):null,v?.["World 3"]?.printer?.atoms?.length>0?v?.["World 3"]?.printer?.atoms?.map(eX):null,v?.["World 3"]?.traps?.overdue>0?(0,t.jsx)(eA,{title:`${v?.["World 3"]?.traps?.overdue} traps are overdue`,iconPath:"data/TrapBoxSet1"}):null]})]}),_?.["World 4"]?null:(0,t.jsxs)(r.Stack,{direction:"row",gap:4,children:[(0,t.jsx)(i.Typography,{sx:{flexShrink:0},color:"text.secondary",children:"World 4"}),(0,t.jsxs)(r.Stack,{direction:"row",gap:2,flexWrap:"wrap",children:[v?.["World 4"]?.cooking?.meals?.length>0?v?.["World 4"]?.cooking?.meals?.map(ez):null,v?.["World 4"]?.laboratory?.chipsRotation?.length>0?v?.["World 4"]?.laboratory?.chipsRotation?.map(eQ):null,v?.["World 4"]?.laboratory?.jewelsRotation?.length>0?v?.["World 4"]?.laboratory?.jewelsRotation?.map(eZ):null,v?.["World 4"]?.cooking?.spices>0?(0,t.jsx)(eA,{title:`You have ${v?.["World 4"]?.cooking?.spices} spice clicks left`,iconPath:"data/CookingSpice0"}):null,v?.["World 4"]?.cooking?.ribbons?(0,t.jsx)(eA,{title:`You have reached your threshold of ${v?.["World 4"]?.cooking?.ribbons} empty ribbon slots`,iconPath:"data/Ribbon0"}):null,v?.["World 4"]?.breeding?.eggs?(0,t.jsx)(eA,{title:"Eggs are at full capacity",iconPath:"data/PetEgg1"},"breeding-eggs"):null,v?.["World 4"]?.breeding?.eggsRarity?(0,t.jsx)(eA,{title:`You have reached your desired rarity level of ${v?.["World 4"]?.breeding?.eggsRarity} with at least one egg`,iconPath:`data/PetEgg${v?.["World 4"]?.breeding?.eggsRarity}`},"breeding-eggsRarity"):null,v?.["World 4"]?.breeding?.shinies?.pets?.length>0?v?.["World 4"]?.breeding?.shinies?.pets?.map((e,a)=>{let{monsterName:n,shinyLevel:l}=e;return(0,t.jsx)(eA,{imgStyle:{filter:`hue-rotate(${(0,c.randomFloatBetween)(45,180)}deg)`},title:`${(0,c.cleanUnderscore)(n)} has reached ${20===l?"level 20 (max)":`the shiny threshold (${v?.["World 4"]?.breeding?.shinies?.threshold})`}`,iconPath:`afk_targets/${n}`},n+a)}):null,v?.["World 4"]?.breeding?.breedability?.pets?.length>0?v?.["World 4"]?.breeding?.breedability?.pets?.map((e,a)=>{let{monsterName:n}=e;return(0,t.jsx)(eA,{breedability:!0,title:`${(0,c.cleanUnderscore)(n)} has surpassed the breedability level threshold (${v?.["World 4"]?.breeding?.breedability?.threshold})`,iconPath:`afk_targets/${n}`},n+a)}):null]})]}),_?.["World 5"]?null:(0,t.jsxs)(r.Stack,{direction:"row",gap:4,children:[(0,t.jsx)(i.Typography,{sx:{flexShrink:0},color:"text.secondary",children:"World 5"}),(0,t.jsxs)(r.Stack,{direction:"row",gap:2,flexWrap:"wrap",children:[v?.["World 5"]?.gaming?.sprouts?(0,t.jsx)(eA,{title:`Max sprouts capacity has reached (${v?.["World 5"]?.gaming?.sprouts})`,imgStyle:{objectFit:"none"},iconPath:"etc/Sprouts"}):null,v?.["World 5"]?.gaming?.drops?(0,t.jsx)(eA,{title:`Sprinkler drops has reached it's capacity (${v?.["World 5"]?.gaming?.drops})`,iconPath:"data/GamingItem0b"}):null,v?.["World 5"]?.gaming?.squirrel>=1?(0,t.jsx)(eA,{title:`${v?.["World 5"]?.gaming?.squirrel} hours has passed since you've clicked the squirrel`,iconPath:"data/GamingItem2"}):null,v?.["World 5"]?.gaming?.shovel>=1?(0,t.jsx)(eA,{title:`${v?.["World 5"]?.gaming?.shovel} hours has passed since you've clicked the shovel`,iconPath:"data/GamingItem1"}):null,v?.["World 5"]?.sailing?.chests>0?(0,t.jsx)(eA,{title:"You've reached the maximum capacity of chests",iconPath:"npcs/Chesty"},"sailing-chest-alert"):null,v?.["World 5"]?.sailing?.captains?.length>0?v?.["World 5"]?.sailing?.captains?.map(e1):null,v?.["World 5"]?.hole?.buckets?(0,t.jsx)(eA,{title:"One of your sediments has reached the threshold",imgStyle:{objectFit:"cover"},iconPath:"data/HoleWellBucket0"}):null,v?.["World 5"]?.hole?.motherlodeMaxed?(0,t.jsx)(eA,{title:"You can break a layer in the motherlode cavern",imgStyle:{objectFit:"none"},iconPath:"data/Motherlode_x1"}):null,v?.["World 5"]?.hole?.bravery?(0,t.jsx)(eA,{title:"You can hear a story in the bravery cavern",imgStyle:{objectFit:"none"},iconPath:"etc/Bravery_Statue"}):null,v?.["World 5"]?.hole?.justice?(0,t.jsx)(eA,{title:"You can hear a story in the justice cavern",imgStyle:{objectFit:"none"},iconPath:"data/Justice_Monument_x1"}):null,v?.["World 5"]?.hole?.wisdom?(0,t.jsx)(eA,{title:"You can play a memory game in the wisdom cavern",imgStyle:{objectFit:"none"},iconPath:"data/Wisdom_Monument_x1"}):null,v?.["World 5"]?.hole?.theBell?(0,t.jsx)(eA,{title:"One of your cavern bells is ready",iconPath:"etc/TheBell"}):null,v?.["World 5"]?.hole?.theHarp?(0,t.jsx)(eA,{title:"Harp power has reached the threshold",iconPath:"etc/TheHarp"}):null,v?.["World 5"]?.hole?.hiveMaxed?(0,t.jsx)(eA,{title:"You can break a layer in the hive cavern",iconPath:"etc/TheHive"}):null,v?.["World 5"]?.hole?.grotto?(0,t.jsx)(eA,{title:"You can kill the monarch",iconPath:"etc/Grotto"}):null,v?.["World 5"]?.hole?.jars>=0?(0,t.jsx)(eA,{title:`You can break ${v?.["World 5"]?.hole?.jars} jars in the jars cavern`,iconPath:"etc/Jar_0"}):null,v?.["World 5"]?.hole?.villagersLevelUp?.length>0?v?.["World 5"]?.hole?.villagersLevelUp?.map(e2):null,v?.["World 5"]?.hole?.studyLevelUp?.length>0?v?.["World 5"]?.hole?.studyLevelUp?.map(e3):null]})]}),_?.["World 6"]?null:(0,t.jsxs)(r.Stack,{direction:"row",gap:4,children:[(0,t.jsx)(i.Typography,{sx:{flexShrink:0},color:"text.secondary",children:"World 6"}),(0,t.jsxs)(r.Stack,{direction:"row",gap:2,flexWrap:"wrap",children:[v?.["World 6"]?.sneaking?.lastLooted?(0,t.jsx)(eA,{title:`You haven't looted rewards from sneaking for ${Math.floor(g?.sneaking?.lastLooted/60)} minutes`,iconPath:"data/NjUpgI14"}):null,v?.["World 6"]?.summoning?.familiar?(0,t.jsx)(eA,{title:`Summoning familiar bonus isn't maxed (${v?.["World 6"]?.summoning?.familiar.level}/${v?.["World 6"]?.summoning?.familiar.maxLvl})`,iconPath:"data/SumUpgIc2"}):null,v?.["World 6"]?.summoning?.battleAttempts?(0,t.jsx)(eA,{title:`You have ${v?.["World 6"]?.summoning?.battleAttempts} summoning battle attempts`,iconPath:"data/Heart"}):null,v?.["World 6"]?.farming?.missingPlots?.length>0?(0,t.jsx)(eA,{title:`You have ${v?.["World 6"]?.farming?.missingPlots?.length} seeds available to be planted`,iconPath:"data/FarmPlant1"}):null,v?.["World 6"]?.farming?.plots?.length>0?(0,t.jsx)(eA,{title:`${v?.["World 6"]?.farming?.plots?.length} plots reached the threshold of ${v?.["World 6"]?.farming?.plots?.[0]?.threshold} OGs (x${Math.min(1e9,Math.max(1,Math.pow(2,v?.["World 6"]?.farming?.plots?.[0]?.threshold)))})`,iconPath:"data/ClassIcons57"}):null,v?.["World 6"]?.farming?.totalCrops>0?(0,t.jsx)(eA,{title:`You have ${(0,c.commaNotation)(v?.["World 6"]?.farming?.totalCrops)} crops ready to be collected`,iconPath:"data/FarmPlant6"}):null,v?.["World 6"]?.farming?.beanTrade>0?(0,t.jsx)(eA,{title:`Your bean trade has reached ${(0,c.numberWithCommas)(Math.floor(v?.["World 6"]?.farming?.beanTrade))}`,iconPath:"data/Quest80_x1"}):null,v?.["World 6"]?.etc?.emperorAttempts>0?(0,t.jsx)(eA,{title:`You have reached ${v?.["World 6"]?.etc?.emperorAttempts} emperor attempts`,iconPath:"data/Boss6"}):null]})]})]}):(0,t.jsx)(i.Typography,{children:"There are no account alerts to display"})})})}),p[6]=g?.accountOptions?.[113],p[7]=g?.finishedWorlds?.World3,p[8]=g?.kangaroo?.shinyProgress,p[9]=g?.killroy?.killRoyClasses,p[10]=g?.killroy?.rooms,p[11]=g?.libraryTimes?.bookCount,p[12]=g?.sneaking?.lastLooted,p[13]=v,p[14]=_,p[15]=d):d=p[15],d};function eR(e){let{rawName:a,name:n,current:l}=e;return(0,t.jsx)(eA,{title:`You can kill ${l} ${(0,c.cleanUnderscore)(n)}s`,iconPath:`etc/${a}`},a)}function eD(e){return(0,t.jsx)(eA,{title:`Daily task in world ${e+1} not done yet`,iconPath:`etc/Merit_${e}`},"task"+e)}function eF(e,a){let{rawName:n,totalAmount:l}=e;return(0,t.jsx)(eA,{title:`${l} of ${(0,c.cleanUnderscore)((0,c.pascalCase)(name))} ${n.includes("Tix")?"tickets":"keys"} are ready`,iconPath:`data/${n}`},n+""+a)}function eG(e,a){let{item:n,text:l,note:s}=e;return(0,t.jsx)(eA,{title:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.Typography,{variant:"subtitle2",children:l}),s?(0,t.jsxs)(i.Typography,{fontWeight:500,variant:"caption",children:["Note: ",s]}):null]}),iconPath:`data/${n?.rawName}`},n?.rawName+""+a)}function ej(e,a){return(0,t.jsx)(eA,{title:`You haven't selected a trait for ${e}`,iconPath:"data/DungTraitB0"},"dungeonTraits"+a)}function eW(e,a){return e?.length>0?(0,t.jsx)(eA,{title:(0,t.jsx)(eP,{shop:e}),iconPath:7===a?`etc/ShopEZ${a}`:`data/ShopEZ${a}`},"shop"+a+e?.[0]?.rawName):null}function eU(e){return(0,c.cleanUnderscore)(e?.Name)}function eq(e){let{name:a,index:n}=e;return(0,t.jsx)(eA,{title:`${(0,c.cleanUnderscore)((0,c.pascalCase)(a))} is already unlocked`,iconPath:`data/aSiga${n}`},a)}function eH(e){let{index:a}=e;return(0,t.jsx)(eA,{title:`${(0,c.getNumberWithOrdinal)(a+1)} liquid is full`,iconPath:`data/Liquid${a+1}_x1`},"liq"+a)}function eV(e){let{index:a}=e;return(0,t.jsx)(eA,{title:`You haven't completed an order for shipment #${a+1} today`,iconPath:"data/UIlilbox"},"shipment"+a)}function e$(e){return(0,t.jsx)(eA,{vial:e,title:`You have enough materials to upgrade ${(0,c.cleanUnderscore)(e?.name)} vial`,iconPath:`data/${e?.mainItem}`},e?.mainItem)}function eY(e){let{rawName:a,missingMats:n}=e;return(0,t.jsx)(eA,{title:(0,t.jsx)(eO,{missingMats:n}),imgStyle:{border:"1px solid",borderColor:"#833b3b"},iconPath:`data/${a}`},a)}function eK(e){let{rawName:a,saltName:n}=e;return(0,t.jsx)(eA,{title:`${(0,c.cleanUnderscore)(n)} is ready to rank up`,iconPath:`data/${a}`},a)}function eJ(e){let{name:a,index:n}=e;return(0,t.jsx)(eA,{title:`${(0,c.cleanUnderscore)((0,c.pascalCase)(a))} is ready to be built`,iconPath:`data/ConTower${n}`},a)}function eX(e){let{name:a,rawName:n}=e;return(0,t.jsx)(eA,{title:`Printing is at maximum (storage) capacity for ${(0,c.cleanUnderscore)(a)}`,atom:!0,iconPath:`data/${n}`},"printer-atoms-"+n)}function ez(e){let{rawName:a,name:n}=e;return(0,t.jsx)(eA,{title:`${(0,c.cleanUnderscore)(n)} is ready to be leveled up`,iconPath:`data/${a}`},a)}function eQ(e,a){let{rawName:n,name:l}=e;return(0,t.jsx)(eA,{title:`You can claim ${(0,c.cleanUnderscore)(l)} in chip repository`,iconPath:`data/${n}`},n+a)}function eZ(e,a){let{rawName:n,name:l}=e;return(0,t.jsx)(eA,{title:`You can claim ${(0,c.cleanUnderscore)(l)} in jewel repository`,iconPath:`data/${n}`},n+a)}function e0(e){let{captainIndex:a,bonus:n}=e;return(0,t.jsxs)(i.Typography,{children:[(0,t.jsx)(i.Typography,{component:"span",sx:{fontWeight:"bold"},children:a}),": ",(0,c.cleanUnderscore)(n)]},`cap-${a}`)}function e1(e){let{captain:a,bonus:n,badCaptains:l,enderCaptain:s}=e;return(0,t.jsx)(eA,{title:(0,t.jsxs)(r.Stack,{children:[(0,t.jsxs)(i.Typography,{sx:{mb:1},children:["Captain ",(0,t.jsx)(i.Typography,{component:"span",sx:{fontWeight:"bold"},children:a?.captainIndex})," with ",(0,c.cleanUnderscore)(n)," from the shop is ",s?"an ender captain (hidden +25% loot and artifact)":`better 
                        than ${l.length} of
                        your captains`]}),(0,t.jsx)(r.Stack,{children:l?.map(e0)})]}),iconPath:`etc/Captain_${a?.captainType}`},"captain"+a?.captainIndex)}function e2(e){let{name:a,index:n}=e;return(0,t.jsx)(eA,{title:`${a} is ready to level up`,iconPath:`etc/Villager_${n}`},a)}function e3(e){let{name:a,index:n}=e;return(0,t.jsx)(eA,{title:`${(0,c.cleanUnderscore)(a)} study is ready to level up`,iconPath:"etc/Study_Rate"},a+n)}function e5(){}function e4(e){e.target.src=`${c.prefix}data/aVials12.png`,e.target.style="opacity: 0;"}function e6(e){let{rawName:a}=e;return(0,t.jsx)(eI,{src:`${c.prefix}data/${a}.png`,alt:""},a)}function e8(e,a){let{amount:n,rawName:l}=e;return(0,t.jsxs)(r.Stack,{alignItems:"center",children:[(0,t.jsx)(eI,{src:`${c.prefix}data/${l}.png`},"shop"+l),(0,t.jsx)(i.Typography,{children:(0,c.notateNumber)(n)})]},l+a)}},733884,193701,712738,e=>{"use strict";e.s(["calcPrayerCost",()=>i,"calcTotalPrayersLevel",()=>u,"getPrayerBonusAndCurse",()=>r,"getPrayers",()=>s],733884);var t=e.i(608580),a=e.i(971176),n=e.i(82748),l=e.i(39188);let s=(e,a)=>o(e?.PrayersUnlocked||(0,t.tryToParse)(e?.PrayOwned),a),o=(e,t)=>e?.reduce((e,l,s)=>{let o=n.prayers?.[s]?.soul,r=(0,a.calculateItemTotalAmount)(t,n.items?.[o]?.displayName,!0);return s<19?[...e,{...n.prayers?.[s],prayerIndex:s,totalAmount:r,level:l}]:e},[]),r=(e,t,a,n=!1)=>{let s,o=(0,l.isSuperbitUnlocked)(a,"No_more_Praying")&&(!e||e?.length===0);if(o?s=a?.prayers?.find(({name:e})=>e===t):(s=e?.find(({name:e})=>e===t))||!n||(s=a?.prayers?.find(({name:e})=>e===t)),!s)return{bonus:0,curse:0};let r=s.x1+s.x1*(s.level-1)/10,i=s.x2+s.x2*(s.level-1)/10,u=n&&!e?.find(({name:e})=>e===t);return{bonus:Math.round(o?r/5:r),curse:Math.round(o||u?0:i)}},i=e=>{let{level:t,costMulti:a,prayerIndex:n}=e;return t<6?Math.round(a*(1+(4+n/25)*t)):Math.round(Math.min(2e9,a*(1+(1+n/20)*t)*Math.pow(9===n?1.3:1.12,t-5)))},u=e=>e?.reduce((e,{level:t})=>e+t,0);e.s(["CONTENT_PERCENT_SIZE",0,"85%","TOOLS",0,{PICKAXE:0,HATCHET:1,ROD:2,NET:3,TRAP:4,SKULL:5}],193701);let c=["STR","AGI","WIS","LUK","Weapon_Power","Defence","UQ1txt","UQ2txt"],m=(e,t)=>e.reduce((e,l,s)=>{let{rawName:o}=l;if("Blank"===o)return[...e,l];let r=(0,a.addStoneDataToEquip)(n.items?.[o],t?.[s]),i=Object.values(t?.[s]||{}).some(e=>!isNaN(e)&&e>0);return o?[...e,{..."Blank"===o?{}:{...l,...n.items?.[o],...r},rerolled:i}]:e},[]),d=e=>{let t=e.toLowerCase();return t?t.includes("obolbronzeworship")?"Worship Power":t.includes("obolbronzetrapping")?"Trapping Power":t.includes("mining")?"Mining Power":t.includes("fishin")?"Fishing Power":t.includes("choppin")?"Choppin Power":t.includes("catch")?"Catching Power":"Weapon Power":"Weapon Power"},p=(e,t)=>{let a=t?"familyBonus":"personalBonus";return e?.reduce((e,t)=>(Object.entries(t).forEach(([n,l])=>{if(!c.includes(n))return;let s=n;if("Weapon_Power"===n&&l>0&&(s=d(t?.UQ1txt||t?.rawName).replace(/ /,"_")),e[s]?.[a]||e[l]?.[a])if("UQ1txt"===s||"UQ2txt"===s){if(0===l)return;let n=s.match(/\d/g)?.[0];e[l]={[a]:(e?.[l]?.[a]??0)+t?.[`UQ${n}val`]||0}}else e[s]={[a]:(e?.[s]?.[a]??0)+l};else if("UQ1txt"===s||"UQ2txt"===s){if(0===l)return;let n=s.match(/\d/g)?.[0];e[l]={[a]:(e?.[l]?.[a]??0)+t?.[`UQ${n}val`]||0}}else e[s]={[a]:l}}),e),{})},g=e=>{switch(e){case 12:return 13;case 13:return 14;case 14:return 12;case 17:return 15;case 15:return 17;case 16:return 19;case 18:return 16;case 19:return 18;default:return e}};e.s(["getObols",0,(e,a=!0)=>{var l,s,o,r;let i,u,c,d=(0,t.tryToParse)(e?.ObolEqO1)||(a?e?.ObolEquippedOrder?.[1]:e?.ObolEquippedOrder),h=(0,t.tryToParse)(e?.ObolEqMAPz1)||(a?e?.ObolEquippedMap?.[1]:e?.ObolEquippedMap);return l=d,s=h,o=(0,t.tryToParse)(e?.ObolInvOr),i=(r=a)?n.obols.family:n.obols.character,(u=m(l?.map((e,t)=>({displayName:n.items?.[e]?.displayName,rawName:e,...!r?{index:g(t)}:{},...i?.[t]?i[t]:{}})),s)).sort((e,t)=>e.index-t.index),c=p(u,r),{inventory:(0,t.createArrayOfArrays)(o)||[],list:u,stats:c}},"getObolsBonus",0,(e,t)=>{let{personalBonus:a=0,familyBonus:n=0}=e?.stats?.[t]||{};return a||n?(a??0)+(n??0):0},"getPowerType",0,d,"mergeCharacterAndAccountObols",0,(e,t)=>Array.from(new Set([...Object.keys(e.stats),...Object.keys(t.stats)])).reduce((a,n)=>{let{personalBonus:l}=e.stats?.[n]??0,{familyBonus:s}=t.stats?.[n]??0;return a[n]={personalBonus:l,familyBonus:s},a},{})],712738)},304782,e=>{"use strict";e.s(["allProwess",()=>x,"getAllBaseSkillEff",()=>k,"getAllEff",()=>C,"getMiningEff",()=>T]);var t=e.i(172833),a=e.i(109304),n=e.i(775003),l=e.i(805861),s=e.i(173024),o=e.i(210270),r=e.i(942144),i=e.i(82748),u=e.i(971176),c=e.i(262887),m=e.i(618332),d=e.i(733884),p=e.i(372110),g=e.i(193701),h=e.i(276924),f=e.i(685849),B=e.i(198659),v=e.i(712738),_=e.i(24174),M=e.i(398241),S=e.i(608580),b=e.i(694186),y=e.i(264046);let x=(e,l)=>{let o=s.mainStatMap?.[e?.class];return Math.max(0,Math.min(.1,((0,t.getBubbleBonus)(l,"PROWESESSARY",!1,o)-1)/10+(.001*(0,a.getStarSignBonus)(e,l,"All_Skill_Prowess")+5e-4*(0,n.getMealsBonusByEffectOrStat)(l,null,"Sprow"))))},k=(e,a,n,o)=>{let r=(0,B.getShinyBonus)(a?.breeding?.pets,"Base_Efficiency_for_All_Skills"),i=(0,f.getStampsBonusByEffect)(a,"All_Skill_Efficiency",e),u=((e,a,n,l)=>{let o=s.mainStatMap?.[e?.class],{strength:r,wisdom:i,agility:u}=e?.stats||{},c=(0,t.getBubbleBonus)(a,"HEARTY_DIGGY",!1,o),m=(0,t.getBubbleBonus)(a,"HOCUS_CHOPPUS",!1,o),d=Math.max(1,C(e,n,a)+Math.pow((c*(0,S.lavaLog)(l?.maxHp)+m*(0,S.lavaLog)(l?.maxMp))/100,2)+Math.pow((r+(i+u))/3,.5)/7),p=a?.divinity?.deities?.[2];return(p?.level??0)*(p?.blessingMultiplier??0)*Math.min(1.8,Math.max(.1,4*Math.pow((d+1e4)/Math.max(10*d+10,1)*.01,2)))})(e,a,n,o),m=(0,l.getPostOfficeBonus)(e?.postOffice,"Myriad_Crate",1),d=a?.lab?.playersChips?.[e?.playerId].find(e=>11===e.index)?.baseVal??0,p=(0,s.getTalentBonus)(e?.flatStarTalents,"SUPERSOURCE"),g=(0,c.getLabBonus)(a?.lab?.labBonuses,8);return r+i+u+m+d+(p+(0,c.getJewelBonus)(a?.lab.jewels,12,g)*(a.lab.jewels?.slice(11,16)?.every(({active:e})=>e)?2:1))},C=(e,a,l)=>{let c=(0,o.getHighestLevelOfClass)(l?.charactersLevels,s.CLASSES.Wind_Walker),g=(0,r.getFamilyBonusBonus)(i.classFamilyBonuses,"EFFICIENCY_FOR_ALL_SKILLS",c),h=(0,t.getVialsBonusByStat)(l?.alchemy?.vials,"6SkillEff"),f=(0,u.getStatsFromGear)(e,48,l),B=(0,v.getObolsBonus)(e?.obols,i.bonuses?.etcBonuses?.[48]),M=(0,_.isArtifactAcquired)(l?.sailing?.artifacts,"Frost_Relic")?.bonus??0,S=(0,s.getTalentBonus)(e?.flatStarTalents,"STUDIOUS_QUESTER"),x=(0,n.getMealsBonusByEffectOrStat)(l,null,"Seff"),k=l?.tome?.bonuses?.[1]?.bonus??0,C=l?.lab?.playersChips?.[e?.playerId]?.find(e=>11===e.index)?.baseVal??0,T=l?.cards?.Crystal_Capybara?.stars?l?.cards?.Crystal_Capybara?.stars+1:0,w=(0,o.getSkillMasteryBonusByIndex)(l?.totalSkillsLevels,l?.rift,2),E=(0,b.getSchematicBonus)({holesObject:l?.hole?.holesObject,t:49,i:15}),A=(0,m.getEquippedCardBonus)(e?.cards,"Boss4B"),O=(0,o.isCompanionBonusActive)(l,5)?l?.companions?.list?.at(5)?.bonus:0,P=(0,y.getWinnerBonus)(l,"<x Skill Effncy."),L=e?.cards?.cardSet?.rawName==="CardSet2"?e?.cards?.cardSet?.bonus:0,I=(0,d.getPrayerBonusAndCurse)(e?.activePrayers,"Skilled_Dimwit",l)?.bonus,N=(0,d.getPrayerBonusAndCurse)(e?.activePrayers,"Balance_of_Proficiency",l)?.curse,R=(0,s.getTalentBonusIfActive)(e?.activeBuffs,"MAESTRO_TRANSFUSION"),D=0;return l?.guild?.guildBonuses?.length>0&&(D=(0,p.getGuildBonusBonus)(l?.guild?.guildBonuses,6)),(1+(g+(f+B+h+(M+Math.min(.1*e?.questCompleted,S))))/100)*(1+(x+k+(C+3*T)+(w+E+(l?.accountOptions?.[180]??0)*l?.islands?.allShimmerBonus))/100)*(1+(A+O)/100)*(1+P/100)*(1+(D+(L+I))/100)*Math.max(1-(R+N)/100,.01)},T=(e,n,r,c)=>{let d=s.mainStatMap?.[e?.class],p=e?.tools?.[g.TOOLS.PICKAXE]?.Weapon_Power||0,B=p,_=(0,s.getTalentBonus)(e?.flatTalents,"TOOL_PROFICIENCY"),b=(0,t.getBubbleBonus)(r,"STRONK_TOOLS",!1,d),y=e?.skillsInfo?.mining?.level;B=B*(1+_*(e?.skillsInfo?.mining?.level/10)/100)*(1+b/100)+4+(p+(0,h.getStatueBonus)(r,2,e?.flatTalents)+(0,t.getBubbleBonus)(r,"SLABI_OREFISH",!1,d)*Math.floor(r?.looty?.rawLootedItems/100));let x=(0,s.getTalentBonus)(e?.flatTalents,"SKILL_STRENGTHEN"),T=(0,f.getStampsBonusByEffect)(r,"Base_Mining",e),w=k(e,r,n,c),E=(0,l.getPostOfficeBonus)(e?.postOffice,"Dwarven_Supplies",0),A=(0,s.getMaestroHand)(e,"mining",n,r,"RIGHT_HAND_OF_ACTION"),O=(0,o.getGoldenFoodBonus)("Golden_Peanut",e,r,n)||1,P=(0,s.getTalentBonus)(e?.flatTalents,"BRUTE_EFFICIENCY"),L=(0,u.getStatsFromGear)(e,10,r,!0),I=(0,v.getObolsBonus)(e?.obols,i.bonuses?.etcBonuses?.[10]),N=(0,o.isMasteryBonusUnlocked)(r?.rift,r?.totalSkillsLevels?.mining?.rank,1),R=(0,m.getCardBonusByEffect)(e?.cards?.equippedCards,"Total_Mining_Efficiency"),D=(0,a.getStarSignBonus)(e,r,"Mining_Efficency"),F=(0,t.getVialsBonusByStat)(r?.alchemy?.vials,"MinEff"),G=(0,t.getBubbleBonus)(r,"HEARTY_DIGGY",!1,d),j=(0,s.getTalentBonus)(e?.flatTalents,"COPPER_COLLECTOR"),W=(0,M.getAtomBonus)(r,"Helium_-_Talent_Power_Stacker"),U=(0,u.calculateItemTotalAmount)(r?.storage?.list,"Copper_Ore",!0),q=C(e,n,r);return 12+(Math.pow(B,1.3)+(Math.pow(e?.stats?.strength+1,.6)*(1+x/100)+(T+w)))*(1+y/200)*(1+(E+A)/100)*(1+Math.pow(e?.stats?.strength/100,.35)*(1+x/100))*O*(1+(P+(L+I+10*N))/100)*(1+(R+(D+F))/100)*(1+B/100)*1*(1+G*(0,S.lavaLog)(c?.maxHp)/100)*(1+j*(W+(0,S.lavaLog)(U))/100)*q}},775003,e=>{"use strict";e.s(["applyMealsMulti",()=>R,"calcMealTime",()=>V,"calcTimeToNextLevel",()=>K,"calcTotalMeals",()=>Q,"getChipsAndJewels",()=>z,"getCooking",()=>P,"getCookingEff",()=>D,"getCookingProwess",()=>F,"getKitchens",()=>U,"getMealLevelCost",()=>Y,"getMealsBonusByEffectOrStat",()=>j,"getRibbonBonus",()=>W,"getTotalKitchenLevels",()=>J,"maxNumberOfSpiceClicks",()=>X,"parseKitchens",()=>q,"spicesNames",()=>O]);var t=e.i(82748),a=e.i(685849),n=e.i(971176),l=e.i(608580),s=e.i(805861),o=e.i(262887),r=e.i(172833),i=e.i(210270),u=e.i(161866),c=e.i(24174),m=e.i(198659),d=e.i(39188),p=e.i(173024),g=e.i(470242),h=e.i(980753);e.i(76487);var f=e.i(304782),B=e.i(618332),v=e.i(279522),_=e.i(264046),M=e.i(71791),S=e.i(109304),b=e.i(394699),y=e.i(441132),x=e.i(734002),k=e.i(694186),C=e.i(801902),T=e.i(476219),w=e.i(521637),E=e.i(384308),A=e.i(712738);let O=["Grasslands","Jungle","Encroaching Forest","Tree Interior","Stinky Sewers","Desert Oasis","Beach Docks","Coarse Mountains","Twilight Desert","The Crypt","Frosty Peaks","Tundra Outback","Crystal Caverns","Pristalle Lake","Nebulon Mantle","Starfield Skies","Shores of Eternity","Molten Bay","Smokey Lake","Wurm Catacombs","Spirit Fields","Bamboo Forest","Lullaby Airway","Dharma Mesa"],P=(e,t)=>{let a=(0,l.tryToParse)(e?.Cooking)||e?.Cooking;return L((0,l.tryToParse)(e?.Meals)||e?.Meals,(0,l.tryToParse)(e?.Territory)||e?.Territory,a,t)},L=(e,t,a,n)=>{let l=N(e,n);return{meals:l,spices:I(e,t,n),mealMaxLevel:$(n)}},I=(e,t,a)=>{let n=t?.reduce((e,t,a)=>{let[n,,,l,s]=t;return[...e,{progress:n,amount:s,rawName:l,name:O[a]}]},[]),l=e?.[3]?.filter(e=>e>0).map((e,t)=>({amount:e,toClaim:n?.[t]?.amount,rawName:`CookingSpice${t}`,name:O[t]}));return{toClaim:n,available:l,numberOfClaims:a?.accountOptions?.[100]}},N=(e,a)=>{let n=e?.[0],l=e?.[2],s=(0,m.getShinyBonus)(a?.breeding?.pets,"Bonuses_from_All_Meals");return n?.map((e,n)=>{if(!t.cookingMenu?.[n])return null;let o=Y(e,a?.achievements,a);return{index:n,level:e,amount:parseFloat(l?.[n]),shinyMulti:s,levelCost:o,...t.cookingMenu?.[n]||{}}}).filter(e=>e)},R=(e,t)=>e?.map(e=>({...e,multiplier:1+t/100})),D=(e,l,o,r)=>{let u=(0,f.getAllEff)(e,l,o),c=(0,p.getTalentBonus)(e?.flatTalents,"APOCALYPSE_CHOW"),m=e?.chow?.finished?.[0]??1,d=(0,p.getTalentBonus)(e?.flatTalents,"BRUTE_EFFICIENCY"),g=(0,n.getStatsFromGear)(e,67,o),h=(0,A.getObolsBonus)(e?.obols,t.bonuses?.etcBonuses?.[67]),B=(0,p.getTalentBonus)(e?.flatTalents,"SKILL_STRENGTHEN"),v=(0,a.getStampsBonusByEffect)(o,"Cooking_Efficiency",e),_=(0,n.getStatsFromGear)(e,62,o),M=(0,A.getObolsBonus)(e?.obols,t.bonuses?.etcBonuses?.[62]),S=(0,i.isMasteryBonusUnlocked)(o?.rift,o?.totalSkillsLevels?.cooking?.rank,0),b=(0,s.getPostOfficeBonus)(e?.postOffice,"Chefs_Essentials",0),y=(0,f.getAllBaseSkillEff)(e,o,l,r);return u*(1+(c*m+(d+(g+h)))/100)*(250+(Math.pow(e?.stats?.strength,.6)*(1+B/100)+(v+(_+M+10*S+b))+y))},F=(e,t)=>(0,f.allProwess)(e,t),G=e=>(e+1+Math.floor(Math.max(0,e-10)/2)+Math.pow(Math.max(0,e-30),1.2))*Math.pow(1.02,Math.max(0,e-60)),j=(e,t,a)=>{let n=(0,o.getJewelBonus)(e?.lab?.jewels,16)??0,l=(0,m.getShinyBonus)(e?.breeding?.pets,"Bonuses_from_All_Meals"),s=(0,_.getWinnerBonus)(e,"<x Meal Bonuses");return e?.cooking?.meals?.reduce((o,r,i)=>{let{level:u,baseStat:c,effect:m,stat:d}=r;if(t){if(!m.includes(t))return o}else if(d!==a)return o;return"PxLine"===a?o+((u*c)??0):o+(((1+(n+l)/100)*(1+s/100)*W(e,e?.grimoire?.ribbons?.[28+i])*u*c)??0)},0)??0},W=(e,t)=>1+(Math.floor(5*t+Math.floor(t/2)*(4+6.5*Math.floor(t/5)))+(0,E.getArmorSetBonus)(e,"EMPEROR_SET")/4*Math.floor(t/4))/100,U=(e,t,a)=>q((0,l.tryToParse)(e?.Cooking)||e?.Cooking,(0,l.tryToParse)(e?.Atoms)||e?.Atoms,t,a),q=(e,n,l,s,m)=>{let{characterIndex:g,enableNanoChip:h}=m||{},f=s?.accountOptions?.[89],b=t.randomList?.[53],w=e?.reduce((e,t)=>{let[a,n,l]=t.slice(6,9);return e+a+n+l},0),E=s?.cooking?.meals?.reduce((e,{level:t})=>t>=11?e+1:e,0),A=s?.cooking?.meals?.reduce((e,{level:t})=>t>=30?e+1:e,0),O=s?.cooking?.meals?.reduce((e,{level:t})=>e+t,0);return e?.map((e,m)=>{let P,[L,I,N,R,D,F,W,U,q,,V]=e;if(L<=0)return null;let $=Math.floor(w/25)*((0,o.getJewelBonus)(s?.lab?.jewels,14)||0),Y=(0,a.getStampsBonusByEffect)(s,"Meal_Cooking_Speed"),K=(0,r.getVialsBonusByStat)(s?.alchemy?.vials,"MealCook"),J=(0,r.getVialsBonusByStat)(s?.alchemy?.vials,"6turtle"),X=(0,r.getVialsBonusByStat)(s?.alchemy?.vials,"6CookSpd"),z=j(s,null,"Mcook"),Q=(0,r.getBubbleBonus)(s,"DIAMOND_CHEF",!1),Z=j(s,null,"KitchenEff"),ee=s?.cards?.Massive_Troll,et=ee?.stars??0,ea=0===et?0:et+1,en=s?.lab?.jewels?.slice(0,3)?.every(({active:e})=>e)?2:1,el=(0,o.getJewelBonus)(s?.lab?.jewels,0)*en,es=m<s?.gemShopPurchases?.find((e,t)=>120===t),eo=(0,c.isArtifactAcquired)(s?.sailing?.artifacts,"Triagulon")?.bonus??0,er=Math.pow(Q,E),ei=(0,u.getAchievementStatus)(s?.achievements,225),eu=(0,u.getAchievementStatus)(s?.achievements,224),ec=j(s,null,"zMealFarm"),em=(0,B.getCardBonusByEffect)(s?.cards,"Cooking_Spd_Multi_(Passive)"),ed=(0,v.getArcadeBonus)(s?.arcade?.shop,"Cook_SPD_multi")?.bonus??0,ep=(0,_.getWinnerBonus)(s,"<x Cooking SPD"),eg=(0,i.getHighestCharacterSkill)(l,"farming");P=l?.[g]?(0,S.getStarSignBonus)(l?.[g],s,"Cooking_SPD",h):l?.reduce((e,t)=>{let a=(0,S.getStarSignBonus)(t,s,"Cooking_SPD")??0;return a>e?a:e},0);let eh=(0,d.isSuperbitUnlocked)(s,"MSA_Mealing"),ef=0;eh&&(ef=eh?.bonus);let eB=(0,p.getHighestTalentByClass)(l,p.CLASSES.Voidwalker,"ENHANCEMENT_ECLIPSE"),ev=Math.pow(Math.min(1.012,1+(0,p.getHighestTalentByClass)(l,p.CLASSES.Voidwalker,"BLOOD_MARROW")/100),O),e_=Math.max(1,(0,p.getVoidWalkerTalentEnhancements)(l,s,eB,146)),eM=t.atomsInfo.findIndex(({name:e})=>"Fluoride_-_Void_Plate_Chef"===e),eS=0,eb=n?.[eM];eb&&(eS=Math.pow(1+t.atomsInfo?.[eM]?.baseBonus*eb/100,A));let ey=(0,y.getVoteBonus)(s,13),ex=s?.hole?.holesObject,ek=(0,x.getMonumentBonus)({holesObject:ex,t:0,i:2}),eC=(0,k.getSchematicBonus)({holesObject:ex,t:56,i:0}),eT=(0,C.getLampBonus)({holesObject:ex,t:0,i:0}),ew=(0,T.getUpgradeVaultBonus)(s?.upgradeVault?.upgrades,54),eE=10*(1+ev/100)*Math.max(1,s?.farming?.cropDepot?.cookingSpeed?.value)*Math.max(1,e_)*(1+2*!!es)*(1+ey/100)*(1+ew/100)*(1+ec*Math.ceil((eg+1)/50)/100)*Math.max(1,er)*Math.max(1,eS)*(1+ef/100)*(1+W/10)*(1+eo/100)*(1+ed/100)*(1+J/100)*(1+K/100)*(1+(Y+Math.max(0,$))/100)*(1+z/100)*(1+P/100)*(1+ep/100)*(1+ek/100)*Math.max(1,eC)*(1+em/100)*(1+eT/100)*(1+X/100)*Math.max(1,el)*(1+Math.min(6*ea+(20*ei+10*eu),100)/100)*(1+Z*Math.floor((W+(U+q))/10)/100),eA=5*(1+ +!!es)*(1+ey/100)*Math.max(1,er)*Math.max(1,eS)*(1+ef/100)*(1+U/10)*(1+(0,r.getVialsBonusByEffect)(s?.alchemy?.vials,"Recipe_Cooking_Speed")/100)*(1+(0,a.getStampsBonusByEffect)(s,"New_Recipe_Cooking_Speed")/100)*(1+j(s,null,"Rcook")/100)*(1+Math.min(6*ea,50)/100)*(1+Z*Math.floor((W+(U+q))/10)/100),eO=1+Math.pow(5*q,.85)/100,eP=(0,r.getVialsBonusByEffect)(s?.alchemy?.vials,null,"Kcosts"),eL=j(s,null,"KitchC"),eI=(0,i.isArenaBonusActive)(f,b,7),eN=(0,r.getSigilBonus)(s?.alchemy?.p2w?.sigils,"GARLIC_GLOVE"),eR=(0,M.getIsland)(s,"Fractal"),eD=1/((1+(eP+eN)/100)*(1+30*!!eR?.shop?.find(({effect:e,unlocked:t})=>e.includes("Kitchen_Upgrade_Costs")&&t)/100)*(1+eL/100)*(1+40*!!es/100)*(1+.5*!!eI)),eF=1+eD*G(W),eG=1+eD*G(U),ej=1+eD*G(q),eW=[N,R,D,F].filter(e=>-1!==e),eU=eW.map(e=>parseInt(t.randomList[49]?.split(" ")[e])),eq=H(t.randomList[49],eU).filter(e=>e>0).map(e=>({index:e,rawName:t.cookingMenu?.[e]?.rawName,cookReq:t.cookingMenu?.[e]?.cookReq}));return{status:L,meal:{...t.cookingMenu?.[I]||{},...s?.cooking?.meals?.[I]||{}},luckLv:q,fireLv:U,speedLv:W,currentProgress:V,mealSpeed:eE,mealLuck:eO,fireSpeed:eA,speedCost:eF,fireCost:eG,luckCost:ej,...3===L?{spices:eW}:{},...3===L?{possibleMeals:eq}:{}}}).filter(e=>e)},H=(e,t)=>{let a=[];t.forEach(e=>{a.includes(e)||a.push(e)});let n=e.split(" ").map(e=>parseFloat(e)),l=t.reduce((e,t)=>e+n.indexOf(t),0);return e.includes(l)||a.push(l),!(t.length>2)||a.includes(l-1)||n.includes(l-1)||a.push(l-1),!(t.length>1)||a.includes(l+1)||n.includes(l+1)||a.push(l+1),a.sort((e,t)=>e<t?-1:1)},V=(e,t,a,n,l,s)=>{let{amount:o,level:r,cookReq:i}=t;if(r>=e)return 0;let u=0;for(let t=r;t<e;t++)u+=Y(t,n,s,l);return(u-=o)<0?0:K(u,i,a)},$=e=>{let t=(0,c.isArtifactAcquired)(e?.sailing?.artifacts,"Causticolumn"),a=(0,b.isJadeBonusUnlocked)(e,"Papa_Blob's_Quality_Guarantee"),n=(0,b.isJadeBonusUnlocked)(e,"Chef_Geustloaf's_Cutting_Edge_Philosophy");return 30+(0,w.getGrimoireBonus)(e?.grimoire?.upgrades,26)+(t?.bonus??0)+10*!!a+10*!!n},Y=(e,t,a,n)=>{let l=+!!a?.equinox?.challenges.find(e=>-1===e.current&&e.reward.includes("'Food_Lust'_Equinox_Upg_now_reduces_cost_by_-42%_per_stack"));return 1/Math.min(5,Math.max(1,1+10*(0,u.getAchievementStatus)(t,233)/100))*Math.max(.001,Math.pow(Math.max(.58,.8-.22*l),(0,g.getEquinoxBonus)(n||a?.equinox?.upgrades,"Food_Lust")))*(10+(e+Math.pow(e,2)))*Math.pow(1.2+.05*e,e)},K=(e,t,a)=>e*t/a,J=e=>e?.reduce((e,{speedLv:t,luckLv:a,fireLv:n})=>e+t+a+n,0),X=100,z=(e,t=10)=>{if(!e)return[];let{serverVars:a,timeAway:n,lab:l}=e||{},s=l?.chips,o=l?.jewels,r=Math.floor(n?.GlobalTime/604800),i=[];for(let n=0;n<t;n++){let t=[],l=Math.floor(1e3*new h.default(Math.round(r+n)).rand());t.push(Math.round(l-Math.floor(l/(s.length-10))*(s.length-10)));let u=Math.floor(1e3*new h.default(Math.round(r+n+500)).rand());t.push(Math.round(u-Math.floor(u/s.length)*s.length));let c=Math.floor(1e3*new h.default(Math.round(r+n+1e3)).rand());t.push(Math.round(c-Math.floor(c/o.length)*o.length));for(let e=0;3>e;e++){let a=[];for(let t=0;2>t;t++){let l=Math.floor(1e3*new h.default(Math.round(r+n+500*e+(-1+2*t))).rand()),i=2===e?Math.round(l-Math.floor(l/o.length)*o.length):Math.round(l-Math.floor(l/(s.length-10*(1-e)))*(s.length-Math.round(10*(1-e))));a.push(i)}if(a[0]===t[e])for(let l=0;100>l;l++){let i=Math.floor(1e3*new h.default(Math.round(r+n+500*e+765*(l+1))).rand()),u=2===e?Math.round(i-Math.floor(i/o.length)*o.length):Math.round(i-Math.floor(i/(s.length-10*(1-e)))*(s.length-Math.round(10*(1-e))));if(a[0]!==u&&a[1]!==u){t[e]=u;break}}}for(let n=0;3>n;n++){-1!==a.ChipRepo?.[n]&&(t[n]=a.ChipRepo?.[n]);let l=(0,b.isJadeBonusUnlocked)(e,"Laboratory_Bling");(t[n]>=21&&t[n]<=23||t[n]>=18&&t[n]<=20&&!l)&&(t[n]=Math.max(1,t[n]-10))}let m=Math.floor((r+n)*6048e5);t=t.map((e,t)=>2===t?o[e]:s[e]),i.push({items:t,date:new Date(m)})}return i},Q=e=>e?.reduce((e,{level:t})=>e+t,0)},267350,262887,e=>{"use strict";e.s(["applyGodCost",()=>R,"getDeityLinkedIndex",()=>j,"getDivStylePerHour",()=>N,"getDivinity",()=>L,"getGodBlessingBonus",()=>F,"getGodByIndex",()=>G,"getMinorDivinityBonus",()=>W],267350),e.s(["getJewelBonus",()=>v,"getLab",()=>p,"getLabBonus",()=>_,"getLabEfficiency",()=>w,"getPlayerLabChipBonus",()=>C,"getRequirementAmount",()=>T,"isGodEnabledBySorcerer",()=>f,"isLabEnabledBySorcererRaw",()=>h],262887);var t=e.i(608580),a=e.i(82748),n=e.i(775003),l=e.i(618332),s=e.i(210270),o=e.i(198659),r=e.i(173024),i=e.i(470242),u=e.i(264046),c=e.i(971176),m=e.i(304782);e.i(712738),e.i(685849);var d=e.i(805861);let p=(e,a,n,l)=>g((0,t.tryToParse)(e?.Lab)||e?.Lab,a,n,l),g=(e,t,n,l)=>{if(!e)return{};let o=n?.accountOptions?.[89],r=a.randomList?.[53],[c]=e,m=e[15],d=e[14],p=e[13],g=e?.slice(1,t?.length+1),f=[];for(let e=0;e<c.length;e+=2){let[n,l]=c.slice(e,e+2);f=[...f,{x:Math.round(n),y:Math.round(l),playerId:e/2,playerName:t?.[e/2]?.name,class:a.classes[t?.[e/2]?.CharacterClass]}]}f=f?.filter(e=>e?.playerName);let M=n?.lab?.jewels||d?.map((e,t)=>({...a.jewels?.[t]||{},acquired:1===e,rawName:`ConsoleJwl${t}`})).filter(({name:e})=>e),b=g?.map(e=>e.map(e=>a.chips?.[e]?{...a.chips?.[e],chipIndex:e}:e)),C=(n?.gemShopPurchases?.find((e,t)=>123===t)??0)*2,T=n?.hole?.godsLinks?.find(({index:e})=>1===e),w=[...t].filter((e,t)=>(0,s.isCompanionBonusActive)(n,0)||T||e?.AFKtarget==="Laboratory"||h(e,1)||n?.divinity?.linkedDeities?.[t]===1).map(e=>({...e,x:f?.[e?.playerId]?.x,y:f?.[e?.playerId]?.y})),E=structuredClone(a.chips);m?.map((e,t)=>{if(t<a.chips.length){let a=b.flatMap(e=>e).reduce((e,a)=>e+ +(a.index===E[t].index),0);E[t].repoAmount=e-a,E[t].amount=a}});let A=(n?.tasks?.[2]?.[3]?.[4]??0)*a.merits?.[3]?.[4]?.bonusPerLevel,O=t.filter(({CharacterClass:e})=>36===e),P=O?.reduce((e,t)=>e?.SkillLevels[536]>t?.SkillLevels[536]?e:t,O?.[0]);P&&(P={...P,...f?.[P?.playerId]});let L=(0,i.getEquinoxBonus)(n?.equinox?.upgrades,"Laboratory_Fuse"),I=(0,u.getWinnerBonus)(n,"+{ Lab Con Range"),N=!0,R=structuredClone(a.labBonuses),D=[];for(;N;){if(N=!1,(w=S(w,R,M,b,n,n?.cards,n?.gemShopPurchases,o,r,P,t,l)).length>0&&0===D.length){let e=y(w);e&&D.push(e)}for(let e=0;e<w.length;e++){let a,s;if(e<D.length){(a=x(w,D,D?.[e]))&&!D.find(e=>e.playerId===a.playerId)&&(s=!0,D=[...D,a]);let i=_(R,8),u=v(M,9,i),c=_(R,13),m=k(R,u,c,A,L,I,D?.[e],!1);R=m.resArr;let d=k(M,u,c,A,L,I,D?.[e],!0);M=d.resArr,M?.[16]?.acquired&&!M?.[16]?.active&&(M[16].active=!0,w=S(w,R,M,b,n,n?.cards,n?.gemShopPurchases,o,r,P,t,l),M[16].active=!1),R=(m=k(R,u,c,A,L,I,D?.[e],!1)).resArr,M=(d=k(M,u,c,A,L,I,D?.[e],!0)).resArr,N=N||s||d?.newConnection||m?.newConnection}}}let F=v(M,19),G=_(R,8),j=v(M=M.map((e,t)=>({...e,multiplier:19===t?1:G+(M?.[19]?.active?F:0)/100})),18);R=R.map((e,t)=>{if(15!==t)return e;let a=e?.bonusOn+j;return{...e,bonusOn:a,description:e?.description?.replace("1.25",`1.${a}`)}});let W=n?.breeding.speciesUnlocks.reduce((e,t)=>e+t,0),U=M?.[1]?.active;R=B(R,W*(U?1.75:1),0,U?1.75:1);let q=n?.storage?.list?.filter(e=>e.amount>=1e7).length,H=1.5*!!M?.[17]?.active;R=B(R,q*(2+H),11,2+H);let V=Math.floor(n?.deathNote?.[0]?.mobs?.[0].kills/1e6),$=R?.[13]?.active?1.6*V:0,Y=V*R?.[9]?.bonusOn;return R=B(R,Y+$,9),{playersCords:f=f?.map((e,t)=>{let a=w?.find(({playerId:e})=>e===t);return{...e,lineWidth:a?.lineWidth||e?.lineWidth||0,soupedUp:t<C}}),playersChips:b??[],connectedPlayers:D,jewels:M,chips:E,labBonuses:R,totalRawChips:m.reduce((e,t)=>e+Math.max(0,t),0),currentRotation:p}},h=(e,t)=>{if(a.classes?.[e?.CharacterClass]===r.CLASSES.Elemental_Sorcerer)return e?.SkillLevels?.[505]%10===t},f=(e,t)=>{if((0,r.checkCharClass)(e?.class,r.CLASSES.Elemental_Sorcerer)){let a=e.flatTalents?.find(({talentId:e})=>505===e);return a?.level%10===t}},B=(e,t,a,n="")=>e?.map((e,l)=>l===a?{...e,bonusOn:t,extraData:n,bonusDesc:t}:e),v=(e,t,a=1)=>{let n=e?.find(e=>e.index===t)||{};return n?.active?n?.bonus*(n?.multiplier||a):0},_=(e,t)=>{let a=e?.find(e=>e.index===t)||{};return(a?.active?a?.bonusOn:a?.bonusOff)??0},M=(e,t,a,n)=>.9604339*Math.max(Math.abs(e-a),Math.abs(t-n))+.397824735*Math.min(Math.abs(e-a),Math.abs(t-n)),S=(e,t,a,n,l,o,r,i,u,c,m,d)=>e?.map(e=>{let p=(r?.find((e,t)=>123===t)??0)*2,g=20*!!(0,s.isArenaBonusActive)(i,u,13),h=m?.find(({name:t})=>t===e?.name)?.playerId,f=b(e,e?.Lv0?.[12],p>0&&h<=p,t,a,n?.[e?.playerId],l,o,g,c,d);return{...e,lineWidth:f}}),b=(e,s,i,u,c,m,d,p,g,h,f)=>{let B=_(u,8),S=50+2*(s??0),{acquired:b,x:y,y:x}=c[5];b&&150>M(y,x,e.x,e.y)&&(S*=1.25);let k=m?.reduce((e,t)=>6===t.index?e+t.baseVal:e,0),C=v(c,16,B),T=(0,n.getMealsBonusByEffectOrStat)(d,null,"PxLine",C),w=(0,n.getMealsBonusByEffectOrStat)(d,null,"LinePct",C),E=(0,l.getCardBonusByEffect)(p,"Line_Width_(Passive)"),A=(0,o.getShinyBonus)(d?.breeding?.pets,"Line_Width_in_Lab"),O=0;if(e?.x>=h?.x){let e=h.SkillLevels[536]||0,n=a.talents?.[r.CLASSES.Bubonic_Conjuror]?.PURPLE_TUBE||{};O=f?(0,r.getHighestTalentByClass)(f,r.CLASSES.Bubonic_Conjuror,"PURPLE_TUBE",!1,!0):(0,t.growth)(n?.funcX,e,n?.x1,n?.x2,!1)??0}return Math.floor((S+T+Math.min(E,50))*(1+(O+w+(k+20*g+A+30*!!i))/100))},y=e=>{for(let t=0;t<e.length;t++){let{x:a,y:n,lineWidth:l}=e[t];if(M(43,229,a,n)<l)return e[t]}return null},x=(e,t,a)=>{for(let n=0;n<e.length;n++){let{x:l,y:s,lineWidth:o}=e[n],r=M(a.x,a.y,l,s)<o;if(!t.find(t=>t.playerId===e[n].playerId)&&r)return e[n]}return null},k=(e,t,a,n,l,s,o,r)=>e?.reduce((e,i,u)=>{let c=!1,m=!r&&(13===u||8===u)||9===u&&r||19===u&&r?80:r&&(21===u||22===u||23===u)?100:80*(1+(t+a)/100)+n+l+s;return M(o.x,o.y,i.x,i.y)<m&&!i.active&&(!r||r&&i.acquired)&&(i.active=!0,c=!0),{resArr:[...e.resArr,i],newConnection:c}},{resArr:[],newConnection:!1}),C=(e,t,a)=>t?.lab?.playersChips?.[e?.playerId]?.reduce((e,t)=>t?.index===a?e+t?.baseVal:e,0)??0,T=(e,t,a)=>{let n;if(t.includes("Spice")){let e=a?.cooking?.spices?.available?.find(({rawName:e})=>e===t);n=e?.amount||0}else if(t.includes("CookingM")){let t=a?.cooking?.meals?.find(({name:t})=>t===e);n=t?.amount||0}else n=(0,c.calculateItemTotalAmount)(a?.storage?.list,t,!0,!0);return n},w=(e,t,a,n)=>{let l=(0,m.getAllEff)(e,t,a),o=(0,r.getTalentBonus)(e?.flatTalents,"SKILL_WIZ"),i=(0,r.getTalentBonus)(e?.flatTalents,"UPLOAD_SQUARED"),u=(0,r.getTalentBonus)(e?.flatTalents,"SMART_EFFICIENCY"),p=(0,c.getStatsFromGear)(e,63,a),g=(0,c.getStatsFromGear)(e,66,a),h=(0,s.isMasteryBonusUnlocked)(a?.rift,a?.totalSkillsLevels?.laboratory?.rank,0),f=(0,d.getPostOfficeBonus)(e?.postOffice,"Science_Spare_Parts",0),B=(0,m.getAllBaseSkillEff)(e,a,t,n);return l*(200+(Math.pow(e?.stats?.wisdom,.6)*(1+o/100)+(p+(B+f))))*(1+(i+(g+10*h))/100)*(1+u/100)};var E=e.i(172833),A=e.i(394699);let{tryToParse:O}=e.r(608580),{gods:P}=e.r(82748),L=(e,t,a)=>{let n=O(e?.Divinity)||e?.Divinity;return n?I(n,t,a):null},I=(e,t,a)=>{let n=t?.length,l=e?.slice(12,12+n),s=e?.slice(28,28+P?.length+1),o=e?.slice(0,t?.length+1),r=e?.[25],i=r-10;return{linkedDeities:l,linkedStyles:o,deities:P?.map((e,t)=>{let n=s?.[t],l=1;(0,A.isJadeBonusUnlocked)(a,"True_Godly_Blessings")&&(l=1+.05*Math.max(0,i));let o=n*e?.blessingMultiplier*l;return 2===t&&(o=Math.min(o,500)),{...e,rawName:`DivGod${t}`,level:n,blessingBonus:o,unlocked:t<r}}),blessingLevels:s,unlockedDeities:r,godRank:i<0?0:i}},N=e=>0===e?1:1===e?2:2===e||3===e?1:4===e?7:5===e?3:6===e?8:7===e&&10,R=e=>e?.divinity?.deities?.map((t,a)=>({...t,cost:D(t,a,e)})),D=({name:e,level:t,x4:a,x5:n}={},l,s)=>{if(t<100){let e=a*Math.pow(n,t),o=a*Math.pow(n,t+1),r=((e,t,a,n=100)=>{let l=0;for(let s=e;s<n;s++)l+=t*Math.pow(a,s);return l})(t,a,n);return 0===l||8===l||4===l||2===l?{type:"bits",cost:e,nextLevelCost:o,costToMax:r,currency:s?.gaming?.bits}:1===l?{type:"sailingGold",cost:e,nextLevelCost:o,costToMax:r,currency:s?.sailing?.lootPile?.[0]}:3===l||6===l?{type:"coins",cost:e,nextLevelCost:o,costToMax:r,currency:s?.currencies?.rawMoney}:{type:"particles",cost:e,nextLevelCost:o,costToMax:r,currency:s?.atomCollider?.particles}}return{cost:"MAX"}},F=(e,t)=>e?.find(({name:e})=>e===t)?.blessingBonus??0,G=(e,t,a)=>{let n=t?.find((t,n)=>e?.[n]===a);return n?.deityMinorBonus},j=(e,t,a)=>{let n=e?.hole?.godsLinks?.find(({index:e})=>e===a),l=e?.divinity?.linkedDeities?.map((t,n)=>a===t||(0,s.isCompanionBonusActive)(e,0)&&e?.finishedWorlds?.World4?n:-1),o=t.map((t,n)=>f(t,a)||(0,s.isCompanionBonusActive)(e,0)&&e?.finishedWorlds?.World4?n:-1);return l?.map((e,t)=>n?t:-1===e&&o?.[t]!==-1?o?.[t]:e).filter(e=>-1!==e)||[]},W=(e,t,a,n)=>{let l=n?.find(e=>e.equippedBubbles?.find(({bubbleName:e})=>"BIG_P"===e)),s=(0,E.getActiveBubbleBonus)((l||e||n?.[0])?.equippedBubbles,"BIG_P",t),o=(e||l||n?.[0])?.skillsInfo?.divinity?.level,r=a??t?.divinity?.linkedDeities?.[e.playerId],i=P?.[r]?.godIndex;return o/(60+o)*Math.max(1,s)*P?.[i]?.minorBonusMultiplier}},173024,e=>{"use strict";e.s(["CLASSES",()=>y,"applyTalentAddedLevels",()=>I,"calcTalentMaxLevel",()=>W,"calcTotalStarTalent",()=>U,"checkCharClass",()=>F,"createTalentPage",()=>w,"getActiveBuffs",()=>E,"getBaseClass",()=>k,"getBubonicGreenTube",()=>G,"getCharacterByHighestTalent",()=>O,"getCrystalCountdownSkills",()=>q,"getFamilyBonusValue",()=>R,"getHighestMaxLevelTalentByClass",()=>P,"getHighestTalentByClass",()=>A,"getMaestroHand",()=>H,"getTalentAddedLevels",()=>L,"getTalentBonus",()=>S,"getTalentBonusIfActive",()=>b,"getVoidWalkerTalentEnhancements",()=>D,"mainStatMap",()=>C,"relevantTalents",()=>j,"starTalentsPages",()=>T,"talentPagesMap",()=>x]);var t=e.i(608580),a=e.i(82748),n=e.i(161866),l=e.i(210270),s=e.i(267350),o=e.i(470242),r=e.i(942144),i=e.i(685849),u=e.i(372110),c=e.i(10051),m=e.i(618332),d=e.i(172833),p=e.i(198659),g=e.i(787031),h=e.i(71791),f=e.i(521637),B=e.i(476219),v=e.i(781357),_=e.i(384308),M=e.i(878012);let S=(e=[],a,n,l,s,o,r=!1)=>{if(!e||!Array.isArray(e))return 0;let i=e?.find(({name:e})=>e===a);if(!i)return 0;let u=i?.level;return((i?.level>0||r)&&(u=l?i?.maxLevel:i?.level,u=o&&(r||i?.level>i?.maxLevel)?i?.maxLevel+s:s?u-s:u),n)?(0,t.growth)(i?.funcY,u,i?.y1,i?.y2,!1)??0:(0,t.growth)(i?.funcX,u,i?.x1,i?.x2,!1)??0},b=(e,a,n="x")=>e?.reduce((e,{name:l,funcX:s,level:o,x1:r,x2:i,funcY:u,y1:c,y2:m}={})=>l===a?"x"===n?(0,t.growth)(s,o,r,i,!1):(0,t.growth)(u,o,c,m,!1):e,0)??0,y={Beginner:"Beginner",Journeyman:"Journeyman",Maestro:"Maestro",Voidwalker:"Voidwalker",Warrior:"Warrior",Barbarian:"Barbarian",Blood_Berserker:"Blood_Berserker",Death_Bringer:"Death_Bringer",Squire:"Squire",Divine_Knight:"Divine_Knight",Archer:"Archer",Bowman:"Bowman",Siege_Breaker:"Siege_Breaker",Hunter:"Hunter",Beast_Master:"Beast_Master",Wind_Walker:"Wind_Walker",Mage:"Mage",Shaman:"Shaman",Bubonic_Conjuror:"Bubonic_Conjuror",Arcane_Cultist:"Arcane_Cultist",Wizard:"Wizard",Elemental_Sorcerer:"Elemental_Sorcerer"},x={[y.Beginner]:[y.Beginner],[y.Journeyman]:[y.Beginner,y.Journeyman],[y.Maestro]:[y.Beginner,y.Journeyman,y.Maestro],[y.Voidwalker]:[y.Beginner,y.Journeyman,y.Maestro,y.Voidwalker],[y.Warrior]:["Rage_Basics",y.Warrior],[y.Barbarian]:["Rage_Basics",y.Warrior,y.Barbarian],[y.Blood_Berserker]:["Rage_Basics",y.Warrior,y.Barbarian,y.Blood_Berserker],[y.Death_Bringer]:["Rage_Basics",y.Warrior,y.Barbarian,y.Blood_Berserker,y.Death_Bringer],[y.Squire]:["Rage_Basics",y.Warrior,y.Squire],[y.Divine_Knight]:["Rage_Basics",y.Warrior,y.Squire,y.Divine_Knight],[y.Archer]:["Calm_Basics",y.Archer],[y.Bowman]:["Calm_Basics",y.Archer,y.Bowman],[y.Siege_Breaker]:["Calm_Basics",y.Archer,y.Bowman,y.Siege_Breaker],[y.Hunter]:["Calm_Basics",y.Archer,y.Hunter],[y.Beast_Master]:["Calm_Basics",y.Archer,y.Hunter,y.Beast_Master],[y.Wind_Walker]:["Calm_Basics",y.Archer,y.Hunter,y.Beast_Master,y.Wind_Walker],[y.Mage]:["Savvy_Basics",y.Mage],[y.Shaman]:["Savvy_Basics",y.Mage,y.Shaman],[y.Bubonic_Conjuror]:["Savvy_Basics",y.Mage,y.Shaman,y.Bubonic_Conjuror],[y.Arcane_Cultist]:["Savvy_Basics",y.Mage,y.Shaman,y.Bubonic_Conjuror,y.Arcane_Cultist],[y.Wizard]:["Savvy_Basics",y.Mage,y.Wizard],[y.Elemental_Sorcerer]:["Savvy_Basics",y.Mage,y.Wizard,y.Elemental_Sorcerer]};function k(e){let t=x[e];return t?e===y.Beginner||t[0]===y.Beginner?y.Beginner:t[1]:null}let C={[y.Beginner]:"luck",[y.Journeyman]:"luck",[y.Maestro]:"luck",[y.Voidwalker]:"luck",[y.Warrior]:"strength",[y.Barbarian]:"strength",[y.Blood_Berserker]:"strength",[y.Death_Bringer]:"strength",[y.Squire]:"strength",[y.Divine_Knight]:"strength",[y.Archer]:"agility",[y.Bowman]:"agility",[y.Siege_Breaker]:"agility",[y.Hunter]:"agility",[y.Beast_Master]:"agility",[y.Wind_Walker]:"agility",[y.Mage]:"wisdom",[y.Shaman]:"wisdom",[y.Bubonic_Conjuror]:"wisdom",[y.Arcane_Cultist]:"wisdom",[y.Wizard]:"wisdom",[y.Elemental_Sorcerer]:"wisdom"},T=["Special Talent 1","Special Talent 2","Special Talent 3","Special Talent 4","Special Talent 5"],w=(e,t,n,l,s)=>t?t.reduce((e,t,o)=>{let r=Object.entries(a.talents?.[t]||{})?.map(([,e])=>({talentId:e.skillIndex,...e,level:n[e.skillIndex]||0,maxLevel:l[e.skillIndex]||-1}));return s?{...e,talents:{...e?.talents,orderedTalents:[...e?.talents?.orderedTalents||[],...r]},flat:[...e?.flat||[],...r]}:{...e,flat:[...e?.flat||[],...r],talents:{...e?.talents,[o]:{name:t,id:a.classes?.indexOf(t),orderedTalents:r}}}},{flat:[],talents:{}}):{flat:[],talents:{}},E=(e,t)=>e?.map(([e])=>t?.find(({talentId:t})=>e===t))?.filter(e=>e),A=(e,t,a,n,l,s=!1)=>{let o=e?.filter(e=>F(e?.class,t));return o?.reduce((e,{flatTalents:t,addedLevels:o})=>{let r=S(t,a,n,l,!!s&&o+1);return r>e?r:e},0)},O=(e,t,a,n,l)=>{let s=e?.filter(e=>F(e?.class,t));return s?.reduce((e,t)=>{let{flatTalents:s}=t;return S(s,a,n,l)>e?t:e},0)},P=(e,t,a)=>{let n=e?.filter(e=>F(e?.class,t));return n?.reduce((e,{flatTalents:t})=>{let n=t?.find(({name:e})=>e===a);return n?.maxLevel>e?.maxLevel?n:e},{maxLevel:0})},L=(e,a,r,i,u,c,m,d,p)=>{let g=0,h,B=d?.hole?.godsLinks?.find(({index:e})=>1===e);(0,l.isCompanionBonusActive)(d,0)||B?g+=Math.ceil((0,s.getMinorDivinityBonus)(p,d,1)):1===r?g+=Math.ceil(u):1===i&&(g+=Math.ceil(c)),h=[{name:"God Bonus",value:Math.ceil(g)}];let v=e?.[3]?.orderedTalents?.find(({name:e})=>e.includes("SYMBOLS_OF_BEYOND_")),S=0;return v&&v?.level>0&&(g+=S=(0,t.growth)(v?.funcX,v?.level,v?.x1,v?.x2,!1)??0),(0,n.getAchievementStatus)(d?.achievements,291)&&(g+=1),m&&(g+=Math.floor(m)),(0,l.isCompanionBonusActive)(d,1)&&(g+=d?.companions?.list?.at(1)?.bonus),d.accountOptions?.[232]>=3&&(g+=5),g+=(0,o.getEquinoxBonus)(d?.equinox?.upgrades,"Equinox_Symbols"),g+=(0,f.getGrimoireBonus)(d?.grimoire?.upgrades,39),g+=(0,_.getArmorSetBonus)(d,"KATTLEKRUK_SET"),{value:g+=Math.min(5,(0,M.getTesseractBonus)(d,57)),breakdown:h=[{title:"Additive"},{name:""},...h,{name:"Symbol of Beyond",value:S},{name:"Family",value:Math.floor(m)},{name:"Achievement",value:+!!(0,n.getAchievementStatus)(d?.achievements,291)},{name:"Companion",value:(0,l.isCompanionBonusActive)(d,1)?d?.companions?.list?.at(1)?.bonus:0},{name:"Equinox",value:(0,o.getEquinoxBonus)(d?.equinox?.upgrades,"Equinox_Symbols")},{name:"Grimoire",value:(0,f.getGrimoireBonus)(d?.grimoire?.upgrades,39)},{name:"Kattlekruk set",value:(0,_.getArmorSetBonus)(d,"KATTLEKRUK_SET")},{name:"Tesseract",value:Math.min(5,(0,M.getTesseractBonus)(d,57))},{name:"Ninja mastery",value:5*(d.accountOptions?.[232]>=3)}]}},I=(e,t,a)=>t?t.map(e=>({...e,level:e.level>=1&&!N(e?.skillIndex)?Math.floor(e.level+a):e.level,baseLevel:e.level})):Object.entries(e).reduce((e,[t,n])=>{let{orderedTalents:l}=n,s=l?.map(e=>({...e,level:e.level>=1&&!N(e?.skillIndex)?Math.floor(e.level+a):e.level,baseLevel:e.level}));return{...e,[t]:{...n,orderedTalents:s}}},{}),N=e=>49<=e&&59>=e||149===e||374===e||539===e||505===e||614<e,R=function(e,t,a,n){return 10>e&&-1!==t.indexOf("decay")?Math.round(100*e)/100:1>e||"add"===t&&1>n&&100>e||25>e&&"decay"===t?Math.round(10*e)/10:Math.round(e)},D=(e,t,a,n,l)=>{let s=[];if(a>=25&&s.push(42),a>=50&&s.push(318),a>=75&&s.push(497),a>=100&&s.push(79),a>=125&&s.push(146),a>=150&&s.push(362),a>=175&&s.push(43),a>=200&&s.push(536),a>=225&&s.push(165),a>=250&&s.push(35),-1!==s.indexOf(n)){if(42===n||79===n)return!0;if(146===n){let t=(e?.filter(e=>F(e?.class,y.Blood_Berserker))).at(-1);return t?Math.pow(1.1,t?.chow.finished?.[1]??0):1}if(536===n)return 1;if(35===n){let{stats:e}=l||{};return(e?.luck<1e3?(Math.pow(e?.luck+1,.37)-1)/30:(e?.luck-1e3)/(e?.luck+2500)*.8+.3963)*(1+S(l?.flatTalents,"LUCKY_CHARMS")/100)/1.8}}return 0},F=(e,t)=>x[e]?.includes(t),G=(e,t,a)=>{let n=a?.lab?.playersCords?.[e?.playerId],l=a?.lab?.playersCords?.filter(({class:e})=>F(e,y.Bubonic_Conjuror));return n&&l?.length!==0&&l?.some(({x:e})=>e>n?.x)?A(t,y.Bubonic_Conjuror,"GREEN_TUBE"):0},j={32:!0,130:!0,490:!0,25:!0,45:!0,370:!0,145:!0},W=e=>Object.values(e.reduce((e,{flatTalents:t,flatStarTalents:a})=>([...t||[],...a||[]].forEach(({skillIndex:t,maxLevel:a})=>{(!e?.[t]||a>e?.[t])&&(e[t]=a)}),e),{})).reduce((e,t)=>e+t,0),U=(e,t)=>Math.max(...Object.values(e.reduce((e,s)=>{let o=s?.skillsInfoArray?.reduce((e,{level:t},a)=>a>0&&a<=9?e+t:e,-3),f=S(s?.flatTalents,"STAR_PLAYER"),v=S(s?.flatStarTalents,"STONKS!"),_=S(s?.flatTalents,"SUPERNOVA_PLAYER"),M=(0,l.getHighestLevelOfClass)(t?.charactersLevels,y.Elemental_Sorcerer,!0),b=(0,r.getFamilyBonusBonus)(a.classFamilyBonuses,"_STAR_TAB_TALENT_POINTS",M);if(F(s?.class,y.Elemental_Sorcerer)){b*=1+S(s?.flatTalents,"THE_FAMILY_GUY")/100;let e=(0,r.getFamilyBonus)(a.classFamilyBonuses,"_STAR_TAB_TALENT_POINTS");b=R(b,e?.func,e?.x1,e?.x2)}let x=(0,i.getStampsBonusByEffect)(t,"Talent_Points_for_Star_Tab"),k=(0,u.getGuildBonusBonus)(t?.guild?.guildBonuses,11),C=(0,c.getDungeonFlurboStatBonus)(t?.dungeons?.upgrades,"Talent_Pts"),T=(0,m.getCardBonusByEffect)(t?.cards,"Star_Talent_Pts_(Passive)"),w=(0,d.getSigilBonus)(t?.alchemy?.p2w?.sigils,"TWO_STARZ"),E=(0,n.getAchievementStatus)(t?.achievements,212),A=(0,n.getAchievementStatus)(t?.achievements,289),O=(0,n.getAchievementStatus)(t?.achievements,305),P=(0,p.getShinyBonus)(t?.breeding?.pets,"Star_Talent_Pts"),L=(0,g.getBribeBonus)(t?.bribes,"Star_Scraper"),I=(0,h.getIsland)(t,"Fractal"),N=I?.shop?.find(({effect:e,unlocked:t})=>e.includes("Star_Talent_Pts")&&t),D=(0,B.getUpgradeVaultBonus)(t?.upgradeVault?.upgrades,53),G=(0,l.isCompanionBonusActive)(t,20)?t?.companions?.list?.at(20)?.bonus:0,j=Math.floor(s?.level-1+(o+f+(t?.talentPoints?.[5]+b+(v+(x+(_+(Math.floor(k)+(C+(T+(w+(10*E+(20*A+(20*O+(P+(L+100*!!N+D+G)))))))))))))));return{...e,[s.name]:j}},{}))),q=()=>Object.values(v.skillIndexMap).filter((e,t)=>t>0&&t<=9).reduce((e,{icon:t})=>({...e,[t]:!0}),{}),H=(e,t,a,n,l)=>{let s=a?.filter(e=>F(e?.class,y.Maestro))?.at(-1),o=S(s?.flatTalents,l,!1,!0),r=D(a,n,S(s?.flatTalents,"ENHANCEMENT_ECLIPSE"),42);return F(e?.class,y.Maestro)&&r&&(o*=2),e?.skillsInfo?.[t]?.level>s?.skillsInfo?.[t]?.level&&(o=0),o}},433568,e=>{"use strict";e.s(["calcShrineLevels",()=>f,"getShrineBonus",()=>h,"getShrineExpBonus",()=>p,"getShrines",()=>m]);var t=e.i(608580),a=e.i(82748),n=e.i(618332),l=e.i(24174),s=e.i(39188),o=e.i(210270),r=e.i(805861),i=e.i(173024),u=e.i(172833),c=e.i(441132);let m=(e,a)=>d(e?.ShrineInfo||(0,t.tryToParse)(e?.Shrine),e?.TowerInfo||(0,t.tryToParse)(e?.Tower),a),d=(e,t,l)=>{let s=l?.lab?.labBonuses?.find(e=>"Shrine_World_Tour"===e.name)?.active,o=e?.map((e,t)=>{let[,,,s]=e,{baseBonus:o,bonusPerLevel:r}=a.shrines[18+t];return(1+(0,n.getCardBonusByEffect)(l?.cards,"Shrine_Effects_(Passive)")/100)*((s-1)*r+o)});return e?.reduce((r,i,u)=>{let c=18+u,[m,,,d,p]=i,{shrineName:g,desc:h,baseBonus:f,bonusPerLevel:B}=a.shrines[c],v=(0,n.getCardBonusByEffect)(l?.cards,"Shrine_Effects_(Passive)"),_=e?.[2]?.[0]===m?o?.[2]:0;return"Unknown"!==g?[...r,{mapId:m,shrineLevel:d,name:g,rawName:`ConTowerB${c}`,bonus:(1+v/100)*((d-1)*B+f),progress:p,desc:h,worldTour:s,crystalShrineBonus:_,shrineTowerValue:t?.[18+u]}]:r},[])},p=(e,t)=>{let a=Array(9).fill(0),n={};return e?.forEach(m=>{m?.mapIndex;let d=+!!(0,s.isSuperbitUnlocked)(t,"Shrine_Speed"),p=(0,l.isArtifactAcquired)(t?.sailing?.artifacts,"Moai_Head"),h=0;p&&(h+=p?.acquired===3?p?.eldritchMultiplier:p?.acquired===2?p?.ancientMultiplier*2:p?.baseBonus);let f=(0,o.isMasteryBonusUnlocked)(t?.rift,t?.totalSkillsLevels?.construction?.rank,1)||0,B=(0,r.getPostOfficeBonus)(m?.postOffice,"Construction_Container",1),v=(0,o.getGoldenFoodBonus)("Golden_Cheese",m,t,e),_=(0,i.getTalentBonus)(m?.flatStarTalents,"SHRINE_ARCHITECT"),M=(0,u.getVialsBonusByEffect)(t?.alchemy?.vials,null,"ShrineSpd"),S=(0,c.getVoteBonus)(t,19);t?.shrines?.forEach((e,t)=>{let{shrineTowerValue:l,crystalShrineBonus:s}=e,o={name:m?.name,value:0};if(!g(e,m?.mapIndex))return o;let r=(1+50*d/100)*(1+(h+15*f)/100)*(1+S/100)*(1+10*l/100)*(1+(s+(B+(v+(_+M))))/100);a[t]+=r,n={...n,[t]:[...n?.[t]||[],{name:m?.name,value:r}]}})}),{total:a,breakdown:n}},g=(e,t)=>{let a=Math.floor(t/50),n=Math.floor(e?.mapId/50),l=e?.mapId%50==0;return e?.worldTour&&l&&a===n||t===e?.mapId},h=(e,t,a,n,s)=>{let o=e?.[t];if(!o)return 0;let r=!0===s||Array.isArray(s)&&(0,l.isArtifactAcquired)(s,"Moai_Head"),i=Math.floor(a/50),u=Math.floor(o?.mapId/50),c=o?.mapId%50==0,m=a!==o?.mapId,d=o?.worldTour&&c&&i===u||!!r;return o?.shrineLevel===0||m&&!d?0:o?.bonus},f=e=>e?Object.values(e)?.reduce((e,{shrineLevel:t})=>e+t,0):0},210270,e=>{"use strict";e.s(["calcTotalQuestCompleted",()=>eb,"calculateAfkTime",()=>G,"calculateLeaderboard",()=>Y,"calculateTotalSkillsLevel",()=>K,"enhanceColoTickets",()=>P,"enhanceKeysObject",()=>I,"getBundles",()=>R,"getCharacterByHighestSkillLevel",()=>H,"getCompanions",()=>ep,"getCurrencies",()=>O,"getEventShopBonus",()=>ek,"getExpReq",()=>Z,"getFoodBonus",()=>ec,"getGiantMobChance",()=>ee,"getGoldenFoodBonus",()=>ea,"getGoldenFoodMulti",()=>et,"getHealthFoodBonus",()=>em,"getHighestCapacityCharacter",()=>er,"getHighestCharacterSkill",()=>$,"getHighestLevelCharacter",()=>V,"getHighestLevelOf",()=>U,"getHighestLevelOfClass",()=>q,"getItemCapacity",()=>ei,"getKillRoy",()=>e_,"getKillroyBonus",()=>eM,"getKillroySchedule",()=>ey,"getLibraryBookTimes",()=>C,"getMaterialCapacity",()=>j,"getMiniBossesData",()=>ev,"getMinigameScore",()=>ed,"getRandomEventItems",()=>eh,"getRandomEvents",()=>en,"getSkillMasteryBonusByIndex",()=>Q,"getSkillRankColor",()=>J,"getSlab",()=>A,"getSpeedBonusFromAgility",()=>W,"getTypeGen",()=>eu,"isArenaBonusActive",()=>F,"isBundlePurchased",()=>D,"isCompanionBonusActive",()=>eg,"isMasteryBonusUnlocked",()=>z]);var t=e.i(608580),a=e.i(781357),n=e.i(82748),l=e.i(173024),s=e.i(775003),o=e.i(172833),r=e.i(685849),i=e.i(161866);e.i(262887);var u=e.i(398241),c=e.i(733884),m=e.i(433568),d=e.i(39188),p=e.i(942144),g=e.i(971176),h=e.i(980753),f=e.i(532600),B=e.i(372110),v=e.i(109304),_=e.i(931),M=e.i(394699),S=e.i(787031),b=e.i(441132),y=e.i(476219),x=e.i(384308),k=e.i(712738);let C=(e,t,a)=>{let{bookCount:n,libTime:l,breakdown:s}=T(a,t,e),o=a?.timeAway,r=[16,18,20].map(l=>({breakpoint:l,time:w(n,l,a,t,e)-o?.BookLib}));return r=[...r,{breakpoint:0,time:w(0,20,a,t,e)}],{bookCount:n,next:E(n,a,t,e)?.value-l,breakdown:s,breakpoints:r}},T=(e,t,a)=>{let n=e?.accountOptions?.[55],l=e?.timeAway,s=l?.BookLib,o=(new Date).getTime()/1e3-l.GlobalTime,r=n;o>300&&(s+=o);let{breakdown:i}=E(r,e,t,a);for(;s>E(r,e,t,a)?.value;)s-=E(r,e,t,a)?.value,r+=1;return{bookCount:r,libTime:s,breakdown:i}},w=(e,t,a,n,l)=>{let s=0;for(let o=e;o<t;o++)s+=E(o,a,n,l)?.value;return s},E=(e,a,n,l)=>{let c=(0,t.tryToParse)(l?.Tower)||l?.Tower,m=(0,s.getMealsBonusByEffectOrStat)(a,"Library_checkout_Speed",null),p=(0,o.getBubbleBonus)(a,"IGNORE_OVERDUES",!1),g=(0,o.getVialsBonusByEffect)(a?.alchemy?.vials,"Talent_Book_Library"),h=(0,r.getStampsBonusByEffect)(a,"Talent_Book_Library_Refresh_Speed"),f=c?.[1],B=(0,u.getAtomBonus)(a,"Oxygen_-_Library_Booker"),v=(0,d.isSuperbitUnlocked)(a,"Library_Checkouts"),_=0;return v&&(_=v?.totalBonus),{value:Math.round(4*(3600/((1+m/100)*(1+B/100)*(1+(5*f+p+(g+(h+Math.min(30,Math.max(0,30*(0,i.getAchievementStatus)(a?.achievements,145)))+_)))/100)))*(1+10*Math.pow(e,1.4)/100)),breakdown:[{title:"Multiplicative"},{name:""},{name:"Meal Bonus",value:m},{name:"Atom Bonus",value:B},{name:"Tower Bonus",value:5*f},{name:"Bubble Bonus",value:p},{name:"Vial Bonus",value:g},{name:"Stamp Bonus",value:h},{name:"Superbit Bonus",value:_},{name:"Achievement Bonus",value:Math.min(30,Math.max(0,30*(0,i.getAchievementStatus)(a?.achievements,145)))}]}},A=e=>{let l=e?.Cards?.[1]||(0,t.tryToParse)(e?.Cards1),s=structuredClone(n.items),o={Motherlode:"Motherlode_x1",Island0:"Island0_x1",Dust0:"Dust0_x1",Dust1:"Dust1_x1",Dust2:"Dust2_x1",Dust3:"Dust3_x1",Dust4:"Dust4_x1",Dust5:"Dust5_x1"},r=n.slab?.map(e=>({name:s?.[e]?.displayName,rawName:o?.[e]||e,obtained:l?.includes(e),onRotation:a.filteredGemShopItems?.[e],unobtainable:a.filteredLootyItems?.[e]})),i=r?.filter(({obtained:e,unobtainable:t})=>!e&&!t)?.length;return{slabItems:r,lootyRaw:l,lootedItems:l?.length,missingItems:i,totalItems:n.slab?.length,rawLootedItems:l?.length}},O=(e,t,a)=>{let n=t?.CurrenciesOwned?.KeysAll||t?.CYKeysAll;if(t?.CurrenciesOwned)return{...t?.CurrenciesOwned,KeysAll:L(n)};let l={"1_HR_Time_Candy":1,"2_HR_Time_Candy":2,"4_HR_Time_Candy":4,"12_HR_Time_Candy":12,"24_HR_Time_Candy":24,"72_HR_Time_Candy":72},s={Steamy_Time_Candy:{min:1/6,max:24},Spooky_Time_Candy:{min:1/3,max:12},Cosmic_Time_Candy:{min:5,max:500}},o=[...e?.storage?.list,...(a?.charactersData||[])?.map(({inventory:e})=>e)?.flat()],r=o?.filter(({Type:e}={})=>"TIME_CANDY"===e);return{candies:{guaranteed:r?.reduce((e,{displayName:t,amount:a})=>s[t]?e:e+l[t]*a,0),special:r?.reduce((e,{displayName:t,amount:a})=>{let n=s[t];return n?{min:e?.min+n?.min*a,max:e?.max+n?.max*a}:e},{min:0,max:0})},WorldTeleports:t?.CYWorldTeleports,KeysAll:L(n),ColosseumTickets:t?.CYColosseumTickets,ObolFragments:t?.CYObolFragments,SilverPens:t?.CYSilverPens,GoldPens:t?.CYGoldPens,DeliveryBoxComplete:t?.CYDeliveryBoxComplete,DeliveryBoxStreak:t?.CYDeliveryBoxStreak,DeliveryBoxMisc:t?.CYDeliveryBoxMisc,minigamePlays:e?.accountOptions?.[33]??0}},P=(e,t,a)=>({allTickets:Object.entries({0:{name:"Typhoon",dialogThreshold:3,daysSinceIndex:15},1:{name:"Centurion",dialogThreshold:4,daysSinceIndex:35},2:{name:"Lonely_Hunter",dialogThreshold:6,daysSinceIndex:56}}).reduce((t,[,n],l)=>{let s=a?.accountOptions?.[n?.daysSinceIndex];return[...t,{rawName:`TixEZ${l}`,amountPerDay:1,daysSincePickup:s,amount:e,totalAmount:Math.min(s,3)}]},[]),totalAmount:e}),L=e=>e.reduce((e,t,n)=>n<5?[...e,{amount:t,...a.keysMap[n]}]:e,[]),I=(e,t,a)=>{let n={0:{name:"Dog_Bone",dialogThreshold:5,daysSinceIndex:16},1:{name:"Djonnut",dialogThreshold:6,daysSinceIndex:31},2:{name:"Bellows",dialogThreshold:8.5,daysSinceIndex:80},3:{}};return e.map((e,l)=>{let s=N(n?.[l],t),o=a?.accountOptions?.[n?.[l]?.daysSinceIndex];return{...e,amountPerDay:s,daysSincePickup:o,totalAmount:Math.min(o,3)*s}})},N=({name:e,dialogThreshold:t}={},a)=>a.reduce((a,{npcDialog:n})=>void 0===t?a:n?.[e]>t?a+1:a,0),R=e=>{let a=(0,t.tryToParse)(e?.BundlesReceived)||e?.BundlesReceived;return a?Object.entries(a)?.reduce((e,[t,a])=>a?[...e,{name:t,owned:!!a}]:e,[]).sort((e,t)=>e?.name?.match(/_[a-z]/i)?.[0].localeCompare(t?.name?.match(/_[a-z]/i)?.[0])):[]},D=(e,t)=>e?.find(({name:e})=>e===t),F=(e,t,a)=>{let n=t.split(" ");return!(a>n.length)&&e>=n[a]},G=e=>1e3*parseFloat(e),j=(e,t)=>{let{allCapacity:a,mattyBagStampBonus:n,gemShopCarryBonus:l,masonJarStampBonus:s,extraBagsTalentBonus:o,starSignExtraCap:r}=t;return Math.floor(e?.capacity*(1+n/100)*(1+25*l/100)*(1+(s+r)/100)*(1+o/100)*a)},W=(e=0)=>{let t=(Math.pow(e+1,.37)-1)/40;return e>1e3&&(t=(e-1e3)/(e+2500)*.5+.297),2*t+1},U=(e,t)=>{let a=e?.filter(e=>(0,l.checkCharClass)(e?.class,t));return a?.reduce((e,{level:t})=>t>e?t:e,0)},q=(e,t,a)=>{let n=e?.reduce((e,{level:t,class:a})=>(e?.[a]?e[a]=Math.max(e?.[a],t):e[a]=t,e),{}),s=l.talentPagesMap?.[t];a&&(s=s.filter(e=>e===t));let o=s?.find(e=>n?.[e]);return n?.[o]||0},H=(e,t,a)=>{let n;if(!e)return null;if(t){let a=l.talentPagesMap?.[t];n=e.filter(e=>a.includes(e.class))}else n=e;return n.reduce((e,t)=>t?.skillsInfo?.[a]?.level>e?.skillsInfo?.[a]?.level?t:e,n[0])},V=e=>Math.max(...e?.map(({level:e})=>e??0)),$=(e=[],t)=>Math.max(...e?.map(({skillsInfo:e})=>e?.[t]?.level??0)),Y=e=>{let t=e.reduce((e,{name:t,skillsInfo:a})=>{if(!a)return e;for(let[n,l]of Object.entries(a))if(e[n]){let a={...e[n],[t]:l},s=Object.keys(a).length;e[n]=Object.entries(a).sort(([,{level:e,exp:t}],[,{level:a,exp:n}])=>a-e||n-t).reduceRight((e,[t,a])=>({...e,[t]:{...a,rank:s--}}),{})}else e[n]={...e[n],[t]:l};return e},{});return Object.entries(t)?.reduce((e,[t,a])=>Object.entries(Object.entries(a).reduce((e,[a,n])=>({...e,[a]:{[t]:n}}),{})).reduce((t,[a,n])=>({...t,[a]:{...e[a]||{},...n}}),{}),{})},K=e=>{let t=e?.reduce((e,{skillsInfo:t})=>{if(!t)return e;for(let[a,n]of Object.entries(t))e?.[a]?e[a]={...e[a],level:(e[a].level+n?.level)??0}:e[a]={level:n?.level,index:n?.index-1,icon:n?.icon};return e},{});return Object.entries(t)?.reduce((e,[t,{level:a}])=>{let n=X(a);return{...e,[t]:{...e?.[t],rank:n,color:J(a)}}},t)},J=e=>e<300?"white":e>=300&&e<400?"#ffc277":e>=400&&e<600?"#cadadb":e>=600&&e<1e3?"gold":"#56ccff",X=e=>150>e?0:200>e?1:300>e?2:400>e?3:500>e?4:750>e?5:1e3>e?6:7,z=(e,t,a)=>e?.currentRift<15?0:+(t>a),Q=(e,t,a)=>Array(18).fill(1).reduce((n,l,s)=>{let o=((e,t)=>{for(let[,a]of Object.entries(e))if(a?.level>0&&a?.index===t)return a?.rank;return null})(e,s);return 1===a?n+=10*z(t,o,Math.round(a+2)):3===a?n+=z(t,o,Math.round(a+2)):4===a?n+=25*z(t,o,Math.round(a+2)):0!==s&&2!==s&&3!==s&&5!==s&&6!==s&&8!==s&&(n+=5*z(t,o,Math.round(a+2))),n},7),Z=(e,t)=>0===e?(15+Math.pow(t,1.9)+11*t)*Math.pow(1.208-Math.min(.164,.215*t/(t+100)),t)-15:2===e?(15+Math.pow(t,2)+13*t)*Math.pow(1.225-Math.min(.114,.135*t/(t+50)),t)-26:8===e?71>t?((10+Math.pow(t,2.81)+4*t)*Math.pow(1.117-.135*t/(t+5),t)-6)*(1+Math.pow(t,1.72)/300):((10+Math.pow(t,2.81)+4*t)*Math.pow(1.003,t)-6)/2.35*(1+Math.pow(t,1.72)/300):9===e?(15+Math.pow(t,1.3)+6*t)*Math.pow(1.17-Math.min(.07,.135*t/(t+50)),t)-26:(15+Math.pow(t,2)+15*t)*Math.pow(1.225-Math.min(.18,.135*t/(t+50)),t)-30,ee=(e,t)=>{let a=t?.accountOptions?.[57],n=(0,c.getPrayerBonusAndCurse)(e?.activePrayers,"Glitterbug",t)?.curse,l=(0,m.getShrineBonus)(t?.shrines,6,e?.mapIndex,t?.cards,t?.sailing?.artifacts),s=(0,o.getVialsBonusByStat)(t?.alchemy?.vials,"GiantMob");return{chance:a<5?1/((100+50*Math.pow(a+1,2))*(1+n/100))*(1+(l+s)/100):1/(2*Math.pow(a+1,1.95)*(1+n/100)*Math.pow(a+1,1.5+a/15))*(1+(l+s)/100),crescentShrineBonus:l,giantMobVial:s,glitterbugPrayer:n}},et=(e,t,a)=>{let u=q(t?.charactersLevels,l.CLASSES.Bubonic_Conjuror)??q(t?.charactersLevels,l.CLASSES.Shaman)??0,c=(0,l.getTalentBonus)(e?.flatTalents,"THE_FAMILY_GUY"),m=(0,p.getFamilyBonusBonus)(n.classFamilyBonuses,"GOLDEN_FOODS",u),d=(0,l.checkCharClass)(e?.class,l.CLASSES.Shaman),h=(0,g.getStatsFromGear)(e,8,t),f=(0,g.getStatsFromGear)(e,8,t,!0),B=(0,k.getObolsBonus)(e?.obols,n.bonuses?.etcBonuses?.[47]),_=(0,l.getTalentBonus)(e?.flatTalents,"HAUNGRY_FOR_GOLD"),y=(0,r.getStampsBonusByEffect)(t,"Effect_from_Golden_Food._Sparkle_sparkle!"),C=(0,i.getAchievementStatus)(t?.achievements,37),T=(0,o.getBubbleBonus)(t,"SHIMMERON",!1,l.mainStatMap?.[e?.class]==="strength"),w=(0,o.getSigilBonus)(t?.alchemy?.p2w?.sigils,"EMOJI_VEGGIE"),E=(0,M.getCharmBonus)(t,"Gumm_Stick"),A=(0,s.getMealsBonusByEffectOrStat)(t,null,"zGoldFood"),O=(0,v.getStarSignBonus)(e,t,"Golden_Food"),P=(0,S.getBribeBonus)(t?.bribes,"Gold_from_Lead"),L=(0,i.getAchievementStatus)(t?.achievements,380),I=(0,i.getAchievementStatus)(t?.achievements,383),N=(0,b.getVoteBonus)(t,26),R=a?.find(e=>(0,l.checkCharClass)(e?.class,l.CLASSES.Death_Bringer)),D=(0,l.getTalentBonus)(R?.flatTalents,"APOCALYPSE_WOW"),F=R?.wow?.finished?.at(0)||0;return{value:(1+(0,x.getArmorSetBonus)(t,"SECRET_SET")/100)*(Math.max(d?m*(c>0?1+c/100:1)||0:m,1)+(h+f+B+(_+(y+(C+(T+w)+A+O+P+E+(2*L+3*I+N+D*F)))))/100),expression:`(1 + armorSetBonus / 100)
* (Math.max(isShaman ? amplifiedFamilyBonus : familyBonus, 1)
+ (equipmentGoldFoodBonus
+ (hungryForGoldTalentBonus
+ (goldenAppleStamp
+ (goldenFoodAchievement
+ (goldenFoodBubbleBonus
+ goldenFoodSigilBonus) 
+ mealBonus 
+ starSignBonus
+ bribeBonus 
+ charmBonus
+ (2 * achievementBonus + 3 * secondAchievementBonus
+ voteBonus
+ apocalypseWow * apocalypses))))) / 100)`}},ea=(e,a,l,s)=>{if(!a)return 0;let o=a?.food?.find(({name:t})=>t===e),r=et(a,l,s),i=o?.Amount&&o?.amount?o?.Amount*r?.value*.05*(0,t.lavaLog)(1+o?.amount)*(1+(0,t.lavaLog)(1+o?.amount)/2.14):0;if((0,M.isJadeBonusUnlocked)(l,"Gold_Food_Beanstalk")){let a=l?.sneaking?.beanstalkData,s=n.ninjaExtraInfo[29].split(" ").filter(e=>isNaN(e)).map((e,t)=>({...n.items?.[e]||{},active:a?.[t]>0,index:t})),o=s?.find(({displayName:t,active:a})=>t===e&a);return o?i+o?.Amount*r?.value*.05*(0,t.lavaLog)(1+1e3*Math.pow(10,a?.[o?.index]))*(1+(0,t.lavaLog)(1+1e3*Math.pow(10,a?.[o?.index]))/2.14):i}return i},en=e=>{if(!e)return[];let{serverVars:t,timeAway:a}=e||{},l=[],s=Math.round(Math.floor(a?.GlobalTime/3600));for(let e=0;e<100;e++){let a=s+e+t?.RandEvntHr,o=eo(new h.default(a).rand()),r=new h.default(a+1).rand(),i=el(o);if(0===i.length)continue;let u=Math.min(Math.floor(r*i.length),i.length-1),c=n.rawMapNames?.indexOf(i?.[u]);if(-1===c)continue;let m=n.mapNames?.[c],d=es(o),p=(s+e+1)*36e5;(0,f.isPast)(p)||(new Date(p).isDstObserved()&&(p-=36e5),l.push({mapName:m,eventName:d,date:p}))}return l},el=e=>{let[t,a,l]=n.randomList.slice(68,71),s=[];return(0===e||1===e||3===e||4===e)&&(s=s.concat(t.split(" "))),(0===e||1===e||3===e)&&(s=s.concat(a.split(" "))),(0===e||2===e)&&(s=s.concat(l.split(" "))),s},es=e=>({0:"Meteorite",1:"Mega_Grumblo",2:"Glacial_Guild",3:"Snake_Swarm",4:"Angry_Frogs"})[e]??"",eo=e=>.045>e?0:.087>e?1:.129>e?2:.171>e?3:.213>e?4:-1,er=(e,t,a,n)=>t?.reduce((t,l)=>{let s=e?.itemType==="Equip"?1:ei(e?.typeGen,l,a,n)?.value,o=l?.inventorySlots*s;return o>t?.maxCapacity&&(t={capacityPerSlot:s,maxCapacity:o,character:l?.name,skillsInfoArray:l?.skillsInfoArray}),t},{capacityPerSlot:0,maxCapacity:0,character:""}),ei=(e="",t,a,n)=>{let s,o,i,u,d,p,g,h=a?.gemShopPurchases?.find((e,t)=>58===t),f=a?.lab?.playersChips.flat().concat(a?.lab?.chips).find(({name:e})=>"Silkrode_Nanochip"===e),_=(0,v.getStarSignBonus)(t,a,"Carry_Cap",n&&f,n),M=(0,r.getStampsBonusByEffect)(a,"Carrying_Capacity_for_Mining_Items",t),S=(0,r.getStampsBonusByEffect)(a,"Carrying_Capacity_for_Choppin'_Items",t),b=(0,r.getStampsBonusByEffect)(a,"Carry_Capacity_for_Fishing_Items",t),x=(0,r.getStampsBonusByEffect)(a,"Carry_Capacity_for_Catching_Items",t),k=(0,r.getStampsBonusByEffect)(a,"Carrying_Capacity_for_Material_Items",t),C=(0,r.getStampsBonusByEffect)(a,"Carry_Capacity_for_ALL_item_types!"),T=(0,l.getTalentBonus)(t?.flatTalents,"EXTRA_BAGS",!1,!1,t?.addedLevels,!0,n),w=(0,y.getUpgradeVaultBonus)(a?.upgradeVault?.upgrades,17),E=(s=(0,B.getGuildBonusBonus)(a?.guild?.guildBonuses,2),o=(0,l.getTalentBonus)(t?.flatStarTalents,"TELEKINETIC_STORAGE"),i=(0,m.getShrineBonus)(a?.shrines,3,t?.mapIndex,a?.cards,a?.sailing?.artifacts),u=n?0:(0,c.getPrayerBonusAndCurse)(t?.activePrayers,"Zerg_Rushogen",a)?.curse,d=(0,c.getPrayerBonusAndCurse)(t?.activePrayers,"Ruck_Sack",a,n)?.bonus,p=a?.bribes?.[23]?.done?a?.bribes?.[23]?.value:0,{value:(1+(s+o)/100)*(1+(g=eg(a,18)?a?.companions?.list?.at(18)?.bonus:0)/100)*(1+i/100)*Math.max(1-u/100,.4)*(1+(d+p)/100),breakdown:[{value:s,name:"Guild"},{value:o,name:"Talent"},{value:i,name:"Shrine"},{value:d+-u,name:"Prayer"},{value:p,name:"Bribe"},{value:g,name:"Companion"}]}),A,O=[{title:"Base"},{name:""},...E?.breakdown,{value:w,name:"Upgrade Vault"},{name:""}];return"bOre"===e||"bBar"===e||"cOil"===e?(A=Math.floor((w+t?.maxCarryCap?.Mining)*(1+M/100)*(1+25*h/100)*(1+(C+_)/100)*E?.value),O=[...O,{title:"Mining"},{name:""},{value:t?.maxCarryCap?.Mining,name:"Base Bag"},{value:M,name:"Stamps"},{value:h,name:"Gemshop"},{value:C,name:"All Stamps"},{value:_,name:"Star Sign"}]):"dFish"===e?(A=Math.floor((w+t?.maxCarryCap?.Fishing)*(1+25*h/100)*(1+b/100)*(1+(C+_)/100)*E?.value),O=[...O,{title:"Fishing"},{name:""},{value:t?.maxCarryCap?.Fishing,name:"Base Bag"},{value:b,name:"Stamps"},{value:h,name:"Gemshop"},{value:C,name:"All Stamps"},{value:_,name:"Star Sign"}]):"dBugs"===e?(A=Math.floor((w+t?.maxCarryCap?.Bugs)*(1+25*h/100)*(1+x/100)*(1+(C+_)/100)*E?.value),O=[...O,{title:"Catching"},{name:""},{value:t?.maxCarryCap?.Bugs,name:"Base Bag"},{value:x,name:"Stamps"},{value:h,name:"Gemshop"},{value:C,name:"All Stamps"},{value:_,name:"Star Sign"}]):"bLog"===e||"bLeaf"===e?(A=Math.floor((w+t?.maxCarryCap?.Chopping)*(1+S/100)*(1+25*h/100)*(1+(C+_)/100)*E?.value),O=[...O,{title:"Chopping"},{name:""},{value:t?.maxCarryCap?.Chopping,name:"Base Bag"},{value:S,name:"Stamps"},{value:h,name:"Gemshop"},{value:C,name:"All Stamps"},{value:_,name:"Star Sign"}]):"cFood"===e?(A=Math.floor((w+t?.maxCarryCap?.Foods)*(1+25*h/100)*(1+(C+_)/100)*E?.value),O=[...O,{title:"Food"},{name:""},{value:t?.maxCarryCap?.Foods,name:"Base Bag"},{value:h,name:"Gemshop"},{value:C,name:"All Stamps"},{value:_,name:"Star Sign"}]):"dCritters"===e?(A=Math.floor((w+t?.maxCarryCap?.Critters)*(1+25*h/100)*(1+(C+_)/100)*E?.value),O=[...O,{title:"Critters"},{name:""},{value:t?.maxCarryCap?.Critters,name:"Base Bag"},{value:h,name:"Gemshop"},{value:C,name:"All Stamps"},{value:_,name:"Star Sign"}]):"dSouls"===e?(A=Math.floor((w+t?.maxCarryCap?.Souls)*(1+25*h/100)*(1+(C+_)/100)*E?.value),O=[...O,{title:"Souls"},{name:""},{value:t?.maxCarryCap?.Souls,name:"Base Bag"},{value:h,name:"Gemshop"},{value:C,name:"All Stamps"},{value:_,name:"Star Sign"}]):"dCurrency"===e||"dQuest"===e||"dStatueStone"===e?A=999999:"bCraft"===e?(A=Math.floor((w+t?.maxCarryCap?.bCraft)*(1+k/100)*(1+25*h/100)*(1+(C+_)/100)*(1+T/100)*E?.value),O=[...O,{title:"Materials"},{name:""},{value:t?.maxCarryCap?.bCraft,name:"Base Bag"},{value:k,name:"Stamps"},{value:h,name:"Gemshop"},{value:C,name:"All Stamps"},{value:T,name:"Talent"},{value:_,name:"Star Sign"}]):A="dExpOrb"===e||"dStone"===e||"dFishToolkit"===e?999999:"fillerz"===e?t?.maxCarryCap?.fillerz:"d"===e.charAt(0)?999999:2,{value:A,breakdown:O}},eu=e=>({bCraft:"bCraft",Foods:"cFood",Mining:"bOre",Quests:"dQuest",Statues:"dStatueStone",Chopping:"bLog",Fishing:"dFish",Bugs:"dBugs",Critters:"dCritters",Souls:"dSouls"})[e],ec=(e,t,a,n=!1)=>{let l=(0,_.getPlayerFoodBonus)(e,t);return e?.food?.reduce((e,{Amount:t,Effect:s})=>e+(s===a?t*(n?1:l):0),0)},em=(e,t,a)=>{let n=(0,_.getPlayerFoodBonus)(e,t,!0);return e?.food?.reduce((e,{Trigger:t,Amount:l,Cooldown:s,Effect:o})=>e+(t>0&&o===a?l*n/Math.max(s,1)*3600:0),0)},ed=(e,t)=>e?.highscores?.minigameHighscores?.find(({minigame:e})=>e===t)?.score||0,ep=(e={})=>{let[t]=e?.e?.split(",")||[],a=n.companions?.[t],l=e?.l?.reduce((e,t)=>{let[a]=t?.split(",");return{...e,[a]:!0}},{}),s=n.companions?.map((e,t)=>({...e,acquired:!!l?.[t]}));return{totalBoxesOpened:e?.x,currentCompanion:a,list:s,lastFreeClaim:e?.t,petCrystals:e?.s,maxStorage:40}},eg=(e,t)=>e?.companions?.list?.at(t)?.acquired,eh=e=>{let t=n.randomList.slice(82,87).flat(),a=new Set(e?.looty?.lootyRaw);return t.reduce((e,t)=>a.has(t)?e+1:e,0)},ef=(e,t)=>({mini3b:Math.min(10,Math.floor(Math.pow((t<3?3:t)-3,.55))),mini4b:Math.min(8,Math.floor(Math.pow((t<3?3:t)-3,.5))),mini5a:Math.min(6,Math.floor(Math.pow((t<3?3:t)-3,.5))),mini6a:Math.min(6,Math.floor(Math.pow((t<3?3:t)-3,.5)))})[e],eB=(e,a,n)=>(0,t.createRange)(1,100).find(t=>{if(ef(e,a+t)>n)return t}),ev=e=>{let t=e?.accountOptions?.[96]??0,a=e?.accountOptions?.[98]??0,n=e?.accountOptions?.[225]??0,l=e?.accountOptions?.[226]??0,s=[ef("mini3b",t),ef("mini4b",a),ef("mini5a",n),ef("mini6a",l)];return[{current:s[0],maxed:s[0]>=10,rawName:"mini3b",name:"Dilapidated_Slush",unlocked:e?.finishedWorlds?.World3,daysTillNext:eB("mini3b",t,s[0])},{current:s[1],maxed:s[1]>=8,rawName:"mini4b",name:"Mutated_Mush",unlocked:e?.finishedWorlds?.World2,daysTillNext:eB("mini4b",a,s[1])},{current:s[2],maxed:s[2]>=6,rawName:"mini5a",name:"Domeo_Magmus",unlocked:e?.finishedWorlds?.World4,daysTillNext:eB("mini5a",n,s[2])},{current:s[3],maxed:s[3]>=6,rawName:"mini6a",name:"Demented_Spiritlord",unlocked:e?.finishedWorlds?.World5,daysTillNext:eB("mini6a",l,s[3])}].filter(({unlocked:e})=>e)},e_=(e,a,l,s)=>{let o=l?.accountOptions?.[105],r=(0,t.tryToParse)(e?.KRbest),i=Object.values(r||{}).reduce((e,t)=>e+t,0),u=1+Math.floor(Math.pow(i,.4))/100,c=l?.accountOptions?.[227]===1?3:2,m=ex(c,l,s),d=[{level:l?.accountOptions?.[106],description:"Increases your maximum time in room. Base time is 100 seconds.",upgrade:"+1 Second Timer"},{level:l?.accountOptions?.[107],description:"Increases chance for Talent Point drop, depends on how many Talent Point drops already got",upgrade:"+ Talent Drops"},{level:l?.accountOptions?.[108],description:"Increases chance of dropping skulls by mobs",upgrade:"+1% Bonus Skulls"},{level:l?.accountOptions?.[109],description:"Faster Respawn"},{level:l?.accountOptions?.[110],description:"Mobs can drop Dungeon Credits now",upgrade:"Dungeon Drops"},{level:l?.accountOptions?.[111],description:"Mobs can drop Pearls now",upgrade:"Pearl Drops"}],p=n.killRoySkullShop?.slice(10)?.map((e,t)=>{let a=eS(l,0===t||1===t?0:2===t||3===t?1:4===t?2:3);return{...e,level:0===t?l?.accountOptions?.[227]:1===t?l?.accountOptions?.[228]:2===t?0:3===t?l?.accountOptions?.[229]:4===t?l?.accountOptions?.[230]:1,bonus:a,description:e?.description?.replace("{",Math.floor(100*a)/100)}});return{list:n.deathNote.map(e=>{let t={...e,icon:`Mface${n.monsters?.[e.rawName].MonsterFace}`,name:n.monsters?.[e.rawName]?.Name};return r?.[e.rawName]?{...t,killRoyKills:r?.[e.rawName]??0}:t}),permanentUpgrades:p,totalKills:i,totalDamageMulti:u,rooms:c,killRoyClasses:m,upgrades:d,skulls:o}},eM=(e,t)=>e?.killroy?.permanentUpgrades?.[t]?.bonus,eS=(e,t)=>0===t?1+e?.accountOptions?.[228]/(300+e?.accountOptions?.[228]):1===t?1+e?.accountOptions?.[229]/(300+e?.accountOptions?.[229])*9:2===t?1+e?.accountOptions?.[230]/(300+e?.accountOptions?.[230])*2:1,eb=e=>Object.values(e.reduce((e,{questComplete:t})=>(Object.entries(t||{})?.forEach(([t,a])=>{e[t]||1!==a||(e[t]=1)},0),e),{})).reduce((e,t)=>e+t,0),ey=(e,t,a)=>{let n=e?.accountOptions?.[227]===1?3:2,l=[];for(let s=0;s<20;s++)l.push(ex(n,e,a,!0,s,t));return l},ex=(e,t,a,s=!1,o=0,r)=>{let i=[],u=[],c=t?.accountOptions?.[113],m={1:[0],21:[0,1],321:[0,1,2]},d=r?.some(({kills:e})=>e?.[200]>=0),p=Math.floor((t?.timeAway?.GlobalTime+Math.round(t?.timeAway?.ShopRestock+86400*t?.accountOptions?.[39]))/604800);for(let t=0;t<e;t++){if(!s&&m[c]&&m[c].includes(t))continue;let e=Math.round(p+o+(50*t+a.KillroySwap)),n=Math.max(0,Math.min(3,Math.ceil(3*new h.default(e).rand()-Math.floor(t/2))));i.push(n)}for(let l=0;l<e;l++){let e=Math.round(p+o+(50*l+a.KillroySwap)),s=Math.floor(1e3*new h.default(e).rand());if(s<300||0===l){let e=n.randomList[Math.round(68+l)].split(" "),t=Math.floor(s/e.length),a=Math.round(s-t*e.length);u.push(e[a])}else if(s<400&&d){let e=n.randomList[72].split(" "),t=Math.floor(s/e.length),a=Math.round(s-t*e.length);u.push(e[a])}else if(s<500&&t?.summoning?.summoningStuff?.[2]>=4){let e=n.randomList[99].split(" "),t=Math.floor(s/e.length),a=Math.round(s-t*e.length);u.push(e[a])}else{let e=n.randomList[Math.round(69+l)].split(" "),t=Math.floor(s/e.length),a=Math.round(s-t*e.length);u.push(e[a])}}return s?{monsters:u.map(e=>n.monsters[n.mapEnemiesArray[n.rawMapNames.indexOf(e)]]),classes:i.map(e=>({className:0===e?l.CLASSES.Beginner:1===e?l.CLASSES.Warrior:2===e?l.CLASSES.Archer:l.CLASSES.Mage,classIndex:0===e?1:1===e?6:2===e?18:30})),date:Math.floor((p+o-1)*6048e5)}:i.map(e=>0===e?l.CLASSES.Beginner:1===e?l.CLASSES.Warrior:2===e?l.CLASSES.Archer:l.CLASSES.Mage)},ek=(e,a)=>!!e?.accountOptions?.[311]&&-1!==(e?.accountOptions?.[311]).indexOf(t.number2letter[a])},523285,65057,e=>{"use strict";e.s(["calcTotalItemInStorage",()=>c,"getInventoryList",()=>u,"getStorage",()=>o],523285);var t=e.i(608580),a=e.i(82748),n=e.i(971176),l=e.i(210270),s=e.i(476219);let o=(e,a="storage",n)=>r((0,t.tryToParse)(e?.ChestOrder),(0,t.tryToParse)(e?.ChestQuantity),a,(0,t.tryToParse)(e?.CMm),(0,t.tryToParse)(e.InvStorageUsed),n),r=(e,t,n,l,s,o)=>{let r=u(e,t,n,l),c=Object.entries(a.invStorage).map(([e,t])=>({rawName:e,...t,amount:parseFloat(s?.[t?.ID]??0),unlocked:Object.prototype.hasOwnProperty.call(s??{},t?.ID)}));return{list:r,slots:i(c,o),storageChests:c}},i=(e,t)=>{let a=2*t?.towers?.data?.[4]?.level,n=8*!!(0,l.isBundlePurchased)(t?.bundles,"bun_i"),o=16*!!(0,l.isBundlePurchased)(t?.bundles,"bun_c"),r=20*!!(0,l.isBundlePurchased)(t?.bundles,"bon_a"),i=e.reduce((e,{unlocked:t,amount:a})=>t?e+a:e,0),u=9*(t?.gemShopPurchases?.find((e,t)=>109===t)??0);return{value:54+a+i+n+o+r+u+Math.round(12*(0,l.getEventShopBonus)(t,10)+16*(0,l.getEventShopBonus)(t,11)+(0,s.getUpgradeVaultBonus)(t?.upgradeVault?.upgrades,33)),breakdown:[{name:"Base",value:54},{title:"Bundles"},{name:"AutoLoot",value:`${n} / 8`},{name:"Starter Pack",value:`${o} / 16`},{name:"Storage Ram",value:`${r} / 20`},{title:"Event shop"},{name:"Storage Chest",value:`${12*(0,l.getEventShopBonus)(t,10)} / 12`},{name:"Storage Vault",value:`${16*(0,l.getEventShopBonus)(t,11)} / 16`},{title:"Gem shop"},{name:"More Storage Space",value:`${u} / 90`},{title:"Other"},{name:"Tower Storage",value:`${a} / 50`},{name:"Chests",value:`${i} / 336`},{name:"Upgrade Vault",value:`${(0,s.getUpgradeVaultBonus)(t?.upgradeVault?.upgrades,33)} / 24`}]}},u=(e,l,s,o)=>e.reduce((e,r,i)=>{let u=(0,n.addStoneDataToEquip)(a.items?.[r],o?.[i]),c=[1,2,3,4,5,6,7,8].reduce((e,t)=>a.items?.[r]?.[`desc_line${t}`]?e+`${a.items?.[r]?.[`desc_line${t}`]} `:e,""),m=Math.max(u?.Upgrade_Slots_Left,a.items?.[r]?.Upgrade_Slots_Left),d={...a.items?.[r],...u,maxUpgradeSlots:m},p="";return d?.UQ1txt&&(p+=d?.UQ1txt),d?.UQ2txt&&(p+=` ${d?.UQ2txt}`),"LockedInvSpace"!==r&&"Blank"!==r?[...e,{...d,owner:s,name:d?.displayName,type:d?.itemType,subType:d?.Type,rawName:r,amount:parseInt(l?.[i]),misc:(0,t.cleanUnderscore)(p.trim()),description:(0,t.cleanUnderscore)(c.trim())}]:e},[]),c=(e,t)=>e?.reduce((e,{rawName:a,amount:n})=>a===t?e+n:e,0);e.s(["calcAnvilExp",()=>y,"calcTotals",()=>k,"getAnvil",()=>S,"getPlayerAnvil",()=>b,"getTimeTillCap",()=>x],65057);var m=e.i(172833),d=e.i(173024),p=e.i(109304),g=e.i(618332),h=e.i(685849),f=e.i(276924),B=e.i(805861),v=e.i(931);let _=(e,t)=>Math.round((Math.pow(e+1,1.5)+e)*Math.max(.1,1-t/100)),M=(e,t)=>Math.round((Math.pow(e,3)+50)*(1+e/100)*Math.max(.1,1-t/100)),S=(e,t)=>{let a=e?.AnvilPA,n=(0,d.getTalentBonus)(t?.flatTalents,"ACME_ANVIL"),l=0;n&&(l=e?.SkillLevels?.[281]+n*Math.floor(t?.skillsInfo?.smithing?.level/10));let[s,o,r,i,u,c]=e?.AnvilPAstats;return{anvilProduction:a,anvilStats:{availablePoints:s,pointsFromCoins:o,pointsFromMats:r,pointsFromAcme:l,xpPoints:i,speedPoints:u,capPoints:c},anvilSelected:e?.AnvilPAselect}},b=(e,t,n)=>{let o,r,i,{anvil:u}=e,{anvilProduction:c,anvilStats:g,anvilSelected:S}=u||{},{availablePoints:b,pointsFromCoins:y,pointsFromMats:x,pointsFromAcme:k,xpPoints:C,speedPoints:T,capPoints:w}=g||{};Array.isArray(S)||(S=[S]);let E=c?.reduce((e,t,n)=>{let[l,s,o,r]=t;return[...e,{currentAmount:l,currentXP:s,currentProgress:parseFloat(o),totalProduced:r,...a.anvilProducts[n]||{},displayName:a.items?.[a.anvilProducts?.[n]?.rawName]?.displayName,hammers:S?.filter(e=>e===n)?.length}]},[]),A={availablePoints:b,pointsFromCoins:y,pointsFromMats:x,pointsFromAcme:k,xpPoints:C,speedPoints:T,capPoints:w},O=(0,m.getBubbleBonus)(n,"ANVILNOMICS")*((0,d.checkCharClass)(e?.class,d.CLASSES.Archer)?(0,m.getBubbleBonus)(n,"ARCHER_OR_BUST"):1),P=(o=a.anvilUpgradeCost.findIndex(({costThreshold:e},t)=>x<e||t===a.anvilUpgradeCost?.length-1),r=a.anvilUpgradeCost?.[o],i=0===o?1:x<r?.costThreshold?a.anvilUpgradeCost?.[o-1]?.costThreshold:r?.costThreshold,r?{...r,startingIndex:i}:{costThreshold:null,itemName:null});A.anvilCost={...P,totalMats:(({costThreshold:e,startingIndex:t}={},a,n)=>{if(!e)return 0;let l=0;for(let e=t;e<a;e++)l+=_(e,n);return l})(P,x,O),nextMatUpgrade:_(x,O),totalCoins:((e,t)=>{let a=0;for(let n=0;n<e;n++)a+=M(n,t);return a})(y,O),nextCoinUpgrade:M(y,O,!0),coinsToMax:((e,t)=>{let a=0;for(let n=e;n<600;n++)a+=M(n,t,!0);return a??0})(y,O)},A.baseAnvilExp=(0,v.getAllSkillsExp)(e,t,n)?.value;let L=(0,h.getStampBonus)(n,"skills","StampB3",e),I=(0,B.getPostOfficeBonus)(e?.postOffice,"Blacksmith_Box",1),N=(0,m.getActiveBubbleBonus)(e?.equippedBubbles,"HAMMER_HAMMER",n),R=(0,f.getStatueBonus)(n,11,e?.flatTalents),D=(0,p.getStarSignBonus)(e,n,"Speed_in_Town"),F=(0,d.getTalentBonus)(e?.flatTalents,"BROKEN_TIME"),G=(0,s.getUpgradeVaultBonus)(n?.upgradeVault?.upgrades,24);A.anvilSpeed=3600*((e=0,t,a=0,n=0,s=0,o=0,r=0,i=0,u=0)=>(1+(a+2*t)/100)*(1+(n+o+u)/100)*(1+s/100)*(0,l.getSpeedBonusFromAgility)(e)*(1+(r+i)/100))(e?.stats?.agility,T,L,I,N,R,D,F,G);let j=e?.carryCapBags?.find(({Class:e})=>"bCraft"===e);A.anvilCapacity=Math.round(j?.capacityPerSlot*(2+.1*w));let W=S.sort((e,t)=>e-t).map(e=>a.anvilProducts[e]);return{guild:n?.guild?.guildBonuses?.length>0,stats:A,production:E,selected:W}},y=(e,t,a,n,s)=>{let o,r=(0,d.getTalentBonus)(e?.flatTalents,"FOCUSED_SOUL"),i=(0,d.getTalentBonus)(e?.flatTalents,"HAPPY_DUDE"),u=(0,g.getCardBonusByEffect)(a?.cards,"Smithing_EXP_(Passive)"),c=(0,B.getPostOfficeBonus)(e?.postOffice,"Blacksmith_Box",0);return 100*(((o=(1+3*s/100)*Math.max(.1,(1+(r+((0,h.getStampsBonusByEffect)(a,"SmithExp",e)+(i+25*(0,l.isMasteryBonusUnlocked)(a?.rift,a?.totalSkillsLevels?.smithing?.rank,0))))/100)*(1+u/100)*(1+c/100)+(n+(0,d.getMaestroHand)(e,"smithing",t,a,"LEFT_HAND_OF_LEARNING"))/100))<20?o:Math.min(20+(o-20)/(o-20+70)*50,75))-1)},x=({hammers:e,currentAmount:t=0,currentProgress:a=0,requiredAmount:n,afkTime:l,stats:s,fromZero:o=!1})=>{let r=s?.anvilSpeed/3600/n*(e??0);if(o)return s?.anvilCapacity/r;let i=Math.min(Math.round(t+(a+(Date.now()-l)/1e3*s?.anvilSpeed/3600)/n*(e??0)),s?.anvilCapacity);return(s?.anvilCapacity-i)/r},k=(e,t)=>e?.anvil?.reduce((a,n,l)=>{let{stats:s,production:o}=b(t?.[l],t,e),r=o?.filter(({hammers:e})=>e>0);return r?.forEach(e=>{let{hammers:t,rawName:n,requiredAmount:l}=e,o=Math.min(s?.anvilSpeed*t/l,s?.anvilCapacity);a?.[n]?a[n]+=o:a[n]=o}),a},{})},931,781967,6002,620636,809191,e=>{"use strict";e.s(["getAfkGain",()=>eI,"getAllSkillsExp",()=>ey,"getCashMulti",()=>ew,"getCharacters",()=>eM,"getClassExpMulti",()=>eC,"getDropRate",()=>eT,"getPlayerConstructionExpPerHour",()=>eF,"getPlayerConstructionSpeed",()=>eD,"getPlayerFoodBonus",()=>eP,"getPlayerSpeedBonus",()=>eL,"getRespawnRate",()=>ek,"getSkillExpMulti",()=>eb,"initializeCharacter",()=>eS],931);var t=e.i(82748),a=e.i(210270),n=e.i(971176),l=e.i(523285),s=e.i(781357),o=e.i(173024),r=e.i(618332),i=e.i(685849),u=e.i(805861),c=e.i(172833),m=e.i(276924),d=e.i(109304),p=e.i(65057),g=e.i(733884),h=e.i(372110),f=e.i(433568),B=e.i(942144),v=e.i(435327),_=e.i(10051),M=e.i(775003),S=e.i(712738);e.s(["getChargeWithSyphon",()=>A,"getClosestWorshiper",()=>E,"getPlayerWorship",()=>w,"getSoulsReward",()=>T,"getTotalizerBonuses",()=>C,"getTotems",()=>k],781967);var b=e.i(608580),y=e.i(394699),x=e.i(39188);let k=e=>{let a=(0,b.tryToParse)(e?.TotemInfo)||e?.TotemInfo,n=t.randomList?.[10]?.split(" "),l=[26,63,30,107,155,208,259];return n?.map((e,n)=>{let s=a?.[0]?.[n]??0,o=0===s?0:Math.pow((5+s)/10,2.6),r=Math.floor(15*Math.pow(n+1,2)*Math.pow(o,.9))||0,i=t.mapNames?.[l?.[n]];return{...t.totems?.[n],name:e,maxWave:s,waveMulti:o,expReward:r,map:i}})},C=e=>{let t=(0,x.isSuperbitUnlocked)(e,"MSA_Totalizer"),a=Math.floor(e?.towers?.totalWaves/10);return{damage:{name:"DMG",value:t&&t?.bonus||0},sailing:{name:"SPD",value:t&&(0,x.isSuperbitUnlocked)(e,"MSA_Sailing")?.bonus||0},classExp:{name:"Class XP",value:t&&(0,x.isSuperbitUnlocked)(e,"MSA_Class_EXP")?.bonus||0},cookingSpeed:{name:"Meal Spd",value:t&&(0,x.isSuperbitUnlocked)(e,"MSA_Mealing")?.bonus||0},bit:{name:"Bit",value:t&&(0,x.isSuperbitUnlocked)(e,"MSA_Big_Bits")?.bonus||0},skillExp:{name:"Skill XP",value:t&&(0,x.isSuperbitUnlocked)(e,"MSA_Skill_EXP")?.bonus||0},farmingExp:{name:"Farming XP",value:t&&(0,y.isJadeBonusUnlocked)(e,"MSA_Expander_I")?a:0},jadeCoin:{name:"Jade Coin",value:t&&(0,y.isJadeBonusUnlocked)(e,"MSA_Expander_II")?a:0},essence:{name:"Essence",value:t&&(0,y.isJadeBonusUnlocked)(e,"MSA_Expander_III")?a:0}}},T=({waveMulti:e,minEfficiency:t,efficiency:a,foodEffect:n})=>Math.floor(5*(1+(a>=t?Math.floor(100*Math.pow(a/(10*t),.25)):0)/100)*e*(1+n/100)),w=(e,t,a)=>{let n,l,s,m,d,p,g,h,f,B,v,_,M,S=(n=o.mainStatMap?.[e?.class],l=(0,r.getCardBonusByEffect)(t?.cards,"Max_Charge"),s=(0,u.getPostOfficeBonus)(e?.postOffice,"Crate_of_the_Creator",1),m=(0,o.getTalentBonusIfActive)(e?.activeBuffs,"CHARGE_SYPHON","y"),d=(0,i.getStampsBonusByEffect)(t,"Max_Charge",e),p=(0,c.getBubbleBonus)(t,"GOSPEL_LEADER",!1,"wisdom"===n),g=(0,c.getActiveBubbleBonus)(e?.equippedBubbles,"CALL_ME_POPE",t),h=e?.tools?.[5]?.rawName!=="Blank"?e?.tools?.[5]?.lvReqToCraft:0,Math.floor(Math.max(50,l+s+(m+(d+p*Math.floor(e?.skillsInfo?.worship?.level/10))+Math.round(h)*Math.max(g,1))))),y=(f=e?.tools?.[5]?.rawName!=="Blank"?e?.tools?.[5]?.Speed:0,B=(0,r.getCardBonusByEffect)(t?.cards,"Charge_Rate"),v=(0,i.getStampsBonusByEffect)(t,"Charge_Rate_per_Hour",e),_=(0,o.getTalentBonus)(e?.flatTalents,"NEARBY_OUTLET"),M=(0,c.getActiveBubbleBonus)(e?.equippedBubbles,"CALL_ME_POPE",t),f<3?6/Math.max(5.7+Math.pow(4-f,2.2)-(.9*Math.pow(e?.skillsInfo?.worship?.level,.5)/(Math.pow(e?.skillsInfo?.worship?.level,.5)+250)+.6*e?.skillsInfo?.worship?.level/(e?.skillsInfo?.worship?.level+40)),.57)*Math.max(M,1)*(1+(B+v)/100)*Math.max(_,1):6/Math.max(5.7-(.2*Math.pow(f,1.3)+(.9*Math.pow(e?.skillsInfo?.worship?.level,.5)/(Math.pow(e?.skillsInfo?.worship?.level,.5)+250)+.6*e?.skillsInfo?.worship?.level/(e?.skillsInfo?.worship?.level+40))),.57)*Math.max(M,1)*(1+(B+v)/100)*Math.max(_,1)),x=new Date().getTime()-e.afkTime,k=Math.min(parseInt(a)+x/1e3/3600*y,S);return{maxCharge:(0,b.round)(S),chargeRate:(0,b.round)(y),currentCharge:(0,b.round)(k)}},E=e=>e?.reduce((e,t)=>{let a=(t?.worship?.maxCharge-t?.worship?.currentCharge)/t?.worship?.chargeRate*36e5;return 0!==a&&a<e?.timeLeft?{character:t?.name,timeLeft:a}:e},{character:null,timeLeft:1/0}),A=e=>{let t=e?.reduce((e,{worship:t})=>e+(t?.currentCharge||0),0),a=e?.reduce((e,{worship:t})=>e+(t?.chargeRate||0),0),n=(0,o.getHighestTalentByClass)(e,o.CLASSES.Wizard,"CHARGE_SYPHON","y")||0,l=(0,o.getCharacterByHighestTalent)(e,o.CLASSES.Wizard,"CHARGE_SYPHON","y");return{bestWizard:l,totalCharge:t,bestChargeSyphon:n,totalChargeRate:a,timeToOverCharge:new Date().getTime()+((l?.worship?.maxCharge||0)+n-t)/a*36e5}},O=e=>Object.keys(e).reduce((t,a)=>{let[n,l]=a.split(/([0-9]+)/);return a.includes("Fishpaste")&&(n="Fishpaste97"),{...t,[n]:{...t?.[n]||{},[l]:e[a]}}},{}),P={Scripticus:{world:"Blunder_Hills",index:0},Glumlee:{world:"Blunder_Hills",index:1},Krunk:{world:"Blunder_Hills",index:2},Mutton:{world:"Blunder_Hills",index:3},Woodsman:{world:"Blunder_Hills",index:4},Hamish:{world:"Blunder_Hills",index:5},Toadstall:{world:"Blunder_Hills",index:5},Picnic_Stowaway:{world:"Blunder_Hills",index:6},Promotheus:{world:"Blunder_Hills",index:6},Typhoon:{world:"Blunder_Hills",index:7},Sprout:{world:"Blunder_Hills",index:8},Dazey:{world:"Blunder_Hills",index:9},Telescope:{world:"Blunder_Hills",index:10},Stiltzcho:{world:"Blunder_Hills",index:11},Funguy:{world:"Blunder_Hills",index:12},Tiki_Chief:{world:"Blunder_Hills",index:13},Dog_Bone:{world:"Blunder_Hills",index:14},Papua_Piggea:{world:"Blunder_Hills",index:15},TP_Pete:{world:"Blunder_Hills",index:16},Meel:{world:"Blunder_Hills",index:17},Town_Marble:{world:""},Mr_Pigibank:{world:""},Secretkeeper:{world:""},Bushlyte:{world:""},Rocklyte:{world:""},Cowbo_Jones:{world:"Yum-Yum_Desert",index:0},Fishpaste97:{world:"Yum-Yum_Desert",index:1},Scubidew:{world:"Yum-Yum_Desert",index:2},Whattso:{world:"Yum-Yum_Desert",index:3},Bandit_Bob:{world:"Yum-Yum_Desert",index:4},Carpetiem:{world:"Yum-Yum_Desert",index:5},Centurion:{world:"Yum-Yum_Desert",index:6},Goldric:{world:"Yum-Yum_Desert",index:7},Snake_Jar:{world:"Yum-Yum_Desert",index:8},Speccius:{world:"Yum-Yum_Desert",index:9},XxX_Cattleprod_XxX:{world:"Yum-Yum_Desert",index:10},Loominadi:{world:"Yum-Yum_Desert",index:11},Wellington:{world:"Yum-Yum_Desert",index:12},Djonnut:{world:"Yum-Yum_Desert",index:13},Walupiggy:{world:"Yum-Yum_Desert",index:14},Gangster_Gus:{world:"Yum-Yum_Desert",index:15},Omar_Da_Ogar:{world:"Yum-Yum_Desert",index:16},Builder_Bird:{world:""},Postboy_Pablob:{world:""},Desert_Davey:{world:""},Giftmas_Blobulyte:{world:""},Loveulyte:{world:""},Constructor_Crow:{world:""},Iceland_Irwin:{world:""},Egggulyte:{world:""},Hoggindaz:{world:"Frostbite_Tundra",index:0},Worldo:{world:"Frostbite_Tundra",index:0},Lord_of_the_Hunt:{world:"Frostbite_Tundra",index:1},Lonely_Hunter:{world:"Frostbite_Tundra",index:2},Snouts:{world:"Frostbite_Tundra",index:3},Shuvelle:{world:"Frostbite_Tundra",index:4},Yondergreen:{world:"Frostbite_Tundra",index:5},Crystalswine:{world:"Frostbite_Tundra",index:6},Bill_Brr:{world:"Frostbite_Tundra",index:7},Bellows:{world:"Frostbite_Tundra",index:8},Cactolyte:{world:""},Coastiolyte:{world:""},Gobo:{world:"Hyperion_Nebula",index:0},Oinkin:{world:"Hyperion_Nebula",index:1},Eliteus:{world:"Hyperion_Nebula",index:2},Capital_P:{world:"Hyperion_Nebula",index:3},Blobbo:{world:"Hyperion_Nebula",index:4},Royal_Worm:{world:"Hyperion_Nebula",index:5},Monolith:{world:"Hyperion_Nebula",index:6},Rift_Ripper:{world:"Hyperion_Nebula",index:7},Muhmuguh:{world:"Smolderin'_Plateau",index:1},Slargon:{world:"Smolderin'_Plateau",index:2},Pirate_Porkchop:{world:"Smolderin'_Plateau",index:3},Poigu:{world:"Smolderin'_Plateau",index:4},Tired_Mole:{world:"Smolderin'_Plateau",index:5},Lafu_Shi:{world:"Spirited_Valley",index:1},Hoov:{world:"Spirited_Valley",index:2},Masterius:{world:"Spirited_Valley",index:4},Woodlin_Elder:{world:"Spirited_Valley",index:5},Tribal_Shaman:{world:"Spirited_Valley",index:6},Legumulyte:{world:"Spirited_Valley",index:7},Sussy_Gene:{world:"Spirited_Valley",index:8},Potti:{world:"Spirited_Valley",index:9}};e.s(["getPlayerQuests",0,O,"getQuests",0,e=>{let a=Object.keys(t.quests),n=a?.reduce((a,n)=>{let l=(0,b.cloneObject)(t.quests[n]),s=P?.[n]?.world,o=P?.[n]?.index;if(!s)return a;for(let t=0;t<e?.length;t++){let a=(0,b.cloneObject)(e?.[t]?.quests?.[n])||{},s=Object.keys(a),o=!1;for(let e=0;e<s?.length;e++){let n=s[e],r=a[n];l[n]&&(l?.[n-1]&&(!o&&(0===r||-1===r)||1===r)&&(l[n-1].progress=l[n-1]?.progress?.filter(({charIndex:e})=>e!==t)),1===r?(l[n].completed=[...l[n]?.completed||[],{charIndex:t,status:r}],l[n].progress=[...l[n]?.progress||[],{charIndex:t,status:r}]):o||0!==r&&-1!==r||(l[n].progress=[...l[n]?.progress||[],{charIndex:t,status:r}],o=!0))}}return{...a,[s]:[...a?.[s]||[],{name:n,index:o,npcQuests:Object.values(l)}]}},{});for(let e in n){let t=n[e];t?.sort((e,t)=>e?.index-t?.index)}return n},"isWorldFinished",0,(e,t)=>{let a={1:"Builder_Bird",2:"Constructor_Crow",3:"Carpenter_Cardinal",4:"Muhmuguh",5:"Lafu_Shi"};return e?.some(({npcDialog:e})=>e?.[a?.[t]])}],6002);var L=e.i(262887),I=e.i(161866),N=e.i(279522),R=e.i(24174),D=e.i(198659),F=e.i(267350),G=e.i(470242),j=e.i(764964),W=e.i(398241),U=e.i(264046);e.s(["getOwl",()=>V,"getOwlBonus",()=>J],620636);var q=e.i(476219),H=e.i(626071);let V=(e,t)=>Y(t),$=["Multiplies_all_Feather_generation_by_10x._Multiplicative,_so_extra_powerful!","Boosts_all_of_Orion's_Bonuses_by_double_their_base_amount.","All_upgrades_cost_1%_less_feathers_per_LV_of_Feather_Generation.","Instead_of_double,_all_of_Orion's_Bonuses_are_now_triple.","The_Feather_Cheapener_upgrades_now_give_+2_and_+4_Feathers/sec_each_LV,_respectively.","Forget_triple,_Orion's_Bonuses_are_now_quadruple!","The_upgrade_Feather_Restart_now_gives_a_5x_feather_bonus_instead_of_the_previous_3x.","Quadruple?_Pfft_more_like_Noobruple,_Orion's_Bonuses_are_now_Quintuple_at_big,_that's_5x!","The_cost_of_Feather_Generation_upgrade_now_goes_up_25%_slower.","Orion's_bonuses_are_now_{x_higher_than_they_were_at_first."],Y=e=>{let a=e?.accountOptions?.[253],n=e?.accountOptions?.[263],l=t.owlData.map((a,l)=>{let s=1/(1+10*e?.accountOptions?.[257]/100)*(1/(1+20*e?.accountOptions?.[261]/100))*(1/(1+K(e,2)*e?.accountOptions?.[254]/100))*a?.x1,o=0===l?s*e?.accountOptions?.[254+l]*Math.pow(Math.max(1.05,a?.x2-.025*K(e,8)),e?.accountOptions?.[254+l]):s*Math.pow(a?.x2,e?.accountOptions?.[254+l]),r=a?.desc,i=Math.pow(Math.round(3+2*(K(e,6)||0)),(e.accountOptions[258]||0)+1),u=e.accountOptions[254+l]||0,c=parseInt("1 0 5 10 0 5 1 20 0".split(" ")[l])||0,m=Math.floor(1e4*(1-1/(1+10*u/100)))/100;if(r=r.replace("{",""+i).replace("}",""+c*u).replace("@",""+m),0===l&&1===K(e,2)){let t=e.accountOptions[254]||0;r+=", and lowers all costs by "+Math.floor(1e4*(1-1/(1+K(e,2)*t/100)))/100+"%"}let d=e?.accountOptions?.[254+l],p=t.owlData?.[l+1]?.x3;return{...a,desc:r,cost:o,level:d,nextLvReq:p,unlocked:n>a?.x3}}),s=l?.findIndex(({level:e,x3:t})=>n<t),o=t.owlData?.[s]?.x3||0,r=(0,q.getUpgradeVaultBonus)(e?.upgradeVault?.upgrades,21),i=(1+9*K(e,0))*(1+r/100)*(1+(0,H.getGambitBonus)(e,8)/100)*(e?.accountOptions?.[254]+(5*e?.accountOptions?.[259]+(2*K(e,4)*e?.accountOptions?.[257]+4*K(e,4)*e?.accountOptions?.[261])))*(1+5*e?.accountOptions?.[256]/100)*Math.pow(3+2*K(e,6),e?.accountOptions?.[258])*(1+e?.accountOptions?.[264]*e?.accountOptions?.[260]/100)+e?.accountOptions?.[264],u=100*K(e,1)+(100*K(e,3)+(100*K(e,5)+(100*K(e,7)+(100*Math.min(1,K(e,9))+50*Math.max(0,K(e,9)-1)))));return{upgrades:l,bonuses:[{name:"Feather/sec",bonus:i},{name:"Class XP",bonus:5*(1+u/100)*Math.max(0,Math.ceil(e?.accountOptions?.[255]/6)),percentage:!0},{name:"Base DMG",bonus:10*(1+u/100)*Math.max(0,Math.ceil((e?.accountOptions?.[255]-1)/6))},{name:"Total DMG",bonus:2*(1+u/100)*Math.max(0,Math.ceil((e?.accountOptions?.[255]-2)/6)),percentage:!0},{name:"Skill XP",bonus:4*(1+u/100)*Math.max(0,Math.ceil((e?.accountOptions?.[255]-3)/6)),percentage:!0},{name:"Drop Rate",bonus:(1+u/100)*Math.max(0,Math.ceil((e?.accountOptions?.[255]-4)/6)),percentage:!0},{name:"All Stats",bonus:2*(1+u/100)*Math.max(0,Math.ceil((e?.accountOptions?.[255]-5)/6))},{name:"Shiny Feather",bonus:e?.accountOptions?.[264]}],feathers:a,progress:n,nextLvReq:o,megaFeathers:$.map((t,a)=>({description:t,unlocked:a+1<=e?.accountOptions?.[262],...9===a?{amount:e?.accountOptions?.[262]-10,totalBonus:1+u/100}:{}})),featherRate:i,restartMulti:Math.pow(3+2*K(e,6),e?.accountOptions?.[258]+1)}},K=(e,t)=>e?.accountOptions?.[262]>t?9===t?e?.accountOptions?.[262]-9:1:0,J=(e,t)=>e?.find(({name:e})=>e===t)?.bonus;var X=e.i(284565),z=e.i(441132);e.s(["getKangaroo",()=>Q,"getKangarooBonus",()=>eo],809191);let Q=(e,t)=>et(t),Z=["Unlocks_the_first_3_upgrades_in_the_Tar_Pit,_visit_through_top_left_corner","Boosts_all_of_Poppy's_Bonuses_by_1.5x_their_base_amount","Adds_two_more_Reset_Spirals_to_upgrade,_and_gives_+5_Pts_when_Fisheroo_Resetting","Boosts_all_of_Poppy's_Bonuses_by_2x_their_base_amount.","Unlocks_another_3_upgrades_in_the_Tar_Pit,_and_boosts_Tartar_Fish_gain_by_3x","The_Fishing_Buddy_upgrade_now_gives_+50%_Bluefin_caught_and_+50%_Shiny_Speed_per_Lv_past_Lv.5!","Boosts_all_of_Poppy's_Bonuses_by_2.5x_their_base_amount","Unlocks_the_final_2_upgrades_in_the_Tar_Pit,_and_boosts_Tartar_Fish_gain_by_another_3x","Boosts_all_of_Poppy's_Bonuses_by_3x_their_base_amount","Shiny_fishing_is_1%_faster_per_upgrade_LV_of_the_Tasty_Fishbait_upgrade","All_upgrades,_including_Tar_Pit_upgrades,_are_5%_cheaper_per_LV_of_King_Worm_upgrade","Poppy's_bonuses_are_now_{x_higher_than_they_were_at_first"],ee=["{x_bluefin_fish_caught","{x_shiny_fishing_speed_and_luck","All_upgrades_are_{x_cheaper","Other_Reset_bonuses_are_{x_higher","{x_Tartar_fish_caught"],et=e=>{let a=e?.accountOptions?.[267],n=e?.accountOptions?.[280],l=t.poppyBonuses.map((a,l)=>{let s=(0===l?1+e?.accountOptions?.[268]:1)*(1/(1+10*e?.accountOptions?.[272]/100))*(1/(1+15*e?.accountOptions?.[300]/100))*(1/(1+5*en(e,10)*e?.accountOptions?.[304]/100))*(1/Math.max(1,es(e,2)))*a?.x1*Math.pow(a?.x2,e?.accountOptions?.[268+l]),o=e?.accountOptions?.[268+l],r=t.poppyBonuses?.[l+1]?.x3,i=ea(e,o,a?.desc,0,l,t.poppyBonuses);return{...a,cost:s,level:o,nextLvReq:r,desc:i,unlocked:n>a?.x3||0===l}}),s=l?.findIndex(({level:e,x3:t})=>n<t),o=t.poppyBonuses?.[s]?.x3,r=(0,q.getUpgradeVaultBonus)(e?.upgradeVault?.upgrades,45),i=(1+Math.min(5,e?.accountOptions?.[275]))*Math.max(1,1+.5*(e?.accountOptions?.[275]-5)*en(e,5))*es(e,0)*(1+r/100)*(1+(0,H.getGambitBonus)(e,8)/100)*(10*e?.accountOptions?.[268]+(100*e?.accountOptions?.[297]+1e3*e?.accountOptions?.[304])+(50*e?.accountOptions?.[273]+200*e?.accountOptions?.[278]))*el(e,-1)*(1+8*e?.accountOptions?.[299]/100),u=60/(30/(1+5*e?.accountOptions?.[269]/100))*i,c=Math.min(8,Math.round(3*en(e,0)+(3*en(e,4)+2*en(e,7)))),m=e?.accountOptions?.[296],d=1/(1+.05*e?.accountOptions?.[301])*1800*(1/Math.max(1,es(e,4)))*(1/(1+2*en(e,4)))*(1/(1+2*en(e,7))),p=t.poppyTarBonuses.map((a,n)=>{let l=1/(1+5*en(e,10)*e?.accountOptions?.[304]/100),s=e?.accountOptions?.[297+n]+l*a?.x1*Math.pow(a?.x2,e?.accountOptions?.[297+n]),o=e?.accountOptions?.[297+n],r=ea(e,o,a?.desc,1,n,t.poppyTarBonuses);return{...a,cost:s,level:o,desc:r,unlocked:n<c}}),g=.05*(es(e,1)*e?.accountOptions?.[270]*(1+en(e,9)*e?.accountOptions?.[268]/100)*Math.max(1,1+.5*(e?.accountOptions?.[275]-5)*en(e,5)))*1200,h=7200/(1+4*e?.accountOptions?.[276]/100),f=100*Math.max(0,g/h),B=100*Math.max(0,e?.accountOptions?.[289]/h),v=50*en(e,1)+(50*en(e,3)+(50*en(e,6)+(50*en(e,8)+(50*Math.min(1,en(e,11))+25*Math.max(0,en(e,11)-1))))),_=[{name:"Fish/minute",bonus:u},{name:"Fishing Eff",bonus:3*(1+v/100)*Math.max(0,Math.ceil(e?.accountOptions?.[271]/7)),percentage:!0},{name:"Defence",bonus:3*(1+v/100)*Math.max(0,Math.ceil((e?.accountOptions?.[271]-1)/7)),percentage:!1},{name:"Fishing XP",bonus:5*(1+v/100)*Math.max(0,Math.ceil((e?.accountOptions?.[271]-2)/7)),percentage:!0},{name:"Accuracy",bonus:2*(1+v/100)*Math.max(0,Math.ceil((e?.accountOptions?.[271]-3)/7)),percentage:!0},{name:"Total DMG",bonus:2*(1+v/100)*Math.max(0,Math.ceil((e?.accountOptions?.[271]-4)/7)),percentage:!0},{name:"AFK Gains",bonus:.5*(1+v/100)*Math.max(0,Math.ceil((e?.accountOptions?.[271]-5)/7)),percentage:!0},{name:"Cash",bonus:3*(1+v/100)*Math.max(0,Math.ceil((e?.accountOptions?.[271]-6)/7)),percentage:!0}],M=Z.map((t,a)=>({description:t,unlocked:a+1<=e?.accountOptions?.[279],...11===a?{amount:e?.accountOptions?.[279]-12,totalBonus:1+v/100}:{}})),S=ee.map((t,a)=>({desc:t.replace("{",Math.round(100*es(e,a))/100),level:e?.accountOptions?.[291+a]})),y=el(e,-1);return{resetBonuses:S,upgrades:l,bonuses:_,fish:a,progress:n,nextLvReq:o,megaFish:M,fishRate:u,tarFishRate:d,tarFishOwned:m,totalMulti:y=1e3>el(e,-1)?(0,b.notateNumber)(y,"MultiplierInfo"):1e7>el(e,-1)?(0,b.commaNotation)(y):(0,b.notateNumber)(y,"MultiplierInfo"),allMultipliers:[0,1,2,3,4,5].map(t=>{let a=e?.accountOptions?.[281+t],n=el(e,t);return{multi:(10>n?(0,b.notateNumber)(n,"MultiplierInfo"):100>n?""+Math.floor(10*n)/10:""+Math.floor(n)).replace(".00",""),amount:1e4>a?""+Math.round(a):""+(0,b.notateNumber)(a,"Big")}}),tarUpgrades:p,shinyProgress:B,shinyRate:g,shinyRatePercent:f}},ea=(e,t,a,n,l,s)=>{let o=Math.round(268+29*n+l),r=a;return(r=(r=(r=r.replace("{",""+(0,b.commaNotation)(e?.accountOptions?.[o]*s[l]?.x6))).replace("]",""+Math.round(100+t*s[l]?.x6)/100)).replace("~",""+(0,b.notateNumber)(100*(1-1/(1+t*s[l]?.x6/100)),"Small"))).replace("?",""+(0,b.notateNumber)(s[l]?.x6*(t/(40+t)),"Small"))},en=(e,t)=>e?.accountOptions?.[279]>t?11===t?e?.accountOptions?.[279]-11:1:0,el=(e,t)=>{let a=1;return t<0?a*=el(e,0)*el(e,1)*el(e,2)*el(e,3)*el(e,4)*el(e,5):(0===t&&(a=30),1===t&&(a=50),2===t&&(a=100),3===t&&(a=150),4===t&&(a=250),5===t&&(a=500),1+a*Math.log(Math.max(1,e?.accountOptions?.[Math.round(281+t)]))/100)},es=(e,t)=>(0===t?1+.4*e?.accountOptions?.[291]:1===t?1+.3*e?.accountOptions?.[292]:2===t?1+.15*e?.accountOptions?.[293]:3===t?1+.04*e?.accountOptions?.[294]:1+.2*e?.accountOptions?.[295])*(3!==t&&0<e?.accountOptions?.[291+t]?1+.04*e?.accountOptions?.[294]:1),eo=(e,t)=>e?.find(({name:e})=>e===t)?.bonus;var er=e.i(694186),ei=e.i(521637),eu=e.i(695906),ec=e.i(734002),em=e.i(723748),ed=e.i(384308),ep=e.i(669203),eg=e.i(787031),eh=e.i(304782),ef=e.i(801902);let{tryToParse:eB,createIndexedArray:ev,createArrayOfArrays:e_}=e.r(608580),eM=(e,t)=>(t||[0,1,2,3,4,5,6,7,8])?.map((t,a)=>{let n=Object.entries(e)?.reduce((e,[t,n])=>{if(RegExp(`_${a}`,"g").test(t)){let a=eB(n),l=t,s=[];switch(!0){case t.includes("EquipOrder"):l="EquipmentOrder",n=e_(n);break;case t.includes("EquipQTY"):l="EquipmentQuantity",n=e_(n);break;case t.includes("AnvilPA_"):l="AnvilPA",a=e_(n);break;case t.includes("EMm0"):{l="EquipmentMap",s=e?.[l];let t=ev(a);s?s.splice(0,0,t):s=[t];break}case t.includes("IMm_"):l="InventoryMap",a=eB(n);break;case t.includes("EMm1"):{l="EquipmentMap",s=e?.[l];let t=ev(a);s?s.splice(1,0,t):s=[t];break}case t.includes("BuffsActive"):l="BuffsActive",s=e_(a);break;case t.includes("ItemQTY"):l="ItemQuantity";break;case t.includes("PVStatList"):l="PersonalValuesMap",a={...e?.[l]||{},StatList:eB(n)};break;case t.includes("PVtStarSign"):l="PersonalValuesMap",a={...e?.[l]||{},StarSign:eB(n)};break;case t.includes("PVFishingToolkit"):l="PersonalValuesMap",a={...e?.[l]||{},FishingToolkit:eB(n)};break;case t.includes("ObolEqO0"):l="ObolEquippedOrder";break;case t.includes("ObolEqMAP"):l="ObolEquippedMap";break;case t.includes("SL_"):l="SkillLevels";break;case t.includes("SLpre_"):l="SkillPreset";break;case t.includes("SM_"):l="SkillLevelsMAX";break;case t.includes("KLA_"):l="KillsLeft2Advance";break;case t.includes("AtkCD_"):l="AttackCooldowns";break;case t.includes("POu_"):l="PostOfficeInfo";break;case t.includes("PTimeAway"):l="PlayerAwayTime",a*=1e3;break;default:l=t?.split("_")?.[0]}return{...e,[l]:s?.length?s:a}}return{...e}},{});return{name:t,playerId:a,...n}}),eS=(e,i,m,d)=>{let g,h={};if(h.playerId=e.playerId,h.name=e.name,!e?.CharacterClass)return h;h.classIndex=e?.CharacterClass,h.class=t.classes?.[e?.CharacterClass],h.afkTime=(0,a.calculateAfkTime)(e?.PlayerAwayTime,m?.timeAway?.GlobalTime),h.afkTarget=t.monsters?.[e?.AFKtarget]?.Name,h.afkType=t.monsters?.[e?.AFKtarget]?.AFKtype,h.targetMonster=e?.AFKtarget;let f=e?.CurrentMap;h.mapIndex=f,h.currentMap=t.mapNames?.[f],h.money=parseFloat(e?.Money),h.cooldowns=e?.AttackCooldowns;let[v,_]=e?.PersonalValuesMap?.FishingToolkit;h.fishingKit={bait:t.fishingKits?.fishingBaits?.[v],line:t.fishingKits?.fishingLines?.[_]};let M={0:"strength",1:"agility",2:"wisdom",3:"luck",4:"level"};h.stats=e?.PersonalValuesMap?.StatList?.reduce((e,t,a)=>M[a]?{...e,[M[a]]:t}:e,{}),h.level=e?.Lv0?.[0]||0;let b=Object.keys(e?.InvBagsUsed);h.invBagsUsed=Object.entries(t.invBags).map(([e,t])=>{let a=e.match(/[0-9]+/g)[0];return(a=100>parseInt(a)?a-1:a,b.includes(String(a)))?{...t,rawName:e,acquired:!0}:{...t,rawName:e}});let y=e?.MaxCarryCap||[];h.maxCarryCap=y,h.carryCapBags=Object.keys(y).sort(function(e,t){return e.localeCompare(t)}).map(e=>{if("Quests"!==e&&"fillerz"!==e&&"Statues"!==e)return t.carryBags?.[e]?.[y[e]]||{rawName:"MaxCapBagNone",displayName:e,Class:e,capacity:y[e],Type:"CARRY"}}).filter(e=>e),h.statues=e?.StatueLevels;let x={0:"armor",1:"tools",2:"food"},k=e?.EquipmentOrder?.reduce((e,t,a)=>({...e,[x?.[a]]:t}),{}),C=e.EquipmentQuantity?.reduce((e,t,a)=>({...e,[x?.[a]]:t}),{}),T=e.EquipmentMap?.[0];h.equipment=(0,n.createItemsWithUpgrades)(k.armor,T,h.name);let E=e.EquipmentMap?.[1];h.tools=(0,n.createItemsWithUpgrades)(k.tools,E,h.name),h.food=Array.from(Object.values(k.food)).reduce((e,a,n)=>a?[...e,{name:t.items?.[a]?.displayName,rawName:a,owner:h.name,amount:parseInt(C.food[n]||C.food[n]),...t.items?.[a]||{}}]:e,[]);let A=e.InventoryOrder,P=e.ItemQuantity,I=e.InventoryMap;h.inventory=(0,l.getInventoryList)(A,P,h.name,I),h.inventorySlots=A?.reduce((e,t)=>e+ +("LockedInvSpace"!==t),0),h.starSigns=(e?.PersonalValuesMap?.StarSign||"").split(",").map(e=>e&&"_"!==e?t.starSignByIndexMap?.[e]:null).filter(e=>e),h.equippedBubbles=m?.equippedBubbles?.[e?.playerId];let N=e?.Exp0,R=e?.ExpReq0;h.skillsInfo=(e?.Lv0||[]).reduce((e,t,a)=>a<19?{...e,[s.skillIndexMap[a]?.name]:{level:-1!==t?t:0,exp:parseFloat(N[a]),expReq:parseFloat(R[a]),icon:s.skillIndexMap[a]?.icon,index:a}}:e,{}),h.skillsInfoArray=Object.entries(h.skillsInfo||{}).reduce((e,[t,a])=>[...e,{...a,skillName:t}],[]).sort((e,t)=>e.index-t.index);let[,D,G]=e?.PlayerStuff||[];h.selectedTalentPreset=D;let j=e?.SkillLevels,W=e?.SkillPreset,U=e?.SkillLevelsMAX,{talents:q,flatTalents:H,starTalents:V,flatStarTalents:$}=ex(h?.class,j,U);W&&(h.talentPreset=ex(h?.class,W,U)),h.talents=q,h.flatTalents=H,h.starTalents=V,h.flatStarTalents=$;let Y=e?.BuffsActive;h.activeBuffs=(0,o.getActiveBuffs)(Y,[...H||[],...$||[]]),h.activePrayers=e?.Prayers?.filter(e=>-1!==e).map(e=>m?.prayers?.[e])?.filter(e=>e),h.postOffice=(0,u.getPlayerPostOffice)(e?.PostOfficeInfo,m),h.selectedCardPreset=G,h.cardPresets=e?.CardPreset?.map(e=>(0,r.getEquippedCardsData)(e,m)),h.cards=(0,r.getPlayerCards)(e,m);let K=m?.lab?.playersChips?.[e?.playerId]?.find(e=>20===e.index),J=m?.lab?.playersChips?.[e?.playerId]?.find(e=>21===e.index);h.cards.equippedCards=h?.cards?.equippedCards?.map((e,t)=>0===t&&K||7===t&&J?{...e,chipBoost:2}:e);let X=(0,S.getObols)(e,!1);h.obols={...X,stats:(0,S.mergeCharacterAndAccountObols)(X,m.obols)},h.worship=w(h,m,e?.PlayerStuff?.[0]),h.quests=O(e?.QuestComplete),h.crystalSpawnChance=eO(h,m,d),h.nonConsumeChance=eR(h,m);let z=e?.KillsLeft2Advance;h.kills=z?.reduce((e,a,n)=>[...e,parseFloat(t.mapPortals?.[n]?.[0])-parseFloat(a?.[0])],[]);let Q=s.skillsMaps.mining?.[f],Z=s.skillsMaps.fishing?.[f],ee=0,et;Q?(ee=h.skillsInfo?.mining?.level,et="ClassIconsM"):Z?(ee=h.skillsInfo?.fishing?.level,et="ClassIcons45"):(ee=(parseFloat(t.mapPortals?.[f]?.[0])-parseFloat(z?.[f]))??0,et="ClassIconsF"),h.nextPortal={goal:t.mapPortals?.[f]?.[0]??0,current:ee,currentIcon:et},h.zow=eA(z,[1e5]),h.chow=eA(z,[1e6,1e8]),h.wow=eA(z,[1e9]);let ea=(0,c.getActiveBubbleBonus)(h.equippedBubbles,"BIG_P",m),en=h.skillsInfo?.divinity?.level,el=m?.divinity?.linkedDeities?.[h.playerId];if(h.linkedDeity=el,-1!==el&&(h.deityMinorBonus=(0,F.getMinorDivinityBonus)(h,m)),(0,o.checkCharClass)(h?.class,o.CLASSES.Elemental_Sorcerer)){let a=e?.SkillLevels?.[505]%10,n=t.gods?.[a];if(n&&n?.godIndex!==el){g=n?.godIndex;let e=t.gods?.[g]?.minorBonusMultiplier;h.secondLinkedDeityIndex=a,h.secondDeityMinorBonus=en/(60+en)*Math.max(1,ea)*e}}let es=m?.divinity?.linkedStyles?.[h?.playerId],eo=(0,F.getDivStylePerHour)(es);h.divStyle={...t.divStyles?.[es],index:es,divPerHour:eo},h.isDivinityConnected=m?.divinity?.linkedDeities?.[h?.playerId]===4||(0,L.isGodEnabledBySorcerer)(h,4);let er=(0,B.getUpdatedFamilyBonus)(h,i),ei=(0,o.getTalentAddedLevels)(q,null,el,h.secondLinkedDeityIndex,h.deityMinorBonus,h.secondDeityMinorBonus,er,m,h),eu=0;for(;eu<3;){let e=Object.assign({},h);e.talents=(0,o.applyTalentAddedLevels)(q,null,ei?.value||0),er=(0,B.getUpdatedFamilyBonus)(e,i),ei=(0,o.getTalentAddedLevels)(q,null,el,h.secondLinkedDeityIndex,h.deityMinorBonus,h.secondDeityMinorBonus,er,m,h),eu++}if(h.addedLevelsBreakdown=ei?.breakdown,h.addedLevels=ei?.value,h.talents=(0,o.applyTalentAddedLevels)(q,null,h.addedLevels),h.flatTalents=(0,o.applyTalentAddedLevels)(q,H,h.addedLevels),W){let e=(0,o.getTalentAddedLevels)(h?.talentPreset?.talents,null,el,h.secondLinkedDeityIndex,h.deityMinorBonus,h.secondDeityMinorBonus,er,m,h);h.talentPreset={...h.talentPreset,talents:(0,o.applyTalentAddedLevels)(h?.talentPreset?.talents,null,e?.value),flatTalents:(0,o.applyTalentAddedLevels)(h?.talentPreset?.talents,null,e?.value),addedLevels:e?.value,addedLevelsBreakdown:e?.breakdown}}return h.activeBuffs=h.activeBuffs?.map(({name:e})=>h.flatTalents?.find(({name:t})=>t===e)),h.talentsLoadout=e?.AttackLoadout?.flat()?.filter(e=>"Null"!==e)?.map(e=>h.flatTalents?.find(({skillIndex:t})=>e===t)||h.flatStarTalents?.find(({skillIndex:t})=>e===t)),h.npcDialog=e?.NPCdialogue,h.questComplete=e?.QuestComplete,h.questCompleted=Object.entries(e?.QuestComplete||{})?.reduce((e,[t,a])=>e+ +(1===a),0),h.printerSample=eE(h,m,i),h.anvil=(0,p.getAnvil)(e,h),h},eb=(e,l,s,p,g)=>{let f=o.mainStatMap?.[l?.class],B=ey(l,s,p),v=(0,o.getTalentBonus)(l?.flatTalents,"HAPPY_DUDE"),_=l?.skillsInfo?.fishing?.level,S=l?.skillsInfo?.mining?.level;if("mining"===e){let e,t=(0,c.getBubbleBonus)(p,"REELY_SMART",!1,"strength"===f);e=_>S?2*t:t;let u=(0,o.getTalentBonus)(l?.flatTalents,"TEMPESTUOUS_EMOTIONS"),m=(0,i.getStampsBonusByEffect)(p,"Mining_Exp_Gain"),d=(0,a.isMasteryBonusUnlocked)(p?.rift,p?.totalSkillsLevels?.mining?.rank,0),g=(0,a.isMasteryBonusUnlocked)(p?.rift,p?.totalSkillsLevels?.mining?.rank,2)?(0,r.getCardBonusByEffect)(p?.cards,"Mining_EXP"):(0,r.getCardBonusByEffect)(l?.cards?.equippedCards,"Mining_EXP"),h=(0,N.getArcadeBonus)(p?.arcade?.shop,"Mining_EXP_gain")?.bonus,M=(0,I.getAchievementStatus)(p?.achievements,27),b=(0,n.getStatsFromGear)(l,55,p),y=(0,z.getVoteBonus)(p,13),x=(0,o.getMaestroHand)(l,"mining",s,p,"LEFT_HAND_OF_LEARNING");return{value:Math.max(.1,1+(u+m+g+e+v+h+M+b+25*d+y)/100+(B?.value+x)/100),breakdown:[{name:"All skill exp",value:B?.value/100},{name:"Talent",value:(u+v)/100},{name:"Stamps",value:m/100},{name:"Cards",value:g/100},{name:"Bubble",value:e/100},{name:"Arcade",value:h/100},{name:"Achievement",value:M/100},{name:"Equipment",value:b/100},{name:"Skill Mastery",value:25*d/100},{name:"Vote",value:y/100},{name:"Left Hand",value:x/100}]}}if("chopping"===e){let e=(0,a.isMasteryBonusUnlocked)(p?.rift,p?.totalSkillsLevels?.chopping?.rank,2),t=(0,o.getTalentBonus)(l?.flatTalents,"INNER_PEACE"),n=(0,i.getStampsBonusByEffect)(p,"Choppin_Exp_Gain"),u=(0,c.getBubbleBonus)(p,"NOODUBBLE",!1,"wisdom"===f),m=e?(0,r.getCardBonusByEffect)(p?.cards,"Choppin_EXP"):(0,r.getCardBonusByEffect)(l?.cards?.equippedCards,"Choppin_EXP"),d=(0,o.getMaestroHand)(l,"chopping",s,p,"LEFT_HAND_OF_LEARNING"),g=(0,I.getAchievementStatus)(p?.achievements,4),h=(0,a.isMasteryBonusUnlocked)(p?.rift,p?.totalSkillsLevels?.chopping?.rank,0),_=(0,z.getVoteBonus)(p,9);return{value:1+(t+(n+(u+(m+v+(g+(25*h+_))))))/100+(B?.value+d)/100,breakdown:[{name:"All skill exp",value:B?.value/100},{name:"Talent",value:(t+v)/100},{name:"Stamps",value:n/100},{name:"Cards",value:m/100},{name:"Bubble",value:u/100},{name:"Achievement",value:g/100},{name:"Skill Mastery",value:25*h/100},{name:"Vote",value:_/100},{name:"Left Hand",value:d/100}]}}if("smithing"===e){let e=(0,o.getTalentBonus)(l?.flatTalents,"FOCUSED_SOUL"),t=(0,r.getCardBonusByEffect)(p?.cards,"Smithing_EXP_(Passive)"),n=(0,u.getPostOfficeBonus)(l?.postOffice,"Blacksmith_Box",0),c=(0,i.getStampsBonusByEffect)(p,"SmithExp",l),m=(0,a.isMasteryBonusUnlocked)(p?.rift,p?.totalSkillsLevels?.smithing?.rank,0),d=(0,o.getMaestroHand)(l,"smithing",s,p,"LEFT_HAND_OF_LEARNING");return{value:Math.max(.1,(1+(e+(c+(v+25*m)))/100)*(1+t/100)*(1+n/100)+(B?.value+d)/100),breakdown:[{name:"All skill exp",value:B?.value/100},{name:"Talent",value:(e+v)/100},{name:"Stamps",value:c/100},{name:"Cards",value:t/100},{name:"Post office",value:n/100},{name:"Skill Mastery",value:25*m/100},{name:"Left Hand",value:d/100}]}}if("fishing"===e){let e,t=(0,c.getBubbleBonus)(p,"REELY_SMART",!1,"strength"===f);e=S>_?2*t:t;let u=(0,o.getTalentBonus)(l?.flatTalents,"ALL_FISH_DIET"),m=(0,o.getTalentBonus)(l?.flatTalents,"TEMPESTUOUS_EMOTIONS"),d=(0,i.getStampsBonusByEffect)(p,"Fishing_Exp_Gain"),g=(0,N.getArcadeBonus)(p?.arcade?.shop,"Fishing_EXP_gain")?.bonus,h=(0,I.getAchievementStatus)(p?.achievements,117),M=(0,n.getStatsFromGear)(l,49,p),b=(0,eg.getBribeBonus)(p?.bribes,"Fishermaster"),y=eo(p?.kangaroo?.bonuses,"Fishing XP"),x=(0,z.getVoteBonus)(p,8),k=(0,q.getUpgradeVaultBonus)(p?.upgradeVault?.upgrades,30),C=(0,o.getMaestroHand)(l,"fishing",s,p,"LEFT_HAND_OF_LEARNING"),T=(0,a.isMasteryBonusUnlocked)(p?.rift,p?.totalSkillsLevels?.fishing?.rank,0),w=(0,a.isMasteryBonusUnlocked)(p?.rift,p?.totalSkillsLevels?.fishing?.rank,2)?(0,r.getCardBonusByEffect)(p?.cards,"Fishing_EXP"):(0,r.getCardBonusByEffect)(l?.cards?.equippedCards,"Fishing_EXP"),E=l?.fishingKit?.bait?.exp+l?.fishingKit?.line?.exp;return{value:Math.max(.1,1+(E+u+m+e+w+d+v+g+h+M+25*T+25*b+y+x+k)/100+(B?.value+C)/100),breakdown:[{name:"All skill exp",value:B?.value/100},{name:"Fishing kit",value:E/100},{name:"Talent",value:(u+m+v)/100},{name:"Stamps",value:d/100},{name:"Cards",value:w/100},{name:"Bubble",value:e/100},{name:"Arcade",value:g/100},{name:"Achievement",value:h/100},{name:"Equipment",value:M/100},{name:"Skill Mastery",value:25*T/100},{name:"Bribe",value:25*b/100},{name:"Kangaroo",value:y/100},{name:"Vote",value:x/100},{name:"Vault",value:k/100},{name:"Left Hand",value:C/100}]}}if("alchemy"===e){let e=(0,i.getStampsBonusByEffect)(p,"Alchemy_Exp_Gain"),t=(0,u.getPostOfficeBonus)(l?.postOffice,"Potion_Package",1),n=(0,m.getStatueBonus)(p,12,l?.flatTalents),s=(0,o.getTalentBonus)(l?.flatTalents,"BUBBLE_BREAKTHROUGH"),r=(0,o.getTalentBonus)(l?.flatTalents,"SHARING_SOME_SMARTS"),d=(0,a.isMasteryBonusUnlocked)(p?.rift,p?.totalSkillsLevels?.alchemy?.rank,0),g=(0,c.getBubbleBonus)(p,"NOODUBBLE",!1,"wisdom"===f),h=(0,c.getActiveBubbleBonus)(l?.equippedBubbles,"COOKIN_ROADKILL",p),_=(0,q.getUpgradeVaultBonus)(p?.upgradeVault?.upgrades,28);return{value:1+B?.value/100+(p?.alchemy?.p2w?.player?.extraExp+(e+(v+(t+n)))+(s+(r+25*d))+(g+(h+_)))/100,breakdown:[{name:"Talent",value:s/100},{name:"Task",value:10*p?.tasks?.[2]?.[4]?.[4]/100},{name:"Skill mastery",value:25*d/100}]}}else if("catching"===e){let e=(0,o.getTalentBonus)(l?.flatTalents,"FOCUSED_SOUL"),t=(0,o.getTalentBonus)(l?.flatTalents,"BUG_ENTHUSIAST"),n=(0,i.getStampsBonusByEffect)(p,"Catching_Exp_Gain"),u=(0,N.getArcadeBonus)(p?.arcade?.shop,"Catching_EXP_gain")?.bonus,c=(0,I.getAchievementStatus)(p?.achievements,107),m=(0,z.getVoteBonus)(p,10),d=(0,q.getUpgradeVaultBonus)(p?.upgradeVault?.upgrades,29),g=(0,o.getMaestroHand)(l,"catching",s,p,"LEFT_HAND_OF_LEARNING"),h=(0,a.isMasteryBonusUnlocked)(p?.rift,p?.totalSkillsLevels?.catching?.rank,0),f=(0,a.isMasteryBonusUnlocked)(p?.rift,p?.totalSkillsLevels?.catching?.rank,2)?(0,r.getCardBonusByEffect)(p?.cards,"Catching_EXP"):(0,r.getCardBonusByEffect)(l?.cards?.equippedCards,"Catching_EXP");return{value:Math.max(.1,1+(e+t+f+n+v+u+c+25*h+m+d)/100+(B?.value+g)/100),breakdown:[{name:"All skill exp",value:B?.value/100},{name:"Talent",value:(e+t+v)/100},{name:"Stamps",value:n/100},{name:"Cards",value:f/100},{name:"Arcade",value:u/100},{name:"Achievement",value:c/100},{name:"Skill Mastery",value:25*h/100},{name:"Vote",value:m/100},{name:"Vault",value:d/100},{name:"Left Hand",value:g/100}]}}else if("trapping"===e){let e=(0,o.getTalentBonus)(l?.flatTalents,"SHROOM_BAIT"),t=(0,o.getTalentBonus)(l?.flatTalents,"FOCUSED_SOUL"),n=(0,i.getStampsBonusByEffect)(p,"Trapping_Exp_Gain"),c=(0,a.isMasteryBonusUnlocked)(p?.rift,p?.totalSkillsLevels?.trapping?.rank,2)?(0,r.getCardBonusByEffect)(p?.cards,"Trapping_EXP"):(0,r.getCardBonusByEffect)(l?.cards?.equippedCards,"Trapping_EXP"),m=(0,o.getMaestroHand)(l,"trapping",s,p,"LEFT_HAND_OF_LEARNING"),d=(0,a.isMasteryBonusUnlocked)(p?.rift,p?.totalSkillsLevels?.trapping?.rank,0),g=(0,z.getVoteBonus)(p,30),h=(0,u.getPostOfficeBonus)(l?.postOffice,"Trapping_Lockbox",1),f=eN("TrapMGbonus",0,p),_=eN("TrapMGbonus",3,p),M=(0,N.getArcadeBonus)(p?.arcade?.shop,"Trapping_EXP")?.bonus;return{value:Math.max(.1,1+(e+(n+(t+(c+(v+(h+(f+(_+(M+(25*d+g))))))))))/100+(B?.value+m)/100),breakdown:[{name:"All skill exp",value:B?.value/100},{name:"Talent",value:(e+t+v)/100},{name:"Stamps",value:n/100},{name:"Cards",value:c/100},{name:"Post office",value:h/100},{name:"Trapping",value:(f+_)/100},{name:"Skill Mastery",value:25*d/100},{name:"Arcade",value:M/100},{name:"Vote",value:g/100},{name:"Left Hand",value:m/100}]}}else if("construction"===e){let e=(0,c.getActiveBubbleBonus)(l?.equippedBubbles,"CALL_ME_BOB",p),t=(0,i.getStampsBonusByEffect)(p,"Construction_Exp_Gain"),a=(0,z.getVoteBonus)(p,18),n=(0,m.getStatueBonus)(p,18,l?.flatTalents);return{value:1+(e+(t+(a+n)))/100,breakdown:[{name:"Bubble",value:e/100},{name:"Stamps",value:t/100},{name:"Vote",value:a/100},{name:"Statue",value:n/100}]}}else if("worship"===e){let e=(0,o.getTalentBonus)(l?.flatTalents,"BLESS_UP"),t=(0,o.getTalentBonus)(l?.flatTalents,"INNER_PEACE"),n=(0,d.getStarSignBonus)(l,p,"Worship_EXP"),r=(0,a.isMasteryBonusUnlocked)(p?.rift,p?.totalSkillsLevels?.worship?.rank,0),i=(0,z.getVoteBonus)(p,30),u=(0,o.getMaestroHand)(l,"worship",s,p,"LEFT_HAND_OF_LEARNING");return{value:Math.max(.1,1+(l?.skillsInfo?.worship?.level/3+(e+(t+(v+(n+(25*r+i))))))/100+(B?.value+u)/100),breakdown:[{name:"All skill exp",value:B?.value/100},{name:"Skill level",value:l?.skillsInfo?.worship?.level/3/100},{name:"Talent",value:(e+t+v)/100},{name:"Star sign",value:n/100},{name:"Skill Mastery",value:25*r/100},{name:"Vote",value:i/100},{name:"Left Hand",value:u/100}]}}else if("cooking"===e){let e=(0,M.getCookingEff)(l,s,p,g),n=(0,q.getUpgradeVaultBonus)(p?.upgradeVault?.upgrades,60),i=(0,o.getMaestroHand)(l,"cooking",s,p,"LEFT_HAND_OF_LEARNING"),c=(0,M.getMealsBonusByEffectOrStat)(p,null,"CookExp"),d=(0,u.getPostOfficeBonus)(l?.postOffice,"Cooking_EXP_gain",1),h=(0,o.getTalentBonus)(l?.flatTalents,"APOCALYPSE_CHOW"),f=l?.chow?.finished?.[0]??1,v=(0,r.getCardBonusByEffect)(p?.cards,"Cooking_EXP_gain"),_=(0,o.getTalentBonus)(l?.flatTalents,"TEMPESTUOUS_EMOTIONS"),S=(0,m.getStatueBonus)(p,20,l?.flatTalents),b=(0,a.isMasteryBonusUnlocked)(p?.rift,p?.totalSkillsLevels?.cooking?.rank,0),y=(0,z.getVoteBonus)(p,13);return{value:Math.max(.1,(1+n/100)*(Math.min(Math.pow(e/(10*t.monsters?.Cooking?.Defence),.25+(0,M.getCookingProwess)(l,p)),1)+(B?.value+(i+(c+(d+(v+(h*f+(_+(S+(25*b+y)))))))))/100)),breakdown:[{name:"All skill exp",value:B?.value/100},{name:"Upgrade vault",value:n/100},{name:"Cooking Eff",value:e/100},{name:"Prowess",value:.25+(0,M.getCookingProwess)(l,p)/100},{name:"Left hand",value:i/100},{name:"Meal",value:c/100},{name:"Post office",value:d/100},{name:"Card",value:v/100},{name:"Talent",value:h*f+_/100},{name:"Statue",value:S/100},{name:"Skill mastery",value:25*b/100},{name:"Vote",value:y/100}]}}else if("breeding"===e){let e=(0,o.getHighestTalentByClass)(s,o.CLASSES.Beast_Master,"SHINING_BEACON_OF_EGG"),t=(0,L.getJewelBonus)(p?.lab?.jewels,5),n=(0,M.getMealsBonusByEffectOrStat)(p,null,"BrExp"),u=(0,r.getCardBonusByEffect)(p?.cards,"Breeding_EXP"),d=(0,i.getStampsBonusByEffect)(p,"Breeding_EXP_Gain"),g=(0,c.getVialsBonusByStat)(p?.alchemy?.vials,"BreedXP"),h=(0,m.getStatueBonus)(p,21,l?.flatTalents),f=(0,a.isMasteryBonusUnlocked)(p?.rift,p?.totalSkillsLevels?.breeding?.rank,0),B=(0,z.getVoteBonus)(p,16),v=(0,q.getUpgradeVaultBonus)(p?.upgradeVault?.upgrades,59);return{value:Math.max(.1,1+(e+t+(n+(2*p?.breeding?.petUpgrades?.[0]?.level+(Math.min(u,50)+(d+(g+(h+(25*f+(B+v)))))))))/100),breakdown:[{name:"Talent",value:e/100},{name:"Jewel",value:t/100},{name:"Meal",value:n/100},{name:"Pet upgrade",value:2*p?.breeding?.petUpgrades?.[2]?.level/100},{name:"Card",value:Math.min(u,50)/100},{name:"Stamp",value:d/100},{name:"Vial",value:g/100},{name:"Statue",value:h/100},{name:"Skill mastery",value:25*f/100},{name:"Vote",value:B/100},{name:"Vault",value:v/100}]}}else if("laboratory"===e){let e=(0,L.getLabEfficiency)(l,s,p,g),m=t.monsters?.Laboratory?.Defence,h=(0,eh.allProwess)(l,p),f=(0,u.getPostOfficeBonus)(l?.postOffice,"Science_Spare_Parts",1),B=(0,a.isCompanionBonusActive)(p,16)?p?.companions?.list?.at(16)?.bonus:0,v=(0,r.getCardBonusByEffect)(l?.cards?.equippedCards,t.cardBonuses[79]),_=(0,L.getPlayerLabChipBonus)(l,p,5),S=(0,o.getBubonicGreenTube)(l,s,p),b=(0,o.getTalentBonus)(l?.flatTalents,"UPLOAD_SQUARED"),y=(0,L.getJewelBonus)(p?.lab?.jewels,2),x=(0,M.getMealsBonusByEffectOrStat)(p,null,"Lexp"),k=(0,i.getStampsBonusByEffect)(p,"Lab_Exp_Gain"),C=(0,c.getVialsBonusByEffect)(p?.alchemy?.vials,null,"LabXP"),T=(0,c.getActiveBubbleBonus)(l?.equippedBubbles,"MATRIX_EVOLVED",p),w=(0,n.getStatsFromGear)(l,65,p),E=(0,c.getSigilBonus)(p?.alchemy?.p2w?.sigils,"LAB_TESSTUBE"),A=(0,a.isMasteryBonusUnlocked)(p?.rift,p?.totalSkillsLevels?.laboratory?.rank,0),O=(0,d.getStarSignBonus)(l,p,"Lab_EXP_Gain"),P=(0,N.getArcadeBonus)(p?.arcade?.shop,"Lab_EXP_gain")?.bonus,I=(0,z.getVoteBonus)(p,31),R=(0,ef.getLampBonus)({holesObject:p?.hole?.holesObject,t:0,i:2}),D=(0,q.getUpgradeVaultBonus)(p?.upgradeVault?.upgrades,55),F=(0,ed.getArmorSetBonus)(p,"MAGMA_SET"),G=30*!!p?.lab?.playersCords?.find(({playerId:e})=>l?.playerId===e)?.soupedUp,j=(0,o.getTalentBonus)(l?.flatTalents,"INNER_PEACE"),W=1>Math.pow(e/(10*m),.25+h)?Math.max(.1,Math.pow(h/(10*m),.25)*(1+B)*(1+(f+v+_+S+b+y+x+k+C+T+Math.min(100,4*G)+w+E+25*A+O+P+I+R+D+F))/100):Math.max(.1,Math.pow(e/(10*m),.25)*(1+B)*(1+(f+v+_+S+b+j+y+x+k+C+T+Math.min(100,4*G)+w+E+25*A+O+P+I+R+D+F))/100);return{value:(1+B)*(1+(f+v+(_+S+(b+j)+(y+(x+(k+(C+(T+(Math.min(100,4*G)+(w+(E+(O+(P+(I+(R+(D+F)))))))))))))))/100),real:W,breakdown:[{name:"Lab eff",value:e},{name:"Prowess",value:.25+h},{name:"Companion",value:B/100},{name:"Post Office",value:f/100},{name:"Card",value:v/100},{name:"Chip",value:_/100},{name:"Bubonic Green",value:S/100},{name:"Talent",value:(b+j)/100},{name:"Jewel",value:y/100},{name:"Meal",value:x/100},{name:"Stamp",value:k/100},{name:"Vial",value:C/100},{name:"Bubble",value:T/100},{name:"Souped Player",value:Math.min(100,G)/100},{name:"Equipment",value:w/100},{name:"Sigil",value:E/100},{name:"Skill mastery",value:25*A/100},{name:"Star Sign",value:O/100},{name:"Arcade",value:P/100},{name:"Vote",value:I/100},{name:"Lamp",value:R/100},{name:"Vault Upgrade",value:D/100},{name:"Armor Set",value:F/100}]}}else if("sailing"===e){let e=(0,o.getHighestTalentByClass)(s,o.CLASSES.Siege_Breaker,"EXPERTLY_SAILED"),t=(0,c.getVialsBonusByStat)(p?.alchemy?.vials,"SailXP"),n=(0,a.isMasteryBonusUnlocked)(p?.rift,p?.totalSkillsLevels?.sailing?.rank,0),l=(0,h.getGuildBonusBonus)(p?.guild?.guildBonuses,14);return{value:1+(e+(t+(10*p?.tasks?.[2]?.[4]?.[4]+(25*n+l))))/100,breakdown:[{name:"Talent",value:e/100},{name:"Vial",value:t/100},{name:"Task",value:10*p?.tasks?.[2]?.[4]?.[4]/100},{name:"Skill mastery",value:25*n/100},{name:"Guild",value:l/100}]}}else if("divinity"===e){let e=p?.gemShopPurchases?.find((e,t)=>130===t)??0,t=s?.find(({linkedDeity:e})=>6===e),g=(0,a.isCompanionBonusActive)(p,16)?p?.companions?.list?.at(16)?.bonus:0,f=(0,o.getHighestTalentByClass)(s,o.CLASSES.Elemental_Sorcerer,"SHARED_BELIEFS"),B=p?.divinity?.unlockedDeities??0,v=(0,u.getPostOfficeBonus)(l?.postOffice,"Box_of_Gosh",0),_=(0,c.getSigilBonus)(p?.alchemy?.p2w?.sigils,"DIV_SPIRAL"),S=(0,r.getCardBonusByEffect)(p?.cards,"Divinity_EXP"),b=(0,i.getStampsBonusByEffect)(p,"Divinity_EXP_Gain"),y=(0,c.getActiveBubbleBonus)(l?.equippedBubbles,"PIOUS_AT_HEART",p),x=(0,m.getStatueBonus)(p,23,l?.flatTalents),k=(0,M.getMealsBonusByEffectOrStat)(p,null,"DivExp"),C=(0,c.getVialsBonusByStat)(p?.alchemy?.vials,"DivXP"),T=(0,o.getTalentBonus)(l?.flatTalents,"INNER_PEACE"),w=(0,d.getStarSignBonus)(l,p,"Divinity_EXP"),E=(0,h.getGuildBonusBonus)(p?.guild?.guildBonuses,14),A=(0,a.isMasteryBonusUnlocked)(p?.rift,p?.totalSkillsLevels?.divinity?.rank,0),O=(0,N.getArcadeBonus)(p?.arcade?.shop,"Divinity_EXP")?.bonus,P=(0,n.getStatsFromGear)(l,74,p),L=(0,z.getVoteBonus)(p,23),I=(0,ed.getArmorSetBonus)(p,"MAGMA_SET");return{value:l?.divStyle?.divPerHour*(1+e/4)*Math.max(1,1+ +!!t)*(1+f/100)*(1+g)*(1+(10*Math.max(0,B-10)+(v+(_+(S+(b+(y+(x+(k+(C+(T+(10*p?.tasks?.[2]?.[4]?.[4]+(25*A+(w+(E+(O+(P+(L+I)))))))))))))))))/100),breakdown:[{name:"Div style",value:l?.divStyle?.divPerHour/100},{name:"Gem shop",value:e/100},{name:"Major",value:!!t/100},{name:"Talent",value:(f+T)/100},{name:"Companion",value:g/100},{name:"Div rank",value:10*Math.max(0,B-10)/100},{name:"Postoffice",value:v/100},{name:"Sigil",value:_/100},{name:"Card",value:S/100},{name:"Stamp",value:b/100},{name:"Active bubble",value:y/100},{name:"Statue",value:x/100},{name:"Meal",value:k/100},{name:"Vial",value:C/100},{name:"Task",value:10*p?.tasks?.[2]?.[4]?.[4]/100},{name:"Skill mastery",value:25*A/100},{name:"Starsign",value:w/100},{name:"Guild",value:E/100},{name:"Arcade",value:O/100},{name:"Equip",value:P/100},{name:"Vote",value:L/100},{name:"Armor set",value:I/100}]}}else if("gaming"===e){let e=(0,i.getStampsBonusByEffect)(p,"Gaming_EXP_Gain"),t=(0,M.getMealsBonusByEffectOrStat)(p,null,"BrExp"),n=(0,o.getHighestTalentByClass)(s,o.CLASSES.Divine_Knight,"1000_HOURS_PLAYED"),r=(0,o.getTalentBonus)(l?.flatTalents,"TEMPESTUOUS_EMOTIONS"),u=(0,c.getVialsBonusByStat)(p?.alchemy?.vials,"GameXP"),m=(0,a.isMasteryBonusUnlocked)(p?.rift,p?.totalSkillsLevels?.gaming?.rank,0),d=(0,h.getGuildBonusBonus)(p?.guild?.guildBonuses,14);return{value:e+(t+(u+(n+(r+(10*p?.tasks?.[2]?.[4]?.[4]+(25*m+d)))))),breakdown:[{name:"Stamp",value:e/100},{name:"Meal",value:t/100},{name:"Vial",value:u/100},{name:"Talent",value:(n+r)/100},{name:"Task",value:10*p?.tasks?.[2]?.[4]?.[4]/100},{name:"Skill mastery",value:25*m/100},{name:"Guild",value:d/100}]}}else if("farming"===e){let e,t=(0,X.getMarketBonus)(p?.farming?.market,"EXP_GMO","value"),n=(0,X.getMarketBonus)(p?.farming?.market,"SMARTER_SEEDS"),i=p?.msaTotalizer?.farmingExp?.value,u=(0,a.isMasteryBonusUnlocked)(p?.rift,p?.totalSkillsLevels?.farming?.rank,0),g=(0,M.getMealsBonusByEffectOrStat)(p,null,"zFarmExp"),f=(0,N.getArcadeBonus)(p?.arcade?.shop,"Farming_EXP")?.bonus,B=(0,U.getWinnerBonus)(p,"<x Farming EXP"),v=(0,c.getVialsBonusByEffect)(p?.alchemy?.vials,null,"6FarmEXP"),_=(0,m.getStatueBonus)(p,25,l?.flatTalents),S=(0,r.getCardBonusByEffect)(p?.cards,"Farming_EXP_(Passive)"),x=(0,y.getCharmBonus)(p,"Rock_Candy"),k=(0,L.getLabBonus)(p?.lab.labBonuses,16),C=(0,d.getStarSignBonus)(l,p,"Farming_EXP"),T=(0,h.getGuildBonusBonus)(p?.guild?.guildBonuses,14),w=(0,I.getAchievementStatus)(p?.achievements,360),E=(0,I.getAchievementStatus)(p?.achievements,356),A=(0,z.getVoteBonus)(p,29),O=(0,D.getShinyBonus)(p?.breeding?.pets,"Farming_EXP_gain"),P=(0,X.getLandRankTotalBonus)(p,4),R=(0,o.getHighestTalentByClass)(s,o.CLASSES.Death_Bringer,"AGRICULTURAL_'PRECIATION"),F=Math.max(1,t)*(1+(n+(i+25*u+(g+f)))/100)*(1+B/100)*(1+(v+(_+(S+x))+(k+(C+(T+(10*w+(15*E+A))))))/100)*(1+(O+2*p?.tasks?.[2]?.[5]?.[2])/100)*(1+P/100)*(1+R/100);return e=F>1e8?Math.round(F/1e6)+"M":F>1e4?Math.round(F):(0,b.notateNumber)(F,"MultiplierInfo"),{value:F,formattedValue:e,breakdown:[{name:"Market",value:(t+n)/100},{name:"Msa",value:i/100},{name:"Skill mastery",value:25*u/100},{name:"Summoning",value:B/100},{name:"Vial",value:v/100},{name:"Statue",value:_/100},{name:"Card",value:S/100},{name:"Charm",value:x/100},{name:"Lab",value:k/100},{name:"Starsign",value:C/100},{name:"Guild",value:T/100},{name:"Achievement",value:(10*w+15*E)/100},{name:"Task",value:10*p?.tasks?.[2]?.[5]?.[2]/100},{name:"Vote",value:A/100},{name:"Shiny",value:O/100},{name:"Land rank",value:P/100},{name:"Talent",value:R/100}]}}else if("sneaking"===e){let e=p?.sneaking?.players?.[l?.playerId]?.floor,n=t.ninjaExtraInfo[11]?.split(" ")[e],u=(0,y.getNinjaUpgradeBonus)(p,"Respect_for_the_Art"),m=(0,N.getArcadeBonus)(p?.arcade?.shop,"Sneaking_XP_multi")?.bonus,g=(0,y.getInventoryNinjaItem)(p,"Gold_Eye"),f=(0,em.getCompassBonus)(p,51),B=p?.sneaking?.gemStones?.[4]?.bonus,v=(0,c.getVialsBonusByEffect)(p?.alchemy?.vials,null,"6SneakEXP"),_=(0,M.getMealsBonusByEffectOrStat)(p,null,"zSneakExp"),S=(0,a.isMasteryBonusUnlocked)(p?.rift,p?.totalSkillsLevels?.sneaking?.rank,0),b=(0,y.getCharmBonus)(p,"Sour_Wowzer"),x=(0,r.getCardBonusByEffect)(p?.cards,"Sneaking_EXP_(Passive)"),k=(0,L.getLabBonus)(p?.lab.labBonuses,16),C=(0,i.getStampsBonusByEffect)(p,"Sneaking_EXP_Gain"),T=(0,d.getStarSignBonus)(l,p,"Sneaking_EXP"),w=(0,h.getGuildBonusBonus)(p?.guild?.guildBonuses,14),E=(0,o.getHighestTalentByClass)(s,o.CLASSES.Wind_Walker,"SNEAKY_SKILLING"),A=(0,I.getAchievementStatus)(p?.achievements,370),O=(0,z.getVoteBonus)(p,25);return{value:n*(1+u/100)*(1+m/100)*(1+g/100)*(1+f/100)*(1+B/100)*(1+(v+_+25*S+b+x+k+C+T+w+E+10*A+O)/100)*1*Math.max(0,1-0*(1+(0,U.getWinnerBonus)(p,"<x Sneak EXP")/100)*Math.max(1,E)),breakdown:[{name:"Ninja upgrade",value:u/100},{name:"Arcade",value:m/100},{name:"Gold item",value:g/100},{name:"Ninja equip",value:0},{name:"Compass",value:f/100},{name:"Gemstone",value:B/100},{name:"Vial",value:v/100},{name:"Meal",value:_/100},{name:"Skill mastery",value:25*S/100},{name:"Charm",value:b/100},{name:"Card",value:x/100},{name:"Lab",value:k/100},{name:"Stamp",value:C/100},{name:"Starsign",value:T/100},{name:"Guild",value:w/100},{name:"Talent",value:E/100},{name:"Achievement",value:10*A/100},{name:"Vote",value:O/100}]}}else if("summoning"===e){let e=(0,o.getHighestTalentByClass)(s,o.CLASSES.Arcane_Cultist,"PASSION_OF_THE_SUMMON"),t=(0,c.getVialsBonusByStat)(p?.alchemy?.vials,"6SummEXP"),n=(0,r.getCardBonusByEffect)(p?.cards,"Summoning_EXP_(Passive)"),u=(0,M.getMealsBonusByEffectOrStat)(p,null,"zSummonExp"),m=(0,L.getLabBonus)(p?.lab.labBonuses,16),g=(0,N.getArcadeBonus)(p?.arcade?.shop,"Summon_XP_multi")?.bonus,f=(0,D.getShinyBonus)(p?.breeding?.pets,"Summoning_EXP_gain"),B=(0,a.isMasteryBonusUnlocked)(p?.rift,p?.totalSkillsLevels?.summoning?.rank,0),v=(0,i.getStampsBonusByEffect)(p,"Summoning_EXP_Gain"),_=(0,d.getStarSignBonus)(l,p,"Summoning_EXP"),S=(0,h.getGuildBonusBonus)(p?.guild?.guildBonuses,14),b=(0,z.getVoteBonus)(p,28);return{value:Math.max(1,e)*(1+(t+(n+(u+m)))/100)*(1+g/100)*(1+(f+25*B+(v+(_+(S+b))))/100),breakdown:[{name:"Talent",value:e/100},{name:"Vial",value:t/100},{name:"Card",value:n/100},{name:"Meal",value:u/100},{name:"Lab",value:m/100},{name:"Arcade",value:g/100},{name:"Shiny",value:f/100},{name:"Skill mastery",value:25*B/100},{name:"Stamp",value:v/100},{name:"Starsign",value:_/100},{name:"Guild",value:S/100},{name:"Vote",value:b/100}]}}},ey=(e,t,l)=>{let s=(0,d.getStarSignBonus)(e,l,"Skill_EXP_gain"),i=(0,r.getEquippedCardBonus)(e?.cards,"Z7"),c=(0,r.getCardBonusByEffect)(l?.cards,"Skill_EXP_(Passive)"),p=(0,N.getArcadeBonus)(l?.arcade?.shop,"Skill_EXP_gain")?.bonus,B=(0,a.getGoldenFoodBonus)("Golden_Ham",e,l,t),M=e?.cards?.cardSet?.rawName==="CardSet3"?e?.cards?.cardSet?.bonus:0,S=(0,o.getHighestTalentByClass)(t,o.CLASSES.Voidwalker,"ENHANCEMENT_ECLIPSE"),b=(0,o.getVoidWalkerTalentEnhancements)(t,l,S,536),y=(0,o.getVoidWalkerTalentEnhancements)(t,l,S,35,e),k=(0,o.getBubonicGreenTube)(e,t,l),C=(0,f.getShrineBonus)(l?.shrines,5,e?.mapIndex,l.cards,l?.sailing?.artifacts),T=(0,m.getStatueBonus)(l,17,e?.flatTalents),w=(0,g.getPrayerBonusAndCurse)(e?.activePrayers,"Unending_Energy",l)?.bonus,E=(0,g.getPrayerBonusAndCurse)(e?.activePrayers,"Balance_of_Proficiency",l)?.bonus,A=(0,g.getPrayerBonusAndCurse)(e?.activePrayers,"Skilled_Dimwit",l)?.curse,O=(0,g.getPrayerBonusAndCurse)(e?.activePrayers,"The_Royal_Sampler",l)?.curse,P=(0,n.getStatsFromGear)(e,27,l),L=(0,o.getTalentBonusIfActive)(e?.activeBuffs,"MAESTRO_TRANSFUSION"),R=(0,v.getSaltLickBonus)(l?.saltLick,3),G=(0,_.getDungeonStatBonus)(l?.dungeons?.upgrades,"Class_Exp"),j=(0,u.getPostOfficeBonus)(e?.postOffice,"Myriad_Crate",2),W=(0,I.getAchievementStatus)(l?.achievements,283),q=(0,I.getAchievementStatus)(l?.achievements,284),H=(0,I.getAchievementStatus)(l?.achievements,294),V=(0,I.getAchievementStatus)(l?.achievements,359),$=(0,a.getSkillMasteryBonusByIndex)(l?.totalSkillsLevels,l?.rift,1),Y=(0,a.getSkillMasteryBonusByIndex)(l?.totalSkillsLevels,l?.rift,4),K=(0,D.getShinyBonus)(l?.breeding?.pets,"Skill_EXP"),X=(0,x.isSuperbitUnlocked)(l,"MSA_Skill_EXP")?.bonus??0,z=(0,U.getWinnerBonus)(l,"+{% Skill EXP"),Q=20*!!(0,a.isCompanionBonusActive)(l,9),Z=(0,er.getSchematicBonus)({holesObject:l?.hole?.holesObject,t:49,i:10}),ee=0,et=(0,F.getDeityLinkedIndex)(l,t,7);et?.[e?.playerId]!==-1&&(ee=(0,F.getGodByIndex)(l?.divinity?.linkedDeities,t,7)||0);let ea=(0,h.getGuildBonusBonus)(l?.guild?.guildBonuses,14),en=J(l?.owl?.bonuses,"Skill XP"),el=(0,ed.getArmorSetBonus)(l,"CHIZOAR_SET");return{value:s+(i+p+B+k*Math.min(1,b?k:0)+(M+c+(Math.min(150,100*((0,o.checkCharClass)(e?.class,o.CLASSES.Maestro)?y:0))+C)+T+w+E-A-O+(P+(L+(R+(G+(j+(ee+(10*W+(25*q+(10*H+15*V+($+(Y+(K+X)+Q+z+ea+en+el+Z))))))))))))),breakdown:[{name:"",value:1}]}},ex=(e,t,a)=>{let n=o.talentPagesMap?.[e],{flat:l,talents:s}=(0,o.createTalentPage)(e,n,t,a),{flat:r,talents:i}=(0,o.createTalentPage)(e,o.starTalentsPages,t,a,!0);return{talents:s,flatTalents:l,starTalents:i,flatStarTalents:r}},ek=(e,a)=>{let{targetMonster:l}=e,s=t.monsters?.[l],o=`monsterRespawnTime / (1 + (shrineBonus
  + chipBonus
  + (equipmentBonus + obolsBonus)
  + achievementBonus
  + starSignBonus
  + meritBonus) / 100);`;if(!s||s?.AFKtype==="Nothing")return{respawnRate:0,expression:o,breakdown:[{name:"Not fighting",value:"TOWN"}]};let r="riftAll"===l,{RespawnTime:i,worldIndex:u}=s,c=(0,f.getShrineBonus)(a?.shrines,7,e?.mapIndex,a?.cards,a?.sailing?.artifacts),m=(0,L.getPlayerLabChipBonus)(e,a,10),p=(0,n.getStatsFromGear)(e,47,a),g=(0,S.getObolsBonus)(e?.obols,t.bonuses?.etcBonuses?.[47]),h=(0,d.getStarSignBonus)(e,a,"Mob_Respawn_rate"),B=(0,I.getAchievementStatus)(a?.achievements,44),v=a?.tasks?.[2]?.[0]?.[1],_=a?.meritsDescriptions?.[0]?.[1]?.bonusPerLevel,M=(0,I.getAchievementStatus)(a?.achievements,109),b=a?.tasks?.[2]?.[1]?.[1],y=a?.meritsDescriptions?.[1]?.[1]?.bonusPerLevel,x=a?.tasks?.[2]?.[1]?.[1],k=a?.meritsDescriptions?.[1]?.[1]?.bonusPerLevel,C=a?.tasks?.[2]?.[3]?.[1],T=a?.meritsDescriptions?.[3]?.[1]?.bonusPerLevel,w=(0,I.getAchievementStatus)(a?.achievements,308),E=a?.tasks?.[2]?.[4]?.[1],A=a?.meritsDescriptions?.[4]?.[1]?.bonusPerLevel,O=a?.tasks?.[2]?.[5]?.[1],P=a?.meritsDescriptions?.[5]?.[1]?.bonusPerLevel,N=1===u||r?v*_:2===u?b*y:3===u?x*k:4===u?C*T:5===u?E*A:6===u?O*P:0,R=1===u||r?B:2===u?M:5===u?2*w:0,D=r?45:i;return{respawnRate:D/(1+(c+m+(p+g)+R+h+N)/100),breakdown:[{title:"Additive"},{name:""},{name:"Base",value:D},{name:"Achievement",value:R/100},{name:"Chip",value:m/100},{name:"Equipment",value:p/100},{name:"Merit",value:N/100},{name:"Shrine",value:c/100},{name:"Starsigns",value:h/100}],expression:o}},eC=(e,l,s)=>{let i,p,{luck:h}=e?.stats||{};i=h<1e3?(Math.pow(h+1,.37)-1)/30:(h-1e3)/(h+2500)*.8+.3963;let B=s?.reduce((e,{level:t})=>t<e?t:e,1/0),S=e?.level===B,y=(0,q.getUpgradeVaultBonus)(l?.upgradeVault?.upgrades,12),k=l?.tasks?.[2]?.[0]?.[2]*3,C=50*!!(0,x.isSuperbitUnlocked)(l,"Noobie_Gains")?.unlocked,T=0,w=0;S&&(T=k+y,w+=C,p=!0),e?.level<50&&(T+=e?.cards?.cardSet?.rawName==="CardSet0"?e?.cards?.cardSet?.bonus:0),e?.level<120&&(T+=(0,M.getMealsBonusByEffectOrStat)(l,null,"Clexp"));let E=Math.min(150,l?.weeklyBossesRaw?.c||0);l?.weeklyBossesRaw?.c&&(T+=E),e?.level<10?T+=150:e?.level<30?T+=100:e?.level<50&&(T+=50);let A=(0,F.getDeityLinkedIndex)(l,s,5),O=(0,F.getMinorDivinityBonus)(e,l,5,s);A.includes(e?.playerId)&&(T+=O);let P=e?.cards?.cardSet?.rawName==="CardSet26"?e?.cards?.cardSet?.bonus:0;T+=P;let L=(0,a.isBundlePurchased)(l?.bundles,"bun_q");L&&(w+=20*!!L);let R=(0,em.getCompassBonus)(l,51),G=(0,er.getSchematicBonus)({holesObject:l?.hole?.holesObject,t:47,i:0}),j=(0,U.getWinnerBonus)(l,"+{% Class EXP"),W=(0,ei.getGrimoireBonus)(l?.grimoire?.upgrades,24),H=(0,q.getUpgradeVaultBonus)(l?.upgradeVault?.upgrades,3),V=(0,q.getUpgradeVaultBonus)(l?.upgradeVault?.upgrades,35),$=(0,er.getSchematicBonus)({holesObject:l?.hole?.holesObject,t:83,i:40}),Y=R+(G+(j+(W+(H+(V*(0,b.lavaLog)(l?.accountOptions?.[345])+$))))),K=l?.compass?.medallions?.find(({Name:t})=>t===e?.afkTarget),X=(0,o.getHighestTalentByClass)(s,o.CLASSES.Wind_Walker,"SHINY_MEDALLIONS"),Q=(0,o.getHighestTalentByClass)(s,o.CLASSES.Wind_Walker,"SLAYER_ABOMINATOR"),Z=(0,n.getStatsFromGear)(e,84,l),ee=(K?.acquired?X:1)*(1+Z/100)*Math.pow(Math.max(1,Q),l?.compass?.totalKilledAbominations),et=1+(0,o.getHighestTalentByClass)(s,o.CLASSES.Siege_Breaker,"ARCHLORD_OF_THE_PIRATES")*(0,b.lavaLog)(l?.accountOptions?.[139]??0)/100,ea=(0,o.getTalentBonus)(e?.flatTalents,"LUCKY_CHARMS"),en=(0,n.getStatsFromGear)(e,78,l),el=(0,n.getStatsFromGear)(e,4,l),es=(0,u.getPostOfficeBonus)(e?.postOffice,"Box_of_Unwanted_Stats",2),eo=(0,a.getFoodBonus)(e,l,"ClassEXP",!0),eu=(0,d.getStarSignBonus)(e,l,"Class_EXP_Gain"),ep=(0,c.getVialsBonusByStat)(l?.alchemy?.vials,"MonsterEXP"),eg=(0,c.getBubbleBonus)(l,"GRIND_TIME",!1),eh=(0,r.getCardBonusByEffect)(e?.cards?.equippedCards,t.cardBonuses[44]),ef=(0,m.getStatueBonus)(l,10,e?.flatTalents),eB=(0,o.getTalentBonus)(e?.flatStarTalents,"JUST_EXP"),ev=(0,f.getShrineBonus)(l?.shrines,5,e?.mapIndex,l.cards,l?.sailing?.artifacts),e_=(0,v.getSaltLickBonus)(l?.saltLick,3),eM=(0,g.getPrayerBonusAndCurse)(e?.prayers,"Big_Brain_Time")?.bonus,eS=(0,g.getPrayerBonusAndCurse)(e?.prayers,"Unending_Energy")?.bonus,eb=(0,g.getPrayerBonusAndCurse)(e?.prayers,"The_Royal_Sampler")?.curse,ey=(0,_.getDungeonFlurboStatBonus)(l?.dungeons?.upgrades,"Class_Exp"),ex=(0,I.getAchievementStatus)(l?.achievements,57),ek=(0,I.getAchievementStatus)(l?.achievements,357),eC=(0,I.getAchievementStatus)(l?.achievements,61),eT=(0,I.getAchievementStatus)(l?.achievements,124),ew=(0,I.getAchievementStatus)(l?.achievements,188),eE=(0,N.getArcadeBonus)(l?.arcade?.shop,"Class_EXP_gain")?.bonus,eA=(0,c.getSigilBonus)(l?.alchemy?.p2w?.sigils,"METAL_EXTERIOR"),eO=(0,I.getAchievementStatus)(l?.achievements,286),eP=(0,D.getShinyBonus)(l?.breeding?.pets,"Class_EXP"),eL=l?.msaTotalizer?.classExp?.value??0,eI=(0,o.getHighestTalentByClass)(s,o.CLASSES.Voidwalker,"EXP_CULTIVATION"),eN=(0,r.getCardBonusByEffect)(l?.cards,"Class_EXP_(Passive)"),eR=(0,a.isCompanionBonusActive)(l,3)?l?.companions?.list?.at(3)?.bonus:0,eD=(0,a.getGoldenFoodBonus)("Golden_Nigiri",e,l,s),eF=J(l?.owl?.bonuses,"Class XP"),eG=(0,z.getVoteBonus)(l,15)||0,ej=(0,ec.getMonumentBonus)({holesObject:l?.hole?.holesObject,t:1,i:6}),eW=(0,ed.getArmorSetBonus)(l,"IRON_SET");return{value:et*(1+w/100)*ee*(1+en/100)*(i*(1+ea/100)/1.8+(el+(es+(eo+eu+(ep+(eg+(eh+(T+(ef+(eB+(ev+(e_+(eM+(eS-eb+ey+(ex+20*ek+(3*eC+(2*eT+(5*ew+(eE+(eA+(25*eO+(eP+(eL+(eI+(eN+(eR+l?.accountOptions?.[179]*l?.islands?.allShimmerBonus+(eD+(eF+(eG+(ej+Y+eW))))))))))))))))))))))))))))))/100+1,breakdown:[{title:"Additive Bonuses"},{name:""},{name:"Achievements",value:(ex+20*ek+3*eC+2*eT+5*ew+25*eO)/100},{name:"Arcade",value:eE/100},{name:"Bubble",value:eg/100},{name:"Card Set",value:P/100},{name:"Cards",value:eh/100},{name:"Compass",value:R/100},{name:"Companion",value:eR/100},{name:"Dungeon (Flurbo)",value:ey/100},{name:"Equipment",value:el/100},{name:"Food",value:eo/100},{name:"God",value:O/100},{name:"Golden Food",value:eD/100},{name:"Grimoire",value:W/100},{name:"Island Bonus",value:(l?.accountOptions?.[179]??0)*(l?.islands?.allShimmerBonus??0)/100},{name:"Luck",value:i},{name:"Monument",value:ej/100},{name:"MSA",value:eL/100},{name:"Owl",value:eF/100},{name:"Passive Card Bonus",value:eN/100},{name:"Post Office",value:es/100},{name:"Prayers",value:eM+eS-eb/100},{name:"Salt Lick",value:e_/100},{name:"Schematic",value:(G+$)/100},{name:"Shiny",value:eP/100},{name:"Sigil",value:eA/100},{name:"Star Sign",value:eu/100},{name:"Star Talent",value:eB/100},{name:"Statue",value:ef/100},{name:"Talent",value:ea/100},{name:"Upgrade Vault",value:((S?y:0)+H+V*(0,b.lavaLog)(l?.accountOptions?.[345]))/100},{name:"Vote",value:eG/100},{name:"Iron set",value:eW/100},{name:"Weekly Boss",value:E},{name:"Summoning",value:j/100},{name:"Vials",value:ep/100},{name:"Superbit",value:(S?C:0)/100},{name:"EXP Cultivation",value:eI/100},{name:""},{title:"Multiplicative Bonuses"},{name:""},{name:"Wind Walker",value:ee},{name:"Bundle",value:L?w/100:0},{name:"Equipment (Exp Multi)",value:en/100},{name:"Siege Breaker",value:et}],expression:`siegeBreakerBonus
* (1 + (
    ${p?"superbit + ":""}${L?"bundleBonus":""}
) / 100)
* shinyMedallionTalentBonus
* (1 + bonusClassExpEquip / 100)
* Math.pow(
    Math.max(1, slayerAbominationTalentBonus),
    account?.compass?.totalKilledAbominations
)
* (1 + classExpMultiEquip / 100)
* (
    luckMulti * (1 + luckyCharmTalentBonus / 100) / 1.8
    + (
        xpFromMonstersEquip
        + postOfficeBonus
        + foodBonus
        + starSignBonus
        + vialBonus
        + bubbleBonus
        + cardBonus
        + omniphauGodBonus
        + expCardSet
        + statueBonus
        + starTalent
        + shrineBonus
        + saltLickBonus
        + prayerBonus1
        + (prayerBonus2 - prayerBonus3)
        + flurboBonus
        + achievement1
        + 20 * achievement2
        + (3 * achievement3)
        + (2 * achievement4)
        + (5 * achievement5)
        + arcadeBonus
        + sigilBonus
        + 25 * achievement6
        + shinyBonus
        + msaBonus
        + talentBonus4
        + passiveCardBonus
        + companionBonus
        + account?.accountOptions?.[179] * account?.islands?.allShimmerBonus
        + goldenFoodBonus
        + owlBonus
        + voteBonus
        + monumentBonus
        + compassBonus
        + gloomieExpSchematic
        + winnerBonus
        + grimoireBonus
        + wickedSmartVault
        + schoolinTheFishVault * lavaLog(fishCaught)
        + sanctumOfExpSchematic
        + armorSetBonus
    ) / 100 + 1
)`}},eT=(e,l,s)=>{let m,{luck:p}=e?.stats||{};m=p<1e3?(Math.pow(p+1,.37)-1)/40:(p-1e3)/(p+2500)*.5+.297;let B=(0,u.getPostOfficeBonus)(e?.postOffice,"Non_Predatory_Loot_Box",0),v=(0,o.getTalentBonus)(e?.flatTalents,"ROBBINGHOOD"),_=(0,o.getTalentBonus)(e?.flatTalents,"CURSE_OF_MR_LOOTY_BOOTY"),M=(0,o.getTalentBonus)(e?.flatStarTalents,"BOSS_BATTLE_SPILLOVER"),x=(0,n.getStatsFromGear)(e,2,l),k=(0,n.getStatsFromGear)(e,91,l),C=(0,n.getStatsFromGear)(e,2,l,!0),T=(0,S.getObolsBonus)(e?.obols,t.bonuses?.etcBonuses?.[2]),w=(0,c.getBubbleBonus)(l,"DROPPIN_LOADS",!1),E=(0,r.getCardBonusByEffect)(e?.cards?.equippedCards,"Total_Drop_Rate"),A=(0,h.getGuildBonusBonus)(l?.guild?.guildBonuses,10),O=e?.cards?.cardSet?.rawName==="CardSet26"||e?.cards?.cardSet?.rawName==="CardSet25"?e?.cards?.cardSet?.bonus:0,P=(0,f.getShrineBonus)(l?.shrines,4,e?.mapIndex,l?.cards,l?.sailing?.artifacts),R=(0,g.getPrayerBonusAndCurse)(e?.activePrayers,"Midas_Minded",l)?.bonus,F=(0,c.getSigilBonus)(l?.alchemy?.p2w?.sigils,"TROVE"),j=(0,D.getShinyBonus)(l?.breeding?.pets,"Drop_Rate"),W=(0,d.getStarSignBonus)(e,l,"Drop_Rate"),H=(0,d.getStarSignBonus)(e,l,"Drop_Rarity"),V=(0,i.getStampsBonusByEffect)(l,"+{%_Drop_Rate"),$=1+(0,o.getHighestTalentByClass)(s,o.CLASSES.Siege_Breaker,"ARCHLORD_OF_THE_PIRATES")*(0,b.lavaLog)(l?.accountOptions?.[139]??0)/100,Y=(0,a.isCompanionBonusActive)(l,3)?l?.companions?.list?.at(3)?.bonus:0,K=(0,a.isCompanionBonusActive)(l,22)?l?.companions?.list?.at(22)?.bonus:0,Q=(0,N.getArcadeBonus)(l?.arcade?.shop,"Drop_Rate")?.bonus,Z=(0,G.getEquinoxBonus)(l?.equinox?.upgrades,"Faux_Jewels"),ee=(0,L.getPlayerLabChipBonus)(e,l,3),et=(0,U.getWinnerBonus)(l,"+{% Drop Rate"),ea=(0,I.getAchievementStatus)(l?.achievements,377),en=(0,I.getAchievementStatus)(l?.achievements,381),el=(0,a.getGoldenFoodBonus)("Golden_Cake",e,l,s),es=(0,r.getCardBonusByEffect)(l?.cards,"Drop_Rate_(Passive)"),eo=l?.tome?.bonuses?.[2]?.bonus??0,em=J(l?.owl?.bonuses,"Drop Rate"),eg=(0,X.getLandRank)(l?.farming?.ranks,9),eh=(0,z.getVoteBonus)(l,27),ef=(0,er.getSchematicBonus)({holesObject:l?.hole?.holesObject,t:46,i:0}),eB=(0,er.getSchematicBonus)({holesObject:l?.hole?.holesObject,t:82,i:20}),ev=(0,ei.getGrimoireBonus)(l?.grimoire?.upgrades,44),e_=(0,q.getUpgradeVaultBonus)(l?.upgradeVault?.upgrades,18),eM=l?.farming?.cropDepot?.dropRate?.value,eS=(0,eu.getMeasurementBonus)({holesObject:l?.hole?.holesObject,accountData:l,t:15}),eb=(0,ec.getMonumentBonus)({holesObject:l?.hole?.holesObject,t:2,i:6}),ey=(0,ed.getArmorSetBonus)(l,"EFAUNT_SET"),ex=(0,ep.getEmperorBonus)(l,11),ek=1.4*m+(v+B+(x+T+C)+w+E+_+W+H+A+O+P+R+F+j+Q+Y+V+M*(l?.accountOptions?.[189]??0)+Z+et+eo+es+el+(6*ea+4*en)+em+eg+eh+ef+eM+ev+e_+eS+K+eB+eb+ex+ey)/100+1;ek<5&&ee>0&&(ek=Math.min(5,ek+ee/100));let eC=ek,eT=(0,a.isBundlePurchased)(l?.bundles,"bun_v");eT&&(eC+=2),eC*=$;let ew=l?.accountOptions?.[232]>=1;ew&&(eC+=.3);let eE=(0,a.isBundlePurchased)(l?.bundles,"bun_p");eE&&(eC*=1.2);let eA=(0,y.getCharmBonus)(l,"Cotton_Candy");eC*=(1+eA/100)*(1+k/100);let eO=(0,a.isCompanionBonusActive)(l,26)?l?.companions?.list?.at(26)?.bonus:0;return eO&&(eC*=Math.max(1,Math.min(1.3,1+eO))),{dropRate:eC,breakdown:[{title:"Additive"},{name:""},{name:"Base",value:1},{name:"Luck",value:1.4*m},{name:"Talents",value:(v+_+M*l?.accountOptions?.[189])/100},{name:"Post Office",value:B/100},{name:"Equipment",value:(x+C)/100},{name:"Obols",value:T/100},{name:"Bubble",value:w/100},{name:"Cards",value:(E+O+es)/100},{name:"Shrine",value:P/100},{name:"Prayers",value:R/100},{name:"Sigil",value:F/100},{name:"Shiny",value:j/100},{name:"Arcade",value:Q/100},{name:"Starsign",value:(W+H)/100},{name:"Guild",value:A/100},{name:"Companion+",value:(Y+K)/100},{name:"Equinox",value:Z/100},{name:"Stamps",value:V/100},{name:"Tome",value:eo/100},{name:"Owl",value:em/100},{name:"Summoning",value:et/100},{name:"Golden food",value:el/100},{name:"Achievements",value:(6*ea+4*en)/100},{name:"Land rank",value:eg/100},{name:"Vote",value:eh},{name:"Schematics",value:(ef+eB)/100},{name:"Grimoire",value:ev/100},{name:"Upgrade vault",value:e_/100},{name:"Crop Depot",value:eM/100},{name:"Monument",value:eb/100},{name:"Measurement",value:eS/100},{name:"Emperor",value:ex/100},{name:"Efaunt set",value:ey/100},{name:"Gem Bundle2",value:2*!!eT},{name:"Ninja Mastery",value:.3*!!ew},{name:""},{title:"Multiplicative"},{name:""},{name:"Equipment",value:k/100},{name:"Pristine Charm",value:eA/100},{name:"Companion",value:eO},{name:"Gem Bundle",value:1.2*!!eE},{name:"Siege Breaker*",value:$}],expression:`let dropRate = 1.4 * luckMulti
  + (
    robbingHoodTalentBonus
    + postOfficeBonus
    + dropChanceEquip
    + dropChanceObols
    + dropChanceTools
    + bubbleBonus
    + cardBonus
    + lootyCurseTalentBonus
    + starSignBonus
    + starSignRarityBonus
    + guildBonus
    + cardSetBonus
    + shrineBonus
    + prayerBonus
    + sigilBonus
    + shinyBonus
    + arcadeBonus
    + companionDropRate
    + stampBonus
    + (bossBattleTalentBonus * account?.accountOptions?.[189])
    + equinoxDropRateBonus
    + summoningBonus
    + tomeBonus
    + passiveCardBonus
    + goldenFoodBonus
    + (6 * achievementBonus + 4 * secondAchievementBonus)
    + owlBonus
    + landRankBonus
    + voteBonus
    + schematicBonus
    + cropDepotBonus
    + grimoireBonus
    + upgradeVaultBonus
    + measurementBonus
    + secondCompanionDropRate
    + secondSchematicBonus
    + monumentBonus
    + emperorBonus
    + armorSetBonus
  ) / 100 + 1;

if (dropRate < 5 && chipBonus > 0) {
  dropRate = Math.min(5, dropRate + chipBonus / 100);
}

let final = dropRate;

if (hasAnotherDrBundle) {
  final += 2;
}

final *= extraDropRate;

if (ninjaMasteryDropRate) {
  final += 0.3;
}

if (hasDrBundle) {
  final *= 1.2;
}

final *= (1 + charmBonus / 100);
final *= (1 + equipmentDrMulti / 100);

if (thirdCompanionDropRate) {
  final *= Math.max(1, Math.min(1.3, 1 + thirdCompanionDropRate));
}`}},ew=(e,l,s)=>{let{strength:i,agility:d,wisdom:p}=e?.stats||{},f=(0,c.getBubbleBonus)(l,"PENNY_OF_STRENGTH",!1,o.mainStatMap?.[e?.class]==="strength"),B=(0,c.getBubbleBonus)(l,"DOLLAR_OF_AGILITY",!1,o.mainStatMap?.[e?.class]==="agility"),v=(0,c.getBubbleBonus)(l,"NICKEL_OF_WISDOM",!1,o.mainStatMap?.[e?.class]==="wisdom"),x=(0,M.getMealsBonusByEffectOrStat)(l,null,"Cash"),k=(0,R.isArtifactAcquired)(l?.sailing?.artifacts,"Maneki_Kat")?.bonus??0,C=l?.accountOptions?.[89],T=t.randomList?.[53],w=+(0,a.isArenaBonusActive)(C,T,5),E=+(0,a.isArenaBonusActive)(C,T,14),A=(0,m.getStatueBonus)(l,19,e?.flatTalents),O=(0,L.getLabBonus)(l?.lab.labBonuses,9),P=(0,g.getPrayerBonusAndCurse)(e?.activePrayers,"Jawbreaker",l)?.bonus,N=(0,F.getDeityLinkedIndex)(l,s,3),D=s?.reduce((e,t,a)=>N?.includes(a)?e+(0,F.getMinorDivinityBonus)(t,l,3,s):t?.linkedDeity===3?e+t?.deityMinorBonus:e,0),G=(0,c.getVialsBonusByEffect)(l?.alchemy?.vials,null,"MonsterCash"),j=(0,n.getStatsFromGear)(e,3,l),W=(0,n.getStatsFromGear)(e,3,l,!0),U=(0,S.getObolsBonus)(e?.obols,t.bonuses?.etcBonuses?.[3]),V=(0,r.getCardBonusByEffect)(l?.cards,"Money_from_mobs_(Passive)"),$=(0,r.getCardBonusByEffect)(e?.cards?.equippedCards,"Money_from_Monsters"),Y=(0,o.getTalentBonus)(e?.flatTalents,"CHACHING!"),K=(0,_.getDungeonFlurboStatBonus)(l?.dungeons?.upgrades,"Monster_Cash"),J=l?.arcade?.shop?.[10]?.bonus,X=l?.arcade?.shop?.[11]?.bonus,Q=(0,u.getPostOfficeBonus)(e?.postOffice,"Utilitarian_Capsule",2),Z=(0,h.getGuildBonusBonus)(l?.guild?.guildBonuses,8),ee=+(0,o.getTalentBonus)(e?.flatStarTalents,"COINS_FOR_CHARON"),et=e?.skillsInfo?.cooking?.level/10*(0,o.getTalentBonus)(e?.flatStarTalents,"AMERICAN_TIPPER"),ea=(0,a.getGoldenFoodBonus)("Golden_Bread",e,l,s),en=(0,I.getAchievementStatus)(l?.achievements,235),el=(0,I.getAchievementStatus)(l?.achievements,350),es=(0,I.getAchievementStatus)(l?.achievements,376),{dropRate:er}=eT(e,l,s),ei=(er<2?er:Math.floor(er<5?er:er+1))*100,eu=(0,z.getVoteBonus)(l,34),ec=eo(l?.kangaroo?.bonuses,"Cash"),em=(0,a.getEventShopBonus)(l,9),ep=(0,a.getEventShopBonus)(l,20),eg=(0,n.getStatsFromGear)(e,77,l),eh=(0,n.getStatsFromGear)(e,77,l,!0),ef=(0,S.getObolsBonus)(e?.obols,t.bonuses?.etcBonuses?.[77]),eB=+!!(0,a.isBundlePurchased)(l?.bundles,"bun_y"),ev=(0,q.getUpgradeVaultBonus)(l?.upgradeVault?.upgrades,34),e_=(0,q.getUpgradeVaultBonus)(l?.upgradeVault?.upgrades,37),eM=(0,y.getCharmBonus)(l,"Gumball_Necklace"),eS=(0,o.getTalentBonus)(e?.flatStarTalents,"CASH_MONEY"),eb=(0,q.getUpgradeVaultBonus)(l?.upgradeVault?.upgrades,11),ey=(0,q.getUpgradeVaultBonus)(l?.upgradeVault?.upgrades,2),ex=(0,q.getUpgradeVaultBonus)(l?.upgradeVault?.upgrades,14),ek=Math.floor((0,b.lavaLog)(l?.deathNote?.[0]?.mobs?.[3]?.kills)||0),eC=(0,q.getUpgradeVaultBonus)(l?.upgradeVault?.upgrades,31),ew=Math.floor((0,b.lavaLog)(l?.deathNote?.[0]?.mobs?.[10]?.kills||0)),eE=(0,ed.getArmorSetBonus)(l,"GOLD_SET"),eA=(0,a.isCompanionBonusActive)(l,24)?l?.companions?.list?.at(24)?.bonus:0,eO=(0,H.getGambitBonus)(l,7),eP=(0,o.getHighestTalentByClass)(s,"Winder_Walker","DUSTWALKER"),eL=f*Math.floor(i/250)+(B*Math.floor(d/250)+v*Math.floor(p/250));return{cashMulti:(1+eL/100)*(1+Math.min(4,eA))*(1+.5*em)*(1+.6*ep)*(1+(ef+eg+eh)/100)*(1+eE/100)*(1+eO/100)*(1+250*eB/100)*(1+Math.max(1,eP)*(0,b.lavaLog)(l?.accountOptions[362])/100)*(1+(x+k+(ec+eu))/100)*(1+(.5*w+(E+A/100)))*(1+(O+(ev*l?.unlockedRecipes+e_*l?.alchemy?.totalBubbleLevelsTill100))/100)*(1+eM/100)*(1+P/100)*(1+(D+l?.farming?.cropDepot?.cash?.value)/100)*(1+(eS+G+(j+U+W+($+V+(Y+(K+(J+X)+(Q+(Z*(1+Math.floor(e?.mapIndex/50))+(ee+(et+(ea+eb*(0,b.lavaLog)(l?.accountOptions?.[340])+(5*en+(10*el+(20*es+(ey+(ex*ek+eC*ew)))))))))))))))/100),breakdown:[{title:"Multiplicative"},{name:""},{name:"Achievements",value:5*en+10*el+20*es},{name:"Arcade",value:J+X},{name:"Artifact",value:k},{name:"Bubbles",value:eL},{name:"Bundle",value:250*eB},{name:"Cards",value:$+V},{name:"Charm",value:eM},{name:"Companion",value:eA},{name:"Crop Depot",value:l?.farming?.cropDepot?.cash?.value},{name:"Divinity",value:D},{name:"Dungeons",value:K},{name:"Drop Rate",value:ei},{name:"Dust Walker",value:Math.max(1,eP)*(0,b.lavaLog)(l?.accountOptions[362])},{name:"Equipment",value:eg+ef+j+U+W+eh},{name:"Event shop",value:.5*em},{name:"Event shop2",value:.6*ep},{name:"Food",value:ea},{name:"Golden Food",value:ea},{name:"Gold set",value:eE},{name:"Guild",value:Z*(1+Math.floor(e?.mapIndex/50))},{name:"Kangaroo",value:ec},{name:"Lab",value:O},{name:"Meal",value:x},{name:"Obols",value:U},{name:"Pet Arena",value:100*(.5*w+E)},{name:"Post Office",value:Q},{name:"Prayers",value:P},{name:"Star talent",value:eS+et},{name:"Statues",value:A},{name:"Talents",value:ee+Y},{name:"Vault Bored Beans",value:ex*ek},{name:"Vault Bubble",value:e_*l?.alchemy?.totalBubbleLevelsTill100},{name:"Vault Ores",value:eb*(0,b.lavaLog)(l?.accountOptions?.[340])},{name:"Vault Poop",value:eC*ew},{name:"Vault Recipe",value:ev*l?.unlockedRecipes},{name:"Vault Tax",value:ey},{name:"Vials",value:G},{name:"Vote",value:eu}],expression:`(1 + (
    cashStrBubble * Math.floor(strength / 250) +
    cashAgiBubble * Math.floor(agility / 250) +
    cashWisBubble * Math.floor(wisdom / 250)
) / 100)
* (1 + Math.min(4, companionBonus))
* (1 + 0.5 * eventBonus)
* (1 + 0.6 * eventBonus2)
* (1 + (obolsBonusMoney + equipmentBonusMoney + bonusMoneyTools) / 100)
* (1 + armorSetBonus / 100)
* (1 + gambitBonus / 100)
* (1 + (250 * hasCashBundle) / 100)
* (1 + (Math.max(1, dustWalker) * lavaLog(account?.accountOptions[362])) / 100)
* (1 + (mealBonus
    mealBonus +
    artifactBonus +
    kangarooBonus +
    voteBonus
) / 100)
* (1 + (0.5 * arenaBonusUnlock + secondArenaBonusUnlock + statueBonus / 100))
* (1 + (
    labBonus +
    recipeForProfitVaultBonus * account?.unlockedRecipes +
    bubbleMoneyVaultBonus * account?.alchemy?.totalBubbleLevelsTill100
) / 100)
* (1 + charmBonus / 100)
* (1 + prayerBonus / 100)
* (1 + (divinityMinorBonus + account?.farming?.cropDepot?.cash?.value) / 100)
* (1 + (
    starTalent +
    vialBonus +
    cashFromEquipment +
    cashFromObols +
    equippedCardBonus +
    passiveCardBonus +
    talentBonus +
    flurboBonus +
    arcadeBonus +
    secondArcadeBonus +
    postOfficeBonus +
    guildBonus * (1 + Math.floor(character?.mapIndex / 50)) +
    coinsForCharonBonus +
    americanTipperBonus +
    goldFoodBonus +
    miningPaydayVaultBonus * lavaLog(oresMined) +
    5 * achievementBonus +
    10 * secondAchievementBonus +
    20 * thirdAchievementBonus +
    monsterTaxVaultBonus +
    boredToDeathVaultBonus * boredBeansKills +
    sixthVaultUpgradeBonus * poopKills
) / 100)`}},eE=(e,l,s)=>{let r=(0,o.getTalentBonus)(e?.flatStarTalents,"PRINTER_SAMPLING"),m=(0,v.getSaltLickBonus)(l?.saltLick,0),d=(0,n.getStatsFromGear)(e,60,l),p=(0,c.getBubbleBonus)(l,"SAMPLE_IT",!1),h=(0,o.getTalentBonus)(e?.flatStarTalents,"SUPER_SAMPLES"),f=(0,I.getAchievementStatus)(l?.achievements,158),_=(0,c.getVialsBonusByEffect)(l?.alchemy?.vials,"Printer_sample"),M=(0,g.getPrayerBonusAndCurse)(e?.activePrayers,"The_Royal_Sampler",l)?.bonus,S=(0,i.getStampsBonusByEffect)(l,"3D_Printer_Sampling_Size"),b=l?.tasks?.[2]?.[2]?.[4],y=(0,a.getHighestLevelOfClass)(s,o.CLASSES.Voidwalker);return Math.floor(1e3*((r+(m+d)+(p+(h+Math.min(1,f)))+_+M+S+Math.min(5,.5*b)+Math.min(5,(0,B.getFamilyBonusBonus)(t.classFamilyBonuses,"PRINTER_SAMPLE_SIZE",y)||0)+((0,N.getArcadeBonus)(l?.arcade?.shop,"Sample_Size")?.bonus+(0,u.getPostOfficeBonus)(e?.postOffice,"Utilitarian_Capsule",0)))/100))/10},eA=(e,a)=>{let n=["Nothing","Z","Copper","Iron","Starfire","Plat","Void","Filler","JungleZ","Grandfrog's_Gazebo","Grandfrog's_Backyard","Gravel_Tomb","Heaty_Hole","Igloo's_Basement","Inside_the_Igloo","End_Of_The_Road","Efaunt's_Tomb","Eycicles's_Nest","Enclave_a_la_Troll","Chizoar's_Cavern","KattleKruk's_Volcano","Castle_Interior","Emperor's_Castle"].toSimpleObject(),l=Object.values(t.mapNames).map((n,l)=>{let s=t.mapEnemiesArray?.[l],{MonsterFace:o,Name:r,AFKtype:i}=t.monsters?.[s]||{},u=Math.abs(e?.[l]?.[0]-t.mapDetails?.[l]?.[0]?.[0]);return{mapName:n,afkTarget:s,kills:u,monsterFace:o,name:r,afkType:i,done:a?.map(e=>u>=e)}}).filter(({mapName:e,afkType:t})=>"FIGHTING"===t&&!n[e]&&!t.includes("Fish")&&!t.includes("Bug")&&!e.includes("Colosseum"));return{finished:l?.reduce((e,{done:t})=>[t?.[0]?e?.[0]+1:e?.[0],t?.[1]?e?.[1]+1:e?.[1]],[0,0]),list:l}},eO=(e,t,a)=>{let n=eB(a?.Sailing)||a?.Sailing,l=n?.[3],s=l?.[0]>0,c=(0,f.getShrineBonus)(t?.shrines,6,e.mapIndex,t.cards,s),m=(0,i.getStampBonus)(t,"misc","StampC3",e),d=e?.cards?.equippedCards?.find(({cardIndex:e})=>"A10"===e),p=d?(0,r.calcCardBonus)(d):0,g=e?.cards?.equippedCards?.find(({cardIndex:e})=>"G4"===e),h=g?(0,r.calcCardBonus)(g):0,B=(0,o.getTalentBonus)(e?.flatStarTalents,"CRYSTALS_4_DAYYS"),v=(0,o.getTalentBonus)(e?.flatTalents,"CMON_OUT_CRYSTALS"),_=(0,u.getPostOfficeBonus)(e?.postOffice,"Non_Predatory_Loot_Box",2),M=[{name:"Cmon Out Crystals",value:v},{name:"Crystal Shrine Crescent",value:c},{name:"Post Office",value:_},{name:"Crystals 4 Days",value:B},{name:"Crystallin Stamp",value:m},{name:"Poop Card",value:p},{name:"Demon Genie Card",value:h}];return M.sort((e,t)=>e?.name.localeCompare(t?.name,"en")),{breakdown:M,value:5e-4*(1+v/100)*(1+(_+c)/100)*(1+B/100)*(1+m/100)*(1+(p+h)/100),expression:`0.0005
 * (1 + cmonOutCrystalsBonus / 100)
 * (1 + (nonPredatoryBoxBonus + crystalShrineBonus) / 100)
 * (1 + crystals4DaysBonus / 100)
 * (1 + crystallinStampBonus / 100)
 * (1 + (poopCardBonus + demonGenieBonus) / 100)`}},eP=(e,t,a)=>{let l=(0,u.getPostOfficeBonus)(e?.postOffice,"Carepack_From_Mum",2),s=(0,m.getStatueBonus)(t,3,e?.flatTalents),c=(0,n.getStatsFromGear)(e,9,t),p=(0,i.getStampsBonusByEffect)(t,"Effect_from_Boost_Food",e),g=(0,d.getStarSignBonus)(e,t,"All_Food_Effect"),h=(0,r.getEquippedCardBonus)(e?.cards,"Y5"),f=e?.cards?.cardSet?.rawName==="CardSet1"?e?.cards?.cardSet?.bonus:0,B=(0,o.getTalentBonus)(e?.flatStarTalents,"FROTHY_MALK");return a?1+((0,u.getPostOfficeBonus)(e?.postOffice,"Carepack_From_Mum",1)+(s+(c+((0,i.getStampsBonusByEffect)(t,"Boost_Health_Effect",e)+(g+f)))))/100:1+(l+(s+(c+(p+(g+(h+(f+B)))))))/100},eL=(e,t,l)=>{let s,u,p=(0,o.getTalentBonus)(e?.flatTalents,"FEATHERWEIGHT"),g=(0,o.getTalentBonus)(e?.flatTalents,"FEATHER_FLIGHT"),h=(0,i.getStampsBonusByEffect)(l,"Movement_Speed",e),f=(0,o.getTalentBonusIfActive)(e?.activeBuffs,"STRAFE"),B=(0,a.getFoodBonus)(e,l,"MoveSpdBoosts");u=e.stats?.agility<1e3?(Math.pow(e.stats?.agility+1,.4)-1)/40:(e.stats?.agility-1e3)/(e.stats?.agility+2500)*.5+.371,s=1+((s=(B+p+h+f+((0,m.getStatueBonus)(l,1,e?.flatTalents)+((0,d.getStarSignBonus)(e,l,"Movement_Speed")+((0,n.getStatsFromGear)(e,1,l)+((0,r.getCardBonusByEffect)(e?.cards?.equippedCards,"Move_Spd")+g)))))/100)+u/2.2);let _=(0,o.getTalentBonus)(e?.flatStarTalents,"TIPTOE_QUICKNESS");return Math.round(100*(s=s>2?Math.floor(100*s)/100:s>1.75?Math.min(2,Math.floor(100*(s+_/100))/100):Math.min(1.75,Math.floor(100*(s+((0,v.getSaltLickBonus)(l?.saltLick,7)+(l?.lab?.playersChips?.[e?.playerId]?.find(e=>15===e.index)?.baseVal??0)+(_+(0,c.getSigilBonus)(l?.alchemy?.p2w?.sigils,"TUFT_OF_HAIR")))/100))/100)))},eI=(e,l,s)=>{let i=[],m=0,{afkType:p}=e,{guild:v,bribes:M,shrines:b,charactersLevels:y,tasks:x}=s,k=2*(x?.[2]?.[1]?.[2]>e?.playerId),C=(0,a.getHighestLevelOf)(l,o.CLASSES.Beast_Master),T=(0,B.getFamilyBonusBonus)(t.classFamilyBonuses,"ALL_SKILL_AFK_GAINS",C),w=(0,r.getCardBonusByEffect)(e?.cards?.equippedCards,"Skill_AFK_gain_rate"),E=0;v?.guildBonuses?.length>0&&(E=(0,h.getGuildBonusBonus)(v?.guildBonuses,7));let A=e?.cards?.cardSet?.rawName==="CardSet5"?e?.cards?.cardSet?.bonus:0,O=(0,o.getHighestTalentByClass)(l,o.CLASSES.Voidwalker,"ENHANCEMENT_ECLIPSE"),P=(0,o.getVoidWalkerTalentEnhancements)(l,s,O,79)?(0,o.getTalentBonus)(e?.flatTalents,"SLEEPIN'_ON_THE_JOB"):0,I=(0,c.getSigilBonus)(s?.alchemy?.p2w?.sigils,"DREAM_CATCHER"),R=(0,L.getPlayerLabChipBonus)(e,s,8),D=(0,n.getStatsFromGear)(e,59,s),G=(0,S.getObolsBonus)(e?.obols,t.bonuses?.etcBonuses?.[59]),j=(0,n.getStatsFromGear)(e,24,s),W=(0,S.getObolsBonus)(e?.obols,t.bonuses?.etcBonuses?.[24]),U=(0,g.getPrayerBonusAndCurse)(e?.activePrayers,"Zerg_Rushogen",s)?.bonus,q=(0,g.getPrayerBonusAndCurse)(e?.activePrayers,"Ruck_Sack",s)?.curse;(0,a.getEventShopBonus)(s,5);let H=k+(T+(2+w)+(E+A+(P+(I+R)+(j+W+(D+G)+(U-q))))),V=(0,N.getArcadeBonus)(s?.arcade?.shop,"AFK_Gains_Rate")?.bonus,$=(0,_.getDungeonFlurboStatBonus)(s?.dungeons?.upgrades,"AFK_Gains"),Y=(0,a.isCompanionBonusActive)(s,0)||e?.linkedDeity===0||e?.secondLinkedDeityIndex===0?1:0,K=l?.reduce((e,t)=>(0,a.isCompanionBonusActive)(s,0)?e+(0,F.getMinorDivinityBonus)(t,s,4,l):t?.linkedDeity===4?t?.deityMinorBonus>e?t?.deityMinorBonus:e:t?.secondLinkedDeityIndex===4&&t?.secondDeityMinorBonus>e?t?.secondDeityMinorBonus:e,0),J=(0,a.isCompanionBonusActive)(s,6)&&5,X=(0,a.getRandomEventItems)(s),z=(0,o.getTalentBonus)(e?.flatStarTalents,"RANDO_EVENT_LOOTY"),Q=+(V+($+(30*Y+(K+(J+z*X))))),Z=H+Q;i=[{title:"Base"},{name:""},{name:"Tasks",value:k},{name:"Family",value:T},{name:"Cards",value:w},{name:"Guild",value:E},{name:"Card Set",value:A},{name:"Sleepin On The Job (VW Eclipse)",value:P},{name:"Sigil",value:I},{name:"Chips",value:R},{name:"Equipment",value:D+j},{name:"Obols",value:G+W},{name:"Prayers",value:U-q},{name:"Arcade",value:V},{name:"Dungeons",value:$},{name:"Divinity Major",value:30*Y},{name:"Divinity Minor",value:K},{name:"Companion",value:J},{name:"Rando Event Looty",value:z*X},{name:""}];let ee=M?.[24]?.done?M?.[24]?.value:0,et=(0,f.getShrineBonus)(b,8,e?.mapIndex,s.cards,s?.sailing?.artifacts),ea=(0,o.getTalentBonus)(e?.flatStarTalents,"TICK_TOCK"),en=(0,o.getTalentBonus)(e?.flatTalents,"IDLE_SKILLING"),el=(0,o.getTalentBonus)(e?.flatTalents,"ACTIVE_AFK'ER"),es=(0,o.getTalentBonus)(e?.flatTalents,"CATCHING_SOME_ZZZ'S"),eo=eN("TrapMGbonus",8,s),er=(0,d.getStarSignBonus)(e,s,"Skill_AFK_Gain");if("FIGHTING"===p){let l=(0,a.getHighestLevelOfClass)(y,o.CLASSES.Voidwalker),c=(0,B.getFamilyBonusBonus)(t.classFamilyBonuses,"FIGHTING_AFK_GAINS",l),p=(0,u.getPostOfficeBonus)(e?.postOffice,"Civil_War_Memory_Box",1),g=(0,o.getTalentBonus)(e?.flatTalents,"IDLE_BRAWLING"),f=(0,o.getTalentBonus)(e?.flatTalents,"IDLE_CASTING"),_=(0,o.getTalentBonus)(e?.flatTalents,"IDLE_SHOOTING"),b=(0,o.getTalentBonus)(e?.flatTalents,"SLEEPIN'_ON_THE_JOB"),x=M?.[3]?.done?M?.[3]?.value:0,C=e?.cards?.cardSet?.rawName==="CardSet8"?e?.cards?.cardSet?.bonus:0,T=(0,r.getCardBonusByEffect)(e?.cards?.equippedCards,t.cardBonuses[43]),w=(0,n.getStatsFromGear)(e,20,s),E=(0,S.getObolsBonus)(e?.obols,t.bonuses?.etcBonuses?.[20]),A=(0,d.getStarSignBonus)(e,s,"Fight_AFK_Gain"),O=0;v?.guildBonuses?.length>0&&(O=(0,h.getGuildBonusBonus)(v?.guildBonuses,4));let P=s?.lab?.playersChips?.[e?.playerId]?.find(e=>7===e.index)?.baseVal??0;m=.2+(c+p+g+x+(_+C+(f+(ea+(k+Q+(T+(b+(w+E+(D+G)+(A+(O+(U-q+P)))))))))))/100,i=[...i,{title:"Fighting"},{name:""},{name:"Family",value:c},{name:"Post Office",value:p},{name:"Talents",value:g+f+_+b},{name:"Bribe",value:x},{name:"Card Set",value:C},{name:"Cards",value:T},{name:"Equipment",value:w+D},{name:"Obols",value:E+G},{name:"Prayers",value:U-q},{name:"Chips",value:P},{name:"Guild",value:O},{name:"Starsign",value:A}]}else if("COOKING"===p){let t=(0,o.getTalentBonus)(e?.flatTalents,"WAITING_TO_COOL");m=.25+(en+ea+(Z+(eo+(er+(ee+t)))))/100,i=[...i,{title:"Cooking"},{name:""},{name:"Talents",value:en+t+ea},{name:"Starsign",value:er},{name:"Trapping Bonus",value:eo},{name:"Bribe",value:ee}]}else if("MINING"===p){let t=(0,u.getPostOfficeBonus)(e?.postOffice,"Dwarven_Supplies",2),n=(0,a.isMasteryBonusUnlocked)(s?.rift,s?.totalSkillsLevels?.mining?.rank,2)?(0,r.getCardBonusByEffect)(s?.cards,"Mining_Away_Gains"):(0,r.getCardBonusByEffect)(e?.cards?.equippedCards,"Mining_Away_Gains"),l=o.mainStatMap?.[e?.class],d=(0,c.getBubbleBonus)(s,"DREAM_OF_IRONFISH",!1,"strength"===l);m=.25+(en+(t+(eo+ea+(Z+(n+(er+(ee+d)))))))/100,i=[...i,{title:"Mining"},{name:""},{name:"Talents",value:en+ea},{name:"Starsign",value:er},{name:"Trapping Bonus",value:eo},{name:"Bribe",value:ee},{name:"Card",value:n},{name:"Post Office",value:t},{name:"Bubble",value:d}]}else if("CHOPPIN"===p){let n=(0,u.getPostOfficeBonus)(e?.postOffice,"Taped_Up_Timber",2),l=(0,a.isMasteryBonusUnlocked)(s?.rift,s?.totalSkillsLevels?.chopping?.rank,2)?(0,r.getCardBonusByEffect)(s?.cards,t.cardBonuses[36]):(0,r.getCardBonusByEffect)(e?.cards?.equippedCards,t.cardBonuses[36]),d=o.mainStatMap?.[e?.class],p=(0,c.getBubbleBonus)(s,"TREE_SLEEPER",!1,"wisdom"===d);m=.25+(el+(n+(eo+ea+(Z+(l+(er+(ee+p)))))))/100,i=[...i,{title:"Choppin"},{name:""},{name:"Talents",value:el+ea},{name:"Starsign",value:er},{name:"Trapping Bonus",value:eo},{name:"Bribe",value:ee},{name:"Card",value:l},{name:"Post Office",value:n},{name:"Bubble",value:p}]}else if("FISHING"===p){let l=(0,u.getPostOfficeBonus)(e?.postOffice,"Sealed_Fishheads",2),d=(0,a.isMasteryBonusUnlocked)(s?.rift,s?.totalSkillsLevels?.fishing?.rank,2)?(0,r.getCardBonusByEffect)(s?.cards,t.cardBonuses[39]):(0,r.getCardBonusByEffect)(e?.cards?.equippedCards,t.cardBonuses[39]),p=o.mainStatMap?.[e?.class],g=(0,c.getBubbleBonus)(s,"DREAM_OF_IRONFISH",!1,"strength"===p),h=(0,n.getStatsFromGear)(e,64,s),f=(0,n.getStatsFromGear)(e,64,s,!0),B=(0,S.getObolsBonus)(e?.obols,t.bonuses?.etcBonuses?.[64]);m=.25+(en+(es+(eo+l+(ea+(Z+(d+(er+(ee+(g+(h+B+f))))))))))/100,i=[...i,{title:"Fishing"},{name:""},{name:"Talents",value:en+es+ea},{name:"Starsign",value:er},{name:"Trapping Bonus",value:eo},{name:"Bribe",value:ee},{name:"Card",value:d},{name:"Post Office",value:l},{name:"Bubble",value:g},{name:"Equipment",value:h},{name:"Obols",value:B},{name:"Tools",value:f}]}else if("CATCHING"===p){let n=(0,u.getPostOfficeBonus)(e?.postOffice,"Bug_Hunting_Supplies",2),l=(0,o.getTalentBonus)(e?.flatTalents,"SUNSET_ON_THE_HIVES"),d=(0,a.isMasteryBonusUnlocked)(s?.rift,s?.totalSkillsLevels?.catching?.rank,2)?(0,r.getCardBonusByEffect)(s?.cards,t.cardBonuses[41]):(0,r.getCardBonusByEffect)(e?.cards?.equippedCards,t.cardBonuses[41]),p=o.mainStatMap?.[e?.class],g=(0,c.getBubbleBonus)(s,"FLY_IN_MIND",!1,"agility"===p);m=.25+(l+(eo+n+(ea+(Z+(d+(er+(ee+g)))))))/100,i=[...i,{title:"Catching"},{name:""},{name:"Talents",value:l+ea},{name:"Starsign",value:er},{name:"Trapping Bonus",value:eo},{name:"Bribe",value:ee},{name:"Card",value:d},{name:"Post Office",value:n},{name:"Bubble",value:g}]}else"LABORATORY"===p&&(m=.25+(ea+(Z+(eo+(er+ee))))/100,i=[...i,{title:"Laboratory"},{name:""},{name:"Talents",value:ea},{name:"Starsign",value:er},{name:"Trapping Bonus",value:eo},{name:"Bribe",value:ee}]);let ei=m;return m<1.5&&(ei=Math.min(1.5,m+et/100)),{afkGains:Math.max(.01,ei),breakdown:i=[...i,{name:"Shrine (< 150)",value:m<1.5?et:0}]}},eN=(e,a,n)=>{if("TrapMGbonus"===e){if(n?.accountOptions?.[99]>=25*(a+1)){let e=t.randomList?.[59]?.split(" ")?.map(e=>parseFloat(e));return e?.[a]}return 0}return 1},eR=(e,t)=>{let{starSigns:a,cards:n,postOffice:l,talents:s,flatTalents:i,equippedBubbles:m}=e,{lab:p}=t,g=(0,L.getLabBonus)(p?.labBonuses,8),h=(0,L.getJewelBonus)(p?.jewels,8,g),f=(0,c.getActiveBubbleBonus)(m,"BITE_BUT_NOT_CHEW",t);return Math.min(Math.min(90+5*h,98+Math.min(f,1)),Math.max(1,h)*((0,o.getTalentBonus)(i,"FREE_MEAL")+((0,u.getPostOfficeBonus)(l,"Carepack_From_Mum",0)+((0,r.getEquippedCardBonus)(n?.equippedCards,"B3")+(0,d.getStarSignByEffect)(a,t,"chance_to_not")+f))))},eD=(e,a)=>{let l=e?.skillsInfo?.construction?.level,s=3*Math.pow(l/2+.7,1.6),r=o.mainStatMap?.[e?.class],m=(0,c.getBubbleBonus)(a,"CARPENTER",!1,"strength"===r),d=1+((0,i.getStampsBonusByEffect)(a,"Building_Speed",e)+.25*(0,u.getPostOfficeBoxLevel)(e?.postOffice,"Construction_Container")+((0,h.getGuildBonusBonus)(a?.guild?.guildBonuses,5)+((0,n.getStatsFromGear)(e,30,a)+(0,S.getObolsBonus)(e?.obols,t.bonuses?.etcBonuses?.[30]))+Math.min(5,5*(0,I.getAchievementStatus)(a?.achievements,153))+(0,j.getConstructMastery)(a?.towers?.totalLevels,"Build Spd")+(0,c.getVialsBonusByEffect)(a?.alchemy?.vials,null,"Contspd")))/100,p=(0,o.getTalentBonus)(e?.flatTalents,"REDOX_RATES",!1,!0),g=(0,W.getAtomBonus)(a,"Helium_-_Talent_Power_Stacker"),f=(0,n.calculateItemTotalAmount)([...a?.storage?.list,...a?.refinery?.refineryStorage||[]],"Refinery1",!0,!0);return Math.floor(s*(1+l*m/100)*d*(1+p*(g+(0,b.lavaLog)(f))/100))},eF=(e,t)=>{let a=e?.constructionSpeed,n=(0,c.getActiveBubbleBonus)(e.equippedBubbles,"CALL_ME_BOB",t),l=(0,o.getTalentBonus)(e?.flatTalents,"SHARPER_SAWS"),s=(0,o.getTalentBonus)(e?.flatTalents,"TEMPESTUOUS_EMOTIONS"),r=(0,c.getVialsBonusByEffect)(t?.alchemy?.vials,null,"ConsExp"),p=(0,m.getStatueBonus)(t,18,e?.flatTalents),g=(0,i.getStampsBonusByEffect)(t,"+{%_Construction_Exp_Gain",e),h=(0,d.getStarSignBonus)(e,t,"Construct_Exp"),f=(0,u.getPostOfficeBoxLevel)(e?.postOffice,"Construction_Container");return Math.ceil((Math.pow(a,.7)/2+(2+6*e?.skillsInfo?.construction?.level))*(1+(n+(l+s+(r+(p+(g+(h+Math.max(0,.5*(f-100))))))))/100))}}]);