(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,738544,e=>{"use strict";var t=e.i(698881),a=e.i(172833),i=e.i(173024),s=e.i(723748),r=e.i(398241),n=e.i(384308),l=e.i(39188);let o=({currentCharacterIndex:e,account:t,characters:o,isExp:c})=>{let u=(0,r.getAtomBonus)(t,"Magnesium_-_Trap_Compounder")*t?.accountOptions?.[363],m=(0,n.getArmorSetBonus)(t,"DEMENTIA_SET"),g=(0,l.getPaletteBonus)(t,12),p=c?0:(0,a.getVialsBonusByStat)(t?.alchemy?.vials,"TrapOvision")+(0,s.getCompassBonus)(t,42)+u+m+g;if((0,i.checkCharClass)(o?.[e]?.class,i.CLASSES.Hunter)){let e=(0,i.getCharacterByHighestTalent)(o,i.CLASSES.Hunter,"EAGLE_EYE",c);p+=c?Math.max(40,Math.min((0,i.getTalentBonus)(e?.flatTalents,"EAGLE_EYE",c),99)):Math.max(50,(0,i.getTalentBonus)(e?.flatTalents,"EAGLE_EYE"))}else{let e=0;for(let t=0;t<o?.length;t++)if((0,i.checkCharClass)(o?.[t]?.class,i.CLASSES.Hunter)){let t=(0,i.getCharacterByHighestTalent)(o,i.CLASSES.Hunter,"EAGLE_EYE",c,!0);e=Math.max(e,(0,i.getTalentBonus)(t?.flatTalents,"EAGLE_EYE",c,!0))}else e=Math.max(e,c?40:50);p+=e}return Math.floor(Math.min(2e9,isNaN(p)?1:p/100))};e.s(["calcTotalCritters",0,(e,{critter:t,exp:a})=>e?.traps?.reduce((e,i)=>(i.reduce((i,{crittersQuantity:s,trapExp:r,rawName:n})=>{e={...e,[n]:{critters:(e?.[n]?.critters??0)+((s*t)??1),exp:(e?.[n]?.exp??0)+((r*a)??1)}}},{}),e),{}),"getTraps",0,e=>e.map(e=>(e?.PldTraps||[]).reduce((e,a)=>{let[i,,s,r,n,l,o,c]=a;if(-1===i||"-1"===i)return e;let u=t.traps[l].find(e=>e.trapTime===o);return r?[...e,{name:t.items[r]?.displayName,rawName:r,crittersQuantity:n,trapType:l,trapExp:c,timeLeft:new Date().getTime()+1e3*(o-s),trapData:u}]:e},[])),"getTrapsBonuses",0,(e,t)=>{let a=t?.map((a,i)=>o({currentCharacterIndex:i,account:e,characters:t,isExp:!1})),i=t?.map((a,i)=>o({currentCharacterIndex:i,account:e,characters:t,isExp:!0}));return{max:{critter:Math.max(...a||[1]),exp:Math.max(...i||[1])},min:{critter:Math.min(...a||[1]),exp:Math.min(...i||[1])}}}])},948982,e=>{"use strict";var t=e.i(608580),a=e.i(267350),i=e.i(24174),s=e.i(173024),r=e.i(210270),n=e.i(398241),l=e.i(949500),o=e.i(441132),c=e.i(723748);let u=(e,a)=>{let n=(0,i.isArtifactAcquired)(e?.sailing?.artifacts,"Gold_Relic"),u=n?.acquired===4?n?.sovereignMultiplier:n?.acquired===3?n?.eldritchMultiplier:n?.acquired===2?n?.ancientMultiplier:0,m=e?.accountOptions?.[125],g=e?.accountOptions?.[138],p=a?.filter(e=>(0,s.checkCharClass)(e?.class,s.CLASSES.Divine_Knight)),d=p?.reduce((e,{flatTalents:t,addedLevels:a})=>{let i=(0,s.getTalentBonus)(t,"KING_OF_THE_REMEMBERED",!1,!1,a,!1);return i>e?i:e},0),h=e?.rift?.currentRift>15?(0,r.getSkillMasteryBonusByIndex)(e?.totalSkillsLevels,e?.rift,3):0,y=(0,l.getCharmBonus)(e,"Lolly_Flower"),S=1+(0,o.getVoteBonus)(e,11)/100,f=1+e?.accountOptions?.[354]*(0,r.isCompanionBonusActive)(e,17)/100,v=1+e?.accountOptions?.[364]*(0,c.getCompassBonus)(e,43)/100,b=(1+m*(2+u)/100)*(1+d*(0,t.lavaLog)(g)/100)*(1+h/100)*(1+y/100)*S*(1+2*e?.accountOptions?.[323]*(0,r.getEventShopBonus)(e,4)/100)*f*v;return{params:{daysSinceLastSample:m,highestKingOfRemembrance:d,skillMasteryBonus:h,charmBonus:y,voteBonus:S,orbOfRemembranceKills:g,goldRelicBonus:u,companionBonus:f,compassBonus:v},value:b,expression:`(1 + (daysSinceLastSample * (2 + goldRelicBonus)) / 100)
* (1 + (highestKingOfRemembrance * lavaLog(orbOfRemembranceKills)) / 100)
* (1 + skillMasteryBonus / 100) * (1 + charmBonus / 100)
* voteBonus
* (1 + (2 * accountData?.accountOptions?.[323] * getEventShopBonus(accountData, 4)) / 100)
* companionBonus
* compassBonus`}};e.s(["calcTotals",0,(e,t)=>{let{printer:a,storage:i}=e||{},s=(0,n.getAtomColliderThreshold)(e?.accountOptions?.[133]),r=a?.reduce((e,t)=>(t.forEach(({boostedValue:t,item:a,active:r})=>{if("Blank"!==a&&r)if(e?.[a])e[a]={...e[a],boostedValue:t+e[a]?.boostedValue};else{let r=i?.list.find(({rawName:e})=>e===a)?.amount;e[a]={boostedValue:t,atomable:r>=s-.01*s,storageItem:r}}}),e),{});r=((e={},t,a)=>Object.entries(e)?.reduce((e,[i,s])=>{let{boostedValue:r,atomable:n,storageItem:l}=s,o=r,c;if(a?.checked)c=n;else{let e=r>=t&&!n,a=r>t-l&&!n;o=e?r-t:a?r-(t-l):r,c=e||a||n}return e[i]={...s,...c?{atoms:o/1e7}:{}},e},{}))(r,s,t);let l=Object.entries(r)?.reduce((e,[,t])=>e+(t?.atoms??0),0);return{...r,atom:{boostedValue:l,atoms:l}}},"getPrinter",0,(e,i,s)=>((e,i,s,n)=>{let l=(0,a.getDeityLinkedIndex)(n,s,3),o=n?.hole?.godsLinks?.find(({index:e})=>3===e),c=n?.lab?.labBonuses?.find(e=>"Wired_In"===e.name)?.active,m=n?.lab?.connectedPlayers,{value:g,params:p}=u(n,s),d=e?.slice(5,e?.length);return s.map((e,a)=>{let s=d?.slice(14*a,14*a+14);if(i){let e=i?.slice(10*a,10*a+10);s.splice(-4,0,e),s=s.flat()}return s?.reduce((e,i,u,d)=>{if(u%2==0){let i=d.slice(u,u+2).map((e,t)=>e),h=i[1],y=m?.find(({playerId:e})=>e===a);h*=c&&y?l.includes(a)||o?6*g:2*g:l.includes(a)||o?3*g:g;let S=[{title:"Multiplicative"},{name:""},{name:"Lab",value:y&&c?2:0},{name:"Harriep God",value:l.includes(a)||o?3:0},{name:"Companion",value:p.companionBonus},{name:"Compass",value:p.compassBonus},{name:"Skill Mastery",value:1+p.skillMasteryBonus/100},{name:"Divine Knight",value:(0,t.notateNumber)(1+p.highestKingOfRemembrance*(0,t.lavaLog)(p.orbOfRemembranceKills)/100,"MultiplierInfo")},{name:"Gold Relic",value:1+p.daysSinceLastSample*(2+p.goldRelicBonus)/100},{name:"Charm",value:1+p.charmBonus/100},{name:"Vote",value:p.voteBonus},{name:"Winter event",value:1+2*n?.accountOptions?.[323]*(0,r.getEventShopBonus)(n,4)/100}];return[...e,{item:i[0],value:i[1],active:u>=s.length-4,boostedValue:h,breakdown:S,expression:""}]}return e},[])})})((0,t.tryToParse)(e?.Print)||e?.Printer,(0,t.tryToParse)(e?.PrinterXtra)||e?.PrinterXtra,i,s),"getPrinterExclusions",0,()=>["Copper","OakTree","Grasslands1","Bug1","Fish1"].toSimpleObject(),"getPrinterMulti",0,u])},990732,e=>{"use strict";var t=e.i(608580),a=e.i(698881),i=e.i(971176),s=e.i(805861),r=e.i(172833),n=e.i(685849),l=e.i(198659),o=e.i(764964),c=e.i(405127),u=e.i(279522),m=e.i(173024),g=e.i(942144),p=e.i(441132),d=e.i(11138),h=e.i(210270);let y=e=>{let t=a.randomList[18]?.split(" ");return parseFloat(Math.max(t?.[Math.min(e,t?.length-2)],25))},S=(e,t=null)=>Math.floor(Math.min(25e4,Math.pow(e,1.3)*(1+((0,h.isCompanionBonusActive)(t,35)?t?.companions?.list?.at(35)?.bonus:0)))),f=(e,t)=>{let{alchemy:i,saltLick:s,charactersLevels:d,breeding:y,rift:S,towers:f}=e,v=i?.vials,b=(0,r.getVialsBonusByEffect)(v,"Refinery_Cycle_Speed"),M=s?.[2]?s?.[2]?.baseBonus*s?.[2]?.level:0,B=i?.p2w?.sigils?.find(e=>e?.name==="PIPE_GAUGE")?.bonus||0,C=(0,n.getStampsBonusByEffect)(e,"Faster_refinery_cycles"),T=(0,l.getShinyBonus)(y?.pets,"Faster_Refinery_Speed"),k=0;(0,o.isRiftBonusUnlocked)(S,"Construct_Mastery")&&(k=f?.totalLevels>=c.constructionMasteryThresholds?.[0]?Math.floor(f?.totalLevels/10):0);let L=(0,u.getArcadeBonus)(e?.arcade?.shop,"Refinery_Speed")?.bonus??0,E=d?.filter(e=>(0,m.checkCharClass)(e?.class,m.CLASSES.Divine_Knight))?.map(({level:e})=>e),w=E?.length>0?Math.max(...E):0,P=(0,m.getHighestTalentByClass)(t,m.CLASSES.Divine_Knight,"THE_FAMILY_GUY"),A=(0,g.getFamilyBonusBonus)(a.classFamilyBonuses,"Refinery_Speed",w)*(P>0?1+P/100:1)||0,x=(0,p.getVoteBonus)(e,33);return{bonusBreakdown:[{name:"Vials",value:b/100},{name:"Salt lick",value:M/100},{name:"Family",value:A/100},{name:"Sigils",value:B/100},{name:"Stamps",value:C/100},{name:"Shinies",value:T/100},{name:"Const mastery",value:k/100},{name:"Arcade",value:L/100},{name:"Vote",value:x/100},{name:"Companion",value:2*!!(0,h.isCompanionBonusActive)(e,35)}],bonus:b+M+A+B+C+T+k+L+x}};e.s(["calcCost",0,(e,t,a,i,s)=>Math.floor(Math.pow(t,i?.includes("Refinery")&&s<=e?.refinerySaltTaskLevel?1.3:1.5))*a,"calcResourceToRankUp",0,(e,t,a,i,s=null)=>(a-t)/S(e,s)*i,"calcTimeToRankUp",0,(e,t,a,i,s,r,n,l,o)=>{let{bonus:c}=f(e,t,a),u=(0,d.getLegendTalentBonus)(e,19),m=e?.lab?.labBonuses?.find(e=>"Gilded_Cyclical_Tubing"===e.name)?.active?3:1,g=S(r,e),p=86400/((o<=2?900:3600)/((1+c/100)*m*(1+u/100)))+(s?i?.squiresCycles??0:0),h=Math.floor((n-l)/g)/p*24;return{timeLeft:new Date().getTime()+3600*h*1e3,totalTime:new Date().getTime()+(n-0)/g/p*864e5}},"getPowerPerCycle",0,S,"getRefinery",0,(e,s,r)=>{var n,l,o;let c,u,m,g,p,d,h;return n=(0,t.tryToParse)(e?.Refinery)||e?.Refinery,l=s,o=r,c=n?.[1],u=n?.[2],g=[...l,...(m=c?.reduce((e,t,i)=>"Blank"!==t?[...e,{rawName:t,name:a.items[t]?.displayName,amount:u?.[i],owner:"refinery"}]:e,[]))||[]],p=o?.[2]?.[2]?.[6],d=n?.slice(3,3+n?.[0]?.[0]),{salts:h=d?.reduce((e,t,s)=>{let r=`Refinery${s+1}`,[n,l,,o,c]=t,{saltName:u,cost:m}=a.refinery?.[r]||{};return[...e,{saltName:u,cost:m?.map(e=>{let t=(0,i.calculateItemTotalAmount)(g,e?.name,!0);return{...e,totalAmount:t}}),rawName:r,powerCap:y(l),refined:n,rank:l,active:o,autoRefinePercentage:c}]},[]),refinerySaltTaskLevel:p,timePastCombustion:n?.[0]?.[1],timePastSynthesis:n?.[0]?.[2],totalLevels:h?.reduce((e,{rank:t})=>e+t,0),refineryStorage:m}},"getRefineryCycles",0,(e,a,i)=>{let{bonusBreakdown:r,bonus:n}=f(e,a,i),l=(0,d.getLegendTalentBonus)(e,19),o=e?.lab?.labBonuses?.find(e=>"Gilded_Cyclical_Tubing"===e.name)?.active?3:1,c=(a?.filter(e=>(0,m.checkCharClass)(e?.class,m.CLASSES.Squire)||(0,m.checkCharClass)(e?.class,m.CLASSES.Divine_Knight))).reduce((e,a)=>{let{name:i,talents:r,cooldowns:n,postOffice:l,afkTime:o}=a,c=Math.max(0,(0,s.getPostOfficeBonus)(l,"Magician_Starterpack",2)),u=r?.[2]?.orderedTalents.find(e=>e?.name==="REFINERY_THROTTLE"),m=0;u?.maxLevel>0&&(m=(0,t.growth)(u?.funcX,u?.maxLevel,u?.x1,u?.x2)||0);let g=(new Date().getTime()-o)/1e3,p=(1-c/100)*n?.[130]-g;return{squiresCycles:e?.squiresCycles+m,squiresCooldowns:[...e?.squiresCooldowns,{name:i,cooldown:p<0?p:new Date().getTime()+1e3*p}]}},{squiresCycles:0,squiresCooldowns:[]}),u=(new Date().getTime()-(i??0))/1e3,g=[...r,{title:"Multiplicative"},{name:""},{name:"Lab",value:o},{name:"Legend",value:l/100}],p={name:"Combustion",time:Math.ceil(900/((1+n/100)*o*(1+l/100))),timePast:e?.refinery?.timePastCombustion+u,breakdown:[{title:"Additive"},{name:""},{name:"Base",value:900},...g]},h={name:"Synthesis",time:Math.ceil(3600/((1+n/100)*o*(1+l/100))),timePast:e?.refinery?.timePastSynthesis+u,breakdown:[{title:"Additive"},{name:""},{name:"Base",value:3600},...g]};return{...c,cycles:[p,h]}},"hasMissingMats",0,(e,t,a,i)=>a?.filter(({rawName:a,quantity:s,totalAmount:r})=>r<Math.floor(Math.pow(t,a?.includes("Refinery")&&e<=i?.refinery?.refinerySaltTaskLevel?1.3:1.5))*s)])},199787,e=>{"use strict";var t=e.i(608580),a=e.i(698881);let i={0:[3,8,13,14,17,23].toSimpleObject(),1:[2,8,9,13].toSimpleObject(),2:[0,1,2,3,4,5,6,7,8,9,10,18,19].toSimpleObject(),3:[12].toSimpleObject(),4:[0,1,2,8,9,10,19,22].toSimpleObject(),5:[2,3,4,8,9,10,11].toSimpleObject(),6:[0,1,2,3,4,5].toSimpleObject(),7:[0,1,2,3,4,5,6,7].toSimpleObject(),8:[2,3,5,6,7].toSimpleObject()};e.s(["getRawShopItems",0,()=>Object.entries(a.shops)?.reduce((e,[t,{items:a}])=>[...e,...a?.filter((e,a)=>i?.[t]?.[a])?.map(({rawName:e})=>e)],[]).toSimpleObject(),"getShops",0,e=>(e?.ShopStock||(0,t.tryToParse)(e?.ShopStock)).reduce((e,t,s)=>[...e,Object.values(t)?.reduce((e,t,r)=>{let n=i?.[s]?.[r];return(parseInt(t)||0)>0&&n?[...e,{amount:t,...a.shops[s]?.items?.[r],shopName:a.shops[s]?.name}]:e},[])],[])])},293670,e=>{"use strict";var t=e.i(931),a=e.i(618332),i=e.i(712738),s=e.i(685849),r=e.i(276924),n=e.i(433568),l=e.i(347553),o=e.i(608580),c=e.i(199787),u=e.i(172833),m=e.i(523285),g=e.i(787031),p=e.i(109304),d=e.i(733884),h=e.i(698881);let y=[{name:"New Forge Slot",maxLevel:16,description:"extra slots to smelt ores",costMulti:void 0},{name:"Ore Capacity Boost",maxLevel:50,description:"Increases max ores per slot",costMulti:1.41},{name:"Forge Speed",maxLevel:90,description:"Ores are turned into bars faster",costMulti:1.2},{name:"Forge EXP Gain",maxLevel:85,description:"Increased EXP gain from using the forge",costMulti:1.21},{name:"Bar Bonanza",maxLevel:75,description:"Increased chance to make an extra bar",costMulti:1.25},{name:"Puff Puff Go",maxLevel:60,description:"Increased chance for a card drop while afk",costMulti:1.33}],S=(e,t,a)=>{let i=Math.round(e)/100;return i*=t?.Effect==="SpeedForge"?t?.Amount:1,a&&(i*=1.5),.25*i};var f=e.i(405127),v=e.i(161866),b=e.i(990732),M=e.i(576959),B=e.i(279522),C=e.i(210270),T=e.i(11138),k=e.i(435327),L=e.i(10051),E=e.i(775003),w=e.i(262887),P=e.i(372110),A=e.i(948982),x=e.i(738544),O=e.i(6002),R=e.i(962202),_=e.i(198659),F=e.i(267350),G=e.i(24174),I=e.i(39188),D=e.i(398241),N=e.i(764964),q=e.i(805861),K=e.i(71791),j=e.i(470242),V=e.i(781967),H=e.i(949500),U=e.i(420497),W=e.i(264046),Y=e.i(525580),$=e.i(620636),X=e.i(809191),z=e.i(441132),Q=e.i(695906),J=e.i(521637),Z=e.i(476219),ee=e.i(723748),et=e.i(669203),ea=e.i(384308),ei=e.i(878012),es=e.i(366125),er=e.i(745933),en=e.i(628188),el=e.i(206609);let eo=e=>0===e?0:50*Math.pow(2.8+e/3.55,e-Math.min(1,Math.floor(e/4))),ec=e=>50*Math.pow(2.8+e/3.55,e-Math.min(1,Math.floor(e/4))),eu=(e,t)=>{let a={buildRate:{name:"Build Rate",id:1},critterGain:{name:"Critter Gain",id:2},soulGain:{name:"Soul Gain",id:3},totalDamage:{name:"Total Damage",id:4},allKills:{name:"All Kills",id:5},expMulti:{name:"EXP Multi",id:6},atomCost:{name:"Atom Cost",id:7,isNegative:!0}};return Object.keys(a).reduce((i,s)=>{let{name:r,id:n,isNegative:l=!1}=a[s];return i[s]={name:r,bonus:eS(e,t,n),isNegative:l},i},{})},em=(e,t)=>{let a=e?.[1]?.[t]||0,i=h.bubbaUpgrades?.[t],s=i?.x1||0,r=i?.x2||0;return 1/(1+ep(e,4)/100)*(1/(1+ep(e,18)/100))*(1/(1+ep(e,26)/100))*(1/(1+ed(e,1)/100))*(Math.pow(t+1,2)*a+Math.pow(2.4+t/3.65,t)*Math.pow(r,a))*s},eg=(e,t)=>Math.round((e?.[1]?.[t]||0)+(e?.[2]?.[t]||0)),ep=(e,t)=>eg(e,t)*(h.bubbaUpgrades?.[t]?.x3||0),ed=(e,t)=>{let a=h.generalSpelunky?.[37]?.split(" ")||[],i=e?.[0]?.[15]||0,s=e?.[3]?.[t]||0,r=parseFloat(a?.[t]||0),n=Math.round(t+1)===i,l=ep(e,13);return n?3*s*r*(1+l/100):s*r*(1+l/100)},eh=(e,t,a=!1)=>{let i=h.generalSpelunky?.[41]?.split(" ")||[],s=e?.[0]?.[2]||0,r=e?.[0]?.[3]||0;return a&&s!==Math.round(t+1)&&r!==Math.round(t+1)?0:parseFloat(i?.[t]||0)*Math.min(5,1+ep(e,17)/100)},ey=(e,t)=>{let a=e?.[1]?.[8]||0;return a>t?11===t?a-11:1:0},eS=(e,t,a)=>{let i=h.generalSpelunky?.[33]?.split(" ")||[],s=(0,C.isCompanionBonusActive)(t,51)?t?.companions?.list?.at(51)?.bonus:0;return Math.max(0,(1+20*(ey(e,1)+ey(e,3)+ey(e,6)+ey(e,9)+ey(e,11))/100)*parseFloat(i?.[Math.round(a)]||0)*Math.ceil(((e?.[1]?.[3]||0)-(a-1))/7)*(1+s))},ef=e=>{let t=Math.floor(e/3600),a=Math.floor(e%3600/60),i=Math.floor(e%60);return t>0?`${String(t).padStart(2,"0")}:${String(a).padStart(2,"0")}:${String(i).padStart(2,"0")}`:`${String(a).padStart(2,"0")}:${String(i).padStart(2,"0")}`},ev=(e,t)=>{let a=h.bubbaUpgrades?.[t];if(!a||!a.description)return"";let i=a.description,s=ep(e,t);if(i.includes("{")){let e=s<1e6?(0,o.commaNotation)(s):(0,o.notateNumber)(s,"Big");i=i.replace("{",e)}if(i.includes("}")){let e=1+s/100,t=(0,o.notateNumber)(e,"MultiplierInfo");t=t.replace(/#/g,""),i=i.replace("}",t)}if(i.includes("$")){let a="";if(4===t||18===t||26===t)a=Math.floor(1e4*(1-1/(1+s/100)))/100;else if(1===t){let t;t=eg(e,1),a=Math.ceil((0,o.lavaLog2)(t)+Math.min(t,3))}else{let i,s,r;5===t&&(a=Math.round(100*(i=ep(e,5),s=ep(e,20),r=ed(e,2),(Math.min(1,i)+i/(i+200)*2)*(1+(s+(r+eh(e,1,!0)))/100)))/100)}i=i.replace("$",a)}if(i.includes("~")){let a="";1===t||12===t?a=ef(Math.max(0,3600-(e?.[0]?.[13]||0))):15===t&&(a=ef(e?.[0]?.[14]||0)),i=i.replace("~",a)}return i},eb=(e,t)=>{let a,i,s;return(ep(e,0)+ep(e,7)+ep(e,23))*(1+(ep(e,2)+ep(e,11)+ep(e,19)+ep(e,24)*(0,o.lavaLog)(t?.accountOptions?.[267]||1))/100)*(a=e?.[0]?.[1]||0,1+10*((0,o.lavaLog2)(a)+25*(0,o.lavaLog)(a)+Math.pow(a,.75))/100)*(e=>{let t=0;for(let a=0;a<8;a++){let i=e?.[4]?.[a]||0;i>0&&(t=Math.max(1,t)*(Math.min(i,6)+Math.max(i-6,0)/2.5))}return 1+t/100})(e)*(e=>{let t=h.generalSpelunky?.[34]?.[0]?.split(" ")||[],a=1;for(let i=0;i<5;i++){let s=e?.[5]?.[i]||0;s>0&&(a*=1+s*parseFloat(t?.[i]||0)/100)}return a})(e)*(1+ed(e,0)/100)*(1+ey(e,0)*(e=>{let t=0;for(let a=0;a<28;a++)t=Math.round(t+eg(e,a));return t})(e)/100)*(1+eh(e,0,!0)/100)*(i=e?.[0]?.[9]||0,s=e?.[0]?.[10]||0,1+(i+(5*s+(25*(e?.[0]?.[11]||0)+100*(e?.[0]?.[12]||0))))/100)};var eM=e.i(302746);let eB=(e,i,c,g)=>{var v,M;let P,x,N,{serializedCharactersData:q,...ed}=c,eh=c.charactersLevels,ey={...g?.accountData||{},...ed},eS=g?.charactersData||[];ey.alchemy=(0,u.getAlchemy)(e,q,ey),ey.armorSmithy=(0,ea.getArmorSmithy)(e,i,ey),ey.equippedBubbles=(0,u.getEquippedBubbles)(e,ey.alchemy?.bubbles,q),ey.storage=(0,m.getStorage)(e,"storage",ey),ey.saltLick=(0,k.getSaltLick)(e,ey.storage?.list),ey.dungeons=(0,L.getDungeons)(e,ey.accountOptions),ey.prayers=(0,d.getPrayers)(e,ey.storage?.list),ey.cards=(0,a.getCards)(e,ey),ey.currencies=(0,C.getCurrencies)(ey,e,g),ey.stamps=(0,s.getStamps)(e,ey),ey.breeding=(0,_.getBreeding)(e,ey,g),ey.cooking=(0,E.getCooking)(e,ey),ey.divinity=(0,F.getDivinity)(e,q,ey),ey.sneaking=(0,H.getSneaking)(e,i,eS,ey),ey.farming=(0,U.getFarming)(e,ey,g?.charactersData),ey.summoning=(0,W.getSummoning)(e,ey,q),ey.statues=(0,r.applyStatuesMulti)(ey,eS),ey.hole=(0,Q.getHole)(e,ey),ey.lab=(0,w.getLab)(e,q,ey),ey.shrines=(0,n.getShrines)(e,ey);let{statues:ef,zenith:eB}=(0,r.getStatues)(e,q,ey);ey.statues=ef,ey.zenith=eB,ey.lab.connectedPlayers=ey.lab.connectedPlayers?.map(e=>({...e,isDivinityConnected:ey?.divinity?.linkedDeities?.[e?.playerId]===4||(0,w.isLabEnabledBySorcererRaw)(e,4)})),ey.arcade=(0,B.getArcade)(e,ey,i);let eC=(0,w.getLabBonus)(ey.lab.labBonuses,7);ey.stamps=(0,s.applyStampsMulti)(ey.stamps,eC),ey.alchemy.vials=(0,u.updateVials)(ey),ey.equinox=(0,j.getEquinox)(e,ey);let eT=(0,w.getLabBonus)(ey.lab.labBonuses,8),ek=(0,w.getJewelBonus)(ey.lab.jewels,16,eT);ey.cooking.meals=(0,E.applyMealsMulti)(ey.cooking.meals,ek),ey.starSigns=(0,p.getStarSigns)(e,ey),eS=q.map(a=>(0,t.initializeCharacter)(a,eh,{...ey},e)),ey.grimoire=(0,J.getGrimoire)(e,eS,ey),ey.compass=(0,ee.getCompass)(e,eS,ey,i),ey.tesseract=(0,ei.getTesseract)(e,eS,ey,i),ey.farming=(0,U.updateFarming)(eS,ey),ey.lab=(0,w.getLab)(e,q,ey,eS),ey.alchemy.vials=(0,u.updateVials)(ey);let eL=0;ey.finishedWorlds=[1,2,3,4,5,6,7].reduce((e,t)=>{let a=!!(0,O.isWorldFinished)(eS,ey,t);return a&&(eL=t),{...e,[`World${t}`]:a}},{}),ey.currentWorld=eL+1,ey.statues=(0,r.applyStatuesMulti)(ey,eS);let eE=eS?.map(({name:e,skillsInfo:t})=>({name:e,skillsInfo:t}));ey.totalSkillsLevels=(0,C.calculateTotalSkillsLevel)(eE),ey.construction=(0,f.getConstruction)(e,ey),ey.atoms=(0,D.getAtoms)(e,ey);let ew=(0,G.getArtifacts)(e,eS,ey);ey.alchemy.p2w.sigils=(0,u.applyArtifactBonusOnSigil)(ey.alchemy.p2w.sigils,ew),ey.alchemy.liquidCauldrons=(0,u.getLiquidCauldrons)(ey),ey.spelunking=(0,es.getSpelunking)(e,ey,eS),ey.hatRack=(0,eM.getHatRack)(e,ey),ey.gaming=(0,I.getGaming)(e,eS,ey,i),ey.atoms=(0,D.getAtoms)(e,ey),ey.sailing=(0,G.getSailing)(e,ew,eS,ey,i,eh);let eP=(0,C.calculateLeaderboard)(eE);eS=eS.map(e=>({...e,skillsInfo:eP[e?.name]})),ey.accountLevel=eS?.reduce((e,{level:t})=>e+t,0),ey.highscores=(0,l.getHighscores)(e,ey),N=e?.ForgeItemOrder,ey.forge=((e,t,a,i)=>{let s=y?.map((e,t)=>({...e,level:a[t]})),r=i?.gemShopPurchases?.find((e,t)=>104===t)??0,n=[],l=0;for(let a=0;a<e?.length;a+=3){let[i,o,c]=e?.slice(a,a+3),[u,m,g]=t.slice(a,a+3),p=h.items?.[o],d=h.items?.[i],y=l<r,f=S(Math.round(100+5*s?.[2]?.level),p,y),v=Math.round(u/d?.Amount)*(d?.Cooldown/(4*f));n=[...n,{isBrimestone:y,ore:{...d,name:d?.displayName,rawName:i,amount:u,quantity:u,timeTillEmpty:1e3*v,owner:"forge"},barrel:{...p,name:p?.displayName,rawName:o,amount:m,quantity:m,owner:"forge"},bar:{...h.items?.[c],name:h.items?.[c]?.displayName,rawName:c,amount:g,quantity:g,owner:"forge"}}],l++}return{list:n,upgrades:s}})(N,e?.ForgeItemQuantity||e?.ForgeItemQty,e?.FurnaceLevels||e?.ForgeLV,ey),ey.refinery=(0,b.getRefinery)(e,ey.storage?.list,ey.tasks),ey.printer=(0,A.getPrinter)(e,eS,ey),ey.quests=(0,O.getQuests)(eS),ey.islands=(0,K.getIslands)(ey,eS),ey.deathNote=(0,R.getDeathNote)(e,eS,ey),ey.topKilledMonsters=(0,R.getTopKilledMonsters)(eS),ey.killroy=(0,C.getKillRoy)(e,eS,ey,i),ey.anvil=eS.map(({anvil:e})=>e);let eA=parseFloat(e?.MoneyBANK)+eS?.reduce((e,t)=>e+parseFloat(t?.money?t?.money:0),0);return ey.currencies.rawMoney=eA,ey.currencies.money=(0,o.getCoinsArray)(eA),ey.currencies.gems=e?.GemsOwned,ey.currencies.KeysAll=(0,C.enhanceKeysObject)(ey?.currencies?.KeysAll,eS,ey),ey.currencies.ColosseumTickets=(0,C.enhanceColoTickets)(ey?.currencies?.ColosseumTickets,eS,ey),ey.currencies.penPals=ey.accountOptions?.[99]??0,ey.cooking.kitchens=(0,E.getKitchens)(e,eS,ey),ey.libraryTimes=(0,C.getLibraryBookTimes)(e,eS,ey),ey.breeding=(0,_.addBreedingChance)(e,ey),ey.divinity&&(ey.divinity.deities=(0,F.applyGodCost)(ey)),eS=eS?.map(e=>{let{carryCapBags:a}=e;return e.carryCapBags=a?.map(t=>{let a=(0,C.getTypeGen)(t?.Class),i=(0,C.getItemCapacity)(a,e,ey);return{...t,capacityPerSlot:i?.value,breakdown:i?.breakdown,maxCapacity:i?.value*e?.inventorySlots}}),e.constructionSpeed=(0,t.getPlayerConstructionSpeed)(e,ey),e.constructionExpPerHour=(0,t.getPlayerConstructionExpPerHour)(e,ey),e}),ey.stamps=(0,s.updateStamps)(ey,eS),ey.shrinesExpBonus=(0,n.getShrineExpBonus)(eS,ey),ey.msaTotalizer=(0,V.getTotalizerBonuses)(ey),ey.tome=(0,Y.getTome)(e,ey,eS,i),ey.owl=(0,$.getOwl)(e,ey),ey.kangaroo=(0,X.getKangaroo)(e,ey),ey.voteBallot=(0,z.getVoteBallot)(e,ey),ey.upgradeVault=(0,Z.getUpgradeVault)(e,ey,eS),ey.emperor=(0,et.getEmperor)(e,ey),ey.legendTalents=(0,T.getLegendTalents)(e,ey,eS),ey.gallery=(0,er.getGallery)(e,ey),ey.coralReef=(0,en.getCoralReef)(e,ey,eS),ey.clamWork=(0,el.getClamWork)(e,ey),v=(0,o.tryToParse)(e?.Bubba),M=ey,P=(e=>{let t=e?.[0]?.[4]||0,a=1;for(let e=1;e<28;e++)if(t>=eo(e))a=e+1;else break;return Math.min(28,a)})(v),x=v?.[1]?.[8],ey.bubba={upgrades:h.bubbaUpgrades.map((e,t)=>({...e,level:v?.[1]?.[t]||0,prestige:v?.[2]?.[t]||0,realLV:eg(v,t),cost:em(v,t),bonus:ep(v,t),description:ev(v,t),unlocked:t<P})),meatSlices:v?.[0]?.[0]||0,meatsliceRate:60*eb(v,M),progress:v?.[0]?.[4]||0,progressReq:ec(P),bonuses:eu(v,M),totalUpgTypesAvailable:P,megafleshOwned:x},ey.friendBonusStats=(0,C.getFriendBonusStats)(ey),{accountData:ey,charactersData:eS}};e.s(["parseData",0,(e,a,s,r,n,l)=>{try{let u=((e,a,s,r,n,l)=>{let u=(0,t.getCharacters)(e,a),m=u?.map(e=>{let t=e?.PersonalValuesMap;return{level:t?.StatList?.[4]??0,class:h.classes?.[e?.CharacterClass]??""}}),{tasks:d,tasksDescriptions:y,meritsDescriptions:S,unlockedRecipes:b,taskUnlocks:B}=(0,M.getTasks)(e),{constellations:T,rawConstellationsDone:k}=(0,p.getConstellations)(e);return{serializedCharactersData:u,charactersLevels:m,accountCreateTime:l,companions:(0,C.getCompanions)(s),bundles:(0,C.getBundles)(e),serverVars:n,accountOptions:(0,o.tryToParse)(e?.OptLacc),gemShopPurchases:(0,o.tryToParse)(e?.GemItemsPurchased)||e?.GemItemsPurchased,bribes:(0,g.getBribes)(e),timeAway:(0,o.tryToParse)(e?.TimeAway),obols:(0,i.getObols)(e),looty:(0,C.getSlab)(e),tasks:d,tasksDescriptions:y,meritsDescriptions:S,unlockedRecipes:b,taskUnlocks:B,postOfficeShipments:(0,q.getPostOfficeShipments)(e),towers:(0,f.getTowers)(e),achievements:(0,v.getAchievements)(e),rift:(0,N.getRift)(e),weeklyBossesRaw:(0,o.tryToParse)(e?.WeeklyBoss),constellations:T,rawConstellationsDone:k,shopStock:(0,c.getShops)(e),traps:(0,x.getTraps)(u),totems:(0,V.getTotems)(e),adviceFish:(0,C.getAdviceFish)(e),guild:(0,P.getGuild)(e,r),talentPoints:e?.CYTalentPoints}})(e,a,s,r,n,l),m=null;for(let t=0;t<3;t++)m=eB(e,n,u,m);let{accountData:d,charactersData:y}=m;return{account:d,characters:y}}catch(e){console.error("Error while parsing data",e),void 0!==window.gtag&&window.gtag("event","error",{event_category:"error",event_label:"parse",value:1})}}],293670)}]);