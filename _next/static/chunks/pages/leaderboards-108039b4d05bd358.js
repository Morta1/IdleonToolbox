(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5983],{18131:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/leaderboards",function(){return r(15362)}])},30509:function(e,n,r){"use strict";var t=r(85893),l=r(67294),a=r(31002),i=r(29676),o=r(40044),d=r(30925),s=r(27709),c=r(11163);n.Z=e=>{var n;let{tabs:r,components:u,icons:h,children:x,onTabChange:p,forceScroll:g,orientation:b="horizontal",iconsOnly:v,queryKey:m="t",clearOnChange:j=[],disableQuery:f=!1}=e,C=(0,a.Z)(e=>e.breakpoints.down("md"),{noSsr:!0}),Z=(0,c.useRouter)(),[y,w]=(0,l.useState)(0),_=Z.query[m],O=r.findIndex(e=>e===_),M=f?y:O>=0?O:0;(0,l.useEffect)(()=>{f||_||Z.replace({pathname:Z.pathname,query:{...Z.query,[m]:r[M]}},void 0,{shallow:!0})},[_,m,r,M,Z,f]);let k=Array.isArray(x)?x:[x];return(0,t.jsxs)(s.Z,{sx:"vertical"===b?{flexGrow:1,display:"flex"}:{},children:[(0,t.jsx)(i.Z,{centered:!C||C&&r.length<4,scrollButtons:!0,allowScrollButtonsMobile:!0,sx:{marginBottom:3},variant:C&&r.length>=4||g?"scrollable":"standard",value:M,onChange:(e,n)=>{if(f)w(n);else{let e={...Z.query,[m]:r[n]};j.forEach(n=>delete e[n]),Z.push({pathname:Z.pathname,query:e},void 0,{shallow:!0})}p&&p(n)},children:null===(n=null!=u?u:r)||void 0===n?void 0:n.map((e,n)=>(0,t.jsx)(o.Z,{iconPosition:"start",icon:(null==h?void 0:h[n])?(0,t.jsx)("img",{src:"".concat(d.prefix).concat(null==h?void 0:h[n],".png")}):null,wrapped:!0,label:v?"":e,sx:{minWidth:62}},"".concat(null==e?void 0:e[n],"-").concat(n)))}),p?x:null==k?void 0:k.map((e,n)=>n===M?e:null)]})}},15362:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return leaderboards}});var t=r(85893),l=r(12957),a=r(66242),i=r(44267),o=r(23972),d=r(18979),s=r(69702),c=r(50135),u=r(51233),h=r(98456),x=r(30509),p=r(82729),g=r(67294),b=r(18843),v=r(97212),m=r(98619),j=r(23795),f=r(48885),C=r(59334),Z=r(67720),y=r(55113),w=r(40360),_=r(30925),O=r(27709),M=r(61599);function _templateObject(){let e=(0,p._)(["\n  display: ",";\n  align-items: center;\n  justify-content: center;\n  background-color: ",";\n  border-radius: 50%;\n  width: 32px;\n  height: 32px;\n"]);return _templateObject=function(){return e},e}function _templateObject1(){let e=(0,p._)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  border-radius: 12px;\n  box-shadow: none;\n  height: ","px;\n  order: ",";\n"]);return _templateObject1=function(){return e},e}function _templateObject2(){let e=(0,p._)(["\n  display: flex;\n  padding: 8px;\n  margin: auto auto 0 auto;\n  justify-content: center;\n  border-radius: 12px 12px 0 0;\n  box-shadow: none;\n  width: 100%;\n  background-color: ",";\n  outline: ",";\n  outline-color: ","\n"]);return _templateObject2=function(){return e},e}let k="#007E85",S="#cd861b",L="#12141c",specialNotation=(e,n)=>"bits"===e?(0,_.notateNumber)(n,"bits"):"dropRate"===e?(0,_.notateNumber)(n,"MultiplierInfo"):(0,_.notateNumber)(n),E=(0,M.Z)(O.Z,{shouldForwardProp:e=>"inline"!==e})(_templateObject(),e=>{let{inline:n}=e;return n?"inline-flex":"flex"},e=>{let{bgColor:n}=e;return n||"#ffffff21"});(0,M.Z)(y.Z,{shouldForwardProp:e=>"bgColor"!==e&&"order"!==e&&"inline"!==e})(_templateObject1(),e=>{let{height:n}=e;return n},e=>{let{order:n}=e;return n}),(0,M.Z)(y.Z,{shouldForwardProp:e=>"searchedChar"!==e&&"loggedMainChar"!==e})(_templateObject2(),e=>{let{outline:n}=e;return n?L:"#1e262e"},e=>{let{loggedMainChar:n,searchedChar:r}=e;return n||r?"3px solid":"none"},e=>{let{loggedMainChar:n,searchedChar:r}=e;return n?k:r?S:""});var Leaderboard=e=>{let{leaderboards:n,loggedMainChar:r,searchedChar:l}=e;return(0,t.jsx)(w.Z,{sx:{width:"100%",margin:"0 auto"},justifySelf:"center",container:!0,rowSpacing:3,columnSpacing:{xs:4,xl:12},children:Object.entries(n||{}).map((e,n)=>{var a;let[i,d]=e,s={},c=d.map((e,n)=>{let t=e.mainChar,a=t===r,i=t===l;return(a||i)&&n>=10&&(s[t]=n+1),{...e,...a&&{loggedMainChar:!0},...i&&{searchedChar:!0},index:n+1}}),u=null===(a=Object.entries(s))||void 0===a?void 0:a.map(e=>{let[n,t]=e,l=null==d?void 0:d.find(e=>(null==e?void 0:e.mainChar)===n),a=l.mainChar===r?"loggedMainChar":"searchedChar";return{...l,[a]:!0,index:t}},[]);null==c||c.toSpliced(3);let h=null==c?void 0:c.slice(0,10).concat(u),x=(null==d?void 0:d.length)===0;return(0,t.jsxs)(w.Z,{size:{xs:12,sm:4,xl:3},children:[(0,t.jsx)(o.Z,{textAlign:"center",variant:"h5",mt:{xs:3,lg:0},mb:{xs:3,lg:1},children:i.camelToTitleCase()}),x?(0,t.jsx)(o.Z,{textAlign:"center",mt:5,variant:"h6",children:"Nothing here yet"}):(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(b.Z,{dense:!0,disablePadding:!0,children:h.map((e,n)=>{let r=(null==e?void 0:e[i])||0,l=0===n?"data/Trophie.png":1===n?"data/G2icon40.png":2===n?"data/G2icon39.png":"";return(0,t.jsxs)(g.Fragment,{children:[(0,t.jsx)(v.ZP,{disablePadding:!0,sx:{borderRadius:0===n?"8px 8px 0 0":n===h.length-1?"0 0 8px 8px":"","&:hover":{borderRadius:0===n?"8px 8px 0 0":n===h.length-1?"0 0 8px 8px":""},mb:(null==e?void 0:e.loggedMainChar)||(null==e?void 0:e.searchedChar)?.8:0,backgroundColor:(null==e?void 0:e.loggedMainChar)||(null==e?void 0:e.searchedChar)?L:"#1e262e",outline:(null==e?void 0:e.loggedMainChar)||(null==e?void 0:e.searchedChar)?"2px solid":"none",outlineColor:(null==e?void 0:e.loggedMainChar)?k:(null==e?void 0:e.searchedChar)?S:""},secondaryAction:(0,t.jsx)(o.Z,{sx:{pr:2,py:1},variant:"body2",children:specialNotation(i,r)}),children:(0,t.jsxs)(m.Z,{component:j.Z,target:"_blank",href:"https://idleontoolbox.com?profile=".concat(null==e?void 0:e.mainChar),disableGutters:!0,sx:{pl:2,py:1,borderRadius:"inherit"},children:[(0,t.jsx)(f.Z,{children:l?(0,t.jsx)("img",{width:24,height:24,style:{objectFit:"contain"},src:"".concat(_.prefix).concat(l),alt:""}):(0,t.jsx)(E,{inline:!0,sx:{mr:2},children:(null==e?void 0:e.index)?null==e?void 0:e.index:n+4})}),(0,t.jsx)(C.Z,{primary:null==e?void 0:e.mainChar,slotProps:{primary:{variant:"body1"}}})]})}),n<h.length-1?(0,t.jsx)(Z.Z,{component:"li"}):null]},"".concat(i,"-").concat(n))})})})]},"".concat(i,"-").concat(n))})})},N=r(21480),P=r(2962),A=r(94967);let T=(0,l.D)({trim:!0,limit:50}),F=["general","tasks","skills","character","misc"];var leaderboards=()=>{var e,n,r;let{state:l}=(0,g.useContext)(N.I),p=null==l?void 0:null===(n=l.characters)||void 0===n?void 0:null===(e=n[0])||void 0===e?void 0:e.name,[b,v]=(0,g.useState)(null),[m,j]=g.useState(""),[f,C]=(0,g.useState)(""),[Z,y]=(0,g.useState)("general");return(0,g.useEffect)(()=>{let getLeaderboards=async()=>{try{let e=await (0,A.$E)(Z);v(e),j("")}catch(e){j("Error has occurred while getting leaderboards")}};getLeaderboards()},[Z]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(P.PB,{title:"Leaderboards | Idleon Toolbox",description:"Leaderboards for Legends Of Idleon MMO"}),(0,t.jsx)(a.Z,{variant:"outlined",sx:{width:"180px",margin:"16px auto",borderColor:"success.light"},children:(0,t.jsxs)(i.Z,{sx:{"&:last-child":{p:1}},children:[(0,t.jsx)(o.Z,{textAlign:"center",sx:{fontSize:14},children:" Uploaded accounts:"}),(0,t.jsx)(o.Z,{textAlign:"center",variant:"body2",component:"div",children:(null==b?void 0:b.totalUsers)?null==b?void 0:b.totalUsers:(0,t.jsx)(d.Z,{sx:{width:100,margin:"0 auto"},variant:"text"})})]})}),(0,t.jsx)(O.Z,{sx:{width:"fit-content",margin:"16px auto",border:"none"},children:(0,t.jsx)(s.Z,{loading:!(null==b?void 0:b.totalUsers),options:(null===(r=Object.values((null==b?void 0:b[Z])||{}))||void 0===r?void 0:r[0])||[],getOptionLabel:e=>e.mainChar,id:"user-search",filterOptions:T,sx:{width:230},value:f||null,onChange:(e,n)=>C(n),renderInput:e=>(0,t.jsx)(c.Z,{...e,label:"Search by character name",variant:"standard"})})}),(0,t.jsxs)(x.Z,{tabs:["General","Tasks","Skills","Character","Misc"],onTabChange:e=>{y(null==F?void 0:F[e]),v(null),j("")},children:[(0,t.jsx)(Leaderboard,{leaderboards:null==b?void 0:b.general,loggedMainChar:p,searchedChar:null==f?void 0:f.mainChar}),(0,t.jsx)(Leaderboard,{leaderboards:null==b?void 0:b.tasks,loggedMainChar:p,searchedChar:null==f?void 0:f.mainChar}),(0,t.jsx)(Leaderboard,{leaderboards:null==b?void 0:b.skills,loggedMainChar:p,searchedChar:null==f?void 0:f.mainChar}),(0,t.jsx)(Leaderboard,{leaderboards:null==b?void 0:b.character,loggedMainChar:p,searchedChar:null==f?void 0:f.mainChar}),(0,t.jsx)(Leaderboard,{leaderboards:null==b?void 0:b.misc,loggedMainChar:p,searchedChar:null==f?void 0:f.mainChar})]}),b||m?m?(0,t.jsx)(o.Z,{color:"error.light",textAlign:"center",variant:"h6",children:m}):null:(0,t.jsx)(u.Z,{alignItems:"center",justifyContent:"center",mt:3,children:(0,t.jsx)(h.Z,{})})]})}}},function(e){e.O(0,[9702,5935,9774,2888,179],function(){return e(e.s=18131)}),_N_E=e.O()}]);