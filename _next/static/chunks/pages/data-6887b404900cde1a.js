(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5081],{70983:function(e,t,r){"use strict";var a=r(88169),n=r(85893);t.Z=(0,a.Z)((0,n.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle")},40238:function(e,t,r){"use strict";var a=r(88169),n=r(85893);t.Z=(0,a.Z)((0,n.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info")},65582:function(e,t,r){"use strict";r.d(t,{Z:function(){return g}});var a=r(67294),n=r(90512),l=r(34867),i=r(94780),o=r(14142),s=r(29628),d=r(69827),c=r(78136),u=r(85893);let p=(0,c.Z)(),h=(0,d.Z)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,t[`maxWidth${(0,o.Z)(String(r.maxWidth))}`],r.fixed&&t.fixed,r.disableGutters&&t.disableGutters]}}),useThemePropsDefault=e=>(0,s.Z)({props:e,name:"MuiContainer",defaultTheme:p}),useUtilityClasses=(e,t)=>{let{classes:r,fixed:a,disableGutters:n,maxWidth:s}=e,d={root:["root",s&&`maxWidth${(0,o.Z)(String(s))}`,a&&"fixed",n&&"disableGutters"]};return(0,i.Z)(d,e=>(0,l.ZP)(t,e),r)};function createContainer(e={}){let{createStyledComponent:t=h,useThemeProps:r=useThemePropsDefault,componentName:l="MuiContainer"}=e,i=t(({theme:e,ownerState:t})=>({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",...!t.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}}}),({theme:e,ownerState:t})=>t.fixed&&Object.keys(e.breakpoints.values).reduce((t,r)=>{let a=e.breakpoints.values[r];return 0!==a&&(t[e.breakpoints.up(r)]={maxWidth:`${a}${e.breakpoints.unit}`}),t},{}),({theme:e,ownerState:t})=>({..."xs"===t.maxWidth&&{[e.breakpoints.up("xs")]:{maxWidth:Math.max(e.breakpoints.values.xs,444)}},...t.maxWidth&&"xs"!==t.maxWidth&&{[e.breakpoints.up(t.maxWidth)]:{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`}}})),o=a.forwardRef(function(e,t){let a=r(e),{className:o,component:s="div",disableGutters:d=!1,fixed:c=!1,maxWidth:p="lg",classes:h,...m}=a,x={...a,component:s,disableGutters:d,fixed:c,maxWidth:p},v=useUtilityClasses(x,l);return(0,u.jsx)(i,{as:s,ownerState:x,className:(0,n.Z)(v.root,o),ref:t,...m})});return o}var m=r(98216),x=r(90948),v=r(28628);let b=createContainer({createStyledComponent:(0,x.ZP)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,t[`maxWidth${(0,m.Z)(String(r.maxWidth))}`],r.fixed&&t.fixed,r.disableGutters&&t.disableGutters]}}),useThemeProps:e=>(0,v.i)({props:e,name:"MuiContainer"})});var g=b},50480:function(e,t,r){"use strict";r.d(t,{Z:function(){return j}});var a=r(67294),n=r(90512),l=r(94780),i=r(74423),o=r(90948),s=r(16694),d=r(28628),c=r(23972),u=r(98216),p=r(1588),h=r(34867);function getFormControlLabelUtilityClasses(e){return(0,h.ZP)("MuiFormControlLabel",e)}let m=(0,p.Z)("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]);var x=r(15704),v=r(80560),b=r(85893);let useUtilityClasses=e=>{let{classes:t,disabled:r,labelPlacement:a,error:n,required:i}=e,o={root:["root",r&&"disabled",`labelPlacement${(0,u.Z)(a)}`,n&&"error",i&&"required"],label:["label",r&&"disabled"],asterisk:["asterisk",n&&"error"]};return(0,l.Z)(o,getFormControlLabelUtilityClasses,t)},g=(0,o.ZP)("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[{[`& .${m.label}`]:t.label},t.root,t[`labelPlacement${(0,u.Z)(r.labelPlacement)}`]]}})((0,s.Z)(({theme:e})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${m.disabled}`]:{cursor:"default"},[`& .${m.label}`]:{[`&.${m.disabled}`]:{color:(e.vars||e).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:e})=>"start"===e||"top"===e||"bottom"===e,style:{marginLeft:16}}]}))),f=(0,o.ZP)("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})((0,s.Z)(({theme:e})=>({[`&.${m.error}`]:{color:(e.vars||e).palette.error.main}}))),Z=a.forwardRef(function(e,t){let r=(0,d.i)({props:e,name:"MuiFormControlLabel"}),{checked:l,className:o,componentsProps:s={},control:u,disabled:p,disableTypography:h,inputRef:m,label:Z,labelPlacement:j="end",name:y,onChange:w,required:C,slots:S={},slotProps:k={},value:P,...T}=r,I=(0,i.Z)(),R=p??u.props.disabled??I?.disabled,L=C??u.props.required,M={disabled:R,required:L};["checked","name","onChange","value","inputRef"].forEach(e=>{void 0===u.props[e]&&void 0!==r[e]&&(M[e]=r[e])});let W=(0,x.Z)({props:r,muiFormControl:I,states:["error"]}),N={...r,disabled:R,labelPlacement:j,required:L,error:W.error},O=useUtilityClasses(N),_={slots:S,slotProps:{...s,...k}},[D,E]=(0,v.Z)("typography",{elementType:c.Z,externalForwardedProps:_,ownerState:N}),U=Z;return null==U||U.type===c.Z||h||(U=(0,b.jsx)(D,{component:"span",...E,className:(0,n.Z)(O.label,E?.className),children:U})),(0,b.jsxs)(g,{className:(0,n.Z)(O.root,o),ownerState:N,ref:t,...T,children:[a.cloneElement(u,M),L?(0,b.jsxs)("div",{children:[U,(0,b.jsxs)(f,{ownerState:N,"aria-hidden":!0,className:O.asterisk,children:["â€‰","*"]})]}):U]})});var j=Z},26627:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/data",function(){return r(86433)}])},18747:function(e,t,r){"use strict";var a=r(85893),n=r(14564),l=r(23972);r(67294),t.Z=e=>{let{anchorEl:t,handleClose:r}=e,i=!!t;return(0,a.jsx)(n.ZP,{sx:{ml:1},id:i?"simple-popover":void 0,open:i,anchorEl:t,onClose:r,anchorOrigin:{vertical:"center",horizontal:"right"},transformOrigin:{vertical:"center",horizontal:"left"},children:(0,a.jsx)(l.Z,{sx:{py:1,px:2},children:"Copied to clipboard!"})})}},86433:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return data}});var a=r(82729),n=r(85893),l=r(31002),i=r(65582),o=r(51233),s=r(50657),d=r(37645),c=r(23972),u=r(6514),p=r(50135),h=r(66242),m=r(44267),x=r(23795),v=r(67720),b=r(16628),g=r(50480),f=r(69368),Z=r(74509),j=r(69417),y=r(67294),w=r(95617),C=r(40238),S=r(61599),k=r(11163),P=r(18972);function useTimeout(e,t){let r=(0,y.useRef)(null),a=(0,y.useRef)(e);return(0,y.useEffect)(()=>{a.current=e},[e]),(0,y.useEffect)(()=>{if("number"==typeof t)return r.current=window.setTimeout(()=>a.current(),t),()=>window.clearTimeout(r.current)},[t]),r}var T=r(71924),Normal=e=>{let{date:t,done:r}=e,[a,l]=(0,y.useState)({days:0,hours:0,minutes:0,seconds:0});(0,y.useEffect)(()=>{l(t)},[t]);let updateTimer=()=>{let{days:e,hours:t,minutes:r,seconds:n}=a;-1==(n-=1)&&(n=59,-1==(r-=1)&&(r=59,-1==(t-=1)&&(t=0,e-=1))),l({...a,days:e,hours:t,minutes:r,seconds:n})};return(0,T.Z)(()=>{updateTimer()},1e3),(0,n.jsx)("div",{children:r?(0,n.jsx)(c.Z,{variant:"body2",children:"00:00:00"}):(0,n.jsxs)(c.Z,{variant:"body2",children:[String(a.hours).padStart(2,"0"),":",String(a.minutes).padStart(2,"0"),":",String(a.seconds).padStart(2,"0")]})})},I=r(40929),R=r(24228),L=r(61436),M=r(94967),W=r(21480),N=r(70983),O=r(2962),_=r(27709),D=r(18747),E=r(30925),U=r(13250),$=r(23663),z=(0,r(88169).Z)((0,n.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility");function _templateObject(){let e=(0,a._)(["\n  text-transform: none;\n"]);return _templateObject=function(){return e},e}let Section=e=>{let{title:t,description:r,children:a}=e;return(0,n.jsxs)(h.Z,{variant:"outlined",sx:{maxWidth:360},children:[(0,n.jsxs)(_.Z,{sx:{p:2},children:[(0,n.jsx)(o.Z,{direction:"row",sx:{justifyContent:"space-between",alignItems:"center"},children:(0,n.jsx)(c.Z,{gutterBottom:!0,variant:"h5",component:"div",children:t})}),(0,n.jsx)(c.Z,{variant:"body2",sx:{color:"text.secondary"},children:r})]}),(0,n.jsx)(v.Z,{}),(0,n.jsx)(o.Z,{direction:"row",sx:{p:2},children:a})]})},G=(0,S.Z)(j.Z)(_templateObject());var data=()=>{var e,t,r,a;let j=(0,k.useRouter)();(0,$.a)();let{state:S}=(0,y.useContext)(W.I),[T,J]=(0,y.useState)("all"),[F,q]=(0,y.useState)(null),[B,A]=(0,y.useState)(!1),[H,V]=(0,y.useState)(!1),[X,Y]=(0,y.useState)(!1),[Q,K]=(0,y.useState)(!1),[ee,et]=(0,y.useState)(!1),[er,ea]=(0,y.useState)(""),en=(0,l.Z)("(min-width: 1200px)",{noSsr:!0}),el=(0,l.Z)("(min-width: 850px)",{noSsr:!0}),[ei,eo]=(0,y.useState)(!1);(0,y.useEffect)(()=>{(null==S?void 0:S.uid)&&(V(localStorage.getItem("".concat(null==S?void 0:S.uid,"/lastUpload"))),et("true"===localStorage.getItem("".concat(null==S?void 0:S.uid,"/leaderboardConsent"))))},[null==S?void 0:S.uid]),(0,y.useEffect)(()=>{H&&Y(144e5-(Date.now()-H)>0)},[H]);let handleCopyITRaw=async e=>{try{q(e.currentTarget),await navigator.clipboard.writeText(JSON.stringify((0,E.tryToParse)(localStorage.getItem("rawJson")),null,2))}catch(e){console.error(e)}},handleCopyRaw=async e=>{try{q(e.currentTarget);let t=JSON.parse(localStorage.getItem("rawJson"));await navigator.clipboard.writeText(JSON.stringify(null==t?void 0:t.data,null,2))}catch(e){console.error(e)}},handleCopyLink=async e=>{try{var t,r;q(e.currentTarget),await navigator.clipboard.writeText("https://idleontoolbox.com/?profile=".concat(null==S?void 0:null===(r=S.characters)||void 0===r?void 0:null===(t=r[0])||void 0===t?void 0:t.name))}catch(e){console.error(e)}},handleUpdate=async()=>{let e=JSON.parse(localStorage.getItem("rawJson"));delete e.data.GemsOwned,delete e.data.ServerGems,delete e.data.ServerGemsReceived,delete e.data.BundlesReceived,delete e.data.GemsPacksPurchased;let t=(0,M.Zu)(null==S?void 0:S.account,null==S?void 0:S.characters);if(K(!1),!H||144e5-(Date.now()-H)<0){A(!0);try{await (0,M.UQ)({profile:{...e,parsedData:t},uid:null==S?void 0:S.uid,leaderboardConsent:ee},null==S?void 0:S.accessToken),K(!0);let r=Date.now();localStorage.setItem("".concat(null==S?void 0:S.uid,"/lastUpload"),r),V(r)}catch(e){ea(e)}A(!1)}};return useTimeout(()=>{q(null)},F?1e3:null),(0,n.jsxs)(i.Z,{children:[(0,n.jsx)(O.PB,{title:"Data | Idleon Toolbox",description:"Website settings and profile management"}),(0,n.jsx)("h1",{children:"Data page"}),(0,n.jsxs)("div",{children:[(0,n.jsxs)(o.Z,{direction:"column",gap:1,flexWrap:"wrap",children:[(0,n.jsxs)(Section,{title:"Data",description:"This is idleon toolbox formatted data, use this when asking for support",children:[(0,n.jsx)(G,{component:"span",variant:"outlined",startIcon:(0,n.jsx)(w.Z,{}),onClick:handleCopyITRaw,children:"Copy"}),(0,n.jsx)(G,{sx:{ml:"auto",minWidth:32},component:"span",variant:"outlined",size:"small",onClick:()=>eo(!0),children:(0,n.jsx)(z,{fontSize:"small"})}),(0,n.jsxs)(s.Z,{open:ei,onClose:()=>eo(!1),children:[(0,n.jsx)(d.Z,{children:(0,n.jsxs)(o.Z,{direction:"row",justifyContent:"space-between",children:[(0,n.jsx)(c.Z,{variant:"h6",children:"Raw idleon data"}),(0,n.jsx)(G,{sx:{ml:"auto"},component:"span",size:"small",variant:"outlined",onClick:handleCopyRaw,children:"Copy"})]})}),(0,n.jsx)(u.Z,{children:(0,n.jsx)("div",{style:{whiteSpace:"pre-wrap",overflowWrap:"break-word"},children:JSON.stringify(JSON.parse(localStorage.getItem("rawJson")),null,2)})})]})]}),(0,n.jsx)(Section,{title:"Configurations",description:"Various local configurations, use this if you're having any issues loading the website",children:(0,n.jsxs)(o.Z,{direction:"row",gap:2,children:[(0,n.jsxs)(p.Z,{sx:{width:220},size:"small",label:"",select:!0,value:T,onChange:e=>J(e.target.value),children:[(0,n.jsx)(P.Z,{value:"all",children:"All"}),(0,n.jsx)(P.Z,{value:"filters",children:"Characters page filters"}),(0,n.jsx)(P.Z,{value:"trackers",children:"Dashboard config"}),(0,n.jsx)(P.Z,{value:"planner",children:"Item Planner"}),(0,n.jsx)(P.Z,{value:"material-tracker",children:"Material tracker"}),(0,n.jsx)(P.Z,{value:"last-upload-time",children:"Last upload time"}),(0,n.jsx)(P.Z,{value:"pinnedPages",children:"Pinned Pages"})]}),(0,n.jsx)(G,{color:"warning",variant:"outlined",onClick:()=>{if("all"===T){let e=Object.keys(localStorage);e.forEach(e=>{e.includes("lastUpload")||localStorage.removeItem(e)})}else"last-upload-time"===T?(localStorage.removeItem("".concat(null==S?void 0:S.uid,"/lastUpload")),V(!1)):localStorage.removeItem(T);j.reload()},startIcon:(0,n.jsx)(C.Z,{}),children:"Clear"})]})})]}),(0,n.jsx)(D.Z,{anchorEl:F,handleClose:()=>q(null)})]}),!j.query.profile&&(null==S?void 0:S.characters)?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(o.Z,{direction:"row",gap:3,children:(0,n.jsx)(h.Z,{sx:{mt:3},variant:"outlined",children:(0,n.jsxs)(m.Z,{children:[(0,n.jsx)(c.Z,{variant:"h6",mb:1,children:"Profile Management"}),(0,n.jsx)(c.Z,{variant:"body1",mb:1,children:"Your profile link"}),(0,n.jsxs)(o.Z,{direction:"row",gap:1,children:[(0,n.jsx)(_.Z,{sx:{height:40,border:"1px solid rgb(123 140 154 / 50%)",p:1,borderRadius:"4px",backgroundColor:"#1d2025"},children:(0,n.jsxs)(x.Z,{href:"https://idleontoolbox.com/?profile=".concat(null==S?void 0:null===(t=S.characters)||void 0===t?void 0:null===(e=t[0])||void 0===e?void 0:e.name),children:["https://idleontoolbox.com/?profile=",null==S?void 0:null===(a=S.characters)||void 0===a?void 0:null===(r=a[0])||void 0===r?void 0:r.name]})}),(0,n.jsx)(G,{component:"span",variant:"outlined",startIcon:(0,n.jsx)(w.Z,{}),sx:{height:40},onClick:handleCopyLink,children:"Copy"})]}),(0,n.jsx)(v.Z,{sx:{my:2}}),(0,n.jsx)(c.Z,{variant:"h6",my:1,children:"Upload your profile"}),(0,n.jsx)(c.Z,{variant:"body1",children:"* You can update your profile once every 4 hours"}),(0,n.jsx)(c.Z,{variant:"body1",children:"* Gems and bundle information won't be saved"}),(0,n.jsxs)(_.Z,{mt:2,children:[(0,n.jsxs)(o.Z,{direction:"row",alignItems:"center",gap:2,children:[(0,n.jsx)(G,{disabled:X,loading:B,onClick:handleUpdate,variant:"contained",children:"Upload my profile"}),(0,n.jsx)(b.Z,{in:Q,children:(0,n.jsx)(N.Z,{color:"success"})})]}),(0,n.jsx)(g.Z,{sx:{mt:2},control:(0,n.jsx)(f.Z,{name:"mini",checked:ee,size:"small",onChange:e=>{localStorage.setItem("".concat(null==S?void 0:S.uid,"/leaderboardConsent"),!ee),et(!ee)}}),label:"Participate in idleontoolbox leaderboard ranking"}),(0,n.jsx)(Z.Z,{sx:{whiteSpace:"pre-wrap"},children:"Leave this box unchecked if you prefer not to participate in the leaderboard.\nTo exclude your profile, simply uncheck the box and re-upload your profile."}),(0,n.jsx)(c.Z,{sx:{mt:1},color:"error",variant:"body2",children:er}),(0,L.Z)(parseInt(H))?(0,n.jsxs)(c.Z,{sx:{mt:3},variant:"body2",children:["Last update: ",(0,I.Z)(parseInt(H),"dd/MM/yyyy HH:mm:ss")]}):null,H?(0,n.jsxs)(o.Z,{direction:"row",alignItems:"center",gap:1,children:[H?(0,n.jsx)(c.Z,{variant:"body2",children:"Time to next upload: "}):null,H?(0,n.jsx)(Normal,{done:144e5-(Date.now()-H)<0,date:(0,R.Z)({start:new Date(parseInt(H)),end:new Date().getTime()-144e5})}):null]}):null]})]})})})})}):null,en||el?(0,n.jsxs)(_.Z,{sx:{backgroundColor:E.isProd?"":"#d73333",width:en?300:el?160:0,height:600,position:"absolute",top:150,right:100},children:[E.isProd&&en?(0,n.jsx)(U.a,{client:"ca-pub-1842647313167572",slot:"9767369641"}):null,E.isProd&&el&&!en?(0,n.jsx)(U.a,{client:"ca-pub-1842647313167572",slot:"7851151731"}):null]}):null]})}}},function(e){e.O(0,[9774,2888,179],function(){return e(e.s=26627)}),_N_E=e.O()}]);