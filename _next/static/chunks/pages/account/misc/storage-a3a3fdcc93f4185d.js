(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3889],{43989:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/misc/storage",function(){return n(35471)}])},35471:function(e,t,n){"use strict";n.r(t);var r=n(82729),o=n(85893),c=n(21480),i=n(67294),l=n(66242),a=n(44267),s=n(51233),u=n(23972),d=n(50480),h=n(69368),x=n(30925),j=n(61599),p=n(2511),m=n(2962),g=n(25675),Z=n.n(g),f=n(99758);function _templateObject(){let e=(0,r._)(["\n  height: 30px;\n  width: 30px;\n  object-fit: contain;\n"]);return _templateObject=function(){return e},e}j.Z.img(_templateObject()),t.default=()=>{let{state:e}=(0,i.useContext)(c.I),[t,n]=(0,i.useState)(!1),[r,j]=(0,i.useState)(),[g,v]=(0,i.useState)(!1),w=(0,i.useMemo)(()=>{var t;return[...null==e?void 0:null===(t=e.account)||void 0===t?void 0:t.storage].sort((e,t)=>(null==t?void 0:t.amount)-(null==e?void 0:e.amount))},[e]);(0,i.useEffect)(()=>{var n,r;if(g){let r=(0,x.groupByKey)(null==e?void 0:null===(n=e.account)||void 0===n?void 0:n.storage,e=>{let{Type:t}=e;return t});t?j(Object.entries(r).reduce((e,t)=>{let[n,r]=t,o=[...r].sort((e,t)=>(null==t?void 0:t.amount)-(null==e?void 0:e.amount));return{...e,[n]:o}},{})):j(r)}else j(t?w:null==e?void 0:null===(r=e.account)||void 0===r?void 0:r.storage)},[e,g,t]);let renderItems=e=>e&&Array.isArray(e)?null==e?void 0:e.map((e,t)=>{let{name:n,rawName:r,amount:c}=e;return(0,o.jsx)(l.Z,{variant:"outlined",sx:{width:75},children:(0,o.jsx)(a.Z,{children:(0,o.jsx)(p.Z,{title:(0,o.jsx)(f.Z,{...e,showAmount:!0}),children:(0,o.jsxs)(s.Z,{alignItems:"center","data-index":t,children:[(0,o.jsx)(Z(),{loading:"lazy","data-index":t,width:30,height:30,style:{objectFit:"contain"},src:"".concat(x.prefix,"data/").concat(r,".png"),alt:r}),(0,o.jsx)(u.Z,{color:c>=1e7?"success.light":"",children:(0,x.notateNumber)(c,"Big")})]},"".concat(r,"-").concat(t))})})},"".concat(n,"-").concat(t))}):null;return(0,o.jsxs)(s.Z,{children:[(0,o.jsx)(m.PB,{title:"Storage | Idleon Toolbox",description:"A list of your storage items"}),(0,o.jsxs)(s.Z,{children:[(0,o.jsxs)(s.Z,{mb:3,direction:"row",flexWrap:"wrap",children:[(0,o.jsx)(d.Z,{control:(0,o.jsx)(h.Z,{name:"mini",checked:g,size:"small",onChange:()=>v(!g)}),label:"Group by type"}),(0,o.jsx)(d.Z,{control:(0,o.jsx)(h.Z,{checked:t,onChange:e=>{n(e.target.checked)}}),label:"Sort by stack size"})]}),g&&!Array.isArray(r)?(0,o.jsx)(s.Z,{gap:2,children:Object.entries(r||{}).map((e,t)=>{let[n,r]=e;return 0===r.length?null:(0,o.jsx)(l.Z,{children:(0,o.jsxs)(a.Z,{children:[(0,o.jsx)(u.Z,{children:(0,x.cleanUnderscore)(n).toLowerCase().capitalize()}),(0,o.jsx)(s.Z,{"data-index":t,children:(0,o.jsx)(s.Z,{direction:"row",flexWrap:"wrap",gap:1,children:renderItems(r)})},"".concat(n,"-").concat(t))]})},"".concat(n,"-").concat(t))})}):(0,o.jsx)(s.Z,{direction:"row",gap:1,flexWrap:"wrap",children:renderItems(r)})]})]})}}},function(e){e.O(0,[5675,1546,9758,9774,2888,179],function(){return e(e.s=43989)}),_N_E=e.O()}]);