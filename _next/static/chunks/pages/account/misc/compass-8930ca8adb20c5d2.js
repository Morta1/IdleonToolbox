(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9145],{39789:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/misc/compass",function(){return n(37266)}])},30509:function(e,t,n){"use strict";var l=n(85893),a=n(67294),i=n(31002),r=n(29676),s=n(40044),o=n(30925),c=n(27709),d=n(11163);t.Z=e=>{var t;let{tabs:n,components:p,icons:x,children:u,onTabChange:m,forceScroll:h,orientation:g="horizontal",iconsOnly:j,queryKey:v="t",clearOnChange:f=[],disableQuery:Z=!1}=e,w=(0,i.Z)(e=>e.breakpoints.down("md"),{noSsr:!0}),y=(0,d.useRouter)(),[b,I]=(0,a.useState)(0),_=y.query[v],C=n.findIndex(e=>e===_),W=Z?b:C>=0?C:0;(0,a.useEffect)(()=>{Z||_||y.replace({pathname:y.pathname,query:{...y.query,[v]:n[W]}},void 0,{shallow:!0})},[_,v,n,W,y,Z]);let N=Array.isArray(u)?u:[u];return(0,l.jsxs)(c.Z,{sx:"vertical"===g?{flexGrow:1,display:"flex"}:{},children:[(0,l.jsx)(r.Z,{centered:!h&&(!w||w&&n.length<4),scrollButtons:!0,allowScrollButtonsMobile:!0,sx:{marginBottom:3},variant:w&&n.length>=4||h?"scrollable":"standard",value:W,onChange:(e,t)=>{if(Z)I(t);else{let e={...y.query,[v]:n[t]};f.forEach(t=>delete e[t]),y.push({pathname:y.pathname,query:e},void 0,{shallow:!0})}m&&m(t)},children:null===(t=null!=p?p:n)||void 0===t?void 0:t.map((e,t)=>(0,l.jsx)(s.Z,{iconPosition:"start",icon:(null==x?void 0:x[t])?(0,l.jsx)("img",{src:"".concat(o.prefix).concat(null==x?void 0:x[t],".png")}):null,wrapped:!0,label:j?"":e,sx:{minWidth:62}},"".concat(null==e?void 0:e[t],"-").concat(t)))}),m?u:null==N?void 0:N.map((e,t)=>t===W?e:null)]})}},62801:function(e,t,n){"use strict";var l=n(85893),a=n(50480),i=n(69368),r=n(67294),s=n(7336);t.Z=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],[n,o]=(0,r.useState)(!0),[c,d]=(0,s.I)({key:"checkbox-".concat(e),defaultValue:t});return(0,r.useEffect)(()=>{o(!1)},[]),[()=>n?null:(0,l.jsx)(a.Z,{sx:{width:"fit-content"},control:(0,l.jsx)(i.Z,{checked:c,onChange:()=>d(e=>!e)}),label:e}),c,d]}},37266:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return misc_compass}});var l=n(85893),a=n(51233),i=n(53213),r=n(23972),s=n(67720),o=n(64885),c=n(67294),d=n(21480),p=n(30925),x=n(2962),u=n(52196),m=n(30509),h=n(66242),g=n(44267),j=n(94054),v=n(47312),f=n(18972),Z=n(62801),Compass_Upgrades=e=>{let{upgrades:t,dusts:n}=e,[o,d]=(0,c.useState)("default"),[x,u]=(0,Z.Z)("Hide maxed upgrades"),sortUpgrades=e=>{let t=[...e];return"cost"===o?t.sort((e,t)=>(e.cost||0)-(t.cost||0)):"type"===o?t.sort((e,t)=>(e.name||"").localeCompare(t.name||"")):e},renderUpgradeCard=(e,t,i)=>{let{name:o,cost:c,description:d,monsterProgress:x,level:m,x4:j,x3:v,baseIconIndex:f,index:Z,shapeIcon:w}=e;if(u&&m>=j||"Titan_doesnt_exist"===d)return null;let y=null!=Z?Z:t;return f&&(y=f+106),(0,l.jsx)(h.Z,{children:(0,l.jsxs)(g.Z,{sx:{display:"flex",flexDirection:"column",width:370,minHeight:250,height:"100%",opacity:m>0?1:.5},children:[(0,l.jsxs)(a.Z,{direction:"row",gap:2,flexWrap:"wrap",alignItems:"center",sx:{position:"relative"},children:[(0,l.jsx)("img",{style:{width:32,height:32,position:"absolute",left:0,top:0},src:"".concat(p.prefix,"data/").concat(w,".png")}),(0,l.jsx)("img",{style:{width:32,height:32,zIndex:1},src:"".concat(p.prefix,"data/CompassUpg").concat(y,".png")}),(0,l.jsxs)(r.Z,{children:[(0,p.cleanUnderscore)(o.replace(/[船般航舞製]/,"").replace("(Tap_for_more_info)","").replace("(#)",""))," (",m," / ",j,")"]})]}),(0,l.jsx)(s.Z,{sx:{my:1}}),(0,l.jsx)(r.Z,{children:(0,p.cleanUnderscore)(d.replace("$"," ".concat((0,p.cleanUnderscore)(x))).replace(".00",""))}),(0,l.jsx)(s.Z,{sx:{my:1}}),(0,l.jsxs)(a.Z,{direction:"row",gap:1,flexWrap:"wrap",alignItems:"center",children:[(0,l.jsx)("img",{style:{objectPosition:"0 -6px"},src:"".concat(p.prefix,"data/Dust").concat(i||v,"_x1.png")}),(0,l.jsxs)(r.Z,{children:["Cost: ",(0,p.notateNumber)((null==n?void 0:n[i||v])||0)," / ",(0,p.notateNumber)(c,"Big")]})]})]})},o+y)};return(0,l.jsxs)(a.Z,{direction:"column",gap:4,children:[(0,l.jsxs)(a.Z,{direction:"row",gap:2,flexWrap:"wrap",alignItems:"center",children:[(0,l.jsxs)(j.Z,{size:"small",sx:{width:200},children:[(0,l.jsx)(v.Z,{children:"Sort By"}),(0,l.jsxs)(i.Z,{value:o,label:"Sort By",onChange:e=>d(e.target.value),children:[(0,l.jsx)(f.Z,{value:"default",children:"Default"}),(0,l.jsx)(f.Z,{value:"type",children:"Type"})]})]}),(0,l.jsx)(x,{})]}),"type"===o?Object.entries(t.flatMap(e=>{let{list:t}=e;return t}).filter(e=>"Titan_doesnt_exist"!==e.description).reduce((e,t)=>(e[t.x3]||(e[t.x3]=[]),e[t.x3].push(t),e),{})).map(e=>{let[t,n]=e,i=n.toSorted((e,t)=>(e.cost||0)-(t.cost||0));return(0,l.jsxs)(a.Z,{direction:"column",gap:2,children:[(0,l.jsxs)(a.Z,{direction:"row",gap:2,flexWrap:"wrap",alignItems:"center",children:[(0,l.jsx)(r.Z,{variant:"h6",children:"Dust Type"}),(0,l.jsx)("img",{style:{objectPosition:"0 -6px"},src:"".concat(p.prefix,"data/Dust").concat(t,"_x1.png")})]}),(0,l.jsx)(a.Z,{direction:"row",gap:2,flexWrap:"wrap",alignItems:"center",children:i.map((e,n)=>renderUpgradeCard(e,n,t))})]},t)}):t.map(e=>{let{path:t,list:n}=e,i=sortUpgrades(n);return(0,l.jsxs)(a.Z,{direction:"column",gap:2,children:[(0,l.jsx)(r.Z,{variant:"h6",children:t}),(0,l.jsx)(a.Z,{direction:"row",gap:2,flexWrap:"wrap",alignItems:"center",children:i.map((e,t)=>renderUpgradeCard(e,t))})]},t)})]})},w=n(27709),Compass_Abominations=e=>{let{abominations:t}=e,[n,i]=(0,Z.Z)("Hide killed abominations"),[c,d]=(0,Z.Z)("Hide future abominations",!0);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(a.Z,{direction:"row",gap:2,flexWrap:"wrap",alignItems:"center",children:[(0,l.jsx)(o.Ye,{title:"",value:(0,l.jsx)(n,{})}),(0,l.jsx)(o.Ye,{title:"",value:(0,l.jsx)(c,{})})]}),(0,l.jsx)(a.Z,{direction:"row",gap:2,flexWrap:"wrap",alignItems:"center",children:null==t?void 0:t.map((e,t)=>{let{name:n,unlocked:o,weakness:c,hp:x,map:u,world:m}=e;return i&&o?null:(0,l.jsx)(h.Z,{children:(0,l.jsxs)(g.Z,{sx:{display:"flex",flexDirection:"column",width:370,minHeight:250,height:"100%",opacity:o>0?1:.5},children:[(0,l.jsxs)(a.Z,{direction:"row",gap:2,flexWrap:"wrap",alignItems:"center",sx:{position:"relative"},children:[!o&&(o||d)?(0,l.jsx)(w.Z,{sx:{width:32,height:32}}):(0,l.jsx)("img",{style:{width:32,height:32,zIndex:1},src:"".concat(p.prefix,"data/CompassUpg").concat(119+t,".png")}),(0,l.jsx)(r.Z,{children:(0,p.cleanUnderscore)(n)})]}),(0,l.jsx)(s.Z,{sx:{my:1}}),(0,l.jsxs)(a.Z,{direction:"row",gap:.5,flexWrap:"wrap",alignItems:"center",sx:{position:"relative"},children:[(0,l.jsxs)(r.Z,{children:["Weakness: ",(0,p.cleanUnderscore)(null==c?void 0:c.name)]}),(0,l.jsx)("img",{style:{width:24,height:24,zIndex:1},src:"".concat(p.prefix,"data/WWeffect").concat(null==c?void 0:c.index,".png")})]}),(0,l.jsxs)(r.Z,{children:["HP: ",(0,p.notateNumber)(x)]}),(0,l.jsxs)(r.Z,{children:["Map: ",(0,p.cleanUnderscore)(u)," (World: ",m,")"]})]})},n+t)})})]})},y=n(99758),b=n(2511),Compass_Medallions=e=>{let{medallions:t,totalAcquiredMedallions:n}=e,[i,c]=(0,Z.Z)("Hide coined monsters"),[d,x]=(0,Z.Z)("Show wind walker drops");return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(a.Z,{direction:"row",gap:2,flexWrap:"wrap",alignItems:"center",children:[(0,l.jsx)(o.Ye,{title:"Total medallions",value:"".concat(n," / ").concat(null==t?void 0:t.length)}),(0,l.jsx)(o.Ye,{title:"",value:(0,l.jsx)(i,{})}),(0,l.jsx)(o.Ye,{title:"",value:(0,l.jsx)(d,{}),tooltipTitle:"Grass Bow and Wind Ring don't drop due to a bug."})]}),(0,l.jsx)(a.Z,{direction:"row",gap:2,flexWrap:"wrap",alignItems:"center",children:null==t?void 0:t.map((e,t)=>{let{Name:n,rawName:i,acquired:o,MonsterFace:d,icon:u,description:m="",drops:j,weakness:v}=e;if(c&&o)return null;let f=u?"".concat(u,".png"):d?"data/Mface".concat(d,".png"):"afk_targets/".concat(n,".png");return(0,l.jsx)(h.Z,{children:(0,l.jsxs)(g.Z,{sx:{display:"flex",flexDirection:"column",width:300,minHeight:76,opacity:o>0?1:.5},children:[(0,l.jsxs)(a.Z,{direction:"row",gap:2,flexWrap:"wrap",alignItems:"center",sx:{position:"relative"},children:[(0,l.jsx)("img",{style:{width:41,height:41,objectFit:"contain"},onError:e=>{e.target.src="".concat(p.prefix,"afk_targets/").concat(n,".png")},src:"".concat(p.prefix).concat(f)}),(0,l.jsxs)(a.Z,{children:[(0,l.jsx)(r.Z,{children:(0,p.cleanUnderscore)(n)}),(0,l.jsx)(r.Z,{variant:"caption",children:m?"(".concat(m,")"):""})]}),o?(0,l.jsx)("img",{style:{width:41,height:41,marginLeft:"auto"},src:"".concat(p.prefix,"data/WWcoin.png")}):null]}),x?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.Z,{sx:{my:1}}),(0,l.jsxs)(a.Z,{sx:{width:"100%"},direction:"row",alignItems:"center",gap:2,children:[(null==j?void 0:j.length)>0?j.map((e,t)=>(0,l.jsx)(b.Z,{title:(0,l.jsx)(y.Z,{...e}),children:(0,l.jsx)("img",{style:{width:42,height:42},src:"".concat(p.prefix,"data/").concat(null==e?void 0:e.rawName,".png")})},i+"-drop-"+(null==e?void 0:e.rawName)+"-index-"+t)):(0,l.jsx)(w.Z,{sx:{width:42,height:42}}),(0,l.jsx)(w.Z,{sx:{ml:"auto"},children:(0,l.jsx)("img",{style:{width:24,height:24},src:"".concat(p.prefix,"data/WWeffect").concat(v,".png")})})]})]}):null]})},i+t)})})]})},Compass_Portals=e=>{let{maps:t}=e,[n,i]=(0,Z.Z)("Hide unlocked portals");return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(o.Ye,{title:"",value:(0,l.jsx)(n,{})}),(0,l.jsx)(a.Z,{direction:"row",gap:2,flexWrap:"wrap",alignItems:"center",children:null==t?void 0:t.map((e,t)=>{let{mapName:n,portals:o,monster:c,unlocked:d}=e;return i&&d?null:(0,l.jsx)(h.Z,{children:(0,l.jsxs)(g.Z,{sx:{display:"flex",flexDirection:"column",width:300},children:[(0,l.jsxs)(a.Z,{direction:"row",gap:2,flexWrap:"wrap",alignItems:"center",justifyContent:"space-between",sx:{position:"relative"},children:[(0,l.jsx)(r.Z,{children:(0,p.cleanUnderscore)(n)}),(0,l.jsx)("img",{style:{width:32,height:32,objectFit:"contain"},src:"".concat(p.prefix,"data/Mface").concat(c.MonsterFace,".png")})]}),(0,l.jsx)(s.Z,{sx:{my:1.5}}),(0,l.jsx)(a.Z,{direction:"row",alignItems:"center",gap:1,justifyContent:"space-between",children:o.map((e,t)=>{let{unlocked:i,costType:s,costQuantity:o}=e;return(0,l.jsxs)(a.Z,{children:[(0,l.jsxs)(r.Z,{sx:{opacity:i?1:.5},variant:"body1",children:["Portal ",t+1]}),(0,l.jsxs)(a.Z,{alignItems:"center",sx:{opacity:i?1:.5},children:[(0,l.jsx)("img",{style:{width:41,height:41,objectFit:"contain"},src:"".concat(p.prefix,"data/Dust").concat(s,"_x1.png")}),(0,l.jsx)(r.Z,{variant:"body2",children:(0,p.commaNotation)(o)})]})]},n+"portal"+t)})})]})},n+t)})})]})},I=n(74616),_=n(30796),misc_compass=()=>{var e,t;let{state:n}=(0,c.useContext)(d.I),{groupedUpgrades:h,abominations:g,dusts:j,medallions:v,maps:Z,usedExaltedStamps:w,remainingExaltedStamps:y,totalUpgradeLevels:b,totalDustsCollected:C,totalAcquiredMedallions:W}=(null==n?void 0:null===(e=n.account)||void 0===e?void 0:e.compass)||{},[N,Y]=(0,c.useState)(0),M=null==n?void 0:null===(t=n.characters)||void 0===t?void 0:t.filter(e=>(0,_.gW)(null==e?void 0:e.class,"Wind_Walker")),k=(0,c.useMemo)(()=>{var e;return(0,I.W_)(null==n?void 0:null===(e=n.characters)||void 0===e?void 0:e[N],null==n?void 0:n.account)},[N]);return(0,c.useEffect)(()=>{if(1===M.length){var e;Y(null==M?void 0:null===(e=M[0])||void 0===e?void 0:e.playerId)}},[]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(x.PB,{title:"Compass | Idleon Toolbox",description:"Keep track of your compass levels, upgrades and compass stats"}),(0,l.jsxs)(a.Z,{direction:"row",gap:{xs:1,md:3},flexWrap:"wrap",children:[M.length>1?(0,l.jsx)(o.Ye,{title:"Character",value:(0,l.jsx)(i.Z,{size:"small",value:N,onChange:e=>Y(e.target.value),children:null==M?void 0:M.map((e,t)=>(0,l.jsx)(f.Z,{value:null==e?void 0:e.playerId,selected:N===(null==e?void 0:e.playerId),children:(0,l.jsxs)(a.Z,{direction:"row",alignItems:"center",gap:2,children:[(0,l.jsx)("img",{src:"".concat(p.prefix,"data/ClassIcons").concat(null==e?void 0:e.classIndex,".png"),alt:"",width:32,height:32}),(0,l.jsx)(r.Z,{children:null==e?void 0:e.name})]})},(null==e?void 0:e.name)+t))})}):null,(0,l.jsx)(o.Ye,{title:"Total levels",value:b}),(0,l.jsx)(o.Ye,{title:"Extra Dust",value:"".concat((0,I.J3)(N,null==n?void 0:n.account),"%"),tooltipTitle:"Not including Spirit Reindeer kills"}),(0,l.jsx)(o.Ye,{title:"Total dust collected",value:(0,p.numberWithCommas)(C)}),(0,l.jsx)(o.Ye,{title:"Exalted stamps",icon:"etc/Exalted_Stamp_Frame.png",imgStyle:{width:40,height:40},value:"".concat(y," / ").concat(w+y)}),null==j?void 0:j.map((e,t)=>(0,l.jsx)(o.Ye,{value:(0,p.commaNotation)(e||"0"),title:"Dust ".concat(t+1),icon:"data/Dust".concat(t,"_x1.png"),imgStyle:{objectPosition:"0 -6px"}},t))]}),(0,l.jsx)(s.Z,{sx:{mb:3,mt:{xs:2,md:0}}}),(0,l.jsxs)(a.Z,{direction:"row",gap:{xs:1,md:3},flexWrap:"wrap",children:[(0,l.jsx)(o.Ye,{title:"Hp",value:(0,p.notateNumber)(null==k?void 0:k.hp,"MultiplierInfo").replace(".00","")}),(0,l.jsx)(o.Ye,{title:"Damage",value:(0,p.numberWithCommas)(null==k?void 0:k.damage.toFixed(2))}),(0,l.jsx)(o.Ye,{title:"Accuracy",value:(0,p.notateNumber)(null==k?void 0:k.accuracy,"MultiplierInfo").replace(".00","")}),(0,l.jsx)(o.Ye,{title:"Defence",value:(0,p.notateNumber)(null==k?void 0:k.defence,"MultiplierInfo").replace(".00","")}),(0,l.jsx)(o.Ye,{title:"Mastery",value:(0,p.notateNumber)(null==k?void 0:k.mastery,"MultiplierInfo").replace(".00","")}),(0,l.jsx)(o.Ye,{title:"Crit pct",value:(0,p.notateNumber)(null==k?void 0:k.critPct,"MultiplierInfo").replace(".00","")}),(0,l.jsx)(o.Ye,{title:"Crit damage",value:(0,p.notateNumber)(null==k?void 0:k.critDamage,"MultiplierInfo").replace(".00","")}),(0,l.jsx)(o.Ye,{title:"Attack speed",value:(0,p.notateNumber)(null==k?void 0:k.attackSpeed,"MultiplierInfo").replace(".00","")}),(0,l.jsx)(o.Ye,{title:"Invulnerable time",value:(0,p.notateNumber)(null==k?void 0:k.invulnerableTime,"MultiplierInfo").replace(".00","")}),(0,l.jsx)(o.Ye,{title:"Range",value:(0,p.notateNumber)(null==k?void 0:k.range,"MultiplierInfo").replace(".00","")}),(0,l.jsx)(o.Ye,{title:"Move speed",value:(0,p.notateNumber)(null==k?void 0:k.moveSpeed,"MultiplierInfo").replace(".00","")})]}),(0,l.jsx)(s.Z,{sx:{mb:3,mt:{xs:2,md:0}}}),(0,l.jsxs)(m.Z,{tabs:(0,p.getTabs)(u.q5.ACCOUNT.misc.categories,"compass"),children:[(0,l.jsx)(Compass_Upgrades,{upgrades:h,dusts:j}),(0,l.jsx)(Compass_Abominations,{abominations:g}),(0,l.jsx)(Compass_Medallions,{medallions:v,totalAcquiredMedallions:W}),(0,l.jsx)(Compass_Portals,{maps:Z})]})]})}}},function(e){e.O(0,[1423,9758,9774,2888,179],function(){return e(e.s=39789)}),_N_E=e.O()}]);