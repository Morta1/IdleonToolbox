!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="39e59894-273b-4be3-9d01-a0a64db98e6b",e._sentryDebugIdIdentifier="sentry-dbid-39e59894-273b-4be3-9d01-a0a64db98e6b")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6555],{52165:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/misc/quests",function(){return t(10437)}])},35433:function(e,n,t){"use strict";var l=t(82729),r=t(85893),i=t(65298),s=t(61599),a=t(23972),c=t(51233);function _templateObject(){let e=(0,l._)(["\n  width: 23px;\n  height: 27px;\n  object-fit: contain;\n"]);return _templateObject=function(){return e},e}let o=s.Z.img(_templateObject());n.Z=e=>{let{variant:n="vertical",centered:t=!0,style:l={},money:s,title:d="Total Money",maxCoins:u=5}=e;return(0,r.jsxs)("div",{style:l,"data-sentry-component":"CoinDisplay","data-sentry-source-file":"CoinDisplay.jsx",children:[d?(0,r.jsx)(a.Z,{style:{textAlign:t?"center":"left"},children:d}):null,(0,r.jsx)(c.Z,{flexWrap:"wrap",justifyContent:t?"center":"flex-start",direction:"row",gap:"vertical"===n?2.3:1,"data-sentry-element":"Stack","data-sentry-source-file":"CoinDisplay.jsx",children:null==s?void 0:s.map((e,t)=>{let[l,s]=e;return t<u&&Number(s)>=0?(0,r.jsxs)(c.Z,{direction:"vertical"===n?"column":"row",gap:"vertical"===n?0:.5,justifyContent:"center",alignItems:"center",children:[(0,r.jsx)(o,{src:"".concat(i.prefix,"data/Coins").concat(l,".png"),alt:""}),(0,r.jsx)(a.Z,{variant:"body1",component:"span",className:"coin-value",children:Number(s)})]},s+""+l):null})})]})}},10437:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return quests}});var l=t(85893),r=t(67294),i=t(74417),s=t(51233),a=t(591),c=t(47120),o=t(82729),d=t(6571),u=t(31008),p=t(70983),h=t(52260),x=t(27709),m=t(38895),v=t(23972),f=t(19529),g=t(69661),j=t(67358),b=t(22797),y=t(61599),_=t(36599),Z=t(36270),w=t(54123),C=t(9601),O=t(17494),N=t(51221),I=t(72162),W=t(74612),q=t(35433),Q=t(65298);function _templateObject(){let e=(0,o._)(["\n  width: 40px;\n  height: 40px;\n"]);return _templateObject=function(){return e},e}function _templateObject1(){let e=(0,o._)(["\n  width: 12px;\n  height: 12px;\n  background-color: ",";\n  border-radius: 50%;\n  border: 1px solid white;\n"]);return _templateObject1=function(){return e},e}function _templateObject2(){let e=(0,o._)(['\n  & .MuiCollapse-root .MuiList-root:not(:last-child):after {\n    content: "";\n    position: absolute;\n    bottom: -30px;\n    left: 20px;\n    height: 100%;\n    width: 2px;\n    background-color: #e6d1d1;\n  }\n\n  .MuiAccordionSummary-content {\n    display: flex;\n    align-items: center;\n\n    .npc-name {\n      margin-left: 10px;\n    }\n\n    & > img {\n      object-fit: contain;\n    }\n  }\n']);return _templateObject2=function(){return e},e}function _templateObject3(){let e=(0,o._)(["\n  && {\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n  }\n\n  .quest-name-wrapper {\n    display: flex;\n    align-items: center;\n    gap: 10px;\n  }\n\n  .characters {\n    display: flex;\n    align-items: center;\n  }\n\n  .npc-quests-wrapper {\n    .quest-name {\n    }\n  }\n"]);return _templateObject3=function(){return e},e}function _templateObject4(){let e=(0,o._)(["\n  width: 100%;\n  height: 53px;\n  object-fit: cover;\n  object-position: -20px;\n"]);return _templateObject4=function(){return e},e}let getExpType=e=>{switch(e){case 0:return"Class";case 1:return"Mining";case 2:return"Smithing";case 3:return"Choppin";case 4:return"Fishing";case 5:return"Alchemy";case 6:return"Catching";case 7:return"Trapping";case 8:return"Construction";case 9:return"Worship";default:return""}},QuestTooltip=e=>{let{rewards:n,itemReq:t,customArray:r}=e;return(0,l.jsxs)(s.Z,{gap:2,children:[(null==r?void 0:r.length)>0?(0,l.jsxs)(s.Z,{children:[(0,l.jsx)(v.Z,{variant:"h6",fontWeight:"bold",children:"Requirements"}),(0,l.jsx)(s.Z,{children:null==r?void 0:r.map((e,n)=>{let{desc:t,value:r}=e;return(0,l.jsxs)("div",{children:[(0,Q.cleanUnderscore)(t)," ",r]},t+""+n)})})]}):null,(null==t?void 0:t.length)>0?(0,l.jsxs)(s.Z,{children:[(0,l.jsx)(v.Z,{variant:"h6",fontWeight:"bold",children:"Item Requirements"}),(0,l.jsx)(s.Z,{direction:"row",gap:2,children:null==t?void 0:t.map((e,n)=>{let{name:t,rawName:r,amount:i}=e;return(0,l.jsxs)(s.Z,{alignItems:"center",justifyContent:"center",children:[(0,l.jsx)(S,{className:"item-img",src:"".concat(Q.prefix,"data/").concat(r,".png"),alt:""}),(0,l.jsx)(v.Z,{className:"amount",children:(0,Q.numberWithCommas)(i)})]},t+""+n)})})]}):null,(null==n?void 0:n.length)>0?(0,l.jsxs)(s.Z,{children:[(0,l.jsx)(v.Z,{variant:"h6",fontWeight:"bold",children:"Rewards"}),(0,l.jsx)(s.Z,{direction:"row",alignItems:"center",gap:2,children:null==n?void 0:n.map((e,n)=>{let t,r,{name:i,rawName:a,amount:c}=e;return a.includes("Experience")?(t="XP",r=getExpType(parseInt(null==a?void 0:a.replace("Experience","")))):t=a.includes("Talent")?"TalentBook1":a.includes("Recipes")?"SmithingRecipes".concat(a[a.length-1]):a,(0,l.jsx)("div",{className:"item-wrapper",title:(0,Q.cleanUnderscore)(i),children:"COIN"!==a?(0,l.jsxs)(s.Z,{justifyContent:"center",alignItems:"center",children:[(0,l.jsx)(S,{title:(0,Q.cleanUnderscore)(i||a),src:"".concat(Q.prefix,"data/").concat(t,".png"),alt:""}),r?(0,l.jsxs)(v.Z,{variant:"caption",children:[r," exp"]}):null,(0,l.jsx)(v.Z,{className:"amount",children:(0,Q.numberWithCommas)(c)})]}):(0,l.jsx)("div",{className:"coins",children:(0,l.jsx)(q.Z,{title:"",noShadow:!0,money:(0,Q.getCoinsArray)(c)})})},i+""+n)})})]}):null]})},S=y.Z.img(_templateObject()),E=y.Z.div(_templateObject1(),e=>{let{color:n}=e;return n}),k=(0,y.Z)(j.Z)(_templateObject2()),T=(0,y.Z)(b.Z)(_templateObject3()),M=y.Z.img(_templateObject4());var Misc_WorldQuest=e=>{var n;let{quests:t,characters:r,totalCharacters:i,worldName:a}=e,getQuestIndicator=e=>{switch(e){case 1:return(0,l.jsx)(p.Z,{style:{marginLeft:"auto",fontSize:24,color:"#23bb23"}});case 0:return(0,l.jsx)(u.Z,{alt:"",style:{marginLeft:"auto",width:24,height:24,fill:"#ff8d00"}});case -1:return(0,l.jsx)(h.Z,{style:{marginLeft:"auto",color:"#868484"}});default:return null}};return(0,l.jsxs)(x.Z,{sx:{width:{xs:350,sm:400}},children:[(0,l.jsx)(M,{src:"".concat(Q.prefix,"npcs/").concat(a,".png"),onError:e=>{e.target.src="".concat(Q.prefix,"data/Wb6.png"),e.target.style.width="auto"},alt:""}),null==t?void 0:null===(n=t[a])||void 0===n?void 0:n.map((e,n)=>{var t,a,c,o,u;let p;if((null==e?void 0:e.name)==="Picnic_Stowaway"){let n=null==e?void 0:null===(a=e.npcQuests)||void 0===a?void 0:a.find(e=>{let{Name:n}=e;return"Live-Action_Entertainment"===n});p=(null==n?void 0:null===(c=n.completed)||void 0===c?void 0:c.length)===i?1:0}else if((null==e?void 0:e.name)==="Scripticus"){let n=null==e?void 0:null===(o=e.npcQuests)||void 0===o?void 0:o.find(e=>{let{Name:n}=e;return"Champion_of_the_Grasslands"===n});p=(null==n?void 0:null===(u=n.completed)||void 0===u?void 0:u.length)===i?1:0}return(0,l.jsxs)(k,{TransitionProps:{unmountOnExit:!0},children:[(0,l.jsxs)(m.Z,{expandIcon:(0,l.jsx)(d.Z,{}),children:[(0,l.jsx)("img",{width:50,height:50,src:"".concat(Q.prefix,"npcs/").concat(null==e?void 0:e.name,".gif"),alt:""}),(0,l.jsx)("span",{className:"npc-name",children:(0,Q.cleanUnderscore)(null==e?void 0:e.name)}),getQuestIndicator(p||(null==e?void 0:e.questsStatus))]}),(0,l.jsx)(T,{children:(0,l.jsx)(_.Z,{sx:{m:0,p:0},children:null==e?void 0:null===(t=e.npcQuests)||void 0===t?void 0:t.map((t,a)=>{var c;let{Name:o,completed:d=[],progress:u=[]}=t;return(0,l.jsxs)(Z.Z,{children:[(0,l.jsx)(w.Z,{sx:{display:"none"}}),(0,l.jsxs)(C.Z,{children:[(0,l.jsx)(W.Z,{title:(0,l.jsx)(QuestTooltip,{...t,npcName:null==e?void 0:e.name}),children:(0,l.jsx)(O.Z,{sx:{width:15,height:15},color:(null==d?void 0:d.length)===i?"success":(null==d?void 0:d.length)===0&&0===u.length?"grey":"warning"})}),a<(null==e?void 0:null===(c=e.npcQuests)||void 0===c?void 0:c.length)-1?(0,l.jsx)(N.Z,{}):null]}),(0,l.jsxs)(I.Z,{children:[(0,l.jsx)(v.Z,{children:(0,Q.cleanUnderscore)(o)}),(null==u?void 0:u.length)>0?(0,l.jsx)(s.Z,{direction:"row",flexWrap:"wrap",gap:1,children:null==u?void 0:u.map(e=>{var n,t;let{charIndex:i,status:s}=e;return(0,l.jsx)(f.Z,{anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:(0,l.jsx)(E,{color:1===s?"#23bb23":-1===s?"#868484":"#ff8d00"}),children:(0,l.jsx)(W.Z,{title:"".concat(null==r?void 0:null===(n=r[i])||void 0===n?void 0:n.name," - ").concat(1===s?"Completed":-1===s?"Not yet unlocked":"In progress"),children:(0,l.jsx)(g.Z,{alt:"",src:"".concat(Q.prefix,"data/ClassIcons").concat(null===(t=r[i])||void 0===t?void 0:t.classIndex,".png")})})},i+""+a)})}):null]})]},(null==e?void 0:e.name)+""+n+a)})})})]},(null==e?void 0:e.name)+n)})]})},A=t(58437),D=t(2962),quests=()=>{var e;let{state:n}=(0,r.useContext)(A.I),[t,o]=(0,r.useState)(),[d,u]=(0,r.useState)([0]);(0,r.useEffect)(()=>{var e;if(!d)return;let t={};for(let[l,r]of Object.entries(null==n?void 0:null===(e=n.account)||void 0===e?void 0:e.quests))t[l]=r.map(e=>{let n,{npcQuests:t,...l}=e,r=structuredClone(t),i=0,s=0;for(let[e,n]of Object.entries(r)){let t=filterArrByCharacters(null==n?void 0:n.completed)||[],l=filterArrByCharacters(null==n?void 0:n.progress)||[];r[e]={...n,completed:t,progress:l},t.length===(null==d?void 0:d.length)?i++:t.length>0&&(i+=.5),l.some(e=>{let{charIndex:n,status:t}=e;return(null==d?void 0:d.indexOf(n))!==-1&&-1!==t})&&s++}return n=0===i?s>0?0:-1:i===(null==t?void 0:t.length)?1:0,{...l,npcQuests:r,questsStatus:n}});o(t)},[d,n]);let filterArrByCharacters=e=>null==e?void 0:e.filter(e=>{let{charIndex:n}=e;return(null==d?void 0:d.indexOf(n))!==-1});return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(D.PB,{title:"Quests | Idleon Toolbox",description:"Keep track of your characters' quests progression","data-sentry-element":"NextSeo","data-sentry-source-file":"quests.jsx"}),d?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(s.Z,{direction:"row",my:2,justifyContent:"center",flexWrap:"wrap",children:[(0,l.jsx)(a.Z,{size:"small",sx:{display:"flex",flexWrap:"wrap"},value:d,onChange:(e,n)=>{n.length&&u(n)},children:null==n?void 0:null===(e=n.characters)||void 0===e?void 0:e.map((e,n)=>(0,l.jsx)(c.Z,{title:null==e?void 0:e.name,value:n,children:(0,l.jsx)("img",{src:"".concat(Q.prefix,"data/ClassIcons").concat(null==e?void 0:e.classIndex,".png"),alt:""})},(null==e?void 0:e.name)+""+n))}),(0,l.jsx)(a.Z,{sx:{display:"flex",flexWrap:"wrap"},size:"small",children:(0,l.jsx)(c.Z,{onClick:()=>{var e,t;let l=(null==d?void 0:d.length)===(null==n?void 0:null===(e=n.characters)||void 0===e?void 0:e.length),r=Array.from(Array(l?1:null==n?void 0:null===(t=n.characters)||void 0===t?void 0:t.length).keys());u(r)},title:"Select all",value:"all",children:(0,l.jsx)(i.Z,{})})})]}),(0,l.jsxs)(s.Z,{direction:"row",justifyContent:"center",flexWrap:"wrap",gap:4,children:[(0,l.jsx)(Misc_WorldQuest,{quests:t,totalCharacters:null==d?void 0:d.length,characters:null==n?void 0:n.characters,worldName:"Blunder_Hills"}),(0,l.jsx)(Misc_WorldQuest,{quests:t,totalCharacters:null==d?void 0:d.length,characters:null==n?void 0:n.characters,worldName:"Yum-Yum_Desert"}),(0,l.jsx)(Misc_WorldQuest,{quests:t,totalCharacters:null==d?void 0:d.length,characters:null==n?void 0:n.characters,worldName:"Frostbite_Tundra"}),(0,l.jsx)(Misc_WorldQuest,{quests:t,totalCharacters:null==d?void 0:d.length,characters:null==n?void 0:n.characters,worldName:"Hyperion_Nebula"}),(0,l.jsx)(Misc_WorldQuest,{quests:t,totalCharacters:null==d?void 0:d.length,characters:null==n?void 0:n.characters,worldName:"Smolderin'_Plateau"}),(0,l.jsx)(Misc_WorldQuest,{quests:t,totalCharacters:null==d?void 0:d.length,characters:null==n?void 0:n.characters,worldName:"Spirited_Valley"})]})]}):null]})}}},function(e){e.O(0,[5191,2179,9731,9774,2888,179],function(){return e(e.s=52165)}),_N_E=e.O()}]);