(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3889],{43989:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/misc/storage",function(){return n(35471)}])},4843:function(e,t,n){"use strict";n.d(t,{C:function(){return ExpRateCard},E:function(){return CardWithBreakdown}});var l=n(85893),i=n(51233),o=n(23972),r=n(67720),a=n(30925),c=n(2511),s=n(64885),d=n(76947);n(67294);let ExpRateCard=e=>{var t;let{title:n,expRate:u}=e;return(0,l.jsx)(s.Ye,{title:n,children:(0,l.jsxs)(i.Z,{direction:"row",alignItems:"center",gap:1,children:[(0,l.jsxs)(o.Z,{children:[(0,a.commaNotation)(null==u?void 0:u.value)," / hr"]}),(0,l.jsx)(c.Z,{title:(0,l.jsx)(i.Z,{children:null==u?void 0:null===(t=u.breakdown)||void 0===t?void 0:t.map((e,t)=>{let{title:n,name:a,value:c}=e;return n?(0,l.jsxs)(i.Z,{children:[t>0?(0,l.jsx)(r.Z,{sx:{my:1}}):null,(0,l.jsx)(o.Z,{sx:{fontWeight:500},children:n}),(0,l.jsx)(r.Z,{sx:{my:1}})]},"".concat(n,"-").concat(t)):(0,l.jsx)(s.uQ,{title:a,titleStyle:{width:150},value:c.toFixed(2).replace(".00","")},"".concat(a,"-").concat(t))})}),children:(0,l.jsx)(d.Z,{size:18})})]})})},CardWithBreakdown=e=>{let{title:t,breakdown:n,value:u,notation:x,skipNotation:h}=e;return(0,l.jsx)(s.Ye,{title:t,children:(0,l.jsxs)(i.Z,{direction:"row",alignItems:"center",gap:1,children:[u?(0,l.jsx)(o.Z,{children:u}):null,n?(0,l.jsx)(c.Z,{title:(0,l.jsx)(i.Z,{children:null==n?void 0:n.map((e,t)=>{let{title:n,name:c,value:d}=e;return n?(0,l.jsxs)(i.Z,{children:[t>0?(0,l.jsx)(r.Z,{sx:{my:1}}):null,(0,l.jsx)(o.Z,{sx:{fontWeight:500},children:n}),(0,l.jsx)(r.Z,{sx:{my:1}})]},"".concat(n,"-").concat(t)):(0,l.jsx)(s.uQ,{title:c,titleStyle:{width:180},value:h?d:"MultiplierInfo"===x?(0,a.notateNumber)(d,x).replace(".00",""):x?(0,a.notateNumber)(d,x):d},"".concat(c,"-").concat(t))})}),children:(0,l.jsx)(d.Z,{size:18})}):null]})})}},30509:function(e,t,n){"use strict";var l=n(85893),i=n(67294),o=n(31002),r=n(29676),a=n(40044),c=n(30925),s=n(27709),d=n(11163);t.Z=e=>{var t;let{tabs:n,components:u,icons:x,children:h,onTabChange:v,forceScroll:j,orientation:p="horizontal",iconsOnly:g,queryKey:m="t",clearOnChange:Z=[],disableQuery:w=!1}=e,f=(0,o.Z)(e=>e.breakpoints.down("md"),{noSsr:!0}),b=(0,d.useRouter)(),[y,k]=(0,i.useState)(0),C=b.query[m],_=n.findIndex(e=>e===C),E=w?y:_>=0?_:0;(0,i.useEffect)(()=>{w||C||b.replace({pathname:b.pathname,query:{...b.query,[m]:n[E]}},void 0,{shallow:!0})},[C,m,n,E,b,w]);let I=Array.isArray(h)?h:[h];return(0,l.jsxs)(s.Z,{sx:"vertical"===p?{flexGrow:1,display:"flex"}:{},children:[(0,l.jsx)(r.Z,{centered:!j&&(!f||f&&n.length<4),scrollButtons:!0,allowScrollButtonsMobile:!0,sx:{marginBottom:3},variant:f&&n.length>=4||j?"scrollable":"standard",value:E,onChange:(e,t)=>{if(w)k(t);else{let e={...b.query,[m]:n[t]};Z.forEach(t=>delete e[t]),b.push({pathname:b.pathname,query:e},void 0,{shallow:!0})}v&&v(t)},children:null===(t=null!=u?u:n)||void 0===t?void 0:t.map((e,t)=>(0,l.jsx)(a.Z,{iconPosition:"start",icon:(null==x?void 0:x[t])?(0,l.jsx)("img",{src:"".concat(c.prefix).concat(null==x?void 0:x[t],".png")}):null,wrapped:!0,label:g?"":e,sx:{minWidth:62}},"".concat(null==e?void 0:e[t],"-").concat(t)))}),v?h:null==I?void 0:I.map((e,t)=>t===E?e:null)]})}},35471:function(e,t,n){"use strict";n.r(t);var l=n(82729),i=n(85893),o=n(21480),r=n(67294),a=n(66242),c=n(44267),s=n(51233),d=n(23972),u=n(50480),x=n(69368),h=n(30925),v=n(61599),j=n(2511),p=n(2962),g=n(25675),m=n.n(g),Z=n(99758),w=n(30509),f=n(52196),b=n(4843);function _templateObject(){let e=(0,l._)(["\n  height: 30px;\n  width: 30px;\n  object-fit: contain;\n"]);return _templateObject=function(){return e},e}v.Z.img(_templateObject()),t.default=()=>{var e,t,n,l,v,g,y,k,C;let{state:_}=(0,r.useContext)(o.I),[E,I]=(0,r.useState)(!1),[S,N]=(0,r.useState)(),[W,z]=(0,r.useState)(!1),A=(0,r.useMemo)(()=>{var e,t;return[...null==_?void 0:null===(t=_.account)||void 0===t?void 0:null===(e=t.storage)||void 0===e?void 0:e.list].sort((e,t)=>(null==t?void 0:t.amount)-(null==e?void 0:e.amount))},[_]);(0,r.useEffect)(()=>{var e,t,n,l;if(W){let n=(0,h.groupByKey)(null==_?void 0:null===(t=_.account)||void 0===t?void 0:null===(e=t.storage)||void 0===e?void 0:e.list,e=>{let{Type:t}=e;return t});E?N(Object.entries(n).reduce((e,t)=>{let[n,l]=t,i=[...l].sort((e,t)=>(null==t?void 0:t.amount)-(null==e?void 0:e.amount));return{...e,[n]:i}},{})):N(n)}else N(E?A:null==_?void 0:null===(l=_.account)||void 0===l?void 0:null===(n=l.storage)||void 0===n?void 0:n.list)},[_,W,E]);let renderItems=e=>e&&Array.isArray(e)?null==e?void 0:e.map((e,t)=>{let{name:n,rawName:l,amount:o}=e;return(0,i.jsx)(a.Z,{variant:"outlined",sx:{width:75},children:(0,i.jsx)(c.Z,{children:(0,i.jsx)(j.Z,{title:(0,i.jsx)(Z.Z,{...e,showAmount:!0}),children:(0,i.jsxs)(s.Z,{alignItems:"center","data-index":t,children:[(0,i.jsx)(m(),{loading:"lazy","data-index":t,width:30,height:30,style:{objectFit:"contain"},src:"".concat(h.prefix,"data/").concat(l,".png"),alt:l}),(0,i.jsx)(d.Z,{color:o>=1e7?"success.light":"",children:(0,h.notateNumber)(o,"Big")})]},"".concat(l,"-").concat(t))})})},"".concat(n,"-").concat(t))}):null;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(p.PB,{title:"Storage | Idleon Toolbox",description:"A list of your storage items"}),(0,i.jsxs)(w.Z,{tabs:(0,h.getTabs)(f.q5.ACCOUNT.misc.categories,"storage"),children:[(0,i.jsxs)(s.Z,{children:[(0,i.jsxs)(s.Z,{mb:3,direction:"row",flexWrap:"wrap",children:[(0,i.jsx)(u.Z,{control:(0,i.jsx)(x.Z,{name:"mini",checked:W,size:"small",onChange:()=>z(!W)}),label:"Group by type"}),(0,i.jsx)(u.Z,{control:(0,i.jsx)(x.Z,{checked:E,onChange:e=>{I(e.target.checked)}}),label:"Sort by stack size"})]}),W&&!Array.isArray(S)?(0,i.jsx)(s.Z,{gap:2,children:Object.entries(S||{}).map((e,t)=>{let[n,l]=e;return 0===l.length?null:(0,i.jsx)(a.Z,{children:(0,i.jsxs)(c.Z,{children:[(0,i.jsx)(d.Z,{children:(0,h.cleanUnderscore)(n).toLowerCase().capitalize()}),(0,i.jsx)(s.Z,{"data-index":t,children:(0,i.jsx)(s.Z,{direction:"row",flexWrap:"wrap",gap:1,children:renderItems(l)})},"".concat(n,"-").concat(t))]})},"".concat(n,"-").concat(t))})}):(0,i.jsx)(s.Z,{direction:"row",gap:1,flexWrap:"wrap",children:renderItems(S)})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(b.E,{title:"Slots Owned",value:"".concat(null==_?void 0:null===(n=_.account)||void 0===n?void 0:null===(t=n.storage)||void 0===t?void 0:null===(e=t.slots)||void 0===e?void 0:e.value),icon:"data/InvStorage1.png",breakdown:null==_?void 0:null===(g=_.account)||void 0===g?void 0:null===(v=g.storage)||void 0===v?void 0:null===(l=v.slots)||void 0===l?void 0:l.breakdown,skipNotation:!0}),(0,i.jsx)(s.Z,{direction:"row",flexWrap:"wrap",gap:2,children:null==_?void 0:null===(C=_.account)||void 0===C?void 0:null===(k=C.storage)||void 0===k?void 0:null===(y=k.storageChests)||void 0===y?void 0:y.map((e,t)=>{let{rawName:n,displayName:l,amount:o,capacity:r,unlocked:u}=e;return(0,i.jsx)(a.Z,{sx:{width:200,opacity:u?1:.5,cursor:"pointer"},onClick:()=>window.open("https://idleon.wiki/wiki/".concat(l),"_blank"),children:(0,i.jsxs)(c.Z,{children:[(0,i.jsx)(d.Z,{children:(0,h.cleanUnderscore)(l).toLowerCase().capitalize()}),(0,i.jsxs)(s.Z,{direction:"row",flexWrap:"wrap",gap:1,"data-index":t,alignItems:"center",children:[(0,i.jsx)(m(),{loading:"lazy","data-index":t,width:30,height:30,style:{objectFit:"contain"},src:"".concat(h.prefix,"data/").concat(n,".png"),alt:n}),(0,i.jsxs)(d.Z,{children:["+",o||r]})]})]})},n)})})]})]})]})}}},function(e){e.O(0,[5675,8635,9758,9774,2888,179],function(){return e(e.s=43989)}),_N_E=e.O()}]);