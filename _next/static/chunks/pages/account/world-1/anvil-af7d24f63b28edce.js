(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7339],{75079:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/world-1/anvil",function(){return t(21005)}])},89309:function(e,n,t){"use strict";var i=t(85893),r=t(27709),l=t(81458),a=t(23972);t(67294);var o=t(2511);n.Z=e=>{let{percent:n,bgColor:t,label:c=!0,sx:d,boxSx:s={},pre:u,tooltipTitle:h=""}=e;return(0,i.jsxs)(r.Z,{sx:{display:"flex",alignItems:"center",...s},children:[u,(0,i.jsx)(r.Z,{sx:{width:"100%",mr:c?1:0},children:(0,i.jsx)(o.Z,{title:h,children:(0,i.jsx)(l.Z,{sx:{width:"100%",height:10,borderRadius:5,"& .MuiLinearProgress-bar":{backgroundColor:t||""},...d},variant:"determinate",value:n>100?100:n})})}),c?(0,i.jsx)(r.Z,{children:(0,i.jsx)(a.Z,{variant:"body2",children:"".concat(Math.round(n),"%")})}):null]})}},57005:function(e,n,t){"use strict";var i=t(85893),r=t(67294),l=t(71924),a=t(33913),o=t(30925),c=t(23972);let d=(0,r.forwardRef)((e,n)=>{let{date:t,startDate:d,lastUpdated:s,stopAtZero:u,type:h,pause:v,staticTime:x,placeholder:m,loop:p,variant:j="inherit",...Z}=e,[g,f]=(0,r.useState)();(0,r.useEffect)(()=>{if(t){if(x){if(!isFinite(t))return;return f({...(0,o.getDuration)(new Date().getTime(),t)})}let e=new Date,n=e.getTime()-(null!=s?s:0),i=(0,a.Z)(t);f({...(0,o.getDuration)(null==e?void 0:e.getTime(),t+n*("countdown"===h?-1:1)),overtime:"countdown"===h&&i})}},[t,s]);let tickUp=()=>{let{days:e,hours:n,minutes:t,seconds:i}=g;60===(i+=1)&&(i=0,60===(t+=1)&&(t=0,24===(n+=1)&&(e+=1))),f({...g,days:e,hours:n,minutes:t,seconds:i})},tickDown=()=>{let{days:e,hours:n,minutes:t,seconds:i}=g;if(0===e&&0===n&&0===t&&0===i)return u?void 0:p?f({...(0,o.getDuration)(new Date().getTime(),d)}):void 0;-1==(i-=1)&&(i=59,-1==(t-=1)&&(t=59,-1==(n-=1)&&(n=0,e-=1))),f({...g,days:e,hours:n,minutes:t,seconds:i})};(0,l.Z)(()=>{if(!g)return null;"countdown"!==h||(null==g?void 0:g.overtime)?tickUp():tickDown()},v||x?null:1e3);let wrapNumber=e=>{if(!e)return"00";let n=String(e);return(null==n?void 0:n.length)===1?"0".concat(e):e};return g?((null==g?void 0:g.overtime)||v)&&m?(0,i.jsx)(c.Z,{...Z,ref:n,children:m}):(0,i.jsxs)(c.Z,{...Z,ref:n,variant:j,sx:{color:"".concat((null==g?void 0:g.overtime)&&!p?"#f91d1d":"")},component:"span",children:[(null==g?void 0:g.days)?wrapNumber(null==g?void 0:g.days)+"d:":"",wrapNumber(null==g?void 0:g.hours)+"h:",wrapNumber(null==g?void 0:g.minutes)+"m",(null==g?void 0:g.days)?"":":",(null==g?void 0:g.days)?"":wrapNumber(null==g?void 0:g.seconds)+"s"]}):null});n.Z=d},21005:function(e,n,t){"use strict";t.r(n);var i=t(82729),r=t(85893),l=t(67294),a=t(21480),o=t(51233),c=t(23972),d=t(66242),s=t(44267),u=t(19529),h=t(67720),v=t(30925),x=t(57005),m=t(61599),p=t(33739),j=t(2962),Z=t(2511),g=t(89309),f=t(76947);function _templateObject(){let e=(0,i._)(["\n  width: 42px;\n  height: 42px;\n"]);return _templateObject=function(){return e},e}let w=m.Z.img(_templateObject());n.default=()=>{let{state:e}=(0,l.useContext)(a.I),{anvil:n}=(null==e?void 0:e.account)||{},t=(0,l.useMemo)(()=>(0,p.J7)(null==e?void 0:e.account,null==e?void 0:e.characters),[null==e?void 0:e.account,null==e?void 0:e.characters]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(j.PB,{title:"Anvil | Idleon Toolbox",description:"Keep track of your characters anvil production"}),(0,r.jsxs)(o.Z,{direction:"row",alignItems:"baseline",gap:1,children:[(0,r.jsx)(c.Z,{variant:"h4",children:"Totals"}),(0,r.jsx)(c.Z,{variant:"caption",children:"per hour"})]}),(0,r.jsx)(o.Z,{direction:"row",gap:2,sx:{mt:2,mb:3},flexWrap:"wrap",children:Object.entries(t||{}).map((e,n)=>{let[t,i]=e;return(0,r.jsx)(d.Z,{children:(0,r.jsx)(Z.Z,{title:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(c.Z,{children:[(0,v.notateNumber)(24*i,"Big")," / day"]}),(0,r.jsx)(c.Z,{variant:"caption",children:"In case you're claiming before full"})]}),children:(0,r.jsx)(s.Z,{children:(0,r.jsxs)(o.Z,{alignItems:"center",gap:1,direction:"row",children:[(0,r.jsx)("img",{width:25,height:25,src:"".concat(v.prefix,"data/").concat(t,".png"),alt:""}),(0,r.jsx)(c.Z,{children:(0,v.notateNumber)(i,"Big")})]})})})},"total"+t+n)})}),(0,r.jsx)(o.Z,{gap:2,children:null==n?void 0:n.map((n,t)=>{var i,l,a,m,j,b,y,N,_,I,T,C,D;let M=null==e?void 0:null===(l=e.characters)||void 0===l?void 0:null===(i=l[t])||void 0===i?void 0:i.classIndex,k=null==e?void 0:null===(m=e.characters)||void 0===m?void 0:null===(a=m[t])||void 0===a?void 0:a.name,E=null==e?void 0:null===(y=e.characters)||void 0===y?void 0:null===(b=y[t].skillsInfo)||void 0===b?void 0:null===(j=b.smithing)||void 0===j?void 0:j.level,{stats:O,production:P}=(0,p.eW)(null==e?void 0:null===(N=e.characters)||void 0===N?void 0:N[t],null==e?void 0:e.characters,null==e?void 0:e.account),{availablePoints:U,pointsFromCoins:F,pointsFromMats:S}=O||{},A=null==e?void 0:null===(I=e.characters)||void 0===I?void 0:null===(_=I[t])||void 0===_?void 0:_.afkTime,B=null==e?void 0:null===(D=e.characters)||void 0===D?void 0:null===(C=D[t])||void 0===C?void 0:null===(T=C.equippedBubbles)||void 0===T?void 0:T.find(e=>{let{bubbleName:n}=e;return"HAMMER_HAMMER"===n}),H=null==P?void 0:P.filter(e=>{let{hammers:n}=e;return n>0}),R=null==H?void 0:H.reduce((e,n)=>{let{hammers:t}=n;return e+t},0),W=R>=(B?3:2)?H:(0,v.fillArrayToLength)(R,H);return(0,r.jsx)(d.Z,{sx:{width:{xs:"100%",lg:900}},children:(0,r.jsx)(s.Z,{children:(0,r.jsxs)(o.Z,{sx:{flexDirection:{xs:"column",md:"row"}},alignItems:"center",gap:2,children:[(0,r.jsxs)(o.Z,{sx:{width:175,flexDirection:{xs:"column",md:"row"}},alignItems:"center",gap:2,children:[(0,r.jsx)(o.Z,{alignItems:"center",justifyContent:"center",children:(0,r.jsx)("img",{className:"class-icon",src:"".concat(v.prefix,"data/ClassIcons").concat(M,".png"),alt:""})}),(0,r.jsxs)(o.Z,{children:[(0,r.jsx)(c.Z,{"data-cy":"player-name-".concat(k),className:"character-name",children:k}),(0,r.jsxs)(c.Z,{variant:"caption",children:["Smithing lv. ",E]}),(0,r.jsxs)(c.Z,{variant:"caption",color:0===U?"":U>0?"error.light":"secondary",children:["Points ",F+S-U+E," / ",F+S+E]})]})]}),(0,r.jsx)(o.Z,{sx:{justifyContent:{xs:"center",md:"flex-start"}},direction:"row",alignItems:"center",flexWrap:"wrap",gap:3,children:null==W?void 0:W.map((n,t)=>{let{rawName:i,hammers:l,currentAmount:a,currentProgress:m,requiredAmount:j,currentXP:b,displayName:y,exp:N}=n,_=(new Date().getTime()-A)/1e3,I=Math.min(Math.round(a+(m+_*(null==O?void 0:O.anvilSpeed)/3600)/j*(null!=l?l:0)),null==O?void 0:O.anvilCapacity),T=(m+24*O.anvilSpeed)/j*l,C=Math.round(I/(null==O?void 0:O.anvilCapacity)*100),D=(0,p.MH)({...n,stats:O,afkTime:A}),M=(0,p.MH)({...n,stats:O,afkTime:A,currentAmount:0,currentProgress:0,fromZero:!0});return(0,r.jsx)(d.Z,{elevation:5,sx:{boxShadow:l>0?"inherit":"0px 0px 5px #ff0707"},children:(0,r.jsx)(s.Z,{children:l>0?(0,r.jsxs)(o.Z,{direction:"row",gap:1,children:[(0,r.jsx)(u.Z,{anchorOrigin:{vertical:"top",horizontal:"left"},color:"secondary",variant:"standard",badgeContent:l>1?l:0,children:(0,r.jsx)(w,{src:"".concat(v.prefix,"data/").concat(i,".png"),alt:""})}),(0,r.jsxs)(o.Z,{justifyContent:"flex-start",children:[(0,r.jsxs)(o.Z,{direction:"row",alignItems:"center",gap:2,children:[(0,r.jsx)(x.Z,{date:new Date().getTime()+1e3*D,type:"countdown",placeholder:(0,r.jsx)(c.Z,{component:"span",color:"error.light",children:"Full"}),lastUpdated:null==e?void 0:e.lastUpdated}),(0,r.jsx)(Z.Z,{title:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Z,{variant:"body1",children:(0,v.cleanUnderscore)(y)}),(0,r.jsx)(h.Z,{sx:{my:1}}),(0,r.jsx)(c.Z,{variant:"body2",children:"Time until max from zero:"}),(0,r.jsx)(x.Z,{date:new Date().getTime()+1e3*M,staticTime:!0,type:"countdown",placeholder:(0,r.jsx)(c.Z,{component:"span",color:"error.light",children:"Full"}),lastUpdated:null==e?void 0:e.lastUpdated}),(0,r.jsx)(h.Z,{sx:{my:1}}),(0,r.jsxs)(c.Z,{variant:"body2",children:["Income: ",(0,v.notateNumber)(T)," / day"]}),(0,r.jsx)(h.Z,{sx:{my:1}}),(0,r.jsxs)(c.Z,{variant:"body2",children:["Exp per craft: ",(0,v.numberWithCommas)(N)]})]}),children:(0,r.jsx)(f.Z,{size:16})})]}),(0,r.jsxs)(c.Z,{variant:"body2",children:["Exp: ",(0,v.notateNumber)(b,"Big")]}),(0,r.jsxs)(c.Z,{mb:.5,variant:"body2",children:["Cap: ",(0,v.notateNumber)(I)," / ",(0,v.notateNumber)(null==O?void 0:O.anvilCapacity)]}),(0,r.jsx)(g.Z,{percent:C,label:!1})]})]}):(0,r.jsx)(o.Z,{sx:{width:90,height:65},alignItems:"center",justifyContent:"center",children:(0,r.jsx)(c.Z,{variant:"caption",children:"EMPTY"})})})},"".concat(i,"-").concat(t))})})]})})},"printer-row-".concat(t))})})]})}}},function(e){e.O(0,[6434,9774,2888,179],function(){return e(e.s=75079)}),_N_E=e.O()}]);