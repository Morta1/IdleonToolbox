(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7339],{75079:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/world-1/anvil",function(){return t(21005)}])},89309:function(e,n,t){"use strict";var i=t(85893),l=t(27709),r=t(81458),a=t(23972);t(67294);var o=t(2511);n.Z=e=>{let{percent:n,bgColor:t,label:c=!0,sx:d,boxSx:s={},pre:u,tooltipTitle:h=""}=e;return(0,i.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",...s},children:[u,(0,i.jsx)(l.Z,{sx:{width:"100%",mr:c?1:0},children:(0,i.jsx)(o.Z,{title:h,children:(0,i.jsx)(r.Z,{sx:{width:"100%",height:10,borderRadius:5,"& .MuiLinearProgress-bar":{backgroundColor:t||""},...d},variant:"determinate",value:n>100?100:n})})}),c?(0,i.jsx)(l.Z,{children:(0,i.jsx)(a.Z,{variant:"body2",children:"".concat(Math.round(n),"%")})}):null]})}},57005:function(e,n,t){"use strict";var i=t(85893),l=t(67294),r=t(71924),a=t(33913),o=t(30925),c=t(23972);let d=(0,l.forwardRef)((e,n)=>{let{date:t,startDate:d,lastUpdated:s,stopAtZero:u,type:h,pause:v,staticTime:x,placeholder:p,loop:m,variant:j="inherit",...g}=e,[f,Z]=(0,l.useState)();(0,l.useEffect)(()=>{if(t){if(x){if(!isFinite(t))return;return Z({...(0,o.getDuration)(new Date().getTime(),t)})}let e=new Date,n=e.getTime()-(null!=s?s:0),i=(0,a.Z)(t);Z({...(0,o.getDuration)(null==e?void 0:e.getTime(),t+n*("countdown"===h?-1:1)),overtime:"countdown"===h&&i})}},[t,s]);let tickUp=()=>{let{days:e,hours:n,minutes:t,seconds:i}=f;60===(i+=1)&&(i=0,60===(t+=1)&&(t=0,24===(n+=1)&&(e+=1))),Z({...f,days:e,hours:n,minutes:t,seconds:i})},tickDown=()=>{let{days:e,hours:n,minutes:t,seconds:i}=f;if(0===e&&0===n&&0===t&&0===i)return u?void 0:m?Z({...(0,o.getDuration)(new Date().getTime(),d)}):void 0;-1==(i-=1)&&(i=59,-1==(t-=1)&&(t=59,-1==(n-=1)&&(n=0,e-=1))),Z({...f,days:e,hours:n,minutes:t,seconds:i})};(0,r.Z)(()=>{if(!f)return null;"countdown"!==h||(null==f?void 0:f.overtime)?tickUp():tickDown()},v||x?null:1e3);let wrapNumber=e=>{if(!e)return"00";let n=String(e);return(null==n?void 0:n.length)===1?"0".concat(e):e};return f?((null==f?void 0:f.overtime)||v)&&p?(0,i.jsx)(c.Z,{...g,ref:n,children:p}):(0,i.jsxs)(c.Z,{...g,ref:n,variant:j,sx:{color:"".concat((null==f?void 0:f.overtime)&&!m?"#f91d1d":"")},component:"span",children:[(null==f?void 0:f.days)?wrapNumber(null==f?void 0:f.days)+"d:":"",wrapNumber(null==f?void 0:f.hours)+"h:",wrapNumber(null==f?void 0:f.minutes)+"m",(null==f?void 0:f.days)?"":":",(null==f?void 0:f.days)?"":wrapNumber(null==f?void 0:f.seconds)+"s"]}):null});n.Z=d},21005:function(e,n,t){"use strict";t.r(n);var i=t(82729),l=t(85893),r=t(67294),a=t(21480),o=t(51233),c=t(23972),d=t(66242),s=t(44267),u=t(19529),h=t(30925),v=t(57005),x=t(61599),p=t(33739),m=t(2962),j=t(2511),g=t(89309);function _templateObject(){let e=(0,i._)(["\n  width: 42px;\n  height: 42px;\n"]);return _templateObject=function(){return e},e}let f=x.Z.img(_templateObject());n.default=()=>{let{state:e}=(0,r.useContext)(a.I),{anvil:n}=(null==e?void 0:e.account)||{},t=(0,r.useMemo)(()=>(0,p.J7)(null==e?void 0:e.account,null==e?void 0:e.characters),[null==e?void 0:e.account,null==e?void 0:e.characters]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(m.PB,{title:"Anvil | Idleon Toolbox",description:"Keep track of your characters anvil production"}),(0,l.jsxs)(o.Z,{direction:"row",alignItems:"baseline",gap:1,children:[(0,l.jsx)(c.Z,{variant:"h4",children:"Totals"}),(0,l.jsx)(c.Z,{variant:"caption",children:"per hour"})]}),(0,l.jsx)(o.Z,{direction:"row",gap:2,sx:{mt:2,mb:3},flexWrap:"wrap",children:Object.entries(t||{}).map((e,n)=>{let[t,i]=e;return(0,l.jsx)(d.Z,{children:(0,l.jsx)(j.Z,{title:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(c.Z,{children:[(0,h.notateNumber)(24*i,"Big")," / day"]}),(0,l.jsx)(c.Z,{variant:"caption",children:"In case you're claiming before full"})]}),children:(0,l.jsx)(s.Z,{children:(0,l.jsxs)(o.Z,{alignItems:"center",gap:1,direction:"row",children:[(0,l.jsx)("img",{width:25,height:25,src:"".concat(h.prefix,"data/").concat(t,".png"),alt:""}),(0,l.jsx)(c.Z,{children:(0,h.notateNumber)(i,"Big")})]})})})},"total"+t+n)})}),(0,l.jsx)(o.Z,{gap:2,children:null==n?void 0:n.map((n,t)=>{var i,r,a,x,m,Z,w,b,y,N,_,T,C;let I=null==e?void 0:null===(r=e.characters)||void 0===r?void 0:null===(i=r[t])||void 0===i?void 0:i.classIndex,M=null==e?void 0:null===(x=e.characters)||void 0===x?void 0:null===(a=x[t])||void 0===a?void 0:a.name,D=null==e?void 0:null===(w=e.characters)||void 0===w?void 0:null===(Z=w[t].skillsInfo)||void 0===Z?void 0:null===(m=Z.smithing)||void 0===m?void 0:m.level,{stats:k,production:E}=(0,p.eW)(null==e?void 0:null===(b=e.characters)||void 0===b?void 0:b[t],null==e?void 0:e.characters,null==e?void 0:e.account),{availablePoints:O,pointsFromCoins:P,pointsFromMats:F}=k||{},U=null==e?void 0:null===(N=e.characters)||void 0===N?void 0:null===(y=N[t])||void 0===y?void 0:y.afkTime,A=null==e?void 0:null===(C=e.characters)||void 0===C?void 0:null===(T=C[t])||void 0===T?void 0:null===(_=T.equippedBubbles)||void 0===_?void 0:_.find(e=>{let{bubbleName:n}=e;return"HAMMER_HAMMER"===n}),B=null==E?void 0:E.filter(e=>{let{hammers:n}=e;return n>0}),S=null==B?void 0:B.reduce((e,n)=>{let{hammers:t}=n;return e+t},0),H=S>=(A?3:2)?B:(0,h.fillArrayToLength)(S,B);return(0,l.jsx)(d.Z,{sx:{width:{xs:"100%",lg:700}},children:(0,l.jsx)(s.Z,{children:(0,l.jsxs)(o.Z,{sx:{flexDirection:{xs:"column",md:"row"}},alignItems:"center",gap:2,children:[(0,l.jsxs)(o.Z,{sx:{width:175,flexDirection:{xs:"column",md:"row"}},alignItems:"center",gap:2,children:[(0,l.jsx)(o.Z,{alignItems:"center",justifyContent:"center",children:(0,l.jsx)("img",{className:"class-icon",src:"".concat(h.prefix,"data/ClassIcons").concat(I,".png"),alt:""})}),(0,l.jsxs)(o.Z,{children:[(0,l.jsx)(c.Z,{"data-cy":"player-name-".concat(M),className:"character-name",children:M}),(0,l.jsxs)(c.Z,{variant:"caption",children:["Smithing lv. ",D]}),(0,l.jsxs)(c.Z,{variant:"caption",color:0===O?"":O>0?"error.light":"secondary",children:["Points ",P+F-O+D," / ",P+F+D]})]})]}),(0,l.jsx)(o.Z,{sx:{justifyContent:{xs:"center",md:"flex-start"}},direction:"row",alignItems:"center",flexWrap:"wrap",gap:3,children:null==H?void 0:H.map((n,t)=>{let{rawName:i,hammers:r,currentAmount:a,currentProgress:x,requiredAmount:m,currentXP:Z}=n,w=(new Date().getTime()-U)/1e3,b=Math.min(Math.round(a+(x+w*(null==k?void 0:k.anvilSpeed)/3600)/m*(null!=r?r:0)),null==k?void 0:k.anvilCapacity),y=Math.round(b/(null==k?void 0:k.anvilCapacity)*100),N=(0,p.MH)({...n,stats:k,afkTime:U}),_=(0,p.MH)({...n,stats:k,afkTime:U,currentAmount:0,currentProgress:0});return(0,l.jsx)(d.Z,{elevation:5,sx:{boxShadow:r>0?"inherit":"0px 0px 5px #ff0707"},children:(0,l.jsx)(j.Z,{title:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(c.Z,{children:"Max from zero"}),(0,l.jsx)(v.Z,{date:new Date().getTime()+1e3*_,staticTime:!0,type:"countdown",placeholder:(0,l.jsx)(c.Z,{color:"error.light",children:"Full"}),lastUpdated:null==e?void 0:e.lastUpdated})]}),children:(0,l.jsx)(s.Z,{children:r>0?(0,l.jsxs)(o.Z,{direction:"row",gap:1,children:[(0,l.jsx)(u.Z,{anchorOrigin:{vertical:"top",horizontal:"left"},color:"secondary",variant:"standard",badgeContent:r>1?r:0,children:(0,l.jsx)(f,{src:"".concat(h.prefix,"data/").concat(i,".png"),alt:""})}),(0,l.jsxs)(o.Z,{justifyContent:"flex-start",children:[(0,l.jsx)(v.Z,{date:new Date().getTime()+1e3*N,type:"countdown",placeholder:(0,l.jsx)(c.Z,{color:"error.light",children:"Full"}),lastUpdated:null==e?void 0:e.lastUpdated}),(0,l.jsxs)(c.Z,{variant:"body2",children:["Exp: ",(0,h.notateNumber)(Z,"Big")]}),(0,l.jsxs)(c.Z,{mb:.5,variant:"body2",children:["Cap: ",(0,h.notateNumber)(b)," / ",(0,h.notateNumber)(null==k?void 0:k.anvilCapacity)]}),(0,l.jsx)(g.Z,{percent:y,label:!1})]})]}):(0,l.jsx)(o.Z,{sx:{width:90,height:65},alignItems:"center",justifyContent:"center",children:(0,l.jsx)(c.Z,{variant:"caption",children:"EMPTY"})})})})},"".concat(i,"-").concat(t))})})]})})},"printer-row-".concat(t))})})]})}}},function(e){e.O(0,[9776,9774,2888,179],function(){return e(e.s=75079)}),_N_E=e.O()}]);