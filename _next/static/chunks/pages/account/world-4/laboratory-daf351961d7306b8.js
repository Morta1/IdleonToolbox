(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[462],{44287:function(e,n,t){"use strict";var l=t(67294);n.Z=e=>{let n=l.useRef({});return l.useEffect(()=>{n.current=e}),n.current}},88738:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/world-4/laboratory",function(){return t(14140)}])},1798:function(e,n,t){"use strict";var l=t(82729),i=t(85893),r=t(51233),o=t(66242),a=t(44267),c=t(23972),s=t(30925),d=t(2511),u=t(27709);t(67294);var h=t(61599);function _templateObject(){let e=(0,l._)(["\n"]);return _templateObject=function(){return e},e}let x=[5,10,15,25,35,50,75],p=h.Z.img(_templateObject()),ChipTooltip=e=>{let{name:n,bonus:t,baseVal:l}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.Z,{mb:1,fontWeight:"bold",variant:"h6",children:(0,s.cleanUnderscore)(n.toLowerCase().capitalize())}),(0,i.jsx)(c.Z,{children:(0,s.cleanUnderscore)(null==t?void 0:t.replace(/{/g,l))})]})};n.Z=e=>{let{playerChips:n,playerLabLevel:t,charactersPage:l}=e;return(0,i.jsx)(r.Z,{sx:{height:"fit-content",...l?{maxWidth:250}:{}},direction:"row",alignItems:"center",flexWrap:"wrap",justifyContent:"center",gap:3,children:null==n?void 0:n.map((e,n)=>{let l=t>=x[n];return(0,i.jsx)(o.Z,{variant:"outlined",children:(0,i.jsx)(a.Z,{children:(0,i.jsx)(r.Z,{justifyContent:"center",children:-1!==e?(0,i.jsx)(d.Z,{title:(0,i.jsx)(ChipTooltip,{...e}),children:(0,i.jsx)(p,{src:"".concat(s.prefix,"data/ConsoleChip").concat(null==e?void 0:e.index,".png"),alt:""})}):(0,i.jsx)(u.Z,{sx:{width:42,height:42,display:"flex",alignItems:"center"},children:l?"":"Lv. ".concat(null==x?void 0:x[n])})})})},"".concat(null==e?void 0:e.name,"-").concat(n))})})}},30509:function(e,n,t){"use strict";var l=t(85893),i=t(67294),r=t(31002),o=t(29676),a=t(40044),c=t(30925),s=t(27709),d=t(11163);n.Z=e=>{var n;let{tabs:t,components:u,icons:h,children:x,onTabChange:p,forceScroll:v,orientation:j="horizontal",iconsOnly:m,queryKey:g="t",clearOnChange:Z=[],disableQuery:f=!1}=e,b=(0,r.Z)(e=>e.breakpoints.down("md"),{noSsr:!0}),w=(0,d.useRouter)(),[y,C]=(0,i.useState)(0),_=w.query[g],I=t.findIndex(e=>e===_),T=f?y:I>=0?I:0;(0,i.useEffect)(()=>{f||_||w.replace({pathname:w.pathname,query:{...w.query,[g]:t[T]}},void 0,{shallow:!0})},[_,g,t,T,w,f]);let W=Array.isArray(x)?x:[x];return(0,l.jsxs)(s.Z,{sx:"vertical"===j?{flexGrow:1,display:"flex"}:{},children:[(0,l.jsx)(o.Z,{centered:!v&&(!b||b&&t.length<4),scrollButtons:!0,allowScrollButtonsMobile:!0,sx:{marginBottom:3},variant:b&&t.length>=4||v?"scrollable":"standard",value:T,onChange:(e,n)=>{if(f)C(n);else{let e={...w.query,[g]:t[n]};Z.forEach(n=>delete e[n]),w.push({pathname:w.pathname,query:e},void 0,{shallow:!0})}p&&p(n)},children:null===(n=null!=u?u:t)||void 0===n?void 0:n.map((e,n)=>(0,l.jsx)(a.Z,{iconPosition:"start",icon:(null==h?void 0:h[n])?(0,l.jsx)("img",{src:"".concat(c.prefix).concat(null==h?void 0:h[n],".png")}):null,wrapped:!0,label:m?"":e,sx:{minWidth:62}},"".concat(null==e?void 0:e[n],"-").concat(n)))}),p?x:null==W?void 0:W.map((e,n)=>n===T?e:null)]})}},14140:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return laboratory}});var l=t(85893),i=t(23972),r=t(67294),o=t(21480),a=t(82729),c=t(51233),s=t(66242),d=t(44267),u=t(30925),h=t(61599),x=t(2511),p=t(15893);function _templateObject(){let e=(0,a._)(["\n  width: 64px;\n"]);return _templateObject=function(){return e},e}function _templateObject1(){let e=(0,a._)(["\n  width: 64px;\n"]);return _templateObject1=function(){return e},e}let v=h.Z.img(_templateObject()),j=h.Z.img(_templateObject1()),BonusTooltip=e=>{let{name:n,description:t,bonusDesc:r,extraData:o}=e,a=o?null==t?void 0:t.replace(/\+[0-9]+%/,"+".concat(o,"%")):t;return a=r?a.replace(/{/,r):null==a?void 0:a.split("@_-_@")[0],(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i.Z,{my:1,fontWeight:"bold",variant:"h5",children:(0,u.cleanUnderscore)(n.toLowerCase().capitalize())}),(0,l.jsx)(i.Z,{children:(0,u.cleanUnderscore)(a)})]})},JewelTooltip=e=>{let{effect:n,bonus:t,name:r,multiplier:o=1}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i.Z,{mb:1,fontWeight:"bold",variant:"h5",children:(0,u.cleanUnderscore)(r.toLowerCase().capitalize())}),(0,l.jsx)(i.Z,{sx:{color:o>1?"multi":""},children:(0,u.cleanUnderscore)(null==n?void 0:n.replace(/}/g,t*o)).split("@")[0]})]})};var World4_Mainframe=e=>{let{characters:n,jewels:t,labBonuses:r,playersCords:o,divinity:a}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(c.Z,{my:4,direction:"row",flexWrap:"wrap",justifyContent:"center",gap:2,children:null==o?void 0:o.map((e,t)=>{var r,o,h,x;if(t>9)return null;let v=null==n?void 0:null===(r=n[t])||void 0===r?void 0:r.name,j=null==n?void 0:null===(o=n[t])||void 0===o?void 0:o.classIndex,m=(null==a?void 0:null===(h=a.linkedDeities)||void 0===h?void 0:h[t])===1||(0,p.Rp)(null==n?void 0:n[t],1),g=(null==n?void 0:null===(x=n[t])||void 0===x?void 0:x.afkTarget)==="Laboratory"||m;return g?(0,l.jsx)(s.Z,{sx:{width:200,border:(null==e?void 0:e.soupedUp)?"1px solid orange":""},variant:"outlined",children:(0,l.jsx)(d.Z,{children:(0,l.jsxs)(c.Z,{direction:"row",alignItems:"center",gap:2,sx:{position:"relative"},children:[m?(0,l.jsx)("img",{style:{position:"absolute",top:-16,right:-16},width:24,height:24,src:"".concat(u.prefix,"data/DivGod1.png"),alt:""}):null,(0,l.jsx)("img",{className:"class-icon",src:"".concat(u.prefix,"data/ClassIcons").concat(j,".png"),alt:""}),(0,l.jsxs)(c.Z,{children:[(0,l.jsx)(i.Z,{children:v}),(0,l.jsxs)(i.Z,{children:[null==e?void 0:e.lineWidth,"px"]}),(0,l.jsxs)(i.Z,{variant:"caption",children:["(",e.x,",",e.y,")"]})]})]})})},"".concat(e.x).concat(e.y,"-").concat(t)):null})}),(0,l.jsx)(c.Z,{direction:"row",justifyContent:"center",gap:2,flexWrap:"wrap",children:null==r?void 0:r.map((e,n)=>(0,l.jsx)(s.Z,{variant:"outlined",sx:{borderColor:(null==e?void 0:e.active)?"success.dark":""},children:(0,l.jsx)(d.Z,{children:(0,l.jsx)(x.Z,{title:(0,l.jsx)(BonusTooltip,{...e}),children:(0,l.jsx)(v,{src:"".concat(u.prefix,"data/LabBonus").concat(null==e?void 0:e.index,".png"),alt:""})})})},"bonus-".concat(null==e?void 0:e.name,"-").concat(n)))}),(0,l.jsx)(c.Z,{my:4,direction:"row",justifyContent:"center",gap:2,flexWrap:"wrap",children:null==t?void 0:t.map((e,n)=>(0,l.jsx)(s.Z,{variant:"outlined",sx:{borderColor:(null==e?void 0:e.active)?"success.dark":"",opacity:(null==e?void 0:e.acquired)?1:.3},children:(0,l.jsx)(d.Z,{children:(0,l.jsx)(x.Z,{title:(0,l.jsx)(JewelTooltip,{...e}),children:(0,l.jsx)(j,{style:{borderRadius:"50%"},src:"".concat(u.prefix,"data/").concat(null==e?void 0:e.rawName,".png"),alt:""})})})},"".concat(null==e?void 0:e.name,"-").concat(n)))})]})},m=t(1798);let ChipTooltip=e=>{let{name:n,bonus:t,baseVal:r}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i.Z,{mb:1,fontWeight:"bold",variant:"h6",children:(0,u.cleanUnderscore)(n.toLowerCase().capitalize())}),(0,l.jsx)(i.Z,{children:(0,u.cleanUnderscore)(null==t?void 0:t.replace(/{/g,r))})]})};var World4_Console=e=>{let{chips:n,playersChips:t,characters:r}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(c.Z,{gap:1,alignItems:"center",children:null==t?void 0:t.map((e,n)=>{var t,o,a,h,x,p;let v=null==r?void 0:null===(t=r[n])||void 0===t?void 0:t.name,j=null==r?void 0:null===(o=r[n])||void 0===o?void 0:o.classIndex,g=null!==(p=null==r?void 0:null===(x=r[n])||void 0===x?void 0:null===(h=x.skillsInfo)||void 0===h?void 0:null===(a=h.laboratory)||void 0===a?void 0:a.level)&&void 0!==p?p:0;return(0,l.jsx)(s.Z,{children:(0,l.jsx)(d.Z,{children:(0,l.jsxs)(c.Z,{direction:"row",alignItems:"center",gap:2,children:[(0,l.jsx)(c.Z,{sx:{width:150},direction:"row",alignItems:"center",gap:2,children:(0,l.jsxs)(c.Z,{alignItems:"flex-start",justifyContent:"center",children:[(0,l.jsx)("img",{width:32,src:"".concat(u.prefix,"data/ClassIcons").concat(j,".png"),alt:""}),(0,l.jsx)(i.Z,{variant:"body1",children:v}),(0,l.jsxs)(i.Z,{variant:"body2",children:["Lv. ",g]})]})}),(0,l.jsx)(m.Z,{playerLabLevel:g,playerChips:e})]})})},"player-".concat(n))})}),(0,l.jsx)(c.Z,{direction:"row",gap:3,justifyContent:"center",my:5,alignItems:"center",children:(0,l.jsx)(s.Z,{children:(0,l.jsx)(d.Z,{children:(0,l.jsx)(c.Z,{direction:"row",gap:2,justifyContent:"center",flexWrap:"wrap",children:null==n?void 0:n.map((e,n)=>(0,l.jsx)(s.Z,{variant:"outlined",children:(0,l.jsx)(d.Z,{children:(0,l.jsxs)(c.Z,{justifyContent:"center",alignItems:"center",children:[(0,l.jsx)(x.Z,{title:(0,l.jsx)(ChipTooltip,{...e}),children:(0,l.jsx)("img",{width:32,src:"".concat(u.prefix,"data/ConsoleChip").concat(n,".png"),alt:""})}),(null==e?void 0:e.repoAmount)>=0?(0,l.jsx)("div",{children:null==e?void 0:e.repoAmount}):null]})})},"".concat(null==e?void 0:e.name,"-").concat(n)))})})})})]})},g=t(2962),Z=t(30509),f=t(89260),b=t(31002),w=t(417),y=t(50135),C=t(94054),_=t(47312),I=t(53213),T=t(40929),W=t(61436),O=t(18972);function LabRotation_templateObject(){let e=(0,a._)(["\n  width: 32px;\n  height: 32px;\n  object-fit: contain;\n"]);return LabRotation_templateObject=function(){return e},e}let L=h.Z.img(LabRotation_templateObject());var World4_LabRotation=()=>{let{state:e}=(0,r.useContext)(o.I),n=(0,b.Z)(e=>e.breakpoints.down("sm"),{noSsr:!0}),[t,a]=(0,r.useState)([]),[h,v]=(0,r.useState)(10),[j,m]=(0,r.useState)(0),g=(0,r.useMemo)(()=>(0,f.GF)(null==e?void 0:e.account,h),[null==e?void 0:e.account,h]),Z=(0,r.useMemo)(()=>{var n,t,l,i;return[...null==e?void 0:null===(t=e.account)||void 0===t?void 0:null===(n=t.lab)||void 0===n?void 0:n.chips,...null==e?void 0:null===(i=e.account)||void 0===i?void 0:null===(l=i.lab)||void 0===l?void 0:l.jewels]},[null==e?void 0:e.account]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(c.Z,{sx:{mb:3},children:[(0,l.jsx)(w.Z,{size:"small",multiple:!0,limitTags:n?2:3,value:t,onChange:(e,n)=>a(n),disablePortal:!0,id:"combo-box-demo",options:Z,sx:{width:{xs:300,sm:700}},filterSelectedOptions:!0,getOptionLabel:e=>e?(0,u.cleanUnderscore)(null==e?void 0:e.name):"",renderOption:(e,n)=>{var t;return n?(0,r.createElement)(c.Z,{gap:2,...e,key:"option-"+(null==n?void 0:n.rawName),direction:"row",children:[(0,l.jsx)("img",{width:24,height:24,src:"".concat(u.prefix,"data/").concat(null==n?void 0:n.rawName,".png"),alt:""}),null==n?void 0:null===(t=n.name)||void 0===t?void 0:t.replace(/_/g," ")]}):(0,l.jsx)("span",{style:{height:0}},"empty"+(null==n?void 0:n.index))},renderInput:e=>(0,l.jsx)(y.Z,{...e,label:"Filter by jewel or chip"})}),(0,l.jsxs)(c.Z,{direction:"row",gap:1,children:[(0,l.jsxs)(C.Z,{sx:{mt:2},size:"small",children:[(0,l.jsx)(_.Z,{children:"Weeks"}),(0,l.jsxs)(I.Z,{label:"Weeks",sx:{width:{xs:100}},value:h,onChange:e=>v(e.target.value),children:[(0,l.jsx)(O.Z,{value:10,children:"10"}),(0,l.jsx)(O.Z,{value:20,children:"20"}),(0,l.jsx)(O.Z,{value:30,children:"30"}),(0,l.jsx)(O.Z,{value:40,children:"40"}),(0,l.jsx)(O.Z,{value:50,children:"50"})]})]}),(0,l.jsx)(y.Z,{onChange:e=>m(e.target.value),size:"small",sx:{mt:2,width:200},type:"number",label:"Chip count threshold",helperText:(0,l.jsx)(i.Z,{sx:{width:200},variant:"caption",children:"This will highlight the chip when your threshold is met"})})]})]}),(0,l.jsx)(c.Z,{gap:1,children:null==g?void 0:g.map((n,r)=>{let{items:o,date:a}=n;if(t.length>0){let e=null==o?void 0:o.some(e=>{let{name:n}=e;return t.map(e=>{let{name:n}=e;return n}).includes(n)});if(!e)return null}return(0,l.jsx)(s.Z,{sx:{width:"fit-content"},children:(0,l.jsx)(d.Z,{sx:{"&:last-child":{p:3}},children:(0,l.jsxs)(c.Z,{gap:2,flexWrap:"wrap",children:[(0,l.jsx)(i.Z,{sx:{textAlign:"center"},variant:"h6",children:(0,W.Z)(a)?(0,T.Z)(a,"dd/MM/yyyy HH:mm:ss"):null}),(0,l.jsx)(c.Z,{direction:"row",gap:1,flexWrap:"wrap",children:null==o?void 0:o.map((n,t)=>{var o;let{name:a,requirements:h=[],rawName:v,index:m,bonus:g,effect:Z,baseVal:f,acquired:b,amount:w}=n,y=(null==v?void 0:v.includes("Chip"))?g.replace(/{/g,f):Z.replace(/}/g,g),{currentRotation:C}=null==e?void 0:null===(o=e.account)||void 0===o?void 0:o.lab;return(0,l.jsx)(s.Z,{variant:"outlined",sx:{width:250,borderColor:b||w>j?"success.light":""},children:(0,l.jsx)(d.Z,{sx:{"&:last-child":{p:3}},children:(0,l.jsxs)(c.Z,{alignItems:"center",gap:2,children:[(0,l.jsxs)(c.Z,{children:[(0,l.jsx)(x.Z,{title:(0,u.cleanUnderscore)(y),children:(0,l.jsxs)(c.Z,{direction:"row",alignItems:"center",gap:1,children:[(0,l.jsx)(L,{src:"".concat(u.prefix,"data/").concat(v||"ConsoleChip".concat(m),".png"),alt:""}),(0,l.jsx)(i.Z,{children:(0,u.cleanUnderscore)(a)})]})}),0===r&&m===(null==C?void 0:C[t])?(0,l.jsx)(i.Z,{sx:{ml:"50px"},color:"error.light",children:"SOLD OUT"}):(0,l.jsx)("span",{children:"\xa0"})]}),(0,l.jsx)(c.Z,{direction:"row",gap:2,children:null==h?void 0:h.map((n,t)=>{let{name:r,rawName:o,amount:a}=n,s=(0,p.Z$)(r,o,null==e?void 0:e.account);return(0,l.jsxs)(c.Z,{alignItems:"center",gap:1,children:[(0,l.jsx)(x.Z,{title:(0,u.cleanUnderscore)(r),children:(0,l.jsx)(L,{src:"".concat(u.prefix,"data/").concat(o,".png"),alt:""})}),(0,l.jsx)(x.Z,{title:"".concat((0,u.notateNumber)(a)," / ").concat((0,u.notateNumber)(s)),children:(0,l.jsx)(i.Z,{color:a<s?"success.light":"error.light",children:(0,u.notateNumber)(a)})})]},"req-".concat(o,"-").concat(t))})})]})})},"items"+t)})})]},"rotation"+r)})},"rotation"+r)})})]})},k=t(52196),laboratory=()=>{var e;let{state:n}=(0,r.useContext)(o.I),{lab:t}=(null==n?void 0:n.account)||{};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(g.PB,{title:"Laboratory | Idleon Toolbox",description:"Keep track of your lab upgrades, lab connected players, chips and more"}),(0,l.jsx)(i.Z,{variant:"caption",component:"div",textAlign:"center",color:"warning.light",children:"* To ensure IT recognizes the connected buffs / jewels, you must position yourself closer to it. If you're too far away, nearing maximum distance, IT may fail to detect it."}),(0,l.jsx)(i.Z,{variant:"caption",component:"div",textAlign:"center",mb:3,color:"warning.light",children:"This will be fixed in the future"}),(0,l.jsxs)(Z.Z,{tabs:(0,u.getTabs)(k.q5.ACCOUNT["world 4"].categories,"laboratory"),children:[(0,l.jsx)(World4_Mainframe,{...t,characters:null==n?void 0:n.characters,divinity:null==n?void 0:null===(e=n.account)||void 0===e?void 0:e.divinity}),(0,l.jsx)(World4_Console,{...t,characters:null==n?void 0:n.characters}),(0,l.jsx)(World4_LabRotation,{})]})]})}}},function(e){e.O(0,[417,9774,2888,179],function(){return e(e.s=88738)}),_N_E=e.O()}]);