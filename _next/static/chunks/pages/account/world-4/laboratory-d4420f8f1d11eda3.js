(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[462],{71767:function(e,n,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/world-4/laboratory",function(){return l(48690)}])},75712:function(e,n,l){"use strict";var t=l(85893),i=l(67294),o=l(98396),r=l(11703),a=l(40044);n.Z=e=>{let{tabs:n,children:l,onTabChange:c}=e,[s,d]=(0,i.useState)(0),u=(0,o.Z)(e=>e.breakpoints.down("md"),{noSsr:!0}),x=Array.isArray(l)?l:[l];return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.Z,{centered:!u||u&&n.length<4,scrollButtons:!0,allowScrollButtonsMobile:!0,sx:{marginBottom:3},variant:u&&n.length>4?"scrollable":"standard",value:s,onChange:(e,n)=>{d(n),c&&c(n)},children:null==n?void 0:n.map((e,n)=>(0,t.jsx)(a.Z,{label:e},"".concat(e,"-").concat(n)))}),c?l:null==x?void 0:x.map((e,n)=>n===s?e:null)]})}},48690:function(e,n,l){"use strict";l.r(n),l.d(n,{default:function(){return laboratory}});var t=l(85893),i=l(15861),o=l(67294),r=l(51626),a=l(82729),c=l(51233),s=l(66242),d=l(44267),u=l(1356),x=l(61599),h=l(70478),v=l(43139);function _templateObject(){let e=(0,a._)(["\n  width: 64px;\n"]);return _templateObject=function(){return e},e}function _templateObject1(){let e=(0,a._)(["\n  width: 64px;\n"]);return _templateObject1=function(){return e},e}let p=x.Z.img(_templateObject()),j=x.Z.img(_templateObject1()),BonusTooltip=e=>{let{name:n,description:l,bonusDesc:o,extraData:r}=e,a=r?null==l?void 0:l.replace(/\+[0-9]+%/,"+".concat(r,"%")):l;return a=o?a.replace(/{/,o):null==a?void 0:a.split("@_-_@")[0],(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.Z,{my:1,fontWeight:"bold",variant:"h5",children:(0,u.cleanUnderscore)(n.toLowerCase().capitalize())}),(0,t.jsx)(i.Z,{children:(0,u.cleanUnderscore)(a)})]})},JewelTooltip=e=>{let{effect:n,bonus:l,name:o,multiplier:r=1}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.Z,{mb:1,fontWeight:"bold",variant:"h5",children:(0,u.cleanUnderscore)(o.toLowerCase().capitalize())}),(0,t.jsx)(i.Z,{sx:{color:r>1?"multi":""},children:(0,u.cleanUnderscore)(null==n?void 0:n.replace(/}/g,l*r)).split("@")[0]})]})};var World4_Mainframe=e=>{let{characters:n,jewels:l,labBonuses:o,playersCords:r,divinity:a}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.Z,{my:4,direction:"row",flexWrap:"wrap",justifyContent:"center",gap:2,children:null==r?void 0:r.map((e,l)=>{var o,r,x,h;if(l>9)return null;let p=null==n?void 0:null===(o=n[l])||void 0===o?void 0:o.name,j=null==n?void 0:null===(r=n[l])||void 0===r?void 0:r.classIndex,m=(null==n?void 0:null===(x=n[l])||void 0===x?void 0:x.afkTarget)==="Laboratory"||(null==a?void 0:null===(h=a.linkedDeities)||void 0===h?void 0:h[l])===1||(0,v.Rp)(null==n?void 0:n[l],1);return m?(0,t.jsx)(s.Z,{sx:{width:200},variant:"outlined",children:(0,t.jsx)(d.Z,{children:(0,t.jsxs)(c.Z,{direction:"row",alignItems:"center",gap:2,children:[(0,t.jsx)("img",{className:"class-icon",src:"".concat(u.prefix,"data/ClassIcons").concat(j,".png"),alt:""}),(0,t.jsxs)(c.Z,{children:[(0,t.jsx)(i.Z,{children:p}),(0,t.jsxs)(i.Z,{children:[null==e?void 0:e.lineWidth,"px"]}),(0,t.jsxs)(i.Z,{variant:"caption",children:["(",e.x,",",e.y,")"]})]})]})})},"".concat(e.x).concat(e.y,"-").concat(l)):null})}),(0,t.jsx)(c.Z,{direction:"row",justifyContent:"center",gap:2,flexWrap:"wrap",children:null==o?void 0:o.map((e,n)=>(0,t.jsx)(s.Z,{variant:"outlined",sx:{borderColor:(null==e?void 0:e.active)?"success.dark":""},children:(0,t.jsx)(d.Z,{children:(0,t.jsx)(h.Z,{title:(0,t.jsx)(BonusTooltip,{...e}),children:(0,t.jsx)(p,{src:"".concat(u.prefix,"data/LabBonus").concat(null==e?void 0:e.index,".png"),alt:""})})})},"bonus-".concat(null==e?void 0:e.name,"-").concat(n)))}),(0,t.jsx)(c.Z,{my:4,direction:"row",justifyContent:"center",gap:2,flexWrap:"wrap",children:null==l?void 0:l.map((e,n)=>(0,t.jsx)(s.Z,{variant:"outlined",sx:{borderColor:(null==e?void 0:e.active)?"success.dark":"",opacity:(null==e?void 0:e.acquired)?1:.3},children:(0,t.jsx)(d.Z,{children:(0,t.jsx)(h.Z,{title:(0,t.jsx)(JewelTooltip,{...e}),children:(0,t.jsx)(j,{style:{borderRadius:"50%"},src:"".concat(u.prefix,"data/").concat(null==e?void 0:e.rawName,".png"),alt:""})})})},"".concat(null==e?void 0:e.name,"-").concat(n)))})]})},m=l(87357);function Console_templateObject(){let e=(0,a._)(["\n"]);return Console_templateObject=function(){return e},e}let g=[5,10,15,25,35,50,75],Z=x.Z.img(Console_templateObject()),ChipTooltip=e=>{let{name:n,bonus:l,baseVal:o}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.Z,{mb:1,fontWeight:"bold",variant:"h6",children:(0,u.cleanUnderscore)(n.toLowerCase().capitalize())}),(0,t.jsx)(i.Z,{children:(0,u.cleanUnderscore)(null==l?void 0:l.replace(/{/g,o))})]})};var World4_Console=e=>{let{chips:n,playersChips:l,characters:o}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.Z,{gap:3,alignItems:"center",children:null==l?void 0:l.map((e,n)=>{var l,r,a,x,v,p;let j=null==o?void 0:null===(l=o[n])||void 0===l?void 0:l.name,b=null==o?void 0:null===(r=o[n])||void 0===r?void 0:r.classIndex,f=null!==(p=null==o?void 0:null===(v=o[n])||void 0===v?void 0:null===(x=v.skillsInfo)||void 0===x?void 0:null===(a=x.laboratory)||void 0===a?void 0:a.level)&&void 0!==p?p:0;return(0,t.jsx)(s.Z,{children:(0,t.jsx)(d.Z,{children:(0,t.jsxs)(c.Z,{direction:"row",alignItems:"center",gap:3,children:[(0,t.jsxs)(c.Z,{sx:{width:175,textAlign:"center"},direction:"row",alignItems:"center",gap:2,children:[(0,t.jsxs)(c.Z,{alignItems:"center",justifyContent:"center",children:[(0,t.jsx)("img",{className:"class-icon",src:"".concat(u.prefix,"data/ClassIcons").concat(b,".png"),alt:""}),(0,t.jsxs)(i.Z,{children:["Lv. ",f]})]}),(0,t.jsx)(i.Z,{className:"character-name",children:j})]}),(0,t.jsx)(c.Z,{direction:"row",alignItems:"center",flexWrap:"wrap",justifyContent:"center",gap:3,children:null==e?void 0:e.map((e,n)=>{let l=f>=g[n];return(0,t.jsx)(s.Z,{elevation:5,children:(0,t.jsx)(d.Z,{children:(0,t.jsx)(c.Z,{justifyContent:"center",children:-1!==e?(0,t.jsx)(h.Z,{title:(0,t.jsx)(ChipTooltip,{...e}),children:(0,t.jsx)(Z,{src:"".concat(u.prefix,"data/ConsoleChip").concat(null==e?void 0:e.index,".png"),alt:""})}):(0,t.jsx)(m.Z,{sx:{width:42,height:42,display:"flex",alignItems:"center"},children:l?"":"Lv. ".concat(null==g?void 0:g[n])})})})},"".concat(null==e?void 0:e.name,"-").concat(n))})})]})})},"player-".concat(n))})}),(0,t.jsx)(c.Z,{direction:"row",gap:3,justifyContent:"center",my:5,alignItems:"center",children:(0,t.jsx)(s.Z,{children:(0,t.jsx)(d.Z,{children:(0,t.jsx)(c.Z,{direction:"row",gap:2,justifyContent:"center",flexWrap:"wrap",children:null==n?void 0:n.map((e,n)=>(0,t.jsx)(s.Z,{elevation:5,children:(0,t.jsx)(d.Z,{children:(0,t.jsxs)(c.Z,{justifyContent:"center",alignItems:"center",children:[(0,t.jsx)(h.Z,{title:(0,t.jsx)(ChipTooltip,{...e}),children:(0,t.jsx)("img",{src:"".concat(u.prefix,"data/ConsoleChip").concat(n,".png"),alt:""})}),(null==e?void 0:e.repoAmount)>=0?(0,t.jsx)("div",{className:"amount",children:null==e?void 0:e.repoAmount}):null]})})},"".concat(null==e?void 0:e.name,"-").concat(n)))})})})})]})},b=l(2962),f=l(75712),w=l(66532),C=l(98396),y=l(417),_=l(61903),I=l(94054),O=l(47312),W=l(153),k=l(40929),L=l(61436),N=l(34500),T=l(18972);function LabRotation_templateObject(){let e=(0,a._)(["\n  width: 42px;\n  height: 42px;\n  object-fit: contain;\n"]);return LabRotation_templateObject=function(){return e},e}let U=x.Z.img(LabRotation_templateObject());var World4_LabRotation=()=>{let{state:e}=(0,o.useContext)(r.I),n=(0,C.Z)(e=>e.breakpoints.down("sm"),{noSsr:!0}),[l,a]=(0,o.useState)([]),[x,v]=(0,o.useState)(10),[p,j]=(0,o.useState)(0),m=(0,o.useMemo)(()=>(0,w.GF)(null==e?void 0:e.account,x),[null==e?void 0:e.account,x]),g=(0,o.useMemo)(()=>{var n,l,t,i;return[...null==e?void 0:null===(l=e.account)||void 0===l?void 0:null===(n=l.lab)||void 0===n?void 0:n.chips,...null==e?void 0:null===(i=e.account)||void 0===i?void 0:null===(t=i.lab)||void 0===t?void 0:t.jewels]},[null==e?void 0:e.account]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(c.Z,{sx:{mb:3},children:[(0,t.jsx)(y.Z,{size:"small",multiple:!0,limitTags:n?2:3,value:l,onChange:(e,n)=>a(n),disablePortal:!0,id:"combo-box-demo",options:g,sx:{width:{xs:300,sm:700}},filterSelectedOptions:!0,getOptionLabel:e=>e?(0,u.cleanUnderscore)(null==e?void 0:e.name):"",renderOption:(e,n)=>{var l;return n?(0,o.createElement)(c.Z,{gap:2,...e,key:"option-"+(null==n?void 0:n.rawName),direction:"row",children:[(0,t.jsx)("img",{width:24,height:24,src:"".concat(u.prefix,"data/").concat(null==n?void 0:n.rawName,".png"),alt:""}),null==n?void 0:null===(l=n.name)||void 0===l?void 0:l.replace(/_/g," ")]}):(0,t.jsx)("span",{style:{height:0}},"empty"+(null==n?void 0:n.index))},renderInput:e=>(0,t.jsx)(_.Z,{...e,label:"Filter by jewel or chip"})}),(0,t.jsxs)(c.Z,{direction:"row",gap:1,children:[(0,t.jsxs)(I.Z,{sx:{mt:2},size:"small",children:[(0,t.jsx)(O.Z,{children:"Weeks"}),(0,t.jsxs)(W.Z,{label:"Weeks",sx:{width:{xs:100}},value:x,onChange:e=>v(e.target.value),children:[(0,t.jsx)(T.Z,{value:10,children:"10"}),(0,t.jsx)(T.Z,{value:20,children:"20"}),(0,t.jsx)(T.Z,{value:30,children:"30"}),(0,t.jsx)(T.Z,{value:40,children:"40"}),(0,t.jsx)(T.Z,{value:50,children:"50"})]})]}),(0,t.jsx)(_.Z,{onChange:e=>j(e.target.value),size:"small",sx:{mt:2,width:200},type:"number",label:"Chip count threshold",helperText:(0,t.jsx)(i.Z,{sx:{width:200},variant:"caption",children:"This will highlight the chip when your threshold is met"})})]})]}),(0,t.jsx)(c.Z,{gap:2,children:null==m?void 0:m.map((n,o)=>{let{items:r,date:a}=n;if(l.length>0){let e=null==r?void 0:r.some(e=>{let{name:n}=e;return l.map(e=>{let{name:n}=e;return n}).includes(n)});if(!e)return null}return(0,t.jsx)(s.Z,{sx:{width:"fit-content"},children:(0,t.jsx)(d.Z,{sx:{"&:last-child":{p:3}},children:(0,t.jsxs)(c.Z,{gap:2,flexWrap:"wrap",children:[(0,t.jsx)(i.Z,{sx:{textAlign:"center"},variant:"h6",children:(0,L.Z)(a)?(0,k.Z)(a,"dd/MM/yyyy HH:mm:ss"):null}),(0,t.jsx)(c.Z,{direction:"row",gap:1,flexWrap:"wrap",children:null==r?void 0:r.map((n,l)=>{var r;let{name:a,requirements:x=[],rawName:v,index:j,bonus:m,effect:g,baseVal:Z,acquired:b,amount:f}=n,w=(null==v?void 0:v.includes("Chip"))?m.replace(/{/g,Z):g.replace(/}/g,m),{currentRotation:C}=null==e?void 0:null===(r=e.account)||void 0===r?void 0:r.lab;return(0,t.jsx)(s.Z,{variant:"outlined",sx:{width:250,borderColor:b||f>p?"success.light":""},children:(0,t.jsx)(d.Z,{sx:{"&:last-child":{p:3}},children:(0,t.jsxs)(c.Z,{alignItems:"center",gap:2,children:[(0,t.jsxs)(c.Z,{children:[(0,t.jsx)(h.Z,{title:(0,u.cleanUnderscore)(w),children:(0,t.jsxs)(c.Z,{direction:"row",alignItems:"center",gap:1,children:[(0,t.jsx)(U,{src:"".concat(u.prefix,"data/").concat(v||"ConsoleChip".concat(j),".png"),alt:""}),(0,t.jsx)(i.Z,{children:(0,u.cleanUnderscore)(a)})]})}),0===o&&j===(null==C?void 0:C[l])?(0,t.jsx)(i.Z,{sx:{ml:"50px"},color:"error.light",children:"SOLD OUT"}):(0,t.jsx)("span",{children:"\xa0"})]}),(0,t.jsx)(c.Z,{direction:"row",gap:2,children:null==x?void 0:x.map((n,l)=>{var o,r,a,s,d,x,v,p;let j,{name:m,rawName:g,amount:Z}=n;if(g.includes("Spice")){let n=null==e?void 0:null===(s=e.account)||void 0===s?void 0:null===(a=s.cooking)||void 0===a?void 0:null===(r=a.spices)||void 0===r?void 0:null===(o=r.available)||void 0===o?void 0:o.find(e=>{let{rawName:n}=e;return n===g});j=(null==n?void 0:n.amount)||0}else if(g.includes("CookingM")){let n=null==e?void 0:null===(v=e.account)||void 0===v?void 0:null===(x=v.cooking)||void 0===x?void 0:null===(d=x.meals)||void 0===d?void 0:d.find(e=>{let{name:n}=e;return n===m});j=(null==n?void 0:n.amount)||0}else j=(0,N.ju)(null==e?void 0:null===(p=e.account)||void 0===p?void 0:p.storage,g,!0,!0);return(0,t.jsxs)(c.Z,{alignItems:"center",gap:1,children:[(0,t.jsx)(h.Z,{title:(0,u.cleanUnderscore)(m),children:(0,t.jsx)(U,{src:"".concat(u.prefix,"data/").concat(g,".png"),alt:""})}),(0,t.jsx)(h.Z,{title:"".concat((0,u.notateNumber)(Z)," / ").concat((0,u.notateNumber)(j)),children:(0,t.jsx)(i.Z,{color:Z<j?"success.light":"error.light",children:(0,u.notateNumber)(Z)})})]},"req-".concat(g,"-").concat(l))})})]})})},"items"+l)})})]},"rotation"+o)})},"rotation"+o)})})]})},laboratory=()=>{var e;let{state:n}=(0,o.useContext)(r.I),{lab:l}=null==n?void 0:n.account;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(b.PB,{title:"Idleon Toolbox | Laboratory",description:"Keep track of your lab upgrades, lab connected players, chips and more"}),(0,t.jsx)(i.Z,{variant:"h2",textAlign:"center",mb:3,children:"Laboratory"}),(0,t.jsxs)(f.Z,{tabs:["Main frame","Console","Chips And Jewels Rotation"],children:[(0,t.jsx)(World4_Mainframe,{...l,characters:null==n?void 0:n.characters,divinity:null==n?void 0:null===(e=n.account)||void 0===e?void 0:e.divinity}),(0,t.jsx)(World4_Console,{...l,characters:null==n?void 0:n.characters}),(0,t.jsx)(World4_LabRotation,{})]})]})}}},function(e){e.O(0,[417,4306,5844,9774,2888,179],function(){return e(e.s=71767)}),_N_E=e.O()}]);