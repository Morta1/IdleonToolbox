!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="e05a1a84-0dd6-4eea-91c5-506ab9d0b93b",e._sentryDebugIdIdentifier="sentry-dbid-e05a1a84-0dd6-4eea-91c5-506ab9d0b93b")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3446],{40238:function(e,t,n){"use strict";var r=n(88169),i=n(85893);t.Z=(0,r.Z)((0,i.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info")},19529:function(e,t,n){"use strict";n.d(t,{Z:function(){return j}});var r=n(67294),i=n(90512),a=n(44287),l=n(94780),o=n(82963),Badge_useBadge=function(e){let{badgeContent:t,invisible:n=!1,max:r=99,showZero:i=!1}=e,l=(0,a.Z)({badgeContent:t,max:r}),o=n;!1!==n||0!==t||i||(o=!0);let{badgeContent:s,max:d=r}=o?l:e,c=s&&Number(s)>d?`${d}+`:s;return{badgeContent:s,invisible:o,max:d,displayValue:c}},s=n(90948),d=n(16694),c=n(40902),u=n(28628),m=n(98216),g=n(1588),p=n(34867);function getBadgeUtilityClass(e){return(0,p.ZP)("MuiBadge",e)}let v=(0,g.Z)("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]);var h=n(85893);let useUtilityClasses=e=>{let{color:t,anchorOrigin:n,invisible:r,overlap:i,variant:a,classes:o={}}=e,s={root:["root"],badge:["badge",a,r&&"invisible",`anchorOrigin${(0,m.Z)(n.vertical)}${(0,m.Z)(n.horizontal)}`,`anchorOrigin${(0,m.Z)(n.vertical)}${(0,m.Z)(n.horizontal)}${(0,m.Z)(i)}`,`overlap${(0,m.Z)(i)}`,"default"!==t&&`color${(0,m.Z)(t)}`]};return(0,l.Z)(s,getBadgeUtilityClass,o)},x=(0,s.ZP)("span",{name:"MuiBadge",slot:"Root",overridesResolver:(e,t)=>t.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),f=(0,s.ZP)("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.badge,t[n.variant],t[`anchorOrigin${(0,m.Z)(n.anchorOrigin.vertical)}${(0,m.Z)(n.anchorOrigin.horizontal)}${(0,m.Z)(n.overlap)}`],"default"!==n.color&&t[`color${(0,m.Z)(n.color)}`],n.invisible&&t.invisible]}})((0,d.Z)(({theme:e})=>({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(12),minWidth:20,lineHeight:1,padding:"0 6px",height:20,borderRadius:10,zIndex:1,transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.enteringScreen}),variants:[...Object.entries(e.palette).filter((0,c.Z)(["contrastText"])).map(([t])=>({props:{color:t},style:{backgroundColor:(e.vars||e).palette[t].main,color:(e.vars||e).palette[t].contrastText}})),{props:{variant:"dot"},style:{borderRadius:4,height:8,minWidth:8,padding:0}},{props:({ownerState:e})=>"top"===e.anchorOrigin.vertical&&"right"===e.anchorOrigin.horizontal&&"rectangular"===e.overlap,style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${v.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:e})=>"bottom"===e.anchorOrigin.vertical&&"right"===e.anchorOrigin.horizontal&&"rectangular"===e.overlap,style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${v.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:e})=>"top"===e.anchorOrigin.vertical&&"left"===e.anchorOrigin.horizontal&&"rectangular"===e.overlap,style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${v.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:e})=>"bottom"===e.anchorOrigin.vertical&&"left"===e.anchorOrigin.horizontal&&"rectangular"===e.overlap,style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${v.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:e})=>"top"===e.anchorOrigin.vertical&&"right"===e.anchorOrigin.horizontal&&"circular"===e.overlap,style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${v.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:e})=>"bottom"===e.anchorOrigin.vertical&&"right"===e.anchorOrigin.horizontal&&"circular"===e.overlap,style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${v.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:e})=>"top"===e.anchorOrigin.vertical&&"left"===e.anchorOrigin.horizontal&&"circular"===e.overlap,style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${v.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:e})=>"bottom"===e.anchorOrigin.vertical&&"left"===e.anchorOrigin.horizontal&&"circular"===e.overlap,style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${v.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.leavingScreen})}}]})));function getAnchorOrigin(e){return{vertical:e?.vertical??"top",horizontal:e?.horizontal??"right"}}let y=r.forwardRef(function(e,t){let n=(0,u.i)({props:e,name:"MuiBadge"}),{anchorOrigin:r,className:l,classes:s,component:d,components:c={},componentsProps:m={},children:g,overlap:p="rectangular",color:v="default",invisible:y=!1,max:j=99,badgeContent:b,slots:Z,slotProps:w,showZero:C=!1,variant:O="standard",...T}=n,{badgeContent:B,invisible:_,max:M,displayValue:S}=Badge_useBadge({max:j,invisible:y,badgeContent:b,showZero:C}),I=(0,a.Z)({anchorOrigin:getAnchorOrigin(r),color:v,overlap:p,variant:O,badgeContent:b}),k=_||null==B&&"dot"!==O,{color:N=v,overlap:R=p,anchorOrigin:D,variant:z=O}=k?I:n,W=getAnchorOrigin(D),A="dot"!==z?S:void 0,$={...n,badgeContent:B,invisible:k,max:M,displayValue:A,showZero:C,anchorOrigin:W,color:N,overlap:R,variant:z},U=useUtilityClasses($),P=Z?.root??c.Root??x,L=Z?.badge??c.Badge??f,V=w?.root??m.root,F=w?.badge??m.badge,q=(0,o.Z)({elementType:P,externalSlotProps:V,externalForwardedProps:T,additionalProps:{ref:t,as:d},ownerState:$,className:(0,i.Z)(V?.className,U.root,l)}),E=(0,o.Z)({elementType:L,externalSlotProps:F,ownerState:$,className:(0,i.Z)(U.badge,F?.className)});return(0,h.jsxs)(P,{...q,children:[g,(0,h.jsx)(L,{...E,children:A})]})});var j=y},44287:function(e,t,n){"use strict";var r=n(67294);t.Z=e=>{let t=r.useRef({});return r.useEffect(()=>{t.current=e}),t.current}},60552:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/world-3/buildings",function(){return n(45788)}])},53265:function(e,t,n){"use strict";var r=n(85893),i=n(67294),a=n(91169),l=n(33913),o=n(65298),s=n(23972);let d=(0,i.forwardRef)((e,t)=>{let{date:n,startDate:d,lastUpdated:c,stopAtZero:u,type:m,pause:g,staticTime:p,placeholder:v,loop:h,variant:x="inherit",...f}=e,[y,j]=(0,i.useState)();(0,i.useEffect)(()=>{if(n){if(p){if(!isFinite(n))return;return j({...(0,o.getDuration)(new Date().getTime(),n)})}let e=new Date,t=e.getTime()-(null!=c?c:0),r=(0,l.Z)(n);j({...(0,o.getDuration)(null==e?void 0:e.getTime(),n+t*("countdown"===m?-1:1)),overtime:"countdown"===m&&r})}},[n,c]);let tickUp=()=>{let{days:e,hours:t,minutes:n,seconds:r}=y;60===(r+=1)&&(r=0,60===(n+=1)&&(n=0,24===(t+=1)&&(e+=1))),j({...y,days:e,hours:t,minutes:n,seconds:r})},tickDown=()=>{let{days:e,hours:t,minutes:n,seconds:r}=y;if(0===e&&0===t&&0===n&&0===r)return u?void 0:h?j({...(0,o.getDuration)(new Date().getTime(),d)}):void 0;-1==(r-=1)&&(r=59,-1==(n-=1)&&(n=59,-1==(t-=1)&&(t=0,e-=1))),j({...y,days:e,hours:t,minutes:n,seconds:r})};(0,a.Z)(()=>{if(!y)return null;"countdown"!==m||(null==y?void 0:y.overtime)?tickUp():tickDown()},g||p?null:1e3);let wrapNumber=e=>{let t=String(e);return(null==t?void 0:t.length)===1?"0".concat(e):e};return y?((null==y?void 0:y.overtime)||g)&&v?(0,r.jsx)(s.Z,{...f,ref:t,children:v}):(0,r.jsxs)(s.Z,{...f,ref:t,variant:x,sx:{color:"".concat((null==y?void 0:y.overtime)&&!h?"#f91d1d":"")},component:"span",children:[(null==y?void 0:y.days)?wrapNumber(null==y?void 0:y.days)+"d:":"",wrapNumber(null==y?void 0:y.hours)+"h:",wrapNumber(null==y?void 0:y.minutes)+"m",(null==y?void 0:y.days)?"":":",(null==y?void 0:y.days)?"":wrapNumber(null==y?void 0:y.seconds)+"s"]}):null});t.Z=d},27496:function(e,t,n){"use strict";n.d(t,{Gr:function(){return MissingData},M5:function(){return h},Wd:function(){return PlayersList},Ye:function(){return CardTitleAndValue},iy:function(){return CardAndBorder},j8:function(){return x},tq:function(){return Breakdown},u3:function(){return TalentTooltip},uQ:function(){return TitleAndValue},wD:function(){return CenteredStack}});var r=n(82729),i=n(85893),a=n(67294),l=n(65298),o=n(51233),s=n(23972),d=n(19529),c=n(66242),u=n(44267),m=n(67720),g=n(61599),p=n(74612),v=n(9751);function _templateObject(){let e=(0,r._)(["\n  & .MuiBadge-badge {\n    background-color: #d5d5dc;\n    color: rgba(0, 0, 0, 0.87);\n  }\n"]);return _templateObject=function(){return e},e}function _templateObject1(){let e=(0,r._)(["\n  height: 20px;\n  object-fit: contain;\n"]);return _templateObject1=function(){return e},e}function _templateObject2(){let e=(0,r._)(["\n  width: 56px;\n  height: 72px;\n  object-fit: contain;\n  opacity: ",";\n"]);return _templateObject2=function(){return e},e}function _templateObject3(){let e=(0,r._)(["\n  position: absolute;\n  left: 50%;\n  top: -3px;\n  pointer-events: none;\n  transform: translateX(-50%);\n"]);return _templateObject3=function(){return e},e}let h=(0,a.forwardRef)((e,t)=>{let{stat:n,icon:r,img:a,title:d="",...c}=e;return(0,i.jsx)(p.Z,{title:d,children:(0,i.jsxs)(o.Z,{alignItems:"center",...c,ref:t,style:{position:"relative",width:"fit-content"},children:[(0,i.jsx)("img",{...a,src:"".concat(l.prefix,"data/").concat(r,".png"),alt:""}),(0,i.jsx)(s.Z,{variant:"body1",component:"span",children:n})]})})});h.displayName="IconWithText";let TitleAndValue=e=>{let{title:t,value:n,boldTitle:r,titleStyle:a={},valueStyle:l={}}=e;return(0,i.jsxs)(o.Z,{direction:"row",flexWrap:"wrap",alignItems:"center","data-sentry-element":"Stack","data-sentry-component":"TitleAndValue","data-sentry-source-file":"styles.jsx",children:[t?(0,i.jsxs)(s.Z,{sx:a,fontWeight:r?"bold":500,component:"span",children:[t,":\xa0"]}):null,(0,i.jsx)(s.Z,{fontSize:15,component:"span",sx:l,"data-sentry-element":"Typography","data-sentry-source-file":"styles.jsx",children:n})]})},x=(0,g.Z)(d.Z)(_templateObject()),CardAndBorder=e=>{let{cardName:t,stars:n,cardIndex:r,name:a,variant:o,rawName:s,amount:d,nextLevelReq:c}=e,u="cardSet"===o?"".concat(l.prefix,"data/").concat(s,".png"):"".concat(l.prefix,"data/2Cards").concat(r,".png");return(0,i.jsxs)(i.Fragment,{children:[n>0?(0,i.jsx)(j,{src:"".concat(l.prefix,"data/CardEquipBorder").concat(n,".png"),alt:""}):null,(0,i.jsx)(p.Z,{title:(0,i.jsx)(CardTooltip,{...e,cardName:"cardSet"===o?a:t,nextLevelReq:c,amount:d}),"data-sentry-element":"Tooltip","data-sentry-source-file":"styles.jsx",children:(0,i.jsx)(y,{isCardSet:"cardSet"===o,amount:d,src:u,alt:"","data-sentry-element":"CardIcon","data-sentry-source-file":"styles.jsx"})})]})},CardTooltip=e=>{let{displayName:t,effect:n,bonus:r,stars:a,showInfo:d,nextLevelReq:c,amount:u}=e,m=r;return d&&(m=(0,v.BZ)({bonus:r,stars:a})),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.Z,{fontWeight:"bold",variant:"h6","data-sentry-element":"Typography","data-sentry-source-file":"styles.jsx",children:(0,l.cleanUnderscore)(t)}),(0,i.jsx)(s.Z,{"data-sentry-element":"Typography","data-sentry-source-file":"styles.jsx",children:(0,l.cleanUnderscore)(n.replace("{",m))}),d?(0,i.jsx)(o.Z,{mt:1,direction:"row",gap:1,flexWrap:"wrap",children:[1,2,3,4,5,6].map((e,n)=>(0,i.jsxs)(o.Z,{alignItems:"center",justifyContent:"space-between",children:[0===n?(0,i.jsx)(s.Z,{children:"Base"}):(0,i.jsx)(f,{src:"".concat(l.prefix,"etc/Star").concat(n,".png"),alt:""}),(0,i.jsx)(s.Z,{children:r*(n+1)})]},"".concat(t,"-").concat(n)))}):null,u>=c?(0,i.jsxs)(o.Z,{children:["You've collected ",(0,l.numberWithCommas)(u)," cards"]}):c>0?(0,i.jsxs)(o.Z,{children:["Progress: ",(0,l.numberWithCommas)(u)," / ",(0,l.numberWithCommas)(c)]}):null]})},f=g.Z.img(_templateObject1()),y=g.Z.img(_templateObject2(),e=>{let{amount:t,isCardSet:n}=e;return t||n?1:.5}),j=g.Z.img(_templateObject3()),TalentTooltip=e=>{let{level:t,funcX:n,x1:r,x2:a,funcY:d,y1:c,y2:u,description:m,name:g,talentId:p}=e,v=t>0?(0,l.growth)(n,t,r,a):0,h=t>0?(0,l.growth)(d,t,c,u):0;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(o.Z,{direction:"row",alignItems:"center",gap:1,"data-sentry-element":"Stack","data-sentry-source-file":"styles.jsx",children:[(0,i.jsx)("img",{src:"".concat(l.prefix,"data/UISkillIcon").concat(p,".png"),alt:""}),(0,i.jsx)(s.Z,{fontWeight:"bold",variant:"h6","data-sentry-element":"Typography","data-sentry-source-file":"styles.jsx",children:(0,l.cleanUnderscore)(g)})]}),(0,i.jsx)(s.Z,{"data-sentry-element":"Typography","data-sentry-source-file":"styles.jsx",children:(0,l.cleanUnderscore)(m).replace("{",v).replace("}",h)})]})},PlayersList=e=>{let{players:t,characters:n}=e;return(0,i.jsx)(o.Z,{gap:1,direction:"row","data-sentry-element":"Stack","data-sentry-component":"PlayersList","data-sentry-source-file":"styles.jsx",children:t.map(e=>{var t,r;let{index:a}=e;return(0,i.jsx)(p.Z,{title:null==n?void 0:null===(t=n[a])||void 0===t?void 0:t.name,children:(0,i.jsx)("img",{style:{width:24,height:24},src:"".concat(l.prefix,"data/ClassIcons").concat(null==n?void 0:null===(r=n[a])||void 0===r?void 0:r.classIndex,".png"),alt:""})},name+"-head-"+a)})})},MissingData=e=>{let{name:t}=e;return(0,i.jsxs)(s.Z,{variant:"h3","data-sentry-element":"Typography","data-sentry-component":"MissingData","data-sentry-source-file":"styles.jsx",children:["Your account is missing data for ",t]})},CardTitleAndValue=e=>{let{variant:t,raised:n,cardSx:r,imgOnly:a,imgStyle:d,title:m,value:g,children:v,icon:h,tooltipTitle:x,stackProps:f,contentPadding:y}=e;return(0,i.jsx)(p.Z,{title:x||"","data-sentry-element":"Tooltip","data-sentry-component":"CardTitleAndValue","data-sentry-source-file":"styles.jsx",children:(0,i.jsx)(c.Z,{variant:t,raised:n,sx:{my:{xs:0,md:3},mb:{xs:2},width:"fit-content",...r},"data-sentry-element":"Card","data-sentry-source-file":"styles.jsx",children:(0,i.jsx)(u.Z,{sx:{"&:last-child":y?{p:y}:{}},"data-sentry-element":"CardContent","data-sentry-source-file":"styles.jsx",children:(0,i.jsxs)(o.Z,{sx:{display:f?"flex":"block",...f||{}},"data-sentry-element":"Stack","data-sentry-source-file":"styles.jsx",children:[m?(0,i.jsx)(s.Z,{sx:{fontSize:14},color:"text.secondary",gutterBottom:!0,component:"span",children:m}):null,g||a?h?(0,i.jsxs)(o.Z,{direction:"row",gap:2,alignItems:"center",children:[(0,i.jsx)("img",{style:{objectFit:"contain",...d},src:"".concat(l.prefix).concat(h),alt:""}),g?(0,i.jsx)(s.Z,{component:"div",children:g}):null]}):(0,i.jsx)(s.Z,{component:"div",children:g}):v]})})})})},Breakdown=e=>{let{breakdown:t,titleStyle:n={},notation:r="Big"}=e;return(0,i.jsx)(i.Fragment,{children:null==t?void 0:t.map((e,t)=>{let{name:a,value:o,title:d}=e;return d?(0,i.jsx)(s.Z,{sx:{fontWeight:500},children:d},"".concat(a,"-").concat(t)):a?(0,i.jsx)(TitleAndValue,{titleStyle:{width:120,...n},title:a,value:isNaN(o)?o:(0,l.notateNumber)(o,r)},"".concat(a,"-").concat(t)):(0,i.jsx)(m.Z,{sx:{my:1,bgcolor:"black"}},"".concat(a,"-").concat(t))})})},CenteredStack=e=>{let{direction:t="row",children:n}=e;return(0,i.jsx)(o.Z,{gap:1,direction:t,alignItems:"center","data-sentry-element":"Stack","data-sentry-component":"CenteredStack","data-sentry-source-file":"styles.jsx",children:n})}},45788:function(e,t,n){"use strict";n.r(t);var r=n(82729),i=n(85893),a=n(67294),l=n(58437),o=n(51233),s=n(23972),d=n(591),c=n(47120),u=n(66242),m=n(44267),g=n(67720),p=n(65298),v=n(61599),h=n(41508),x=n(2962),f=n(53265),y=n(8146),j=n(74612),b=n(27709),Z=n(27496),w=n(40238);function _templateObject(){let e=(0,r._)(["\n  width: 50px;\n  height: 50px;\n  object-fit: contain;\n"]);return _templateObject=function(){return e},e}function _templateObject1(){let e=(0,r._)(["\n  width: 35px;\n  height: 35px;\n  object-fit: contain;\n"]);return _templateObject1=function(){return e},e}let ReqItemsDisplay=e=>{let{title:t,isMaxed:n,items:r}=e;return n?null:(0,i.jsxs)(o.Z,{"data-sentry-element":"Stack","data-sentry-component":"ReqItemsDisplay","data-sentry-source-file":"buildings.jsx",children:[(0,i.jsx)(s.Z,{variant:"body2",color:"text.secondary","data-sentry-element":"Typography","data-sentry-source-file":"buildings.jsx",children:t}),(0,i.jsx)(o.Z,{direction:"row",gap:1,"data-sentry-element":"Stack","data-sentry-source-file":"buildings.jsx",children:null==r?void 0:r.map((e,t)=>{let{rawName:n,amount:r}=e;return(0,i.jsxs)(o.Z,{alignItems:"center",children:[(0,i.jsx)(O,{src:"".concat(p.prefix,"data/").concat(n,".png"),alt:""}),(0,i.jsx)(s.Z,{children:(0,p.notateNumber)(r,"Big")})]},"".concat(name,"-").concat(n,"-").concat(t))})})]})},C=v.Z.img(_templateObject()),O=v.Z.img(_templateObject1()),CardTitleAndValue=e=>{let{cardSx:t,title:n,value:r,children:a,breakdown:l}=e;return(0,i.jsx)(u.Z,{sx:{my:{xs:0,md:3},width:"fit-content",...t},"data-sentry-element":"Card","data-sentry-component":"CardTitleAndValue","data-sentry-source-file":"buildings.jsx",children:(0,i.jsxs)(m.Z,{"data-sentry-element":"CardContent","data-sentry-source-file":"buildings.jsx",children:[(0,i.jsx)(s.Z,{sx:{fontSize:14},color:"text.secondary",gutterBottom:!0,"data-sentry-element":"Typography","data-sentry-source-file":"buildings.jsx",children:n}),(0,i.jsxs)(o.Z,{direction:"row",gap:2,"data-sentry-element":"Stack","data-sentry-source-file":"buildings.jsx",children:[r?(0,i.jsx)(s.Z,{children:r}):a,l?(0,i.jsx)(j.Z,{title:(0,i.jsx)(o.Z,{children:null==l?void 0:l.map((e,t)=>{let{name:n,value:r}=e;return(0,i.jsx)(Z.uQ,{title:n,value:isNaN(r)?r:"".concat((0,p.notateNumber)(r,"MultiplierInfo").replace(".00",""),"x")},"".concat(n,"-").concat(t))})}),children:(0,i.jsx)(w.Z,{})}):null]})]})})};t.default=()=>{var e,t,n,r,v,w,O,T,B,_;let{state:M}=(0,a.useContext)(l.I),[S,I]=(0,a.useState)("order"),k=null==M?void 0:null===(t=M.account)||void 0===t?void 0:null===(e=t.construction)||void 0===e?void 0:e.totalBuildRate,N=(0,y._m)(null==M?void 0:M.account,"Nitrogen_-_Construction_Trimmer"),R=(0,a.useMemo)(()=>{var e,t,n;return null==M?void 0:null===(n=M.account)||void 0===n?void 0:null===(t=n.towers)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.find(e=>5===e.index)},[M]),getMaterialCosts=(e,t,n,r,i)=>e.map(e=>{let{rawName:a,name:l,amount:o}=e,s=Math.min(.1,.1*Math.floor((i.level+999)/1e3)),d=Math.max(0,i.level-1),c=Math.max(.2,1-(s+d*i.costInc[0]/100));return a.includes("Refinery")?{rawName:a,name:l,amount:Math.floor(c*o*(t+1))}:{rawName:a,name:l,amount:Math.floor(c*o*Math.pow(r+.03-(r+.03-1.05)*t/(n/2+t),t))}}),getMaterialCostsToMax=(e,t,n,r,i,a)=>{let l=[];for(let u=0;u<t;u++){var o,s,d,c;let[t,m]=getMaterialCosts(e,n+u,r,i,a);l[0]={...null!==(s=null==l?void 0:l[0])&&void 0!==s?s:t,amount:((null==l?void 0:null===(o=l[0])||void 0===o?void 0:o.amount)||0)+(null==t?void 0:t.amount)},m&&(l[1]={...null!==(c=null==l?void 0:l[1])&&void 0!==c?c:m,amount:((null==l?void 0:null===(d=l[1])||void 0===d?void 0:d.amount)||0)+(null==m?void 0:m.amount)})}return l},D=(0,a.useMemo)(()=>{var e,t,n;return null==M?void 0:null===(n=M.account)||void 0===n?void 0:null===(t=n.towers)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.map(e=>{var t,n,r,i,a,l,o,s,d,c,u,m,g;let{progress:p,level:v,maxLevel:x,bonusInc:f,itemReq:y,slot:j}=e,b=x,Z=getMaterialCosts(y,v,x,f,R),w=(0,h.ZX)(null==M?void 0:null===(t=M.account)||void 0===t?void 0:t.towers,v,f,null==e?void 0:e.index),C=null==M?void 0:null===(i=M.account)||void 0===i?void 0:null===(r=i.atoms)||void 0===r?void 0:null===(n=r.atoms)||void 0===n?void 0:n.find(e=>{let{name:t}=e;return"Carbon_-_Wizard_Maximizer"===t}),O=(0,h.Bt)(null==M?void 0:null===(l=M.account)||void 0===l?void 0:null===(a=l.towers)||void 0===a?void 0:a.totalLevels,x,null==C?void 0:C.level);x+=O;let T=(null==M?void 0:null===(d=M.account)||void 0===d?void 0:null===(s=d.lab.jewels)||void 0===s?void 0:null===(o=s.slice(3,7))||void 0===o?void 0:o.every(e=>{let{active:t}=e;return t}))?1:0,B=(null==M?void 0:null===(m=M.account)||void 0===m?void 0:null===(u=m.lab.jewels)||void 0===u?void 0:null===(c=u[3])||void 0===c?void 0:c.active)?1+T:0,_=B+(N?1:0),S=-1!==j&&j<_;if(S){let e=(new Date().getTime()-(null!==(g=null==M?void 0:M.lastUpdated)&&void 0!==g?g:0))/1e3;p+=(3+N/100)*(e/3600)*k}let I=(3+N/100)*k,D=(w-p)/I*36e5,z=(w-p)/k*36e5,W=x-v,A=getMaterialCostsToMax(y,W,v,b,f,R);return{...e,maxLevel:x,isMaxed:v===x,isSlotTrimmed:S,timeLeft:z,progress:p,buildCost:w,items:Z,itemsMax:A,trimmedSlotSpeed:I,trimmedTimeLeft:D}})},[null==M?void 0:M.account]),z=(0,a.useMemo)(()=>{if("order"===S)return D;if("time"===S){let e=structuredClone(D);return null==e?void 0:e.sort((e,t)=>{let n=(null==e?void 0:e.isSlotTrimmed)?null==e?void 0:e.trimmedTimeLeft:null==e?void 0:e.timeLeft,r=(null==t?void 0:t.isSlotTrimmed)?null==t?void 0:t.trimmedTimeLeft:null==t?void 0:t.timeLeft;return(null==e?void 0:e.isMaxed)?1:(null==t?void 0:t.isMaxed)?-1:n-r})}if("requirement"===S){let e=structuredClone(D);return null==e?void 0:e.sort((e,t)=>{if(null==e?void 0:e.isMaxed)return 1;if(null==t?void 0:t.isMaxed)return -1;let n=(null==e?void 0:e.buildCost)-(null==t?void 0:t.buildCost);if(0!==n)return n;{let n=(null==e?void 0:e.buildCost)-(null==e?void 0:e.progress),r=(null==t?void 0:t.buildCost)-(null==t?void 0:t.progress);return n-r}})}},[S,M]),getBorderColor=e=>{let{isSlotTrimmed:t,inProgress:n}=e;return t?"warning.light":n?"success.light":""};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(x.PB,{title:"Buildings | Idleon Toolbox",description:"Keep track of your towers levels, bonuses and required materials for upgrades","data-sentry-element":"NextSeo","data-sentry-source-file":"buildings.jsx"}),(0,i.jsxs)(o.Z,{direction:"row",alignItems:"center",gap:3,flexWrap:"wrap",mb:2,"data-sentry-element":"Stack","data-sentry-source-file":"buildings.jsx",children:[(0,i.jsxs)(b.Z,{"data-sentry-element":"Box","data-sentry-source-file":"buildings.jsx",children:[(0,i.jsx)(s.Z,{"data-sentry-element":"Typography","data-sentry-source-file":"buildings.jsx",children:"Sort by"}),(0,i.jsxs)(d.Z,{value:S,sx:{mb:2},exclusive:!0,onChange:(e,t)=>(null==t?void 0:t.length)>0&&I(t),"data-sentry-element":"ToggleButtonGroup","data-sentry-source-file":"buildings.jsx",children:[(0,i.jsx)(c.Z,{value:"order","data-sentry-element":"ToggleButton","data-sentry-source-file":"buildings.jsx",children:"Order"}),(0,i.jsx)(c.Z,{value:"time","data-sentry-element":"ToggleButton","data-sentry-source-file":"buildings.jsx",children:"Time left"}),(0,i.jsx)(c.Z,{value:"requirement","data-sentry-element":"ToggleButton","data-sentry-source-file":"buildings.jsx",children:"Build cost"})]})]}),(0,i.jsx)(CardTitleAndValue,{title:"Build Speed",value:(0,p.notateNumber)(k,"Big"),"data-sentry-element":"CardTitleAndValue","data-sentry-source-file":"buildings.jsx"}),(0,i.jsx)(CardTitleAndValue,{title:"Trimmed Build Speed",value:(0,p.notateNumber)((3+N/100)*k,"Big"),breakdown:[{name:"Base (jewel)",value:(null==M?void 0:null===(r=M.account)||void 0===r?void 0:null===(n=r.lab.jewels)||void 0===n?void 0:n[3])?Math.ceil((null==M?void 0:null===(O=M.account)||void 0===O?void 0:null===(w=O.lab.jewels)||void 0===w?void 0:null===(v=w[3])||void 0===v?void 0:v.bonus)*(null==M?void 0:null===(_=M.account)||void 0===_?void 0:null===(B=_.lab.jewels)||void 0===B?void 0:null===(T=B[3])||void 0===T?void 0:T.multiplier)):3},{name:"Atom",value:N/100}],"data-sentry-element":"CardTitleAndValue","data-sentry-source-file":"buildings.jsx"})]}),(0,i.jsx)(o.Z,{direction:"row",flexWrap:"wrap",gap:3,"data-sentry-element":"Stack","data-sentry-source-file":"buildings.jsx",children:null==z?void 0:z.map((e,t)=>{let{name:n,progress:r,level:a,maxLevel:l,inProgress:d,isSlotTrimmed:c,isMaxed:v,items:h,itemsMax:x,buildCost:y,timeLeft:b,trimmedTimeLeft:w}=e;return(0,i.jsx)(u.Z,{sx:{border:d||c?"1px solid":"",borderColor:getBorderColor(e),width:{xs:"100%",md:450},height:{md:165}},children:(0,i.jsx)(m.Z,{children:(0,i.jsxs)(o.Z,{direction:"row",justifyContent:"space-around",flexWrap:"wrap",children:[(0,i.jsxs)(o.Z,{alignItems:"center",sx:{textAlign:"center"},children:[(0,i.jsx)(s.Z,{children:(0,p.cleanUnderscore)(n)}),(0,i.jsx)(C,{src:"".concat(p.prefix,"data/ConTower").concat(null==e?void 0:e.index,".png"),alt:""}),(0,i.jsxs)(s.Z,{children:["Lv. ",a," / ",l]}),v?(0,i.jsx)(s.Z,{color:"success.light",children:"Maxed"}):(0,i.jsx)(j.Z,{title:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(s.Z,{children:["Progress: ",(0,p.numberWithCommas)(Math.floor(r))]}),(0,i.jsxs)(s.Z,{children:["Requirement: ",(0,p.numberWithCommas)(Math.floor(y))]})]}),children:(0,i.jsxs)(s.Z,{children:[(0,p.notateNumber)(r,"Big")," / ",(0,p.notateNumber)(y,"Big")]})})]}),v?null:(0,i.jsxs)(o.Z,{gap:1,divider:(0,i.jsx)(g.Z,{flexItem:!0}),children:[(0,i.jsxs)(o.Z,{children:[v?null:(0,i.jsx)(Z.uQ,{title:"Non-trimmed",value:(0,i.jsx)(f.Z,{type:"countdown",staticTime:!0,placeholder:"Ready!",date:new Date().getTime()+b,lastUpdated:null==M?void 0:M.lastUpdated})}),v?null:(0,i.jsx)(Z.uQ,{title:"Trimmed",value:(0,i.jsx)(f.Z,{type:"countdown",placeholder:"Ready!",staticTime:!0,date:new Date().getTime()+w,lastUpdated:null==M?void 0:M.lastUpdated})})]}),(0,i.jsxs)(o.Z,{direction:"row",divider:(0,i.jsx)(g.Z,{orientation:"vertical",flexItem:!0}),gap:2,children:[(0,i.jsx)(ReqItemsDisplay,{title:"Next",isMaxed:v,items:h}),(0,i.jsx)(ReqItemsDisplay,{title:"Max",isMaxed:v,items:x})]})]})]})})},"".concat(n,"-").concat(t))})})]})}}},function(e){e.O(0,[5191,9774,2888,179],function(){return e(e.s=60552)}),_N_E=e.O()}]);