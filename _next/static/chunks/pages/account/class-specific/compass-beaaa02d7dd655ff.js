(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3786],{86666:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/class-specific/compass",function(){return l(93784)}])},30509:function(e,t,l){"use strict";var n=l(85893),i=l(67294),a=l(31002),s=l(29676),r=l(40044),o=l(30925),c=l(27709),d=l(11163);t.Z=e=>{var t;let{tabs:l,components:x,icons:p,children:u,onTabChange:m,forceScroll:h,orientation:g="horizontal",iconsOnly:j,queryKey:v="t",clearOnChange:f=[],disableQuery:Z=!1}=e,w=(0,a.Z)(e=>e.breakpoints.down("md"),{noSsr:!0}),y=(0,d.useRouter)(),[b,C]=(0,i.useState)(0),I=y.query[v],_=l.findIndex(e=>e===I),W=Z?b:_>=0?_:0;(0,i.useEffect)(()=>{Z||I||y.replace({pathname:y.pathname,query:{...y.query,[v]:l[W]}},void 0,{shallow:!0})},[I,v,l,W,y,Z]);let N=Array.isArray(u)?u:[u];return(0,n.jsxs)(c.Z,{sx:"vertical"===g?{flexGrow:1,display:"flex"}:{},children:[(0,n.jsx)(s.Z,{centered:!h&&(!w||w&&l.length<4),scrollButtons:!0,allowScrollButtonsMobile:!0,sx:{marginBottom:3},variant:w&&l.length>=4||h?"scrollable":"standard",value:W,onChange:(e,t)=>{if(Z)C(t);else{let e={...y.query,[v]:l[t]};f.forEach(t=>delete e[t]),y.push({pathname:y.pathname,query:e},void 0,{shallow:!0})}m&&m(t)},children:null===(t=null!=x?x:l)||void 0===t?void 0:t.map((e,t)=>(0,n.jsx)(r.Z,{iconPosition:"start",icon:(null==p?void 0:p[t])?(0,n.jsx)("img",{src:"".concat(o.prefix).concat(null==p?void 0:p[t],".png")}):null,wrapped:!0,label:j?"":e,sx:{minWidth:62}},"".concat(null==e?void 0:e[t],"-").concat(t)))}),m?u:null==N?void 0:N.map((e,t)=>t===W?e:null)]})}},62801:function(e,t,l){"use strict";var n=l(85893),i=l(50480),a=l(69368),s=l(67294),r=l(7336);t.Z=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],[l,o]=(0,s.useState)(!0),[c,d]=(0,r.I)({key:"checkbox-".concat(e),defaultValue:t});return(0,s.useEffect)(()=>{o(!1)},[]),[()=>l?null:(0,n.jsx)(i.Z,{sx:{width:"fit-content"},control:(0,n.jsx)(a.Z,{checked:c,onChange:()=>d(e=>!e)}),label:e}),c,d]}},93784:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return class_specific_compass}});var n=l(85893),i=l(51233),a=l(53213),s=l(23972),r=l(67720),o=l(64885),c=l(67294),d=l(21480),x=l(30925),p=l(2962),u=l(52196),m=l(30509),h=l(66242),g=l(44267),j=l(94054),v=l(47312),f=l(18972),Z=l(50135),w=l(62801),Compass_Upgrades=e=>{let{upgrades:t,dusts:l}=e,[o,d]=(0,c.useState)("default"),[p,u]=(0,c.useState)(""),[m,y]=(0,w.Z)("Hide maxed upgrades"),sortUpgrades=e=>{let t=[...e];return"cost"===o?t.sort((e,t)=>(e.cost||0)-(t.cost||0)):"type"===o?t.sort((e,t)=>(e.name||"").localeCompare(t.name||"")):e},filterUpgrades=e=>p?e.filter(e=>e.description&&e.description.toLowerCase().includes(p.toLowerCase())):e,renderUpgradeCard=(e,t,a)=>{var o;let{name:c,cost:d,description:p,monsterProgress:u,level:m,x4:j,x3:v,baseIconIndex:f,index:Z,shapeIcon:w}=e;if(y&&m>=j||"Titan_doesnt_exist"===p)return null;let b=null!=Z?Z:t;return f&&(b=f+106),(0,n.jsx)(h.Z,{children:(0,n.jsxs)(g.Z,{sx:{display:"flex",flexDirection:"column",width:370,minHeight:250,height:"100%",opacity:m>0?1:.5},children:[(0,n.jsxs)(i.Z,{direction:"row",gap:2,flexWrap:"wrap",alignItems:"center",sx:{position:"relative"},children:[(0,n.jsx)("img",{style:{width:32,height:32,position:"absolute",left:0,top:0},src:"".concat(x.prefix,"data/").concat(w,".png")}),(0,n.jsx)("img",{style:{width:32,height:32,zIndex:1},src:"".concat(x.prefix,"data/CompassUpg").concat(b,".png")}),(0,n.jsxs)(s.Z,{children:[(0,x.cleanUnderscore)(c.replace(/[船般航舞製]/,"").replace("(Tap_for_more_info)","").replace("(#)",""))," (",m," / ",j,")"]})]}),(0,n.jsx)(r.Z,{sx:{my:1}}),(0,n.jsx)(s.Z,{children:(0,x.cleanUnderscore)(p.replace("$"," ".concat((0,x.cleanUnderscore)(u))).replace(".00",""))}),(0,n.jsx)(r.Z,{sx:{my:1}}),(0,n.jsxs)(i.Z,{direction:"row",gap:1,flexWrap:"wrap",alignItems:"center",children:[(0,n.jsx)("img",{style:{objectPosition:"0 -6px"},src:"".concat(x.prefix,"data/Dust").concat(a||v,"_x1.png")}),(0,n.jsxs)(s.Z,{children:["Cost: ",(0,x.notateNumber)((null==l?void 0:null===(o=l[a||v])||void 0===o?void 0:o.value)||0)," / ",(0,x.notateNumber)(d,"Big")]})]})]})},c+b)};return(0,n.jsxs)(i.Z,{direction:"column",gap:4,children:[(0,n.jsxs)(i.Z,{direction:"row",gap:2,flexWrap:"wrap",alignItems:"center",children:[(0,n.jsxs)(j.Z,{size:"small",sx:{width:200},children:[(0,n.jsx)(v.Z,{children:"Sort By"}),(0,n.jsxs)(a.Z,{value:o,label:"Sort By",onChange:e=>d(e.target.value),children:[(0,n.jsx)(f.Z,{value:"default",children:"Default"}),(0,n.jsx)(f.Z,{value:"type",children:"Type"})]})]}),(0,n.jsx)(Z.Z,{size:"small",label:"Search by description",value:p,onChange:e=>u(e.target.value),sx:{width:250}}),(0,n.jsx)(m,{})]}),"type"===o?Object.entries(t.flatMap(e=>{let{list:t}=e;return t}).filter(e=>"Titan_doesnt_exist"!==e.description).reduce((e,t)=>(e[t.x3]||(e[t.x3]=[]),e[t.x3].push(t),e),{})).map(e=>{let[t,l]=e,a=filterUpgrades(l.toSorted((e,t)=>(e.cost||0)-(t.cost||0)));if(y){let e=a.some(e=>e.level<e.x4);if(!e)return null}return(0,n.jsxs)(i.Z,{direction:"column",gap:2,children:[(0,n.jsxs)(i.Z,{direction:"row",gap:2,flexWrap:"wrap",alignItems:"center",children:[(0,n.jsx)(s.Z,{variant:"h6",children:"Dust Type"}),(0,n.jsx)("img",{style:{objectPosition:"0 -6px"},src:"".concat(x.prefix,"data/Dust").concat(t,"_x1.png")})]}),(0,n.jsx)(i.Z,{direction:"row",gap:2,flexWrap:"wrap",alignItems:"center",children:a.map((e,l)=>renderUpgradeCard(e,l,t))})]},t)}):t.map(e=>{let{path:t,list:l}=e,a=filterUpgrades(sortUpgrades(l));if(y){let e=a.some(e=>e.level<e.x4);if(!e)return null}return(0,n.jsxs)(i.Z,{direction:"column",gap:2,children:[(0,n.jsx)(s.Z,{variant:"h6",children:t}),(0,n.jsx)(i.Z,{direction:"row",gap:2,flexWrap:"wrap",alignItems:"center",children:a.map((e,t)=>renderUpgradeCard(e,t))})]},t)})]})},y=l(27709),Compass_Abominations=e=>{let{abominations:t}=e,[l,a]=(0,w.Z)("Hide killed abominations"),[c,d]=(0,w.Z)("Hide future abominations",!0);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(i.Z,{direction:"row",gap:2,flexWrap:"wrap",alignItems:"center",children:[(0,n.jsx)(o.Ye,{title:"",value:(0,n.jsx)(l,{})}),(0,n.jsx)(o.Ye,{title:"",value:(0,n.jsx)(c,{})})]}),(0,n.jsx)(i.Z,{direction:"row",gap:2,flexWrap:"wrap",alignItems:"center",children:null==t?void 0:t.map((e,t)=>{let{name:l,unlocked:o,weakness:c,hp:p,map:u,world:m}=e;return a&&o?null:(0,n.jsx)(h.Z,{children:(0,n.jsxs)(g.Z,{sx:{display:"flex",flexDirection:"column",width:370,minHeight:250,height:"100%",opacity:o>0?1:.5},children:[(0,n.jsxs)(i.Z,{direction:"row",gap:2,flexWrap:"wrap",alignItems:"center",sx:{position:"relative"},children:[!o&&(o||d)?(0,n.jsx)(y.Z,{sx:{width:32,height:32}}):(0,n.jsx)("img",{style:{width:32,height:32,zIndex:1},src:"".concat(x.prefix,"data/CompassUpg").concat(119+t,".png")}),(0,n.jsx)(s.Z,{children:(0,x.cleanUnderscore)(l)})]}),(0,n.jsx)(r.Z,{sx:{my:1}}),(0,n.jsxs)(i.Z,{direction:"row",gap:.5,flexWrap:"wrap",alignItems:"center",sx:{position:"relative"},children:[(0,n.jsxs)(s.Z,{children:["Weakness: ",(0,x.cleanUnderscore)(null==c?void 0:c.name)]}),(0,n.jsx)("img",{style:{width:24,height:24,zIndex:1},src:"".concat(x.prefix,"data/WWeffect").concat(null==c?void 0:c.index,".png")})]}),(0,n.jsxs)(s.Z,{children:["HP: ",(0,x.notateNumber)(p)]}),(0,n.jsxs)(s.Z,{children:["Map: ",(0,x.cleanUnderscore)(u)," (World: ",m,")"]})]})},l+t)})})]})},b=l(99758),C=l(2511),I=l(74616),Compass_Medallions=e=>{let{medallions:t,totalAcquiredMedallions:l}=e,[d,p]=(0,w.Z)("Hide coined monsters"),[u,m]=(0,w.Z)("Show wind walker drops"),[v,Z]=(0,c.useState)("all");return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(i.Z,{direction:"row",gap:2,flexWrap:"wrap",alignItems:"center",children:[(0,n.jsx)(o.Ye,{title:"Total medallions",value:"".concat(l," / ").concat(null==t?void 0:t.length)}),(0,n.jsx)(o.Ye,{title:"",value:(0,n.jsx)(d,{})}),(0,n.jsx)(o.Ye,{title:"",value:(0,n.jsx)(u,{})}),(0,n.jsx)(o.Ye,{title:"",value:(0,n.jsx)(j.Z,{sx:{minWidth:150},children:(0,n.jsxs)(a.Z,{value:v,onChange:e=>Z(e.target.value),size:"small",displayEmpty:!0,children:[(0,n.jsx)(f.Z,{value:"all",children:(0,n.jsx)(i.Z,{direction:"row",gap:1,alignItems:"center",children:"All Types"})},"all"),Object.entries(I.lC).map(e=>{let[t,l]=e;return 4!=t?(0,n.jsx)(f.Z,{value:t,children:(0,n.jsxs)(i.Z,{direction:"row",gap:1,alignItems:"center",children:[(0,n.jsx)("img",{style:{width:24,height:24,objectPosition:"0 -6px"},src:"".concat(x.prefix,"data/Dust").concat(t,"_x1.png")}),l]})},t):null})]})})})]}),(0,n.jsx)(i.Z,{direction:"row",gap:2,flexWrap:"wrap",alignItems:"center",children:null==t?void 0:t.map((e,t)=>{let{Name:l,rawName:a,acquired:o,description:c="",drops:d,weakness:u,dustType:j,dustBaseQuantity:f}=e;return p&&o||"all"!==v&&j.toString()!==v?null:(0,n.jsx)(h.Z,{children:(0,n.jsxs)(g.Z,{sx:{display:"flex",flexDirection:"column",width:300,minHeight:76,opacity:o>0?1:.5},children:[(0,n.jsxs)(i.Z,{direction:"row",gap:2,flexWrap:"wrap",alignItems:"center",sx:{position:"relative"},children:[(0,n.jsx)("img",{style:{width:41,height:41,objectFit:"contain"},src:"".concat(x.prefix,"afk_targets/").concat(l,".png")}),(0,n.jsxs)(i.Z,{children:[(0,n.jsx)(s.Z,{children:(0,x.cleanUnderscore)(l)}),(0,n.jsx)(s.Z,{variant:"caption",children:c?"(".concat(c,")"):""})]}),o?(0,n.jsx)("img",{style:{width:41,height:41,marginLeft:"auto"},src:"".concat(x.prefix,"data/WWcoin.png")}):null]}),m?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.Z,{sx:{my:1}}),(0,n.jsxs)(i.Z,{sx:{width:"100%"},direction:"row",alignItems:"center",gap:2,children:[(null==d?void 0:d.length)>0?d.map((e,t)=>(0,n.jsx)(C.Z,{title:(0,n.jsx)(b.Z,{...e}),children:(0,n.jsx)("img",{style:{width:42,height:42},src:"".concat(x.prefix,"data/").concat(null==e?void 0:e.rawName,".png")})},a+"-drop-"+(null==e?void 0:e.rawName)+"-index-"+t)):(0,n.jsx)(y.Z,{sx:{width:42,height:42}}),(0,n.jsxs)(i.Z,{direction:"row",alignItems:"center",sx:{ml:"auto"},children:[(0,n.jsx)(s.Z,{variant:"body1",children:(0,x.numberWithCommas)(Math.floor(f))}),(0,n.jsx)("img",{style:{width:42,height:42,marginTop:-15},src:"".concat(x.prefix,"data/Dust").concat(j,"_x1.png")}),(0,n.jsx)("img",{style:{width:24,height:24},src:"".concat(x.prefix,"data/WWeffect").concat(u,".png")})]})]})]}):null]})},l+t)})})]})},Compass_Portals=e=>{let{maps:t}=e,[l,a]=(0,w.Z)("Hide unlocked portals");return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.Ye,{title:"",value:(0,n.jsx)(l,{})}),(0,n.jsx)(i.Z,{direction:"row",gap:2,flexWrap:"wrap",alignItems:"center",children:null==t?void 0:t.map((e,t)=>{let{mapName:l,portals:o,monster:c,unlocked:d}=e;return a&&d?null:(0,n.jsx)(h.Z,{children:(0,n.jsxs)(g.Z,{sx:{display:"flex",flexDirection:"column",width:300},children:[(0,n.jsxs)(i.Z,{direction:"row",gap:2,flexWrap:"wrap",alignItems:"center",justifyContent:"space-between",sx:{position:"relative"},children:[(0,n.jsx)(s.Z,{children:(0,x.cleanUnderscore)(l)}),(0,n.jsx)("img",{style:{width:32,height:32,objectFit:"contain"},src:"".concat(x.prefix,"data/Mface").concat(c.MonsterFace,".png")})]}),(0,n.jsx)(r.Z,{sx:{my:1.5}}),(0,n.jsx)(i.Z,{direction:"row",alignItems:"center",gap:1,justifyContent:"space-between",children:o.map((e,t)=>{let{unlocked:a,costType:r,costQuantity:o}=e;return(0,n.jsxs)(i.Z,{children:[(0,n.jsxs)(s.Z,{sx:{opacity:a?1:.5},variant:"body1",children:["Portal ",t+1]}),(0,n.jsxs)(i.Z,{alignItems:"center",sx:{opacity:a?1:.5},children:[(0,n.jsx)("img",{style:{width:41,height:41,objectFit:"contain"},src:"".concat(x.prefix,"data/Dust").concat(r,"_x1.png")}),(0,n.jsx)(s.Z,{variant:"body2",children:(0,x.commaNotation)(o)})]})]},l+"portal"+t)})})]})},l+t)})})]})},_=l(30796),class_specific_compass=()=>{var e,t;let{state:l}=(0,c.useContext)(d.I),{groupedUpgrades:h,abominations:g,dusts:j,medallions:v,maps:Z,usedExaltedStamps:w,remainingExaltedStamps:y,totalUpgradeLevels:b,totalDustsCollected:C,totalAcquiredMedallions:W}=(null==l?void 0:null===(e=l.account)||void 0===e?void 0:e.compass)||{},[N,Y]=(0,c.useState)(0),M=null==l?void 0:null===(t=l.characters)||void 0===t?void 0:t.filter(e=>(0,_.gW)(null==e?void 0:e.class,"Wind_Walker")),U=(0,c.useMemo)(()=>{var e;return(0,I.W_)(null==l?void 0:null===(e=l.characters)||void 0===e?void 0:e[N],null==l?void 0:l.account)},[N]);return(0,c.useEffect)(()=>{if(1===M.length){var e;Y(null==M?void 0:null===(e=M[0])||void 0===e?void 0:e.playerId)}},[]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(p.PB,{title:"Compass | Idleon Toolbox",description:"Keep track of your compass levels, upgrades and compass stats"}),(0,n.jsxs)(i.Z,{direction:"row",gap:{xs:1,md:3},flexWrap:"wrap",children:[M.length>1?(0,n.jsx)(o.Ye,{title:"Character",value:(0,n.jsx)(a.Z,{size:"small",value:N,onChange:e=>Y(e.target.value),children:null==M?void 0:M.map((e,t)=>(0,n.jsx)(f.Z,{value:null==e?void 0:e.playerId,selected:N===(null==e?void 0:e.playerId),children:(0,n.jsxs)(i.Z,{direction:"row",alignItems:"center",gap:2,children:[(0,n.jsx)("img",{src:"".concat(x.prefix,"data/ClassIcons").concat(null==e?void 0:e.classIndex,".png"),alt:"",width:32,height:32}),(0,n.jsx)(s.Z,{children:null==e?void 0:e.name})]})},(null==e?void 0:e.name)+t))})}):null,(0,n.jsx)(o.Ye,{title:"Total levels",value:b}),(0,n.jsx)(o.Ye,{title:"Extra Dust",value:"".concat((0,I.J3)(N,null==l?void 0:l.account).toFixed(2),"%"),tooltipTitle:"Not including Spirit Reindeer kills"}),(0,n.jsx)(o.Ye,{title:"Total dust collected",value:C<1e8?(0,x.numberWithCommas)(C||"0"):(0,x.notateNumber)(C||0)}),(0,n.jsx)(o.Ye,{title:"Exalted stamps",icon:"etc/Exalted_Stamp_Frame.png",imgStyle:{width:40,height:40},value:"".concat(y," / ").concat(w+y)}),null==j?void 0:j.map((e,t)=>{let{value:l,name:i}=e;return(0,n.jsx)(o.Ye,{value:l<1e8?(0,x.commaNotation)(l||"0"):(0,x.notateNumber)(l||0),title:i,icon:"data/Dust".concat(t,"_x1.png"),imgStyle:{objectPosition:"0 -6px"}},t)})]}),(0,n.jsx)(r.Z,{sx:{mb:3,mt:{xs:2,md:0}}}),(0,n.jsxs)(i.Z,{direction:"row",gap:{xs:1,md:3},flexWrap:"wrap",children:[(0,n.jsx)(o.Ye,{title:"Hp",value:(0,x.numberWithCommas)(Math.floor(null==U?void 0:U.hp)).replace(".00","")}),(0,n.jsx)(o.Ye,{title:"Damage",value:(null==U?void 0:U.damage)<1e8?(0,x.numberWithCommas)((null==U?void 0:U.damage)||"0"):(0,x.notateNumber)((null==U?void 0:U.damage)||0)}),(0,n.jsx)(o.Ye,{title:"Accuracy",value:(0,x.numberWithCommas)(Math.floor(null==U?void 0:U.accuracy)).replace(".00","")}),(0,n.jsx)(o.Ye,{title:"Defence",value:(0,x.numberWithCommas)(Math.floor(null==U?void 0:U.defence))}),(0,n.jsx)(o.Ye,{title:"Mastery",value:(0,x.notateNumber)(null==U?void 0:U.mastery,"MultiplierInfo").replace(".00","")}),(0,n.jsx)(o.Ye,{title:"Crit pct",value:(0,x.notateNumber)(null==U?void 0:U.critPct,"MultiplierInfo").replace(".00","")}),(0,n.jsx)(o.Ye,{title:"Crit damage",value:(0,x.notateNumber)(null==U?void 0:U.critDamage,"MultiplierInfo").replace(".00","")}),(0,n.jsx)(o.Ye,{title:"Attack speed",value:(0,x.notateNumber)(null==U?void 0:U.attackSpeed,"MultiplierInfo").replace(".00","")}),(0,n.jsx)(o.Ye,{title:"Invulnerable time",value:(0,x.notateNumber)(null==U?void 0:U.invulnerableTime,"MultiplierInfo").replace(".00","")}),(0,n.jsx)(o.Ye,{title:"Range",value:(0,x.notateNumber)(null==U?void 0:U.range,"MultiplierInfo").replace(".00","")}),(0,n.jsx)(o.Ye,{title:"Move speed",value:(0,x.notateNumber)(null==U?void 0:U.moveSpeed,"MultiplierInfo").replace(".00","")})]}),(0,n.jsx)(r.Z,{sx:{mb:3,mt:{xs:2,md:0}}}),(0,n.jsxs)(m.Z,{tabs:(0,x.getTabs)(u.q5.ACCOUNT["class-specific"].categories,"compass"),children:[(0,n.jsx)(Compass_Upgrades,{upgrades:h,dusts:j}),(0,n.jsx)(Compass_Abominations,{abominations:g}),(0,n.jsx)(Compass_Medallions,{medallions:v,totalAcquiredMedallions:W}),(0,n.jsx)(Compass_Portals,{maps:Z})]})]})}}},function(e){e.O(0,[1423,9758,9774,2888,179],function(){return e(e.s=86666)}),_N_E=e.O()}]);