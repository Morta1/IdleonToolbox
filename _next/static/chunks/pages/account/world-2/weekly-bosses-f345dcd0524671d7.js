!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},l=(new e.Error).stack;l&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[l]="a2b319a1-1518-4c42-8c41-6a5502743786",e._sentryDebugIdIdentifier="sentry-dbid-a2b319a1-1518-4c42-8c41-6a5502743786")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2847],{96406:function(e,l,n){"use strict";var s=n(88169),o=n(85893);l.Z=(0,s.Z)((0,o.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}),"ContentCopy")},57319:function(e,l,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/world-2/weekly-bosses",function(){return n(91308)}])},63521:function(e,l,n){"use strict";var s=n(85893),o=n(67294),t=n(31002),i=n(29676),a=n(40044),r=n(65298),d=n(27709),c=n(11163);l.Z=e=>{var l;let{tabs:n,components:u,icons:v,children:h,onTabChange:y,forceScroll:p,orientation:x="horizontal",iconsOnly:f,queryKey:m="t",clearOnChange:k=[],disableQuery:g=!1}=e,w=(0,t.Z)(e=>e.breakpoints.down("md"),{noSsr:!0}),j=(0,c.useRouter)(),[B,b]=(0,o.useState)(0),Z=j.query[m],M=n.findIndex(e=>e===Z),S=g?B:M>=0?M:0;(0,o.useEffect)(()=>{g||Z||j.replace({pathname:j.pathname,query:{...j.query,[m]:n[S]}},void 0,{shallow:!0})},[Z,m,n,S,j,g]);let I=Array.isArray(h)?h:[h];return(0,s.jsxs)(d.Z,{sx:"vertical"===x?{flexGrow:1,display:"flex"}:{},"data-sentry-element":"Box","data-sentry-component":"Tabber","data-sentry-source-file":"Tabber.jsx",children:[(0,s.jsx)(i.Z,{centered:!w||w&&n.length<4,scrollButtons:!0,allowScrollButtonsMobile:!0,sx:{marginBottom:3},variant:w&&n.length>=4||p?"scrollable":"standard",value:S,onChange:(e,l)=>{if(g)b(l);else{let e={...j.query,[m]:n[l]};k.forEach(l=>delete e[l]),j.push({pathname:j.pathname,query:e},void 0,{shallow:!0})}y&&y(l)},"data-sentry-element":"Tabs","data-sentry-source-file":"Tabber.jsx",children:null===(l=null!=u?u:n)||void 0===l?void 0:l.map((e,l)=>(0,s.jsx)(a.Z,{iconPosition:"start",icon:(null==v?void 0:v[l])?(0,s.jsx)("img",{src:"".concat(r.prefix).concat(null==v?void 0:v[l],".png")}):null,wrapped:!0,label:f?"":e,sx:{minWidth:62}},"".concat(null==e?void 0:e[l],"-").concat(l)))}),y?h:null==I?void 0:I.map((e,l)=>l===S?e:null)]})}},91308:function(e,l,n){"use strict";n.r(l),n.d(l,{default:function(){return weekly_bosses}});var s=n(85893),o=n(67294),t=n(58437),i=n(94978),a=n(55855),r=n(65298),d=n(96719);let getBossId=e=>Math.max(0,Math.min((null===i.weeklyBosses||void 0===i.weeklyBosses?void 0:i.weeklyBosses.length)-1,Math.floor(e/1e3*(null===i.weeklyBosses||void 0===i.weeklyBosses?void 0:i.weeklyBosses.length)))),getTasksIds=(e,l)=>{let n=[];for(let s=0;s<15;s++){let o=new a.Z(Math.round(l+3*s)),t=Math.max(0,Math.min(2,Math.floor(3*o.rand()))),r=i.weeklyBosses[e];n.push(null==r?void 0:r["x".concat(t+1)])}return n},getShopItems=e=>{var l,n,s,o;let t=new a.Z(Math.round(e+36)),r=Math.max(0,Math.min(i.weeklyBossesShop[0].length-1,Math.floor(t.rand()*i.weeklyBossesShop[0].length))),d=new a.Z(Math.round(e+72)),c=Math.max(0,Math.min(i.weeklyBossesShop[0].length-1,Math.floor(d.rand()*i.weeklyBossesShop[0].length))),u=0;for(;r===c&&u<100;)u+=1,d=new a.Z(e+u),c=Math.max(0,Math.min(i.weeklyBossesShop[0].length-1,Math.floor(d.rand()*i.weeklyBossesShop[0].length)));let v=new a.Z(Math.round(e+10)),h=Math.max(0,Math.min(i.weeklyBossesShop[1].length-1,Math.floor(v.rand()*i.weeklyBossesShop[1].length))),y=new a.Z(Math.round(e+20)),p=Math.max(0,Math.min(i.weeklyBossesShop[1].length-1,Math.floor(y.rand()*i.weeklyBossesShop[1].length))),x=0;for(;h===p&&x<710;)x+=71,y=new a.Z(e+x),p=Math.max(0,Math.min(i.weeklyBossesShop[1].length-1,Math.floor(y.rand()*i.weeklyBossesShop[1].length)));return{shopItems:[null===i.weeklyBossesShop||void 0===i.weeklyBossesShop?void 0:null===(l=i.weeklyBossesShop[0])||void 0===l?void 0:l[r],null===i.weeklyBossesShop||void 0===i.weeklyBossesShop?void 0:null===(n=i.weeklyBossesShop[0])||void 0===n?void 0:n[c],null===i.weeklyBossesShop||void 0===i.weeklyBossesShop?void 0:null===(s=i.weeklyBossesShop[1])||void 0===s?void 0:s[h],null===i.weeklyBossesShop||void 0===i.weeklyBossesShop?void 0:null===(o=i.weeklyBossesShop[1])||void 0===o?void 0:o[p]],extraSeed:x}},getWeeklyBoss=function(e){var l,n;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;if(!e)return[];let o=Math.round(Math.floor((null==e?void 0:null===(l=e.timeAway)||void 0===l?void 0:l.GlobalTime)/604800)),t=[];for(let e=0;e<s;e++){let l=new a.Z(o+e),s=Math.floor(1e3*l.rand()),{shopItems:r,extraSeed:d}=getShopItems(s),c=getBossId(s),u=null===(n=getTasksIds(c,s))||void 0===n?void 0:n.map(e=>({...null===i.weeklyBossesTasks||void 0===i.weeklyBossesTasks?void 0:i.weeklyBossesTasks[e],taskIndex:e})),{bossName:v}=(null===i.weeklyBosses||void 0===i.weeklyBosses?void 0:i.weeklyBosses[c])||{},h=d,y=[],p=[];for(let e=0;e<15;e++){let e=[];for(let l=0;l<3;l++){h+=1e3;let l=new a.Z(s+h),n=Math.max(0,Math.min((null===i.weeklyBossesActions||void 0===i.weeklyBossesActions?void 0:i.weeklyBossesActions.length)-1,Math.floor(l.rand()*(null===i.weeklyBossesActions||void 0===i.weeklyBossesActions?void 0:i.weeklyBossesActions.length))));if(p.includes(n)){let e=0;for(;p.includes(n)&&e<100;)h+=1e3,l=new a.Z(s+h),n=Math.max(0,Math.min((null===i.weeklyBossesActions||void 0===i.weeklyBossesActions?void 0:i.weeklyBossesActions.length)-1,Math.floor(l.rand()*(null===i.weeklyBossesActions||void 0===i.weeklyBossesActions?void 0:i.weeklyBossesActions.length)))),e++}e.push(n),p.unshift(n),p.length>9&&p.pop()}y.push(e)}let x=Math.floor((o+e)*6048e5);y=y.map((e,l)=>({actions:e.map(e=>null===i.weeklyBossesActions||void 0===i.weeklyBossesActions?void 0:i.weeklyBossesActions[e]),task:null==u?void 0:u[l]})),t.push({bossName:v,shopItems:r,triplets:y,date:new Date(x)})}return t},getTaskQuantity=(e,l,n,s)=>{var o,t,i,a,c,u,v,h,y,p,x,f,m,k,g,w,j,B,b,Z,M,S,I,_,T,A,W,C,O,E;if(e>=(null==s?void 0:s.length))return 0;let N=null==s?void 0:s[e],q=(0,d.m)(N,s,n);return 0===l?null==N?void 0:null===(t=N.skillsInfo)||void 0===t?void 0:null===(o=t.mining)||void 0===o?void 0:o.level:1===l?null==N?void 0:null===(a=N.skillsInfo)||void 0===a?void 0:null===(i=a.fishing)||void 0===i?void 0:i.level:2===l?null==N?void 0:null===(u=N.skillsInfo)||void 0===u?void 0:null===(c=u.chopping)||void 0===c?void 0:c.level:3===l?null==N?void 0:null===(h=N.skillsInfo)||void 0===h?void 0:null===(v=h.worship)||void 0===v?void 0:v.level:4===l?null==N?void 0:null===(p=N.skillsInfo)||void 0===p?void 0:null===(y=p.alchemy)||void 0===y?void 0:y.level:5===l?null==N?void 0:null===(f=N.skillsInfo)||void 0===f?void 0:null===(x=f.catching)||void 0===x?void 0:x.level:6===l?null==N?void 0:null===(k=N.skillsInfo)||void 0===k?void 0:null===(m=k.trapping)||void 0===m?void 0:m.level:7===l?null==N?void 0:null===(w=N.skillsInfo)||void 0===w?void 0:null===(g=w.cooking)||void 0===g?void 0:g.level:8===l?null==N?void 0:null===(B=N.skillsInfo)||void 0===B?void 0:null===(j=B.laboratory)||void 0===j?void 0:j.level:9===l?null==N?void 0:null===(Z=N.skillsInfo)||void 0===Z?void 0:null===(b=Z.divinity)||void 0===b?void 0:b.level:24===l?null==N?void 0:null===(S=N.skillsInfo)||void 0===S?void 0:null===(M=S.construction)||void 0===M?void 0:M.level:10===l?null==N?void 0:N.maxHp:11===l?null==N?void 0:N.maxMp:12===l?null==N?void 0:N.accuracy:13===l?null==N?void 0:null===(I=N.defence)||void 0===I?void 0:I.value:14===l?100*(null==N?void 0:N.movementSpeed):15===l?null==N?void 0:null===(T=N.carryCapBags)||void 0===T?void 0:null===(_=T[0])||void 0===_?void 0:_.capacityPerSlot:16===l?null==N?void 0:N.questCompleted:17===l?Math.ceil((0,r.lavaLog)(null==N?void 0:null===(E=N.kills)||void 0===E?void 0:E[53])):18===l?null==N?void 0:N.level:19===l?Math.ceil((0,r.lavaLog)(null==N?void 0:null===(A=N.kills)||void 0===A?void 0:A[1])):20===l?Math.ceil((0,r.lavaLog)(null==N?void 0:null===(W=N.kills)||void 0===W?void 0:W[116])):21===l?Math.ceil((0,r.lavaLog)(null==N?void 0:null===(C=N.kills)||void 0===C?void 0:C[205])):22===l?Math.ceil((0,r.lavaLog)(null==q?void 0:q.maxDamage)):23===l?Math.ceil((0,r.lavaLog)(null==N?void 0:null===(O=N.kills)||void 0===O?void 0:O[158])):0};var c=n(51233),u=n(23972),v=n(63521),h=n(82729),y=n(67720),p=n(61599),x=n(75934),f=n.n(x),m=n(40929),k=n(61436);function _templateObject(){let e=(0,h._)(["\n  width: 15px;\n  height: 15px;\n  object-fit: contain;\n"]);return _templateObject=function(){return e},e}function _templateObject1(){let e=(0,h._)(["\n  width: 35px;\n  height: 35px;\n  object-fit: none;\n  object-position: 0;\n"]);return _templateObject1=function(){return e},e}function _templateObject2(){let e=(0,h._)(["\n  width: 35px;\n  height: 35px;\n  object-fit: contain;\n"]);return _templateObject2=function(){return e},e}let g={"(ATTACK)":"error.light","(BUFF)":"info.light","(MISC)":"warning.light"},w=p.Z.img(_templateObject()),j=p.Z.img(_templateObject1()),B=p.Z.img(_templateObject2());var World2_WeeklyBoss=e=>{var l;let{bossIndex:n,bossName:t,shopItems:i,triplets:a,date:d,account:v,characters:h}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(c.Z,{sx:{width:"100%"},direction:"row",alignItems:"center",gap:2,"data-sentry-element":"Stack","data-sentry-source-file":"WeeklyBoss.jsx",children:[(0,s.jsx)("img",{style:{width:50,height:50},src:"".concat(r.prefix,"etc/").concat(t,".png"),alt:""}),(0,s.jsxs)(c.Z,{"data-sentry-element":"Stack","data-sentry-source-file":"WeeklyBoss.jsx",children:[(0,s.jsx)(u.Z,{variant:"h4","data-sentry-element":"Typography","data-sentry-source-file":"WeeklyBoss.jsx",children:(0,r.cleanUnderscore)(t)}),(0,s.jsx)(u.Z,{variant:"caption","data-sentry-element":"Typography","data-sentry-source-file":"WeeklyBoss.jsx",children:(0,k.Z)(d)?(0,m.Z)(d,"dd/MM/yyyy HH:mm:ss"):null})]})]}),(0,s.jsx)(y.Z,{sx:{my:2},"data-sentry-element":"Divider","data-sentry-source-file":"WeeklyBoss.jsx"}),(0,s.jsx)(u.Z,{mb:1,variant:"h5","data-sentry-element":"Typography","data-sentry-source-file":"WeeklyBoss.jsx",children:"Shop Items"}),(0,s.jsx)(c.Z,{direction:"row",gap:2,flexWrap:"wrap","data-sentry-element":"Stack","data-sentry-source-file":"WeeklyBoss.jsx",children:null==i?void 0:i.map(e=>{let{name:l,rawName:n,x1:o}=e,t="FoodG"===n?"FoodG1":n;return(0,s.jsxs)(c.Z,{direction:"row",alignItems:"center",gap:2,children:[l.includes("_UI")?(0,s.jsx)(j,{src:"".concat(r.prefix,"data/").concat(t,".png"),alt:""}):(0,s.jsx)(B,{src:"".concat(r.prefix,"data/").concat(t,".png"),alt:""}),(0,s.jsxs)(c.Z,{children:[(0,s.jsx)(u.Z,{children:(0,r.cleanUnderscore)(l)}),(0,s.jsxs)(c.Z,{gap:2,direction:"row",alignItems:"center",children:[(0,s.jsx)(w,{src:"".concat(r.prefix,"data/Trophie.png"),alt:""}),(0,s.jsx)(u.Z,{variant:"body1",children:o})]})]})]},n)})}),(0,s.jsx)(y.Z,{sx:{my:2},"data-sentry-element":"Divider","data-sentry-source-file":"WeeklyBoss.jsx"}),(0,s.jsxs)(c.Z,{mb:1,direction:"row",gap:2,alignItems:"center","data-sentry-element":"Stack","data-sentry-source-file":"WeeklyBoss.jsx",children:[(0,s.jsxs)(c.Z,{"data-sentry-element":"Stack","data-sentry-source-file":"WeeklyBoss.jsx",children:[(0,s.jsx)(u.Z,{variant:"h5","data-sentry-element":"Typography","data-sentry-source-file":"WeeklyBoss.jsx",children:"Actions"}),0===n?(0,s.jsxs)(u.Z,{variant:"caption",children:["Current turn: ",(null==v?void 0:null===(l=v.accountOptions)||void 0===l?void 0:l[185])+1]}):null]}),(0,s.jsx)(c.Z,{flexWrap:"wrap",direction:"row","data-sentry-element":"Stack","data-sentry-source-file":"WeeklyBoss.jsx",children:null==a?void 0:a.map((e,l)=>{var o;let{task:t}=e;return l<=9?(0,s.jsx)(B,{style:{border:0===n&&(null==v?void 0:null===(o=v.accountOptions)||void 0===o?void 0:o[185])===l?"1px solid #81c784":""},src:"".concat(r.prefix,"etc/Req_Icon_").concat(null==t?void 0:t.rawName,".png"),alt:""},"all-moves"+l):null})})]}),(0,s.jsx)(c.Z,{"data-sentry-element":"Stack","data-sentry-source-file":"WeeklyBoss.jsx",children:null==a?void 0:a.map((e,l)=>{var t,i,a,d;let{actions:p,task:x}=e;if(l>9)return null;let m=getTaskQuantity(l,null==x?void 0:x.taskIndex,v,h);return(0,s.jsxs)(o.Fragment,{children:[(0,s.jsxs)(c.Z,{mb:1,direction:"row",alignItems:"center",gap:2,children:[(0,s.jsx)(B,{src:"".concat(r.prefix,"etc/Req_Icon_").concat(null==x?void 0:x.rawName,".png"),alt:""}),(0,s.jsxs)(c.Z,{children:[(0,s.jsx)(u.Z,{color:0===n&&(null==v?void 0:null===(t=v.accountOptions)||void 0===t?void 0:t[185])===l?"success.light":"text.primary",variant:"subtitle1",children:(0,r.cleanUnderscore)(null==x?void 0:null===(i=x.statText)||void 0===i?void 0:i.replace("{",m))}),(0,s.jsxs)(u.Z,{color:0===n&&(null==v?void 0:null===(a=v.accountOptions)||void 0===a?void 0:a[185])===l?"success.light":"text.primary",variant:"caption",children:["Turn: ",l+1,", by: ",null==h?void 0:null===(d=h[l])||void 0===d?void 0:d.name]})]})]}),(0,s.jsx)(c.Z,{gap:2,children:null==p?void 0:p.map((e,l)=>{let{description:n}=e;return(0,s.jsx)(u.Z,{variant:"body2",children:f()([{regex:/\(Attack\)|\(Buff\)|\(Misc\)/gi,fn:(e,n)=>(0,s.jsx)(u.Z,{variant:"body2",component:"span",sx:{color:null==g?void 0:g[n[0]]},children:n[0]},e+l)}])((0,r.cleanUnderscore)(n.replace("{","X")))},"action"+l)})}),(0,s.jsx)(y.Z,{sx:{my:2}})]},"triplets"+l)})})]})},b=n(96406),Z=n(69417),weekly_bosses=()=>{let{state:e}=(0,o.useContext)(t.I),[l,n]=(0,o.useState)(10),handleCopy=async e=>{try{await navigator.clipboard.writeText(JSON.stringify(e,null,2))}catch(e){console.error(e)}},i=(0,o.useMemo)(()=>getWeeklyBoss(null==e?void 0:e.account,l),[null==e?void 0:e.account,l]);return(null==i?void 0:i.length)?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(c.Z,{direction:"row",gap:2,mb:3,alignItems:"center","data-sentry-element":"Stack","data-sentry-source-file":"weekly-bosses.jsx",children:[(0,s.jsxs)(Z.Z,{onClick:()=>handleCopy(i),"data-sentry-element":"Button","data-sentry-source-file":"weekly-bosses.jsx",children:[(0,s.jsx)(b.Z,{sx:{mr:1},"data-sentry-element":"ContentCopyIcon","data-sentry-source-file":"weekly-bosses.jsx"})," Copy boss data"]}),(0,s.jsx)(Z.Z,{onClick:()=>n(e=>e+10),"data-sentry-element":"Button","data-sentry-source-file":"weekly-bosses.jsx",children:"+ Add more bosses"})]}),(0,s.jsx)(v.Z,{disableQuery:!0,forceScroll:l>10,tabs:null==i?void 0:i.map((e,l)=>{let{bossName:n,date:s}=e;return(0,r.cleanUnderscore)(n)}),components:null==i?void 0:i.map((e,l)=>{let{bossName:n,date:o}=e;return(0,s.jsxs)(c.Z,{children:[(0,s.jsx)(u.Z,{variant:"body1",sx:{textTransform:"none"},children:(0,r.cleanUnderscore)(n)}),(0,s.jsx)(u.Z,{variant:"caption",sx:{textTransform:"none"},children:(0,k.Z)(o)?(0,m.Z)(o,"dd/MM/yyyy HH:mm:ss"):null})]},"boss-"+l)}),"data-sentry-element":"Tabber","data-sentry-source-file":"weekly-bosses.jsx",children:null==i?void 0:i.map((l,n)=>(0,s.jsx)(World2_WeeklyBoss,{...l,bossIndex:n,account:null==e?void 0:e.account,characters:null==e?void 0:e.characters},(null==l?void 0:l.bossName)+n))})]}):(0,s.jsx)("div",{"data-sentry-component":"WeeklyBosses","data-sentry-source-file":"weekly-bosses.jsx",children:"There is no random event data"})}},75934:function(e){"use strict";function processString(e){var l=0;function processInputWithRegex(e,n){if(!e.fn||"function"!=typeof e.fn||!e.regex||!(e.regex instanceof RegExp))return n;if("string"==typeof n){for(var s=e.regex,o=null,t=[];null!==(o=s.exec(n));){var i=o.index,a=o[0];t.push(n.substring(0,i)),t.push(e.fn(++l,o)),n=n.substring(i+a.length,n.length+1),s.lastIndex=0}return t.push(n),t}return Array.isArray(n)?n.map(function(l){return processInputWithRegex(e,l)}):n}return function(l){return e&&Array.isArray(e)&&e.length&&e.forEach(function(e){return l=processInputWithRegex(e,l)}),l}}e.exports=processString}},function(e){e.O(0,[9774,2888,179],function(){return e(e.s=57319)}),_N_E=e.O()}]);