!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="58eb0e05-853d-438c-afe1-a8fcf8b4ae23",e._sentryDebugIdIdentifier="sentry-dbid-58eb0e05-853d-438c-afe1-a8fcf8b4ae23")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5081],{70983:function(e,t,a){"use strict";var r=a(88169),n=a(85893);t.Z=(0,r.Z)((0,n.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle")},40238:function(e,t,a){"use strict";var r=a(88169),n=a(85893);t.Z=(0,r.Z)((0,n.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info")},65582:function(e,t,a){"use strict";a.d(t,{Z:function(){return b}});var r=a(67294),n=a(90512),l=a(34867),s=a(94780),o=a(14142),i=a(29628),d=a(69827),c=a(78136),u=a(85893);let m=(0,c.Z)(),p=(0,d.Z)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:a}=e;return[t.root,t[`maxWidth${(0,o.Z)(String(a.maxWidth))}`],a.fixed&&t.fixed,a.disableGutters&&t.disableGutters]}}),useThemePropsDefault=e=>(0,i.Z)({props:e,name:"MuiContainer",defaultTheme:m}),useUtilityClasses=(e,t)=>{let{classes:a,fixed:r,disableGutters:n,maxWidth:i}=e,d={root:["root",i&&`maxWidth${(0,o.Z)(String(i))}`,r&&"fixed",n&&"disableGutters"]};return(0,s.Z)(d,e=>(0,l.ZP)(t,e),a)};function createContainer(e={}){let{createStyledComponent:t=p,useThemeProps:a=useThemePropsDefault,componentName:l="MuiContainer"}=e,s=t(({theme:e,ownerState:t})=>({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",...!t.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}}}),({theme:e,ownerState:t})=>t.fixed&&Object.keys(e.breakpoints.values).reduce((t,a)=>{let r=e.breakpoints.values[a];return 0!==r&&(t[e.breakpoints.up(a)]={maxWidth:`${r}${e.breakpoints.unit}`}),t},{}),({theme:e,ownerState:t})=>({..."xs"===t.maxWidth&&{[e.breakpoints.up("xs")]:{maxWidth:Math.max(e.breakpoints.values.xs,444)}},...t.maxWidth&&"xs"!==t.maxWidth&&{[e.breakpoints.up(t.maxWidth)]:{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`}}})),o=r.forwardRef(function(e,t){let r=a(e),{className:o,component:i="div",disableGutters:d=!1,fixed:c=!1,maxWidth:m="lg",classes:p,...x}=r,h={...r,component:i,disableGutters:d,fixed:c,maxWidth:m},f=useUtilityClasses(h,l);return(0,u.jsx)(s,{as:i,ownerState:h,className:(0,n.Z)(f.root,o),ref:t,...x})});return o}var x=a(98216),h=a(90948),f=a(28628);let y=createContainer({createStyledComponent:(0,h.ZP)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:a}=e;return[t.root,t[`maxWidth${(0,x.Z)(String(a.maxWidth))}`],a.fixed&&t.fixed,a.disableGutters&&t.disableGutters]}}),useThemeProps:e=>(0,f.i)({props:e,name:"MuiContainer"})});var b=y},50480:function(e,t,a){"use strict";a.d(t,{Z:function(){return j}});var r=a(67294),n=a(90512),l=a(94780),s=a(74423),o=a(90948),i=a(16694),d=a(28628),c=a(23972),u=a(98216),m=a(1588),p=a(34867);function getFormControlLabelUtilityClasses(e){return(0,p.ZP)("MuiFormControlLabel",e)}let x=(0,m.Z)("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]);var h=a(15704),f=a(80560),y=a(85893);let useUtilityClasses=e=>{let{classes:t,disabled:a,labelPlacement:r,error:n,required:s}=e,o={root:["root",a&&"disabled",`labelPlacement${(0,u.Z)(r)}`,n&&"error",s&&"required"],label:["label",a&&"disabled"],asterisk:["asterisk",n&&"error"]};return(0,l.Z)(o,getFormControlLabelUtilityClasses,t)},b=(0,o.ZP)("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:a}=e;return[{[`& .${x.label}`]:t.label},t.root,t[`labelPlacement${(0,u.Z)(a.labelPlacement)}`]]}})((0,i.Z)(({theme:e})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${x.disabled}`]:{cursor:"default"},[`& .${x.label}`]:{[`&.${x.disabled}`]:{color:(e.vars||e).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:e})=>"start"===e||"top"===e||"bottom"===e,style:{marginLeft:16}}]}))),v=(0,o.ZP)("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})((0,i.Z)(({theme:e})=>({[`&.${x.error}`]:{color:(e.vars||e).palette.error.main}}))),g=r.forwardRef(function(e,t){let a=(0,d.i)({props:e,name:"MuiFormControlLabel"}),{checked:l,className:o,componentsProps:i={},control:u,disabled:m,disableTypography:p,inputRef:x,label:g,labelPlacement:j="end",name:Z,onChange:w,required:S,slots:C={},slotProps:k={},value:I,...P}=a,T=(0,s.Z)(),R=m??u.props.disabled??T?.disabled,M=S??u.props.required,N={disabled:R,required:M};["checked","name","onChange","value","inputRef"].forEach(e=>{void 0===u.props[e]&&void 0!==a[e]&&(N[e]=a[e])});let L=(0,h.Z)({props:a,muiFormControl:T,states:["error"]}),D={...a,disabled:R,labelPlacement:j,required:M,error:L.error},_=useUtilityClasses(D),O={slots:C,slotProps:{...i,...k}},[U,W]=(0,f.Z)("typography",{elementType:c.Z,externalForwardedProps:O,ownerState:D}),E=g;return null==E||E.type===c.Z||p||(E=(0,y.jsx)(U,{component:"span",...W,className:(0,n.Z)(_.label,W?.className),children:E})),(0,y.jsxs)(b,{className:(0,n.Z)(_.root,o),ownerState:D,ref:t,...P,children:[r.cloneElement(u,N),M?(0,y.jsxs)("div",{children:[E,(0,y.jsxs)(v,{ownerState:D,"aria-hidden":!0,className:_.asterisk,children:["â€‰","*"]})]}):E]})});var j=g},26627:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/data",function(){return a(99606)}])},64060:function(e,t,a){"use strict";var r=a(85893),n=a(14564),l=a(23972);a(67294),t.Z=e=>{let{anchorEl:t,handleClose:a}=e,s=!!t;return(0,r.jsx)(n.ZP,{sx:{ml:1},id:s?"simple-popover":void 0,open:s,anchorEl:t,onClose:a,anchorOrigin:{vertical:"center",horizontal:"right"},transformOrigin:{vertical:"center",horizontal:"left"},"data-sentry-element":"Popover","data-sentry-component":"Popper","data-sentry-source-file":"Popper.jsx",children:(0,r.jsx)(l.Z,{sx:{py:1,px:2},"data-sentry-element":"Typography","data-sentry-source-file":"Popper.jsx",children:"Copied to clipboard!"})})}},99606:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return data}});var r=a(82729),n=a(85893),l=a(31002),s=a(65582),o=a(23972),i=a(67358),d=a(38895),c=a(22797),u=a(51233),m=a(57922),p=a(50135),x=a(23795),h=a(16628),f=a(50480),y=a(69368),b=a(74509),v=a(69417),g=a(67294),j=a(95617),Z=a(40238),w=a(61599),S=a(11163),C=a(18972);function useTimeout(e,t){let a=(0,g.useRef)(null),r=(0,g.useRef)(e);return(0,g.useEffect)(()=>{r.current=e},[e]),(0,g.useEffect)(()=>{if("number"==typeof t)return a.current=window.setTimeout(()=>r.current(),t),()=>window.clearTimeout(a.current)},[t]),a}var k=a(91169),Normal=e=>{let{date:t,done:a}=e,[r,l]=(0,g.useState)({days:0,hours:0,minutes:0,seconds:0});(0,g.useEffect)(()=>{l(t)},[t]);let updateTimer=()=>{let{days:e,hours:t,minutes:a,seconds:n}=r;-1==(n-=1)&&(n=59,-1==(a-=1)&&(a=59,-1==(t-=1)&&(t=0,e-=1))),l({...r,days:e,hours:t,minutes:a,seconds:n})};return(0,k.Z)(()=>{updateTimer()},1e3),(0,n.jsx)("div",{"data-sentry-component":"NormalTimer","data-sentry-source-file":"Normal.jsx",children:a?(0,n.jsx)(o.Z,{variant:"body2",children:"00:00:00"}):(0,n.jsxs)(o.Z,{variant:"body2",children:[String(r.hours).padStart(2,"0"),":",String(r.minutes).padStart(2,"0"),":",String(r.seconds).padStart(2,"0")]})})},I=a(40929),P=a(24228),T=a(61436),R=a(82490),M=a(58437),N=a(70983),L=a(2962),D=a(88169),_=(0,D.Z)((0,n.jsx)("path",{d:"m10 17 5-5-5-5z"}),"ArrowRight"),O=a(93946),U=a(27709),W=(0,D.Z)((0,n.jsx)("path",{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8z"}),"ArrowUpward"),E=a(64060),$=a(65298),G=a(13250),z=a(6571),J=a(23663);function _templateObject(){let e=(0,r._)(["\n  text-transform: none;\n"]);return _templateObject=function(){return e},e}let A=(0,w.Z)(v.Z)(_templateObject());var data=()=>{var e,t,a,r;let w=(0,S.useRouter)(),k=(0,J.a)(),{state:D}=(0,g.useContext)(M.I),[F,B]=(0,g.useState)("all"),[q,H]=(0,g.useState)(null),[V,X]=(0,g.useState)(!1),[Y,Q]=(0,g.useState)(!1),[K,ee]=(0,g.useState)(!1),[et,ea]=(0,g.useState)(!1),[er,en]=(0,g.useState)(!1),[el,es]=(0,g.useState)(""),[eo,ei]=(0,g.useState)(!1),ed=(0,l.Z)("(min-width: 1200px)",{noSsr:!0}),ec=(0,l.Z)("(min-width: 850px)",{noSsr:!0});(0,g.useEffect)(()=>{(null==D?void 0:D.uid)&&(Q(localStorage.getItem("".concat(null==D?void 0:D.uid,"/lastUpload"))),en("true"===localStorage.getItem("".concat(null==D?void 0:D.uid,"/leaderboardConsent"))))},[null==D?void 0:D.uid]),(0,g.useEffect)(()=>{Y&&ee(144e5-(Date.now()-Y)>0)},[Y]);let handleCopyITRaw=async e=>{try{H(e.currentTarget),await navigator.clipboard.writeText(JSON.stringify((0,$.tryToParse)(localStorage.getItem("rawJson")),null,2))}catch(e){console.error(e)}},handleCopyRaw=async e=>{try{H(e.currentTarget);let t=JSON.parse(localStorage.getItem("rawJson"));await navigator.clipboard.writeText(JSON.stringify(null==t?void 0:t.data,null,2))}catch(e){console.error(e)}},handleUpdate=async()=>{let e=JSON.parse(localStorage.getItem("rawJson"));delete e.data.GemsOwned,delete e.data.ServerGems,delete e.data.ServerGemsReceived,delete e.data.BundlesReceived,delete e.data.GemsPacksPurchased;let t=(0,R.Zu)(null==D?void 0:D.account,null==D?void 0:D.characters);if(ea(!1),!Y||144e5-(Date.now()-Y)<0){X(!0);try{await (0,R.UQ)({profile:{...e,parsedData:t},uid:null==D?void 0:D.uid,leaderboardConsent:er},null==D?void 0:D.accessToken),ea(!0);let a=Date.now();localStorage.setItem("".concat(null==D?void 0:D.uid,"/lastUpload"),a),Q(a)}catch(e){es(e)}X(!1)}};return useTimeout(()=>{H(null)},q?1e3:null),(0,n.jsxs)(s.Z,{"data-sentry-element":"Container","data-sentry-component":"Data","data-sentry-source-file":"data.jsx",children:[(0,n.jsx)(L.PB,{title:"Data | Idleon Toolbox",description:"Website settings and profile management","data-sentry-element":"NextSeo","data-sentry-source-file":"data.jsx"}),(0,n.jsxs)("div",{children:[(0,n.jsx)(o.Z,{variant:"h4","data-sentry-element":"Typography","data-sentry-source-file":"data.jsx",children:"Data"}),(0,n.jsx)(o.Z,{variant:"body1","data-sentry-element":"Typography","data-sentry-source-file":"data.jsx",children:"Use this when asked for data"}),(0,n.jsx)(A,{sx:{mb:2},component:"span",variant:"outlined",startIcon:(0,n.jsx)(j.Z,{}),onClick:handleCopyITRaw,"data-sentry-element":"ButtonStyle","data-sentry-source-file":"data.jsx",children:"IdleonToolbox JSON"}),(0,n.jsxs)(i.Z,{disableGutters:!0,sx:{maxWidth:500,"&:before":{display:"none"},border:"1px solid ".concat(k.palette.divider),"&:not(:last-child)":{borderBottom:0}},"data-sentry-element":"Accordion","data-sentry-source-file":"data.jsx",children:[(0,n.jsx)(d.Z,{expandIcon:(0,n.jsx)(z.Z,{}),"data-sentry-element":"AccordionSummary","data-sentry-source-file":"data.jsx",children:"Advanced"}),(0,n.jsxs)(c.Z,{sx:{backgroundColor:"rgb(22, 22, 22)",p:3},"data-sentry-element":"AccordionDetails","data-sentry-source-file":"data.jsx",children:[(0,n.jsxs)(u.Z,{direction:"row",alignItems:"center","data-sentry-element":"Stack","data-sentry-source-file":"data.jsx",children:[(0,n.jsx)(A,{sx:{textTransform:"none",fontSize:12},variant:"outlined",startIcon:(0,n.jsx)(j.Z,{}),size:"small",onClick:handleCopyRaw,"data-sentry-element":"ButtonStyle","data-sentry-source-file":"data.jsx",children:"Raw Game JSON"}),(0,n.jsx)(O.Z,{onClick:()=>ei(!eo),"data-sentry-element":"IconButton","data-sentry-source-file":"data.jsx",children:(0,n.jsx)(_,{style:{transform:eo?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.2s ease-in-out"},"data-sentry-element":"ArrowRightIcon","data-sentry-source-file":"data.jsx"})})]}),(0,n.jsx)(m.Z,{in:eo,"data-sentry-element":"Collapse","data-sentry-source-file":"data.jsx",children:(0,n.jsx)("div",{style:{whiteSpace:"pre-wrap",overflowWrap:"break-word"},children:JSON.stringify(JSON.parse(localStorage.getItem("rawJson")),null,2)})})]})]}),(0,n.jsx)(E.Z,{anchorEl:q,handleClose:()=>H(null),"data-sentry-element":"Popper","data-sentry-source-file":"data.jsx"})]}),(0,n.jsx)(o.Z,{variant:"h4",mt:8,"data-sentry-element":"Typography","data-sentry-source-file":"data.jsx",children:"Local Storage"}),(0,n.jsx)(o.Z,{component:"div",variant:"caption",mb:2,color:"warning.light","data-sentry-element":"Typography","data-sentry-source-file":"data.jsx",children:"Use this if you're having any issues loading the website"}),(0,n.jsx)("div",{children:(0,n.jsxs)(u.Z,{direction:"row",gap:2,"data-sentry-element":"Stack","data-sentry-source-file":"data.jsx",children:[(0,n.jsxs)(p.Z,{sx:{width:250},label:"Local storage key",select:!0,value:F,onChange:e=>B(e.target.value),"data-sentry-element":"TextField","data-sentry-source-file":"data.jsx",children:[(0,n.jsx)(C.Z,{value:"all","data-sentry-element":"MenuItem","data-sentry-source-file":"data.jsx",children:"All"}),(0,n.jsx)(C.Z,{value:"filters","data-sentry-element":"MenuItem","data-sentry-source-file":"data.jsx",children:"Characters page filters"}),(0,n.jsx)(C.Z,{value:"trackers","data-sentry-element":"MenuItem","data-sentry-source-file":"data.jsx",children:"Dashboard config"}),(0,n.jsx)(C.Z,{value:"planner","data-sentry-element":"MenuItem","data-sentry-source-file":"data.jsx",children:"Item Planner"}),(0,n.jsx)(C.Z,{value:"material-tracker","data-sentry-element":"MenuItem","data-sentry-source-file":"data.jsx",children:"Material tracker"}),(0,n.jsx)(C.Z,{value:"last-upload-time","data-sentry-element":"MenuItem","data-sentry-source-file":"data.jsx",children:"Last upload time"}),(0,n.jsx)(C.Z,{value:"pinnedPages","data-sentry-element":"MenuItem","data-sentry-source-file":"data.jsx",children:"Pinned Pages"})]}),(0,n.jsx)(A,{color:"warning",variant:"outlined",onClick:()=>{if("all"===F){let e=Object.keys(localStorage);e.forEach(e=>{e.includes("lastUpload")||localStorage.removeItem(e)})}else"last-upload-time"===F?(localStorage.removeItem("".concat(null==D?void 0:D.uid,"/lastUpload")),Q(!1)):localStorage.removeItem(F);w.reload()},startIcon:(0,n.jsx)(Z.Z,{}),"data-sentry-element":"ButtonStyle","data-sentry-source-file":"data.jsx",children:"Clear"})]})}),!w.query.profile&&(null==D?void 0:D.characters)?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.Z,{variant:"h4",mt:8,children:"Profile"}),(0,n.jsx)(o.Z,{variant:"body1",children:"* You can update your profile once every 4 hours"}),(0,n.jsx)(o.Z,{variant:"body1",mb:3,children:"* Gems and bundle information won't be saved"}),(0,n.jsxs)(o.Z,{variant:"body1",mb:3,children:["* Your profile link: ",(0,n.jsxs)(x.Z,{href:"https://idleontoolbox.com/?profile=".concat(null==D?void 0:null===(t=D.characters)||void 0===t?void 0:null===(e=t[0])||void 0===e?void 0:e.name),children:["https://idleontoolbox.com/?profile=",null==D?void 0:null===(r=D.characters)||void 0===r?void 0:null===(a=r[0])||void 0===a?void 0:a.name]})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)(u.Z,{direction:"row",alignItems:"center",gap:2,children:[(0,n.jsx)(v.Z,{disabled:K,loading:V,onClick:handleUpdate,variant:"contained",children:"Upload my profile"}),(0,n.jsx)(h.Z,{in:et,children:(0,n.jsx)(N.Z,{color:"success"})})]}),(0,n.jsx)(f.Z,{control:(0,n.jsx)(y.Z,{name:"mini",checked:er,size:"small",onChange:e=>{localStorage.setItem("".concat(null==D?void 0:D.uid,"/leaderboardConsent"),!er),en(!er)}}),label:"Participate in idleontoolbox leaderboard ranking"}),(0,n.jsx)(b.Z,{sx:{whiteSpace:"pre-wrap"},children:"Leave this box unchecked if you prefer not to participate in the leaderboard.\nTo exclude your profile, simply uncheck the box and re-upload your profile."}),(0,n.jsx)(o.Z,{sx:{mt:1},color:"error",variant:"body2",children:el}),(0,T.Z)(parseInt(Y))?(0,n.jsxs)(o.Z,{sx:{mt:3},variant:"body2",children:["Last update: ",(0,I.Z)(parseInt(Y),"dd/MM/yyyy HH:mm:ss")]}):null,Y?(0,n.jsxs)(u.Z,{direction:"row",alignItems:"center",gap:1,children:[Y?(0,n.jsx)(o.Z,{variant:"body2",children:"Time to next upload: "}):null,Y?(0,n.jsx)(Normal,{done:144e5-(Date.now()-Y)<0,date:(0,P.Z)({start:new Date(parseInt(Y)),end:new Date().getTime()-144e5})}):null]}):null]})]}):null,eo?(0,n.jsx)(U.Z,{sx:{position:"fixed",right:50,bottom:95},children:(0,n.jsx)(O.Z,{onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},size:"large",children:(0,n.jsx)(W,{})})}):null,ed||ec?(0,n.jsxs)(U.Z,{sx:{backgroundColor:$.isProd?"":"#d73333",width:ed?300:ec?160:0,height:600,position:"absolute",top:150,right:100},children:[$.isProd&&ed?(0,n.jsx)(G.a,{client:"ca-pub-1842647313167572",slot:"9767369641"}):null,$.isProd&&ec&&!ed?(0,n.jsx)(G.a,{client:"ca-pub-1842647313167572",slot:"7851151731"}):null]}):null]})}}},function(e){e.O(0,[2179,9774,2888,179],function(){return e(e.s=26627)}),_N_E=e.O()}]);