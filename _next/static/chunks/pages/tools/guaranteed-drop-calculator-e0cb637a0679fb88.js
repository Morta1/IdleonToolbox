(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[95],{21200:function(l,e,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tools/guaranteed-drop-calculator",function(){return i(17e3)}])},17e3:function(l,e,i){"use strict";i.r(e);var a=i(85893),t=i(67294),n=i(12957),r=i(51233),o=i(417),s=i(87918),u=i(23972),d=i(50135),c=i(69417),h=i(30925),p=i(70473);let m=(0,n.D)({trim:!0,limit:250});e.default=()=>{let[l,e]=(0,t.useState)(null),i=(0,t.useMemo)(()=>Object.values(p.monsterDrops).flat().filter(l=>{var e;return(null==l?void 0:l.rawName)!=="COIN"&&!(null==l?void 0:null===(e=l.rawName)||void 0===e?void 0:e.includes("DungCredits"))&&(null==l?void 0:l.chance)>0}),[]),[n,v]=(0,t.useState)({dropRate:"",killsWithMultikill:"",multiKillBonus:""}),[g,k]=(0,t.useState)({}),[x,N]=(0,t.useState)([]),handleChange=l=>{let{target:e}=l,{name:i,value:a}=e,t=a.replace(/,/g,"");k(l=>({...l,[i]:!1})),v(l=>({...l,[i]:(0,h.numberWithCommas)(t)}))};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(r.Z,{direction:"row",gap:1,flexWrap:"wrap",alignItems:"center",children:[(0,a.jsx)(o.Z,{id:"drop calc",value:l,onChange:(l,i)=>{e(i),k({...g,material:!1})},options:[...i],filterSelectedOptions:!0,filterOptions:m,getOptionLabel:l=>{var e;return(null==l?void 0:l.displayName)?null==l?void 0:null===(e=l.displayName)||void 0===e?void 0:e.replace(/_/g," "):""},sx:{width:300},renderTags:(l,e)=>l.map((l,i)=>{var t;return(0,a.jsx)(s.Z,{icon:(0,a.jsx)("img",{width:24,height:24,src:"".concat(h.prefix,"data/").concat(null==l?void 0:l.rawName,".png"),alt:""}),label:null==l?void 0:null===(t=l.displayName)||void 0===t?void 0:t.replace(/_/g," "),...e({index:i})},i)}),renderOption:(l,e)=>{var i;return e?(0,t.createElement)(r.Z,{...l,key:l.id,sx:{alignItems:"flex-start !important"},children:[(0,a.jsxs)(r.Z,{direction:"row",gap:2,children:[(0,a.jsx)("img",{width:24,height:24,src:"".concat(h.prefix,"data/").concat(null==e?void 0:e.rawName,".png"),alt:""},"img-".concat(l.id)),(0,a.jsxs)(u.Z,{children:[null==e?void 0:null===(i=e.displayName)||void 0===i?void 0:i.replace(/_/g," ")," (1 / ",Math.ceil(1/(null==e?void 0:e.chance)),")"]},"text-".concat(l.id))]}),(0,a.jsx)(u.Z,{variant:"caption",children:(0,h.cleanUnderscore)(null==e?void 0:e.monsterDisplayName)})]}):null},renderInput:l=>(0,a.jsx)(d.Z,{...l,size:"small",error:null==g?void 0:g.material,label:"Material name",variant:"outlined"})}),(0,a.jsx)(d.Z,{size:"small",error:null==g?void 0:g.dropRate,onChange:handleChange,name:"dropRate",value:n.dropRate,label:"Drop rate"}),(0,a.jsx)(d.Z,{size:"small",error:null==g?void 0:g.killsWithMultikill,onChange:handleChange,name:"killsWithMultikill",value:n.killsWithMultikill,label:"Kills with multi kill"}),(0,a.jsx)(d.Z,{size:"small",error:null==g?void 0:g.multiKillBonus,onChange:handleChange,name:"multiKillBonus",value:n.multiKillBonus,label:"Multikill bonus %"}),(0,a.jsx)(c.Z,{variant:"contained",onClick:()=>{var e,i,a;let t={};l||(t.material=!0);let r=parseFloat(null===(e=n.dropRate)||void 0===e?void 0:e.replace(/,/g,"")),o=parseFloat(null===(i=n.killsWithMultikill)||void 0===i?void 0:i.replace(/,/g,"")),s=parseFloat(null===(a=n.multiKillBonus)||void 0===a?void 0:a.replace(/,/g,""));if((isNaN(r)||""===n.dropRate)&&(t.dropRate=!0),(isNaN(o)||""===n.killsWithMultikill)&&(t.killsWithMultikill=!0),(isNaN(s)||""===n.multiKillBonus)&&(t.multiKillBonus=!0),(null==t?void 0:t.material)||t.dropRate||t.killsWithMultikill||t.multiKillBonus){k(t);return}let u=Math.round(o/(1+s/100))*parseFloat(null==l?void 0:l.chance)*r;if(!isNaN(u)){let l=[2,2.51,3.51,4.51,5.51,6.51,7.51,8.51,9.51];N([2,3,4,5,6,7,8,9,10].map((e,i)=>({breakpoint:e,hours:l[i]/u})))}},children:"Run"})]}),(0,a.jsx)(u.Z,{variant:"caption",children:"* This does not include values from the 2x kills lab bonus or the god bonus in W5 (divide the kills input by 4 if both bonuses apply), kill-per-kill talents, prayers, or bubbles."}),(null==x?void 0:x.length)>0?(0,a.jsxs)(r.Z,{mt:2,children:[(0,a.jsx)(u.Z,{variant:"h6",children:"Results"}),x.map(l=>{let{breakpoint:e,hours:i}=l;return(0,a.jsx)(r.Z,{children:(0,a.jsxs)(u.Z,{children:["x",e," drop in ",(0,h.notateNumber)(i,"MultiplierInfo")," hours"]})},"result-"+e)})]}):null,"    "]})}}},function(l){l.O(0,[417,9774,2888,179],function(){return l(l.s=21200)}),_N_E=l.O()}]);