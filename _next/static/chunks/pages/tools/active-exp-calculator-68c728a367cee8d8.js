!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="b062246f-6304-48b9-baec-6ab5def000ec",e._sentryDebugIdIdentifier="sentry-dbid-b062246f-6304-48b9-baec-6ab5def000ec")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6584],{32561:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tools/active-exp-calculator",function(){return n(64534)}])},64534:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return active_exp_calculator}});var l=n(82729),r=n(85893),a=n(67294),i=n(65298),o=n(61599),u=n(51233),s=n(23972),c=n(50135),d=n(18972),p=(0,n(88169).Z)((0,r.jsx)("path",{d:"m10 16.5 6-4.5-6-4.5zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"}),"PlayCircleOutline"),m=n(93946),v=n(58437),f="undefined"==typeof window?a.useEffect:a.useLayoutEffect,I=({isPlaying:e,duration:t,startAt:n=0,updateInterval:l=0,onComplete:r,onUpdate:i})=>{let[o,u]=(0,a.useState)(n),s=(0,a.useRef)(0),c=(0,a.useRef)(n),d=(0,a.useRef)(-1e3*n),p=(0,a.useRef)(null),m=(0,a.useRef)(null),v=(0,a.useRef)(null),h=e=>{let n=e/1e3;if(null===m.current){m.current=n,p.current=requestAnimationFrame(h);return}let r=n-m.current,a=s.current+r;m.current=n,s.current=a;let i=c.current+(0===l?a:(a/l|0)*l),o=c.current+a,d="number"==typeof t&&o>=t;u(d?t:i),d||(p.current=requestAnimationFrame(h))},y=()=>{p.current&&cancelAnimationFrame(p.current),v.current&&clearTimeout(v.current),m.current=null},g=(0,a.useCallback)(t=>{y(),s.current=0;let l="number"==typeof t?t:n;c.current=l,u(l),e&&(p.current=requestAnimationFrame(h))},[e,n]);return f(()=>{if(null==i||i(o),t&&o>=t){d.current+=1e3*t;let{shouldRepeat:e=!1,delay:n=0,newStartAt:l}=(null==r?void 0:r(d.current/1e3))||{};e&&(v.current=setTimeout(()=>g(l),1e3*n))}},[o,t]),f(()=>(e&&(p.current=requestAnimationFrame(h)),y),[e,t,l]),{elapsedTime:o,reset:g}},A=(e,t,n)=>{let l=e/2,r=t/2,a=l-r,i=2*a,o="clockwise"===n?"1,0":"0,1";return{path:`m ${l},${r} a ${a},${a} 0 ${o} 0,${i} a ${a},${a} 0 ${o} 0,-${i}`,pathLength:2*Math.PI*a}},$=(e,t)=>0===e||e===t?0:"number"==typeof t?e-t:0,T=e=>({position:"relative",width:e,height:e}),g={display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",left:0,top:0,width:"100%",height:"100%"},G=(e,t,n,l)=>0===l?t:t+n*(e/l),F=e=>{var t,n;return null!=(n=null==(t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(e,t,n,l)=>`#${t}${t}${n}${n}${l}${l}`).substring(1).match(/.{2}/g))?void 0:t.map(e=>parseInt(e,16)))?n:[]},j=(e,t)=>{var n;let{colors:l,colorsTime:r,isSmoothColorTransition:a=!0}=e;if("string"==typeof l)return l;let i=null!=(n=null==r?void 0:r.findIndex((e,n)=>e>=t&&t>=r[n+1]))?n:-1;if(!r||-1===i)return l[0];if(!a)return l[i];let o=r[i]-t,u=r[i]-r[i+1],s=F(l[i]),c=F(l[i+1]);return`rgb(${s.map((e,t)=>0|G(o,e,c[t]-e,u)).join(",")})`},x=e=>{let{duration:t,initialRemainingTime:n,updateInterval:l,size:r=180,strokeWidth:i=12,trailStrokeWidth:o,isPlaying:u=!1,rotation:s="clockwise",onComplete:c,onUpdate:d}=e,p=(0,a.useRef)(),{path:m,pathLength:v}=A(r,Math.max(i,null!=o?o:0),s),{elapsedTime:f}=I({isPlaying:u,duration:t,startAt:$(t,n),updateInterval:l,onUpdate:"function"==typeof d?e=>{let n=Math.ceil(t-e);n!==p.current&&(p.current=n,d(n))}:void 0,onComplete:"function"==typeof c?e=>{var n;let{shouldRepeat:l,delay:r,newInitialRemainingTime:a}=null!=(n=c(e))?n:{};if(l)return{shouldRepeat:l,delay:r,newStartAt:$(t,a)}}:void 0}),g=t-f;return{elapsedTime:f,path:m,pathLength:v,remainingTime:Math.ceil(g),rotation:s,size:r,stroke:j(e,g),strokeDashoffset:G(f,0,v,t),strokeWidth:i}},W=e=>{let{children:t,strokeLinecap:n,trailColor:l,trailStrokeWidth:r}=e,{path:i,pathLength:o,stroke:u,strokeDashoffset:s,remainingTime:c,elapsedTime:d,size:p,strokeWidth:m}=x(e);return a.createElement("div",{style:T(p)},a.createElement("svg",{width:p,height:p,xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:i,fill:"none",stroke:null!=l?l:"#d9d9d9",strokeWidth:null!=r?r:m}),a.createElement("path",{d:i,fill:"none",stroke:u,strokeLinecap:null!=n?n:"round",strokeWidth:m,strokeDasharray:o,strokeDashoffset:s})),"function"==typeof t&&a.createElement("div",{style:g},t({remainingTime:c,elapsedTime:d,color:u})))};W.displayName="CountdownCircleTimer";var b=n(2962),w=n(27709);function _templateObject(){let e=(0,l._)(["\n  && {\n    width: 230px;\n\n    .MuiSelect-select {\n      display: flex;\n      align-items: center;\n      gap: 15px;\n    }\n\n    label.Mui-focused {\n      color: rgba(255, 255, 255, 0.7);\n    }\n  }\n"]);return _templateObject=function(){return e},e}function _templateObject1(){let e=(0,l._)(["\n  && {\n    display: flex;\n    gap: 15px\n  }\n"]);return _templateObject1=function(){return e},e}function _templateObject2(){let e=(0,l._)(["\n  .selection {\n    display: flex;\n    align-items: baseline;\n    gap: 15px;\n  }\n\n\n  .wrapper {\n    display: flex;\n    gap: 50px;\n  }\n\n  .character-wrapper {\n    margin-top: 30px;\n    display: flex;\n    flex-direction: column;\n    gap: 30px;\n  }\n\n  .timer {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    color: white;\n  }\n\n  .text {\n    color: white;\n  }\n\n  .value {\n    font-size: 40px;\n  }\n\n  .info {\n    max-width: 360px;\n    margin: 40px auto 0;\n    text-align: center;\n    font-size: 16px;\n  }\n"]);return _templateObject2=function(){return e},e}let getExpToLevel=(e,t)=>{let n=0;for(let l=null==e?void 0:e.level;l<t;l++)n+=(15+Math.pow(l,1.9)+11*l)*Math.pow(1.208-Math.min(.164,.215*l/(l+100)),l)-15;return n-(null==e?void 0:e.exp)},k=(0,o.Z)(c.Z)(_templateObject()),_=(0,o.Z)(d.Z)(_templateObject1()),C=o.Z.div(_templateObject2());var active_exp_calculator=()=>{let{state:e}=(0,a.useContext)(v.I),[t,n]=(0,a.useState)([]),[l,o]=(0,a.useState)(null),[c,d]=(0,a.useState)(0),[f,g]=(0,a.useState)(0),[E,S]=(0,a.useState)(0),[R,P]=(0,a.useState)(0),[L,N]=(0,a.useState)(!1),[O,M]=(0,a.useState)(0),[Z,q]=(0,a.useState)(null);(0,a.useEffect)(()=>{var t;let r=null==e?void 0:null===(t=e.characters)||void 0===t?void 0:t.map(e=>{let{name:t,skillsInfo:n,classIndex:l}=e;return{name:t,classIndex:l,...null==n?void 0:n.character}}),a=null==r?void 0:r[0];o(a),g(((null==a?void 0:a.exp)/(null==a?void 0:a.expReq)*100).toFixed(2)),d(((null==a?void 0:a.exp)/(null==a?void 0:a.expReq)*100).toFixed(2)),S((null==l?void 0:l.level)+1),P(getExpToLevel(a,E)),n(r)},[]),(0,a.useEffect)(()=>{l&&S((null==l?void 0:l.level)+1)},[l]),(0,a.useEffect)(()=>{g(((null==l?void 0:l.exp)/(null==l?void 0:l.expReq)*100).toFixed(2)),d(((null==l?void 0:l.exp)/(null==l?void 0:l.expReq)*100).toFixed(2)),l&&P(getExpToLevel(l,E)),q(null)},[l,E]);let calcTimeToLevelUp=(e,t)=>{let n=R*(parseInt(parseFloat(e).toFixed(2).replace(".",""))/1e4),l=R*(parseInt(parseFloat(t).toFixed(2).replace(".",""))/1e4),r=l-n,a=r/10,o=R/a/60;return{expFarmed:r,expPerMinute:a,expPerHour:60*a,timeLeft:(0,i.splitTime)(o)}},onEndPercentageChange=e=>{d(e);let t=calcTimeToLevelUp(f,e);q((null==t?void 0:t.expFarmed)>0?t:null),(null==t?void 0:t.expFarmed)>0&&q(t)},onStartPercentageChange=e=>{g(e);let t=calcTimeToLevelUp(e,c);q((null==t?void 0:t.expFarmed)>0?t:null),(null==t?void 0:t.expFarmed)>0&&q(t)};return(0,r.jsxs)(C,{"data-sentry-element":"ActiveXpCalculatorStyle","data-sentry-component":"ActiveXpCalculator","data-sentry-source-file":"active-exp-calculator.jsx",children:[(0,r.jsx)(b.PB,{title:"Active Exp Calculator | Idleon Toolbox",description:"Calculate how much experience you get when playing actively","data-sentry-element":"NextSeo","data-sentry-source-file":"active-exp-calculator.jsx"}),l?(0,r.jsxs)(u.Z,{gap:5,flexWrap:"wrap",sx:{flexDirection:{xs:"column-reverse",sm:"row"}},children:[(0,r.jsxs)("div",{className:"character-wrapper",children:[(0,r.jsxs)(u.Z,{direction:"row",alignItems:"center",flexWrap:"wrap",children:[(0,r.jsx)(k,{id:"select",label:"Character",value:l||{},onChange:e=>o(e.target.value),select:!0,children:null==t?void 0:t.map((e,t)=>(0,r.jsxs)(_,{value:e,children:[(0,r.jsx)("img",{src:"".concat(i.prefix,"data/ClassIcons").concat(null==e?void 0:e.classIndex,".png"),alt:""}),null==e?void 0:e.name]},(null==e?void 0:e.name)+t))}),(0,r.jsx)(m.Z,{"aria-label":"start",onClick:()=>{q(null),L?M(e=>e+1):N(!0)},children:(0,r.jsx)(p,{})})]}),(0,r.jsx)(k,{label:"Start Percentage",value:f||0,type:"number",onChange:e=>onStartPercentageChange(e.target.value)}),(0,r.jsx)(k,{label:"End Percentage",value:c||0,type:"number",onChange:e=>onEndPercentageChange(e.target.value)}),(0,r.jsx)(k,{label:"Goal Level",value:E||0,type:"number",helperText:"Remaining exp to level: ".concat((0,i.kFormatter)(R)),inputProps:{min:(null==l?void 0:l.level)+1||0},onChange:e=>S(e.target.value)}),(0,r.jsxs)("div",{className:"details",children:[(0,r.jsxs)("div",{children:["Level: ",null==l?void 0:l.level]}),(0,r.jsxs)("div",{children:["Exp: ",(0,i.kFormatter)(null==l?void 0:l.exp)," / ",(0,i.kFormatter)(null==l?void 0:l.expReq)," (",((null==l?void 0:l.exp)/(null==l?void 0:l.expReq)*100).toFixed(2),"%)"]}),Z?(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{children:"Results"}),(0,r.jsxs)("div",{children:["Exp farmed: ",(0,i.kFormatter)(null==Z?void 0:Z.expFarmed)]}),(0,r.jsxs)("div",{children:["Exp per minute: ",(0,i.kFormatter)(null==Z?void 0:Z.expPerMinute)]}),(0,r.jsxs)("div",{children:["Exp per hour: ",(0,i.kFormatter)(null==Z?void 0:Z.expPerHour)]}),(0,r.jsxs)("div",{children:["Time to lv up: ",null==Z?void 0:Z.timeLeft]})]}):null]})]}),(0,r.jsx)(W,{isPlaying:L,duration:600,colors:[["#15aee1"]],children:e=>{let{remainingTime:t}=e;return 0===t?(0,r.jsx)("div",{className:"timer",children:"Done!"}):(0,r.jsxs)("div",{className:"timer","data-sentry-component":"renderTime","data-sentry-source-file":"active-exp-calculator.jsx",children:[(0,r.jsx)("div",{className:"text",children:"Remaining"}),(0,r.jsx)("div",{className:"value",children:t}),(0,r.jsx)("div",{className:"text",children:"seconds"})]})}},O),(0,r.jsx)(w.Z,{sx:{width:200},children:(0,r.jsx)(s.Z,{variant:"caption",children:"* Start a 10-minute timer. After the timer ends, you will receive a result indicating the progress you've made towards reaching your goal level"})})]}):null]})}}},function(e){e.O(0,[9774,2888,179],function(){return e(e.s=32561)}),_N_E=e.O()}]);