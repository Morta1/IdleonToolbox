!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},l=(new e.Error).stack;l&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[l]="f9c982c6-fbae-47fb-875a-5f9927f5064f",e._sentryDebugIdIdentifier="sentry-dbid-f9c982c6-fbae-47fb-875a-5f9927f5064f")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[95],{21200:function(e,l,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tools/guaranteed-drop-calculator",function(){return t(31942)}])},31942:function(e,l,t){"use strict";t.r(l);var a=t(85893),i=t(67294),n=t(21785),r=t(51233),o=t(417),s=t(87918),d=t(23972),u=t(50135),c=t(83321),p=t(65298),h=t(94978);let m=(0,n.D)({trim:!0,limit:250});l.default=()=>{let[e,l]=(0,i.useState)(null),t=(0,i.useMemo)(()=>Object.values(h.monsterDrops).flat().filter(e=>{var l;return(null==e?void 0:e.rawName)!=="COIN"&&!(null==e?void 0:null===(l=e.rawName)||void 0===l?void 0:l.includes("DungCredits"))&&(null==e?void 0:e.chance)>0}),[]),[n,v]=(0,i.useState)({dropRate:"",killsWithMultikill:"",multiKillBonus:""}),[f,g]=(0,i.useState)({}),[x,y]=(0,i.useState)([]),handleChange=e=>{let{target:l}=e,{name:t,value:a}=l,i=a.replace(/,/g,"");g(e=>({...e,[t]:!1})),v(e=>({...e,[t]:(0,p.numberWithCommas)(i)}))};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(r.Z,{direction:"row",gap:1,flexWrap:"wrap",alignItems:"center","data-sentry-element":"Stack","data-sentry-source-file":"guaranteed-drop-calculator.jsx",children:[(0,a.jsx)(o.Z,{id:"drop calc",value:e,onChange:(e,t)=>{l(t),g({...f,material:!1})},options:[...t],filterSelectedOptions:!0,filterOptions:m,getOptionLabel:e=>{var l;return(null==e?void 0:e.displayName)?null==e?void 0:null===(l=e.displayName)||void 0===l?void 0:l.replace(/_/g," "):""},sx:{width:300},renderTags:(e,l)=>e.map((e,t)=>{var i;return(0,a.jsx)(s.Z,{icon:(0,a.jsx)("img",{width:24,height:24,src:"".concat(p.prefix,"data/").concat(null==e?void 0:e.rawName,".png"),alt:""}),label:null==e?void 0:null===(i=e.displayName)||void 0===i?void 0:i.replace(/_/g," "),...l({index:t})},t)}),renderOption:(e,l)=>{var t;return l?(0,i.createElement)(r.Z,{...e,key:e.id,sx:{alignItems:"flex-start !important"},children:[(0,a.jsxs)(r.Z,{direction:"row",gap:2,children:[(0,a.jsx)("img",{width:24,height:24,src:"".concat(p.prefix,"data/").concat(null==l?void 0:l.rawName,".png"),alt:""},"img-".concat(e.id)),(0,a.jsxs)(d.Z,{children:[null==l?void 0:null===(t=l.displayName)||void 0===t?void 0:t.replace(/_/g," ")," (1 / ",Math.ceil(1/(null==l?void 0:l.chance)),")"]},"text-".concat(e.id))]}),(0,a.jsx)(d.Z,{variant:"caption",children:(0,p.cleanUnderscore)(null==l?void 0:l.monsterDisplayName)})]}):null},renderInput:e=>(0,a.jsx)(u.Z,{...e,error:null==f?void 0:f.material,label:"Material name",variant:"outlined"}),"data-sentry-element":"Autocomplete","data-sentry-source-file":"guaranteed-drop-calculator.jsx"}),(0,a.jsx)(u.Z,{error:null==f?void 0:f.dropRate,onChange:handleChange,name:"dropRate",value:n.dropRate,label:"Drop rate","data-sentry-element":"TextField","data-sentry-source-file":"guaranteed-drop-calculator.jsx"}),(0,a.jsx)(u.Z,{error:null==f?void 0:f.killsWithMultikill,onChange:handleChange,name:"killsWithMultikill",value:n.killsWithMultikill,label:"Kills with multi kill","data-sentry-element":"TextField","data-sentry-source-file":"guaranteed-drop-calculator.jsx"}),(0,a.jsx)(u.Z,{error:null==f?void 0:f.multiKillBonus,onChange:handleChange,name:"multiKillBonus",value:n.multiKillBonus,label:"Multikill bonus %","data-sentry-element":"TextField","data-sentry-source-file":"guaranteed-drop-calculator.jsx"}),(0,a.jsx)(c.Z,{variant:"contained",onClick:()=>{var l,t,a;let i={};e||(i.material=!0);let r=parseFloat(null===(l=n.dropRate)||void 0===l?void 0:l.replace(/,/g,"")),o=parseFloat(null===(t=n.killsWithMultikill)||void 0===t?void 0:t.replace(/,/g,"")),s=parseFloat(null===(a=n.multiKillBonus)||void 0===a?void 0:a.replace(/,/g,""));if((isNaN(r)||""===n.dropRate)&&(i.dropRate=!0),(isNaN(o)||""===n.killsWithMultikill)&&(i.killsWithMultikill=!0),(isNaN(s)||""===n.multiKillBonus)&&(i.multiKillBonus=!0),(null==i?void 0:i.material)||i.dropRate||i.killsWithMultikill||i.multiKillBonus){g(i);return}let d=Math.round(o/(1+s/100))*parseFloat(null==e?void 0:e.chance)*r;if(!isNaN(d)){let e=[2,2.51,3.51,4.51,5.51,6.51,7.51,8.51,9.51];y([2,3,4,5,6,7,8,9,10].map((l,t)=>({breakpoint:l,hours:e[t]/d})))}},"data-sentry-element":"Button","data-sentry-source-file":"guaranteed-drop-calculator.jsx",children:"Run"})]}),(0,a.jsx)(d.Z,{variant:"caption","data-sentry-element":"Typography","data-sentry-source-file":"guaranteed-drop-calculator.jsx",children:"* This does not include values from the 2x kills lab bonus or the god bonus in W5 (divide the kills input by 4 if both bonuses apply), kill-per-kill talents, prayers, or bubbles."}),(null==x?void 0:x.length)>0?(0,a.jsxs)(r.Z,{mt:2,children:[(0,a.jsx)(d.Z,{variant:"h6",children:"Results"}),x.map(e=>{let{breakpoint:l,hours:t}=e;return(0,a.jsx)(r.Z,{children:(0,a.jsxs)(d.Z,{children:["x",l," drop in ",(0,p.notateNumber)(t,"MultiplierInfo")," hours"]})},"result-"+l)})]}):null,"    "]})}}},function(e){e.O(0,[417,9774,2888,179],function(){return e(e.s=21200)}),_N_E=e.O()}]);