!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="dc1837d4-22f6-4d9f-a9b6-71e36672cb6f",e._sentryDebugIdIdentifier="sentry-dbid-dc1837d4-22f6-4d9f-a9b6-71e36672cb6f")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2731],{72428:function(e,t,n){"use strict";var l=n(88169),i=n(85893);t.Z=(0,l.Z)((0,i.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add")},36278:function(e,t,n){"use strict";var l=n(88169),i=n(85893);t.Z=(0,l.Z)((0,i.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteForever")},87109:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var l,i=n(67294),a=n(90512),r=n(94780),o=n(98216),s=n(23972),d=n(47167),c=n(74423),u=n(90948),m=n(16694),p=n(28628),v=n(1588),x=n(34867);function getInputAdornmentUtilityClass(e){return(0,x.ZP)("MuiInputAdornment",e)}let y=(0,v.Z)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var h=n(85893);let useUtilityClasses=e=>{let{classes:t,disablePointerEvents:n,hiddenLabel:l,position:i,size:a,variant:s}=e,d={root:["root",n&&"disablePointerEvents",i&&`position${(0,o.Z)(i)}`,s,l&&"hiddenLabel",a&&`size${(0,o.Z)(a)}`]};return(0,r.Z)(d,getInputAdornmentUtilityClass,t)},j=(0,u.ZP)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,t[`position${(0,o.Z)(n.position)}`],!0===n.disablePointerEvents&&t.disablePointerEvents,t[n.variant]]}})((0,m.Z)(({theme:e})=>({display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${y.positionStart}&:not(.${y.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}))),f=i.forwardRef(function(e,t){let n=(0,p.i)({props:e,name:"MuiInputAdornment"}),{children:r,className:o,component:u="div",disablePointerEvents:m=!1,disableTypography:v=!1,position:x,variant:y,...f}=n,g=(0,c.Z)()||{},Z=y;y&&g.variant,g&&!Z&&(Z=g.variant);let b={...n,hiddenLabel:g.hiddenLabel,size:g.size,disablePointerEvents:m,position:x,variant:Z},w=useUtilityClasses(b);return(0,h.jsx)(d.Z.Provider,{value:null,children:(0,h.jsx)(j,{as:u,ownerState:b,className:(0,a.Z)(w.root,o),ref:t,...f,children:"string"!=typeof r||v?(0,h.jsxs)(i.Fragment,{children:["start"===x?l||(l=(0,h.jsx)("span",{className:"notranslate","aria-hidden":!0,children:"â€‹"})):null,r]}):(0,h.jsx)(s.Z,{color:"textSecondary",children:r})})})});var g=f},65600:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tools/item-planner",function(){return n(89393)}])},89393:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return item_planner}});var l=n(82729),i=n(85893),a=n(67294),r=n(94978),o=n(12957),s=n(23972),d=n(51233),c=n(50135),u=n(87109),m=n(94054),p=n(40476),v=n(91050),x=n(50480),y=n(49033),h=n(67358),j=n(38895),f=n(22797),g=n(417),Z=n(19529),b=n(50657),w=n(37645),I=n(6514),C=n(90512),N=n(94780),_=n(14136),S=n(90948),k=n(28628),T=n(1588),A=n(34867);function getDialogContentTextUtilityClass(e){return(0,A.ZP)("MuiDialogContentText",e)}(0,T.Z)("MuiDialogContentText",["root"]);let useUtilityClasses=e=>{let{classes:t}=e,n=(0,N.Z)({root:["root"]},getDialogContentTextUtilityClass,t);return{...t,...n}},O=(0,S.ZP)(s.Z,{shouldForwardProp:e=>(0,_.Z)(e)||"classes"===e,name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Q=a.forwardRef(function(e,t){let n=(0,k.i)({props:e,name:"MuiDialogContentText"}),{children:l,className:a,...r}=n,o=useUtilityClasses(r);return(0,i.jsx)(O,{component:"p",variant:"body1",color:"textSecondary",ref:t,ownerState:r,className:(0,C.Z)(o.root,a),...n,classes:o})});var M=n(31425),L=n(69368),E=n(58437),F=n(65298),D=n(69417),P=n(34500),z=n(93946),R=n(6571),U=n(88169),W=(0,U.Z)((0,i.jsx)("path",{d:"M19 13H5v-2h14z"}),"Remove"),H=(0,U.Z)((0,i.jsx)("path",{d:"M12 5V2L8 6l4 4V7c3.31 0 6 2.69 6 6 0 2.97-2.17 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93 0-4.42-3.58-8-8-8m-6 8c0-1.65.67-3.15 1.76-4.24L6.34 7.34C4.9 8.79 4 10.79 4 13c0 4.08 3.05 7.44 7 7.93v-2.02c-2.83-.48-5-2.94-5-5.91"}),"RestartAlt"),q=n(72428),V=n(36278),B=n(61599),$=n(74612),G=n(66242),X=n(44267);function _templateObject(){let e=(0,l._)(["\n  width: 40px;\n"]);return _templateObject=function(){return e},e}let J=B.Z.img(_templateObject()),OwnerTooltip=e=>{let{itemName:t,owners:n}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.Z,{fontWeight:"bold",variant:"h5","data-sentry-element":"Typography","data-sentry-source-file":"ItemsList.jsx",children:(0,F.cleanUnderscore)(t)}),(0,i.jsx)(d.Z,{"data-sentry-element":"Stack","data-sentry-source-file":"ItemsList.jsx",children:(0,i.jsx)(d.Z,{direction:"row","data-sentry-element":"Stack","data-sentry-source-file":"ItemsList.jsx",children:(null==n?void 0:n.length)>0?null==n?void 0:n.map((e,t)=>(0,i.jsx)("div",{children:(0,i.jsxs)(s.Z,{children:[e,"\xa0"]})},t+""+e)):(0,i.jsx)(s.Z,{children:"None"})})})]})};var item_planner_ItemsList=e=>{var t;let{account:n,inventoryItems:l,itemsList:o=[],copies:c=1,itemDisplay:u}=e,mapItems=(e,t)=>null==e?void 0:e.reduce((e,i)=>{var a,o,s;let d,c;if((null==i?void 0:i.itemName)==="Dungeon_Credits_Flurbo_Edition")d=null!==(o=null==n?void 0:null===(a=n.dungeons)||void 0===a?void 0:a.flurbos)&&void 0!==o?o:0,c=["account"];else{let e=(0,P.AN)(l,null==i?void 0:i.itemName);d=null==e?void 0:e.amount,c=null==e?void 0:e.owner}if("0"===t){let t=(null==i?void 0:i.itemQuantity)-d;if((null==i?void 0:i.type)==="Equip"&&t!==(null==i?void 0:i.itemQuantity)){let n=null===(s=(0,P.F6)(r.crafts[null==i?void 0:i.itemName]))||void 0===s?void 0:s.map(e=>{let{amount:n,owner:i}=(0,P.AN)(l,null==e?void 0:e.itemName);return{...e,baseQuantity:null==e?void 0:e.itemQuantity,itemQuantity:(null==e?void 0:e.itemQuantity)*t,quantityOwned:n,owner:i}});return n.forEach(n=>{var l,i;let a=null==e?void 0:null===(l=e[null==n?void 0:n.subType])||void 0===l?void 0:l.find(e=>(null==e?void 0:e.itemName)===(null==n?void 0:n.itemName)),r=null==e?void 0:null===(i=e[null==n?void 0:n.subType])||void 0===i?void 0:i.filter(e=>(null==e?void 0:e.itemName)!==(null==n?void 0:n.itemName));a&&t>0&&(null==a?void 0:a.itemQuantity)-d>(null==a?void 0:a.quantityOwned)&&(r=[...r||[],{...a,itemQuantity:(null==a?void 0:a.itemQuantity)-d}]),e={...e,[null==n?void 0:n.subType]:r}}),t>0&&(e={...e,[null==i?void 0:i.subType]:[...(null==e?void 0:e[null==i?void 0:i.subType])||[],{...i,quantityOwned:0,owner:c,itemQuantity:t}]}),e}return d>=(null==i?void 0:i.itemQuantity)?e:{...e,[null==i?void 0:i.subType]:[...(null==e?void 0:e[null==i?void 0:i.subType])||[],{...i,owner:c,quantityOwned:d}]}}return"1"!==t?e:{...e,[null==i?void 0:i.subType]:[...(null==e?void 0:e[null==i?void 0:i.subType])||[],{...i,quantityOwned:d,owner:c}]}},{}),m=(0,a.useMemo)(()=>mapItems(o,u),[o,u,l,n]);return(0,i.jsx)(d.Z,{flexWrap:"wrap",direction:"row",gap:4,"data-sentry-element":"Stack","data-sentry-component":"ItemsList","data-sentry-source-file":"ItemsList.jsx",children:null===(t=Object.entries(m))||void 0===t?void 0:t.map((e,t)=>{let[n,l]=e,a="0"!==u||(null==l?void 0:l.length)>0;return a?(0,i.jsx)(G.Z,{variant:"outlined",children:(0,i.jsxs)(X.Z,{children:[(0,i.jsx)("span",{className:"title",children:(0,F.cleanUnderscore)((0,F.pascalCase)(n))}),(0,i.jsx)(d.Z,{flexWrap:"wrap",direction:"row",gap:3,children:null==l?void 0:l.map((e,t)=>{let{itemName:n,itemQuantity:l,rawName:a,type:r,quantityOwned:o,owner:m}=e;return(0,i.jsxs)(d.Z,{gap:1,alignItems:"center",children:[(0,i.jsx)($.Z,{title:(0,i.jsx)(OwnerTooltip,{itemName:n,owners:m}),children:(0,i.jsx)(J,{src:"".concat(F.prefix,"data/").concat(a,".png"),alt:""})}),(0,i.jsxs)(d.Z,{direction:"row",children:[(0,i.jsx)($.Z,{title:o>=1e3?(0,F.numberWithCommas)(o):"",children:(0,i.jsx)(s.Z,{color:o>=("0"===u?parseInt(l):parseInt(l)*c)?"success.light":"",children:(0,F.notateNumber)(o)})}),(0,i.jsx)($.Z,{title:l>=1e3?(0,F.numberWithCommas)(l):"",children:(0,i.jsxs)(s.Z,{color:o>=("0"===u?parseInt(l):parseInt(l)*c)?"success.light":"",children:["/","0"===u?(0,F.notateNumber)(parseInt(l)):(0,F.notateNumber)(parseInt(l)*c,2)]})})]})]},n+""+t)})})]})},n+""+t):null})})},K=n(2962),Y=(0,U.Z)((0,i.jsx)("path",{d:"M19 9h-4V3H9v6H5l7 7zM5 18v2h14v-2z"}),"GetApp"),ee=(0,U.Z)((0,i.jsx)("path",{d:"M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"}),"FileUpload");function item_planner_templateObject(){let e=(0,l._)(["\n  width: 50px;\n"]);return item_planner_templateObject=function(){return e},e}function _templateObject1(){let e=(0,l._)(["\n  .item-wrapper {\n    width: 105px;\n    height: 102px;\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n  }\n\n  .title {\n    font-size: 20px;\n    font-weight: bold;\n    display: inline-block;\n    margin-bottom: 10px;\n  }\n\n  .preview {\n    min-height: 77px;\n    min-width: 77px;\n  }\n\n  .controls {\n    display: flex;\n    align-items: center;\n    gap: 10px;\n    flex-wrap: wrap;\n    @media (max-width: 800px) {\n      padding: 10px;\n    }\n  }\n\n  .items-wrapper {\n    margin-top: 15px;\n\n    .items {\n      margin-top: 10px;\n      display: flex;\n      flex-wrap: wrap;\n      gap: 15px;\n    }\n  }\n\n  .content {\n    margin-top: 25px;\n    display: grid;\n    grid-template-columns: 1fr 3fr;\n    column-gap: 50px;\n  }\n\n  .crafts-container {\n    margin-top: 15px;\n  }\n"]);return _templateObject1=function(){return e},e}function _templateObject2(){let e=(0,l._)(["\n  ","\n  && label.Mui-focused {\n    color: rgba(255, 255, 255, 0.7);\n  }\n"]);return _templateObject2=function(){return e},e}function _templateObject3(){let e=(0,l._)(["\n  && {\n    color: white;\n  }\n"]);return _templateObject3=function(){return e},e}let et=(0,o.D)({trim:!0}),en={rawName:"EquipmentTransparent108"},MaterialsTooltip=e=>{let{name:t,items:n}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.Z,{fontWeight:"bold",variant:"h5","data-sentry-element":"Typography","data-sentry-source-file":"item-planner.jsx",children:(0,F.cleanUnderscore)(t)}),(0,i.jsx)(d.Z,{direction:"row",gap:1,flexWrap:"wrap","data-sentry-element":"Stack","data-sentry-source-file":"item-planner.jsx",children:null==n?void 0:n.map((e,t)=>{let{rawName:n,itemQuantity:l}=e;return(0,i.jsxs)(d.Z,{alignItems:"center",children:[(0,i.jsx)(el,{src:"".concat(F.prefix,"data/").concat(n,".png"),alt:""}),(0,i.jsx)(s.Z,{children:l})]},n+""+t)})})]})},el=B.Z.img(item_planner_templateObject()),ei=B.Z.div(_templateObject1()),ea=(0,B.Z)(c.Z)(_templateObject2(),e=>{let{width:t}=e;return t?"width:".concat(t,";"):""}),er=(0,B.Z)(L.Z)(_templateObject3());var item_planner=e=>{var t,n;let{}=e,{state:l,lastUpdated:o,dispatch:C}=(0,a.useContext)(E.I),{planner:N={sections:[]}}=l,[_]=(0,a.useState)(Object.keys(r.crafts)),[S,k]=(0,a.useState)({0:""}),[T,A]=(0,a.useState)([]),[O,L]=(0,a.useState)([en]),[U,B]=(0,a.useState)("0"),[G,X]=(0,a.useState)(!1),[J,el]=(0,a.useState)(1),[eo,es]=(0,a.useState)({}),[ed,ec]=(0,a.useState)(),eu=(0,a.useMemo)(()=>(0,P.tP)(null==l?void 0:l.characters,G),[G]),em=(0,a.useMemo)(()=>(0,P.Nx)(null==l?void 0:l.characters,null==l?void 0:l.account),[null==l?void 0:l.characters,null==l?void 0:l.account]),ep=(0,a.useRef)(),[ev,ex]=(0,a.useState)({open:!1,type:"",data:null});(0,a.useEffect)(()=>{var e;(null==l?void 0:l.characters)||(null==l?void 0:l.account)?A(G?[...em||[],...eu||[]]:em):A(r.itemsArray),L(null==N?void 0:null===(e=N.sections)||void 0===e?void 0:e.map(()=>en))},[l,o,G]);let handleFileChange=async e=>{let t=e.target.files[0];if(!t||(null==t?void 0:t.type)!=="application/json"){console.error("File isn't a json file");return}let n=await t.text();n&&(null==(n=(0,F.tryToParse)(n))?void 0:n.sections)&&C({type:"planner",data:{sections:null==n?void 0:n.sections}})},onItemChange=(e,t)=>{let n=O.map((n,l)=>l===t?e?r.crafts[e]:en:n);k({...S,["".concat(t)]:e}),L(n)},onRemoveItem=(e,t,n,l)=>{var i;let a,o;if((null==t?void 0:t.itemQuantity)===0&&n>0)return;let s=null==N?void 0:null===(i=N.sections)||void 0===i?void 0:i[e],d=r.crafts[null==t?void 0:t.itemName];if(d){a=calculateItemsQuantity(null==s?void 0:s.items,d,!1,!1,n,l);let i=Array.isArray(t)?t:(0,P.F6)(t);o=null==i?void 0:i.reduce((e,t)=>calculateItemsQuantity(e,t,!0,!1,n,l),null==s?void 0:s.materials);let r=updateSectionData(e,{materials:o,items:a,name:null==s?void 0:s.name});C({type:"planner",data:{sections:r}})}},onAddItem=(e,t,n)=>{if((null==t?void 0:t.rawName)!==en.rawName){var l;let i,a;let o=null==N?void 0:null===(l=N.sections)||void 0===l?void 0:l[e];i=calculateItemsQuantity(null==o?void 0:o.items,t,!1,!0,n);let s=Array.isArray(r.crafts[null==t?void 0:t.itemName])?r.crafts[null==t?void 0:t.itemName]:(0,P.F6)(r.crafts[null==t?void 0:t.itemName]);a=null==s?void 0:s.reduce((e,t)=>calculateItemsQuantity(e,t,!0,!0,n),null==o?void 0:o.materials);let d=updateSectionData(e,{materials:a,items:i,name:null==o?void 0:o.name});C({type:"planner",data:{sections:d}}),k({...S,[e]:""}),el(1)}},updateSectionData=(e,t)=>{var n;return null==N?void 0:null===(n=N.sections)||void 0===n?void 0:n.map((n,l)=>e===l?t:n)},calculateItemsQuantity=function(e,t,n){let l=!(arguments.length>3)||void 0===arguments[3]||arguments[3],i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0,r=null==e?void 0:e.find(e=>(null==t?void 0:t.itemName)===(null==e?void 0:e.itemName));return r?null==e?void 0:e.reduce((e,n)=>{if((null==t?void 0:t.itemName)!==(null==n?void 0:n.itemName))return[...e,n];let o=i?i*(null==t?void 0:t.itemQuantity):null==n?void 0:n.itemQuantity;return!l&&(null==r?void 0:r.itemQuantity)-o<=0&&a?e:[...e,{...r,itemQuantity:l?(null==r?void 0:r.itemQuantity)+o:(null==r?void 0:r.itemQuantity)-o,itemCount:parseFloat(i)}]},[]):l?[...e||[],{...t,itemQuantity:(null==t?void 0:t.itemQuantity)*i,itemCount:parseFloat(i)}]:e},removeSection=e=>{ex({open:!0,type:"section",data:e})};return(0,i.jsxs)(ei,{"data-sentry-element":"TodoStyle","data-sentry-component":"ItemPlanner","data-sentry-source-file":"item-planner.jsx",children:[(0,i.jsx)(K.PB,{title:"Item Planner | Idleon Toolbox",description:"Useful tool to keep track of your crafting projects by tracking existing and missing materials","data-sentry-element":"NextSeo","data-sentry-source-file":"item-planner.jsx"}),(null==l?void 0:l.characters)||(null==l?void 0:l.account)?null:(0,i.jsx)(s.Z,{component:"div",sx:{mb:2},variant:"caption",children:"* This tool will work better if you're logged in"}),(0,i.jsxs)(d.Z,{direction:"row",gap:5,flexWrap:"wrap","data-sentry-element":"Stack","data-sentry-source-file":"item-planner.jsx",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(d.Z,{direction:"row",alignItems:"center","data-sentry-element":"Stack","data-sentry-source-file":"item-planner.jsx",children:(0,i.jsx)(c.Z,{sx:{mt:1},label:"Section name",placeholder:"Enter section name",onChange:e=>ec(e.target.value),InputProps:{endAdornment:(0,i.jsx)(u.Z,{position:"end",children:(0,i.jsx)(z.Z,{onClick:()=>{var e;let t=ed||"section-".concat(Math.floor((null==N?void 0:null===(e=N.sections)||void 0===e?void 0:e.length)+1));C({type:"planner",data:{sections:[...(null==N?void 0:N.sections)||[],{items:[],materials:[],name:t}]}})},children:(0,i.jsx)(q.Z,{})})})},"data-sentry-element":"TextField","data-sentry-source-file":"item-planner.jsx"})}),(0,i.jsx)($.Z,{title:"This will reset all sections and items","data-sentry-element":"Tooltip","data-sentry-source-file":"item-planner.jsx",children:(0,i.jsxs)(D.Z,{sx:{mt:1},onClick:()=>{ex({open:!0,type:"sections",data:null})},"data-sentry-element":"Button","data-sentry-source-file":"item-planner.jsx",children:[(0,i.jsx)(H,{"data-sentry-element":"RestartAltIcon","data-sentry-source-file":"item-planner.jsx"})," Reset all sections"]})})]}),(0,i.jsxs)(d.Z,{sx:{pl:1,mt:1},"data-sentry-element":"Stack","data-sentry-source-file":"item-planner.jsx",children:[(0,i.jsxs)(m.Z,{"data-sentry-element":"FormControl","data-sentry-source-file":"item-planner.jsx",children:[(0,i.jsx)(p.Z,{id:"demo-radio-buttons-group-label","data-sentry-element":"FormLabel","data-sentry-source-file":"item-planner.jsx",children:"Display"}),(0,i.jsxs)(v.Z,{row:!0,"aria-labelledby":"demo-radio-buttons-group-label",defaultValue:"0",name:"radio-buttons-group",onChange:e=>B(e.target.value),"data-sentry-element":"RadioGroup","data-sentry-source-file":"item-planner.jsx",children:[(0,i.jsx)(x.Z,{value:"0",control:(0,i.jsx)(y.Z,{}),label:"Show Missing Items","data-sentry-element":"FormControlLabel","data-sentry-source-file":"item-planner.jsx"}),(0,i.jsx)(x.Z,{value:"1",control:(0,i.jsx)(y.Z,{}),label:"Show All Items","data-sentry-element":"FormControlLabel","data-sentry-source-file":"item-planner.jsx"})]})]}),(0,i.jsx)(x.Z,{control:(0,i.jsx)(er,{checked:G,onChange:()=>X(!G),name:"Include Equipped Items",color:"default"}),label:"Include Equipped Items","data-sentry-element":"FormControlLabel","data-sentry-source-file":"item-planner.jsx"})]}),(0,i.jsxs)(d.Z,{gap:1,sx:{ml:"auto"},alignItems:"center",justifyContent:"center",direction:"row","data-sentry-element":"Stack","data-sentry-source-file":"item-planner.jsx",children:[(0,i.jsx)($.Z,{title:"Export all sections","data-sentry-element":"Tooltip","data-sentry-source-file":"item-planner.jsx",children:(0,i.jsxs)(D.Z,{onClick:()=>{var e;let t=localStorage.getItem("planner");t&&(null==N?void 0:null===(e=N.sections)||void 0===e?void 0:e.length)!==0&&(0,F.downloadFile)(t,"it-item-planner.json")},"data-sentry-element":"Button","data-sentry-source-file":"item-planner.jsx",children:[(0,i.jsx)(Y,{sx:{mr:1},"data-sentry-element":"GetAppIcon","data-sentry-source-file":"item-planner.jsx"}),"Export"]})}),(0,i.jsx)($.Z,{title:"Import (this will override your sections)","data-sentry-element":"Tooltip","data-sentry-source-file":"item-planner.jsx",children:(0,i.jsxs)(D.Z,{onClick:()=>{ep.current.click()},"data-sentry-element":"Button","data-sentry-source-file":"item-planner.jsx",children:[(0,i.jsx)(ee,{sx:{mr:1},"data-sentry-element":"FileUploadIcon","data-sentry-source-file":"item-planner.jsx"}),"Import"]})}),(0,i.jsx)("input",{type:"file",id:"file",ref:ep,style:{display:"none"},accept:".json",onChange:handleFileChange})]})]}),(0,i.jsx)(d.Z,{sx:{mt:2},"data-sentry-element":"Stack","data-sentry-source-file":"item-planner.jsx",children:(null==N?void 0:null===(t=N.sections)||void 0===t?void 0:t.length)>0?null==N?void 0:null===(n=N.sections)||void 0===n?void 0:n.map((e,t)=>{var n;let{items:o,materials:c,name:u}=e;return(0,i.jsxs)(h.Z,{children:[(0,i.jsx)(j.Z,{expandIcon:(0,i.jsx)(R.Z,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:(0,i.jsx)(s.Z,{children:u||"Accordion-".concat(t)})}),(0,i.jsxs)(f.Z,{children:[(0,i.jsxs)(D.Z,{onClick:()=>removeSection(t),children:[(0,i.jsx)(W,{})," Remove Section"]}),(0,i.jsxs)("div",{className:"controls",children:[(0,i.jsx)("div",{className:"preview",children:(null==O?void 0:O[t])?(0,i.jsx)("img",{src:"".concat(F.prefix,"data/").concat(null==O?void 0:null===(n=O[t])||void 0===n?void 0:n.rawName,".png"),alt:""}):null}),(0,i.jsx)(g.Z,{id:"item-locator",value:null==S?void 0:S[t],onChange:(e,n)=>onItemChange(n,t),autoComplete:!0,options:[null==S?void 0:S[t],..._],filterSelectedOptions:!0,filterOptions:et,getOptionLabel:e=>e?null==e?void 0:e.replace(/_/g," "):"",renderOption:(e,t)=>{var n;return t?(0,i.jsxs)(d.Z,{...e,gap:2,direction:"row",children:[(0,i.jsx)("img",{width:24,height:24,src:"".concat(F.prefix,"data/").concat(null===r.crafts||void 0===r.crafts?void 0:null===(n=r.crafts[t])||void 0===n?void 0:n.rawName,".png"),alt:""}),null==t?void 0:t.replace(/_/g," ")]}):(0,a.createElement)("span",{...e,style:{height:0},key:"empty"})},style:{width:300},renderInput:e=>(0,i.jsx)(ea,{...e,label:"Item Name",variant:"outlined"})}),(0,i.jsx)(ea,{value:J,width:"100px",inputProps:{min:1},onChange:e=>{var t;return el(null==e?void 0:null===(t=e.target)||void 0===t?void 0:t.value)},type:"number",label:"Item Count",variant:"outlined"}),(0,i.jsx)(D.Z,{color:"primary",variant:"contained",onClick:()=>onAddItem(t,null==O?void 0:O[t],J),title:"Add Item",children:"Add"})]}),(0,i.jsxs)("div",{className:"content",children:[(0,i.jsxs)("div",{className:"items-wrapper",children:[(0,i.jsx)("span",{className:"title",children:"Tracked Items"}),(0,i.jsx)("div",{className:"items",children:null==o?void 0:o.map((e,n)=>(0,i.jsxs)("div",{className:"item-wrapper",onMouseEnter:()=>es({...eo,["".concat(t,"-").concat(n)]:!0}),onMouseLeave:()=>es({...eo,["".concat(t,"-").concat(n)]:!1}),children:[(0,i.jsx)(Z.Z,{badgeContent:(0,F.numberWithCommas)(null==e?void 0:e.itemQuantity),max:1e4,anchorOrigin:{vertical:"top",horizontal:"right"},color:"primary",children:(0,i.jsx)($.Z,{title:(0,i.jsx)(MaterialsTooltip,{name:null==e?void 0:e.itemName,items:(0,P.F6)(e)}),children:(0,i.jsx)("img",{src:"".concat(F.prefix,"data/").concat(null==e?void 0:e.rawName,".png"),alt:""},(null==e?void 0:e.rawName)+" "+n)})}),(null==eo?void 0:eo["".concat(t,"-").concat(n)])?(0,i.jsxs)("div",{className:"buttons",children:[(0,i.jsx)(z.Z,{type:"bottom",size:"small",onClick:()=>onAddItem(t,{...e,itemQuantity:1},1),children:(0,i.jsx)(q.Z,{})}),(0,i.jsx)(z.Z,{type:"bottom",size:"small",onClick:()=>onRemoveItem(t,e,1),children:(0,i.jsx)(W,{})}),(0,i.jsx)(z.Z,{size:"small",onClick:()=>onRemoveItem(t,e,null==e?void 0:e.itemQuantity,!0),children:(0,i.jsx)(V.Z,{})})]}):null]},t+""+(null==e?void 0:e.itemName)+n))})]}),(0,i.jsxs)("div",{className:"crafts-container",children:[(0,i.jsx)("span",{className:"title",children:"Required Materials"}),(null==T?void 0:T.length)>0?(0,i.jsx)(item_planner_ItemsList,{itemsList:c,account:null==l?void 0:l.account,inventoryItems:T,itemDisplay:U}):null]})]})]})]},"accordion-".concat(t))}):(0,i.jsx)(s.Z,{sx:{mt:3},variant:"h3",children:"Please add a section"})}),(0,i.jsxs)(b.Z,{open:ev.open,onClose:()=>ex({...ev,open:!1}),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description","data-sentry-element":"Dialog","data-sentry-source-file":"item-planner.jsx",children:[(0,i.jsx)(w.Z,{id:"alert-dialog-title","data-sentry-element":"DialogTitle","data-sentry-source-file":"item-planner.jsx",children:"Section deletion"}),(0,i.jsx)(I.Z,{"data-sentry-element":"DialogContent","data-sentry-source-file":"item-planner.jsx",children:(0,i.jsx)(Q,{id:"alert-dialog-description","data-sentry-element":"DialogContentText","data-sentry-source-file":"item-planner.jsx",children:"section"===ev.type?"Are you sure you would like to delete this section?":"Are you sure you would like to delete all sections?"})}),(0,i.jsxs)(M.Z,{"data-sentry-element":"DialogActions","data-sentry-source-file":"item-planner.jsx",children:[(0,i.jsx)(D.Z,{onClick:()=>ex({...ev,open:!1}),"data-sentry-element":"Button","data-sentry-source-file":"item-planner.jsx",children:"Close"}),(0,i.jsx)(D.Z,{onClick:()=>{if("section"===ev.type){let e=N.sections.filter((e,t)=>t!==ev.data);k({...S,[ev.data]:""}),C({type:"planner",data:{sections:e}})}else"sections"===ev.type&&(k({0:""}),L([en]),C({type:"planner",data:{sections:[]}}));ex({open:!1,type:"",data:null})},autoFocus:!0,"data-sentry-element":"Button","data-sentry-source-file":"item-planner.jsx",children:"Confirm"})]})]})]})}}},function(e){e.O(0,[2179,417,8185,9774,2888,179],function(){return e(e.s=65600)}),_N_E=e.O()}]);