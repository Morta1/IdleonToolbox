!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},r=(new e.Error).stack;r&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[r]="dbbbd3c9-2e0d-4a86-a538-02186d5a3db9",e._sentryDebugIdIdentifier="sentry-dbid-dbbbd3c9-2e0d-4a86-a538-02186d5a3db9")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5983],{40360:function(e,r,n){"use strict";n.d(r,{Z:function(){return S}});var t=n(67294),a=n(90512),i=n(17317),l=n(34867),o=n(94780),s=n(69827),d=n(29628),c=n(5594),u=n(39707),p=n(78136);let filterBreakpointKeys=(e,r)=>e.filter(e=>r.includes(e)),traverseBreakpoints=(e,r,n)=>{let t=e.keys[0];if(Array.isArray(r))r.forEach((r,t)=>{n((r,n)=>{t<=e.keys.length-1&&(0===t?Object.assign(r,n):r[e.up(e.keys[t])]=n)},r)});else if(r&&"object"==typeof r){let a=Object.keys(r).length>e.keys.length?e.keys:filterBreakpointKeys(e.keys,Object.keys(r));a.forEach(a=>{if(e.keys.includes(a)){let i=r[a];void 0!==i&&n((r,n)=>{t===a?Object.assign(r,n):r[e.up(a)]=n},i)}})}else("number"==typeof r||"string"==typeof r)&&n((e,r)=>{Object.assign(e,r)},r)};function getSelfSpacingVar(e){return`--Grid-${e}Spacing`}function getParentSpacingVar(e){return`--Grid-parent-${e}Spacing`}let h="--Grid-columns",g="--Grid-parent-columns",generateGridSizeStyles=({theme:e,ownerState:r})=>{let n={};return traverseBreakpoints(e.breakpoints,r.size,(e,r)=>{let t={};"grow"===r&&(t={flexBasis:0,flexGrow:1,maxWidth:"100%"}),"auto"===r&&(t={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),"number"==typeof r&&(t={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${r} / var(${g}) - (var(${g}) - ${r}) * (var(${getParentSpacingVar("column")}) / var(${g})))`}),e(n,t)}),n},generateGridOffsetStyles=({theme:e,ownerState:r})=>{let n={};return traverseBreakpoints(e.breakpoints,r.offset,(e,r)=>{let t={};"auto"===r&&(t={marginLeft:"auto"}),"number"==typeof r&&(t={marginLeft:0===r?"0px":`calc(100% * ${r} / var(${g}) + var(${getParentSpacingVar("column")}) * ${r} / var(${g}))`}),e(n,t)}),n},generateGridColumnsStyles=({theme:e,ownerState:r})=>{if(!r.container)return{};let n={[h]:12};return traverseBreakpoints(e.breakpoints,r.columns,(e,r)=>{let t=r??12;e(n,{[h]:t,"> *":{[g]:t}})}),n},generateGridRowSpacingStyles=({theme:e,ownerState:r})=>{if(!r.container)return{};let n={};return traverseBreakpoints(e.breakpoints,r.rowSpacing,(r,t)=>{let a="string"==typeof t?t:e.spacing?.(t);r(n,{[getSelfSpacingVar("row")]:a,"> *":{[getParentSpacingVar("row")]:a}})}),n},generateGridColumnSpacingStyles=({theme:e,ownerState:r})=>{if(!r.container)return{};let n={};return traverseBreakpoints(e.breakpoints,r.columnSpacing,(r,t)=>{let a="string"==typeof t?t:e.spacing?.(t);r(n,{[getSelfSpacingVar("column")]:a,"> *":{[getParentSpacingVar("column")]:a}})}),n},generateGridDirectionStyles=({theme:e,ownerState:r})=>{if(!r.container)return{};let n={};return traverseBreakpoints(e.breakpoints,r.direction,(e,r)=>{e(n,{flexDirection:r})}),n},generateGridStyles=({ownerState:e})=>({minWidth:0,boxSizing:"border-box",...e.container&&{display:"flex",flexWrap:"wrap",...e.wrap&&"wrap"!==e.wrap&&{flexWrap:e.wrap},gap:`var(${getSelfSpacingVar("row")}) var(${getSelfSpacingVar("column")})`}}),generateSizeClassNames=e=>{let r=[];return Object.entries(e).forEach(([e,n])=>{!1!==n&&void 0!==n&&r.push(`grid-${e}-${String(n)}`)}),r},generateSpacingClassNames=(e,r="xs")=>{function isValidSpacing(e){return void 0!==e&&("string"==typeof e&&!Number.isNaN(Number(e))||"number"==typeof e&&e>0)}if(isValidSpacing(e))return[`spacing-${r}-${String(e)}`];if("object"==typeof e&&!Array.isArray(e)){let r=[];return Object.entries(e).forEach(([e,n])=>{isValidSpacing(n)&&r.push(`spacing-${e}-${String(n)}`)}),r}return[]},generateDirectionClasses=e=>void 0===e?[]:"object"==typeof e?Object.entries(e).map(([e,r])=>`direction-${e}-${r}`):[`direction-xs-${String(e)}`];var f=n(85893);let b=(0,p.Z)(),x=(0,s.Z)("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,r)=>r.root});function useThemePropsDefault(e){return(0,d.Z)({props:e,name:"MuiGrid",defaultTheme:b})}function createGrid(e={}){let{createStyledComponent:r=x,useThemeProps:n=useThemePropsDefault,useTheme:s=c.Z,componentName:d="MuiGrid"}=e,useUtilityClasses=(e,r)=>{let{container:n,direction:t,spacing:a,wrap:i,size:s}=e,c={root:["root",n&&"container","wrap"!==i&&`wrap-xs-${String(i)}`,...generateDirectionClasses(t),...generateSizeClassNames(s),...n?generateSpacingClassNames(a,r.breakpoints.keys[0]):[]]};return(0,o.Z)(c,e=>(0,l.ZP)(d,e),{})};function parseResponsiveProp(e,r,n=()=>!0){let t={};return null===e||(Array.isArray(e)?e.forEach((e,a)=>{null!==e&&n(e)&&r.keys[a]&&(t[r.keys[a]]=e)}):"object"==typeof e?Object.keys(e).forEach(r=>{let a=e[r];null!=a&&n(a)&&(t[r]=a)}):t[r.keys[0]]=e),t}let p=r(generateGridColumnsStyles,generateGridColumnSpacingStyles,generateGridRowSpacingStyles,generateGridSizeStyles,generateGridDirectionStyles,generateGridStyles,generateGridOffsetStyles),h=t.forwardRef(function(e,r){let l=s(),o=n(e),d=(0,u.Z)(o),{className:c,children:h,columns:g=12,container:b=!1,component:x="div",direction:m="row",wrap:y="wrap",size:v={},offset:j={},spacing:S=0,rowSpacing:C=S,columnSpacing:w=S,unstable_level:Z=0,...k}=d,G=parseResponsiveProp(v,l.breakpoints,e=>!1!==e),_=parseResponsiveProp(j,l.breakpoints),O=e.columns??(Z?void 0:g),T=e.spacing??(Z?void 0:S),$=e.rowSpacing??e.spacing??(Z?void 0:C),M=e.columnSpacing??e.spacing??(Z?void 0:w),N={...d,level:Z,columns:O,container:b,direction:m,wrap:y,spacing:T,rowSpacing:$,columnSpacing:M,size:G,offset:_},L=useUtilityClasses(N,l);return(0,f.jsx)(p,{ref:r,as:x,ownerState:N,className:(0,a.Z)(L.root,c),...k,children:t.Children.map(h,e=>t.isValidElement(e)&&(0,i.Z)(e,["Grid"])&&b&&e.props.container?t.cloneElement(e,{unstable_level:e.props?.unstable_level??Z+1}):e)})});return h.muiName="Grid",h}var m=n(90948),y=n(28628),v=n(2734);let j=createGrid({createStyledComponent:(0,m.ZP)("div",{name:"MuiGrid2",slot:"Root",overridesResolver:(e,r)=>{let{ownerState:n}=e;return[r.root,n.container&&r.container]}}),componentName:"MuiGrid2",useThemeProps:e=>(0,y.i)({props:e,name:"MuiGrid2"}),useTheme:v.Z});var S=j},18131:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/leaderboards",function(){return n(38286)}])},63521:function(e,r,n){"use strict";var t=n(85893),a=n(67294),i=n(31002),l=n(29676),o=n(40044),s=n(65298),d=n(27709),c=n(11163);r.Z=e=>{var r;let{tabs:n,components:u,icons:p,children:h,onTabChange:g,forceScroll:f,orientation:b="horizontal",iconsOnly:x,queryKey:m="t",clearOnChange:y=[],disableQuery:v=!1}=e,j=(0,i.Z)(e=>e.breakpoints.down("md"),{noSsr:!0}),S=(0,c.useRouter)(),[C,w]=(0,a.useState)(0),Z=S.query[m],k=n.findIndex(e=>e===Z),G=v?C:k>=0?k:0;(0,a.useEffect)(()=>{v||Z||S.replace({pathname:S.pathname,query:{...S.query,[m]:n[G]}},void 0,{shallow:!0})},[Z,m,n,G,S,v]);let _=Array.isArray(h)?h:[h];return(0,t.jsxs)(d.Z,{sx:"vertical"===b?{flexGrow:1,display:"flex"}:{},"data-sentry-element":"Box","data-sentry-component":"Tabber","data-sentry-source-file":"Tabber.jsx",children:[(0,t.jsx)(l.Z,{centered:!j||j&&n.length<4,scrollButtons:!0,allowScrollButtonsMobile:!0,sx:{marginBottom:3},variant:j&&n.length>=4||f?"scrollable":"standard",value:G,onChange:(e,r)=>{if(v)w(r);else{let e={...S.query,[m]:n[r]};y.forEach(r=>delete e[r]),S.push({pathname:S.pathname,query:e},void 0,{shallow:!0})}g&&g(r)},"data-sentry-element":"Tabs","data-sentry-source-file":"Tabber.jsx",children:null===(r=null!=u?u:n)||void 0===r?void 0:r.map((e,r)=>(0,t.jsx)(o.Z,{iconPosition:"start",icon:(null==p?void 0:p[r])?(0,t.jsx)("img",{src:"".concat(s.prefix).concat(null==p?void 0:p[r],".png")}):null,wrapped:!0,label:x?"":e,sx:{minWidth:62}},"".concat(null==e?void 0:e[r],"-").concat(r)))}),g?h:null==_?void 0:_.map((e,r)=>r===G?e:null)]})}},38286:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return leaderboards}});var t=n(85893),a=n(12957),i=n(23972),l=n(66242),o=n(44267),s=n(417),d=n(50135),c=n(51233),u=n(98456),p=n(63521),h=n(82729),g=n(67294),f=n(78462),b=n(97212),x=n(59334),m=n(23795),y=n(55113),v=n(40360),j=n(65298),S=n(27709),C=n(61599);function _templateObject(){let e=(0,h._)(["\n  display: ",";\n  align-items: center;\n  justify-content: center;\n  background-color: ",";\n  border-radius: 50%;\n  width: 32px;\n  height: 32px;\n"]);return _templateObject=function(){return e},e}function _templateObject1(){let e=(0,h._)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  border-radius: 12px;\n  box-shadow: none;\n  height: ","px;\n  order: ",";\n"]);return _templateObject1=function(){return e},e}function _templateObject2(){let e=(0,h._)(["\n  display: flex;\n  padding: 8px;\n  margin: auto auto 0 auto;\n  justify-content: center;\n  border-radius: 12px 12px 0 0;\n  box-shadow: none;\n  width: 100%;\n  background-color: ",";\n  outline: ",";\n  outline-color: ","\n"]);return _templateObject2=function(){return e},e}let w="#007E85",Z="#cd861b",k="#12141c",specialNotation=(e,r)=>"bits"===e?(0,j.notateNumber)(r,"bits"):"dropRate"===e?(0,j.notateNumber)(r,"MultiplierInfo"):(0,j.notateNumber)(r),TopThree=e=>{let{sectionName:r,topThree:n}=e;return(0,t.jsx)(v.Z,{container:!0,spacing:4,"data-sentry-element":"Grid","data-sentry-component":"TopThree","data-sentry-source-file":"Leaderboard.jsx",children:n.map((e,a)=>{let l=(null==e?void 0:e[r])||0;return(0,t.jsx)(v.Z,{order:0===a?2:1===a?1:3,alignSelf:"flex-end",size:(null==n?void 0:n.length)===1?12:4,children:(0,t.jsxs)(_,{height:0===a?125:1===a?115:105,children:[(0,t.jsxs)(c.Z,{sx:{height:"100%"},gap:1,alignItems:"center",justifyContent:"center",direction:"row",children:[(0,t.jsx)(i.Z,{children:a+1}),(0,t.jsx)(S.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,t.jsx)("img",{width:2===a?20:24,height:2===a?20:24,style:{objectFit:"contain"},src:"".concat(j.prefix).concat(0===a?"data/Trophie.png":1===a?"data/G2icon40.png":"data/G2icon39.png"),alt:""})})]}),(0,t.jsx)(O,{loggedMainChar:null==e?void 0:e.loggedMainChar,searchedChar:null==e?void 0:e.searchedChar,children:(0,t.jsxs)(c.Z,{justifyContent:"center",children:[(0,t.jsx)(i.Z,{textAlign:"center",sx:{mt:"auto"},children:(0,t.jsx)(m.Z,{color:"inherit",underline:"hover",target:"_blank",href:"https://idleontoolbox.com?profile=".concat(null==e?void 0:e.mainChar),children:null==e?void 0:e.mainChar})}),(0,t.jsx)(i.Z,{textAlign:"center",children:specialNotation(r,l)})]})})]})},"top-three-".concat(r,"-").concat(null==e?void 0:e.mainChar))})})},G=(0,C.Z)(S.Z,{shouldForwardProp:e=>"inline"!==e})(_templateObject(),e=>{let{inline:r}=e;return r?"inline-flex":"flex"},e=>{let{bgColor:r}=e;return r||"#ffffff21"}),_=(0,C.Z)(y.Z,{shouldForwardProp:e=>"bgColor"!==e&&"order"!==e&&"inline"!==e})(_templateObject1(),e=>{let{height:r}=e;return r},e=>{let{order:r}=e;return r}),O=(0,C.Z)(y.Z,{shouldForwardProp:e=>"searchedChar"!==e&&"loggedMainChar"!==e})(_templateObject2(),e=>{let{outline:r}=e;return r?k:"#161826"},e=>{let{loggedMainChar:r,searchedChar:n}=e;return r||n?"3px solid":"none"},e=>{let{loggedMainChar:r,searchedChar:n}=e;return r?w:n?Z:""});var Leaderboard=e=>{let{leaderboards:r,loggedMainChar:n,searchedChar:a}=e;return(0,t.jsx)(v.Z,{sx:{width:"100%",margin:"0 auto"},justifySelf:"center",container:!0,rowSpacing:3,columnSpacing:{lg:4,xl:12},"data-sentry-element":"Grid","data-sentry-component":"LeaderboardSection","data-sentry-source-file":"Leaderboard.jsx",children:Object.entries(r||{}).map((e,r)=>{var l;let[o,s]=e,d={},c=s.map((e,r)=>{let t=e.mainChar,i=t===n,l=t===a;return(i||l)&&r>=10&&(d[t]=r+1),{...e,...i&&{loggedMainChar:!0},...l&&{searchedChar:!0},index:r+1}}),u=null===(l=Object.entries(d))||void 0===l?void 0:l.map(e=>{let[r,t]=e,a=null==s?void 0:s.find(e=>(null==e?void 0:e.mainChar)===r),i=a.mainChar===n?"loggedMainChar":"searchedChar";return{...a,[i]:!0,index:t}},[]),p=null==c?void 0:c.toSpliced(3),h=null==c?void 0:c.slice(3,10).concat(u),g=(null==s?void 0:s.length)===0;return(0,t.jsxs)(v.Z,{size:{xs:12,lg:6,xl:4},children:[(0,t.jsx)(i.Z,{textAlign:"center",variant:"h4",mt:{xs:3,lg:0},mb:{xs:3,lg:1},children:o.camelToTitleCase()}),g?(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(i.Z,{textAlign:"center",mt:5,variant:"h6",children:"Nothing here yet"})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(TopThree,{sectionName:o,topThree:p}),(0,t.jsx)(f.Z,{children:h.map((e,r)=>{let n=(null==e?void 0:e[o])||0;return(0,t.jsx)(b.ZP,{sx:{mb:(null==e?void 0:e.loggedMainChar)||(null==e?void 0:e.searchedChar)?.8:0,backgroundColor:(null==e?void 0:e.loggedMainChar)||(null==e?void 0:e.searchedChar)?k:"#1a1d2a",outline:(null==e?void 0:e.loggedMainChar)||(null==e?void 0:e.searchedChar)?"2px solid":"none",outlineColor:(null==e?void 0:e.loggedMainChar)?w:(null==e?void 0:e.searchedChar)?Z:""},secondaryAction:(0,t.jsx)(i.Z,{children:specialNotation(o,n)}),children:(0,t.jsxs)(x.Z,{children:[(0,t.jsx)(G,{inline:!0,sx:{mr:2},children:(null==e?void 0:e.index)?null==e?void 0:e.index:r+4})," ",(0,t.jsx)(m.Z,{color:"inherit",underline:"hover",target:"_blank",href:"https://idleontoolbox.com?profile=".concat(null==e?void 0:e.mainChar),children:null==e?void 0:e.mainChar})]})},"".concat(o,"-").concat(r))})})]})]},"".concat(o,"-").concat(r))})})},T=n(58437),$=n(2962),M=n(82490);let N=(0,a.D)({trim:!0,limit:50}),L=["general","tasks","skills","character","misc"];var leaderboards=()=>{var e,r,n;let{state:a}=(0,g.useContext)(T.I),h=null==a?void 0:null===(r=a.characters)||void 0===r?void 0:null===(e=r[0])||void 0===e?void 0:e.name,[f,b]=(0,g.useState)(null),[x,m]=g.useState(""),[y,v]=(0,g.useState)(""),[j,C]=(0,g.useState)("general");return(0,g.useEffect)(()=>{let getLeaderboards=async()=>{try{let e=await (0,M.$E)(j);b(e),m("")}catch(e){m("Error has occurred while getting leaderboards")}};getLeaderboards()},[j]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)($.PB,{title:"Leaderboards | Idleon Toolbox",description:"Leaderboards for Idleon MMO","data-sentry-element":"NextSeo","data-sentry-source-file":"leaderboards.jsx"}),(0,t.jsx)(i.Z,{textAlign:"center",variant:"h2","data-sentry-element":"Typography","data-sentry-source-file":"leaderboards.jsx",children:"Leaderboards"}),(0,t.jsx)(i.Z,{textAlign:"center",sx:{fontSize:14},component:"div",variant:"caption","data-sentry-element":"Typography","data-sentry-source-file":"leaderboards.jsx",children:"* To participate in the leaderboards, please upload your profile with leaderboard consent."}),(0,t.jsx)(i.Z,{mb:3,textAlign:"center",sx:{fontSize:14},component:"div",variant:"caption","data-sentry-element":"Typography","data-sentry-source-file":"leaderboards.jsx",children:"* Leaderboards contains the top 100 players of each category"}),(null==f?void 0:f.totalUsers)?(0,t.jsx)(l.Z,{variant:"outlined",sx:{width:"fit-content",margin:"16px auto",borderColor:"success.light"},children:(0,t.jsx)(o.Z,{sx:{"&:last-child":{p:1}},children:(0,t.jsxs)(i.Z,{textAlign:"center",sx:{fontSize:14},component:"div",variant:"caption",children:["Uploaded accounts: ",null==f?void 0:f.totalUsers]})})}):null,(null==f?void 0:f.totalUsers)?(0,t.jsx)(S.Z,{sx:{width:"fit-content",margin:"16px auto",border:"none"},children:(0,t.jsx)(s.Z,{options:(null===(n=Object.values((null==f?void 0:f[j])||{}))||void 0===n?void 0:n[0])||[],getOptionLabel:e=>e.mainChar,id:"user-search",filterOptions:N,sx:{width:230},value:y||null,onChange:(e,r)=>v(r),renderInput:e=>(0,t.jsx)(d.Z,{...e,label:"Search by character name",variant:"standard"})})}):null,(0,t.jsxs)(p.Z,{tabs:["General","Tasks","Skills","Character","Misc"],onTabChange:e=>{C(null==L?void 0:L[e]),b(null),m("")},"data-sentry-element":"Tabber","data-sentry-source-file":"leaderboards.jsx",children:[(0,t.jsx)(Leaderboard,{leaderboards:null==f?void 0:f.general,loggedMainChar:h,searchedChar:null==y?void 0:y.mainChar,"data-sentry-element":"LeaderboardSection","data-sentry-source-file":"leaderboards.jsx"}),(0,t.jsx)(Leaderboard,{leaderboards:null==f?void 0:f.tasks,loggedMainChar:h,searchedChar:null==y?void 0:y.mainChar,"data-sentry-element":"LeaderboardSection","data-sentry-source-file":"leaderboards.jsx"}),(0,t.jsx)(Leaderboard,{leaderboards:null==f?void 0:f.skills,loggedMainChar:h,searchedChar:null==y?void 0:y.mainChar,"data-sentry-element":"LeaderboardSection","data-sentry-source-file":"leaderboards.jsx"}),(0,t.jsx)(Leaderboard,{leaderboards:null==f?void 0:f.character,loggedMainChar:h,searchedChar:null==y?void 0:y.mainChar,"data-sentry-element":"LeaderboardSection","data-sentry-source-file":"leaderboards.jsx"}),(0,t.jsx)(Leaderboard,{leaderboards:null==f?void 0:f.misc,loggedMainChar:h,searchedChar:null==y?void 0:y.mainChar,"data-sentry-element":"LeaderboardSection","data-sentry-source-file":"leaderboards.jsx"})]}),f||x?x?(0,t.jsx)(i.Z,{color:"error.light",textAlign:"center",variant:"h6",children:x}):null:(0,t.jsx)(c.Z,{alignItems:"center",justifyContent:"center",mt:3,children:(0,t.jsx)(u.Z,{})})]})}}},function(e){e.O(0,[417,9774,2888,179],function(){return e(e.s=18131)}),_N_E=e.O()}]);