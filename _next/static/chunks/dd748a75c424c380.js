(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,212829,e=>{"use strict";var t=e.i(391398),r=e.i(261576),n=e.i(191788),a=e.i(849091),i=e.i(345837),l=e.i(774872),s=e.i(886779),o=e.i(356119),c=e.i(917563),d=e.i(608580),h=e.i(782808),p=e.i(514707),u=e.i(233783),x=e.i(627242),m=e.i(201084),g=e.i(717803),f=e.i(720767);let y=p.default.img`
  filter: ${({exists:e})=>e?"grayscale(0)":"grayscale(1)"};
  opacity: ${({exists:e})=>e?"1":"0.3"};
  justify-self: center;
  width: 48px;
  height: 48px;

  @media (max-width: 370px) {
    width: 36px;
    height: 36px;
  }
`,j=e=>{let n,a,i,l,o,c,d,h,p,u=(0,r.c)(16),{bags:y,capBags:j}=e;u[0]===Symbol.for("react.memo_cache_sentinel")?(n={noSsr:!0},u[0]=n):n=u[0];let w=(0,f.useMediaQuery)("(max-width: 370px)",n);u[1]===Symbol.for("react.memo_cache_sentinel")?(a={height:"fit-content"},u[1]=a):a=u[1],u[2]===Symbol.for("react.memo_cache_sentinel")?(i={width:200},u[2]=i):i=u[2],u[3]!==y?(l=y?.map(b),u[3]=y,u[4]=l):l=u[4],u[5]!==l?(o=(0,t.jsx)(s.Stack,{direction:"row",flexWrap:"wrap",children:l}),u[5]=l,u[6]=o):o=u[6],u[7]===Symbol.for("react.memo_cache_sentinel")?(c=(0,t.jsx)(g.Divider,{sx:{my:2},flexItem:!0}),u[7]=c):c=u[7];let S=+!!w;return u[8]!==j?(d=j?.map(v),u[8]=j,u[9]=d):d=u[9],u[10]!==S||u[11]!==d?(h=(0,t.jsx)(s.Stack,{direction:"row",flexWrap:"wrap",gap:S,justifyContent:"center",children:d}),u[10]=S,u[11]=d,u[12]=h):h=u[12],u[13]!==o||u[14]!==h?(p=(0,t.jsx)(x.Card,{variant:"outlined",sx:a,children:(0,t.jsx)(m.CardContent,{children:(0,t.jsxs)(s.Stack,{sx:i,alignItems:"center",children:[o,c,h]})})}),u[13]=o,u[14]=h,u[15]=p):p=u[15],p};function b(e,r){if(e?.displayName!=="Inventory_Bag_I")return(0,t.jsx)(h.default,{title:(0,t.jsx)(u.default,{...e}),children:(0,t.jsx)(y,{exists:e?.acquired,src:`${d.prefix}data/${e?.rawName}.png`,alt:""})},e?.displayName+r)}function v(e,r){let{displayName:n,rawName:a,capacityPerSlot:i}=e;return(0,t.jsx)(h.default,{title:(0,t.jsx)(u.default,{...e}),children:(0,t.jsxs)(s.Stack,{alignItems:"center",children:[(0,t.jsx)(y,{exists:!0,src:`${d.prefix}data/${a}.png`,alt:""}),(0,t.jsx)(o.Typography,{variant:"caption",children:(0,d.notateNumber)(i)})]})},n+r)}var w=e.i(286042),S=e.i(283664),k=e.i(692329),C=e.i(89322);let T=e=>{let n,a,i=(0,r.c)(3),{src:l}=e;return i[0]===Symbol.for("react.memo_cache_sentinel")?(n={width:{xs:30},"> img":{width:{xs:30}}},i[0]=n):n=i[0],i[1]!==l?(a=(0,t.jsx)(c.Box,{sx:n,children:(0,t.jsx)("img",{src:l,alt:""})}),i[1]=l,i[2]=a):a=i[2],a},$=p.default.img`
  width: 50px;
  height: 50px;
  margin-bottom: ${({arrow:e})=>e?"20px":0};
`,I=p.default.div`
  text-align: center;

  .tabs {
    position: relative;
    display: grid;
    margin-top: 10px;
    grid-template-columns: repeat(auto-fill, 50px);
    grid-template-rows: 50px;
    justify-content: center;

    .active {
      filter: brightness(1);
    }

    .star {
      position: absolute;
      right: 0;
    }

    > img {
      cursor: pointer;
      filter: brightness(0.4);

      &:last-child {
        justify-self: flex-end;
      }
    }
  }

  .star-talents-arrows {
    height: 80%;
  }

  .arrow {
    cursor: pointer;
    align-self: center;
  }


  .talents-wrapper {
    position: relative;
    margin-top: 18px;
    display: grid;
    min-height: 245px;
    grid-template-columns: repeat(5, 50px);
    row-gap: 10px;
    column-gap: 5px;
    justify-content: center;
    margin-bottom: 10px;
  }
`,M=({talents:e,starTalents:r,talentPreset:a,addedLevels:i,addedLevelsBreakdown:l,selectedTalentPreset:c,account:p})=>{let u=5===Object.keys(e||{}).length?5:4,[x,m]=(0,n.useState)(c),[g,f]=(0,n.useState)(0),[y,j]=(0,n.useState)(0),[b,v]=(0,n.useState)(),[M,N]=(0,n.useState)(0),B=b?.orderedTalents?.reduce((e,{level:t=0})=>e+t,0),_=0===c&&0!==x||1===c&&0===x,P=(t=0)=>{let n=_?a?.talents:e,i=_?a?.starTalents:r;return y===u?D(i,t):n?.[y]};(0,n.useEffect)(()=>{v(P(M)),y!==u&&N(0)},[y,e,x,M]);let W=e=>{N(e),v(P(e))},D=(e,t)=>{let r,n=structuredClone(e?.orderedTalents),a=(r=(0,d.fillMissingTalents)(n),r?.slice(13*t,(t+1)*13));return a.length<13&&(a=Array(13).fill(1).map((e,t)=>a[t]??{})),a.splice(10,0,{talentId:"arrow"}),a.splice(14,0,{talentId:"arrow"}),{...e,orderedTalents:a}},O=_?a?.addedLevels:i,A=_?a?.addedLevelsBreakdown:l;return(0,t.jsxs)(I,{active:y,children:[(0,t.jsxs)(S.Tabs,{centered:!0,value:x,onChange:(e,t)=>m(t),children:[(0,t.jsx)(w.Tab,{sx:{minWidth:{xs:"unset",sm:"inherit"}},"aria-label":"star-sign-tab",label:(0,t.jsx)("span",{style:{textShadow:0===c?"cyan 1px 0 10px":""},children:"Preset 1"}),value:0}),(0,t.jsx)(w.Tab,{sx:{minWidth:{xs:"unset",sm:"inherit"}},"aria-label":"star-sign-tab",label:(0,t.jsx)("span",{style:{textShadow:1===c?"cyan 1px 0 10px":""},children:"Preset 2"}),value:1})]}),(0,t.jsxs)(S.Tabs,{centered:!0,value:g,onChange:(e,t)=>f(t),children:[Object.keys(e||{})?.map(r=>{let n=e?.[r]?.name;return(0,t.jsx)(w.Tab,{sx:{minWidth:{xs:"unset",sm:"inherit"}},icon:(0,t.jsx)(T,{src:`${d.prefix}data/ClassIcons${e?.[r]?.id}.png`,alt:n}),"aria-label":`${n}-tab`,onClick:()=>j(parseInt(r))},`${n}-${r}`)}),(0,t.jsx)(w.Tab,{sx:{minWidth:{xs:"unset",sm:"inherit"}},onClick:()=>j(u),"aria-label":"star-sign-tab",icon:(0,t.jsx)(T,{src:`${d.prefix}data/ClassIcons0.png`,alt:""})})]}),y===u?(0,t.jsxs)(o.Typography,{variant:"caption",mt:2,style:{opacity:+(4===y)},children:["Specials ",M+1]}):(0,t.jsx)(o.Typography,{variant:"caption",mt:2,children:(0,d.cleanUnderscore)(e?.[y]?.name)}),(0,t.jsxs)(o.Typography,{component:"div",variant:"caption",children:["Total Points Spent: ",B]}),(0,t.jsxs)(s.Stack,{gap:1,direction:"row",justifyContent:"center",alignItems:"center",children:[(0,t.jsxs)(o.Typography,{component:"div",variant:"caption",children:["Added levels: ",O]}),(0,t.jsx)(h.default,{title:(0,t.jsx)(k.Breakdown,{titleStyle:{width:200},breakdown:A}),children:(0,t.jsx)(C.default,{})})]}),(0,t.jsx)("div",{className:"talents-wrapper",children:b?.orderedTalents?.map((e,r)=>{let{talentId:n,level:a,baseLevel:i,maxLevel:l,name:s,isSuperTalent:c}=e;if(r>=15)return null;let p=e.hasOwnProperty("manaCost")&&e.hasOwnProperty("cooldown"),x=y===u||i<l,m=a>=0&&l>=0?`${a}/${l}`:"";return"Blank"===n||"84"===n||"arrow"===n?(0,t.jsxs)("div",{className:`blank ${(10===r||14===r)&&"arrow"}`,children:[10!==r&&14!==r&&(0,t.jsx)($,{src:`${d.prefix}data/UISkillIconLocke.png`,alt:""}),10===r&&M>0?(0,t.jsx)("div",{children:(0,t.jsx)($,{onClick:()=>W(M-1),className:"arrow",src:`${d.prefix}data/UIAnvilArrowsG2.png`,arrow:!0,alt:""})}):null,(14===r||26===r)&&M<4?(0,t.jsx)("div",{children:(0,t.jsx)($,{onClick:()=>W(M+1),className:"arrow",src:`${d.prefix}data/UIAnvilArrowsG1.png`,arrow:!0,alt:""})}):null]},n+""+r):(0,t.jsx)(h.default,{title:n>=0?(0,t.jsx)(k.TalentTooltip,{...e}):"",children:(0,t.jsxs)("div",{className:"talent-wrapper",children:[c&&(0,t.jsx)($,{style:{position:"absolute"},src:`${d.prefix}etc/Super_Talent_${p?"Active":"Passive"}_Border.png`,alt:""}),s?(0,t.jsx)($,{src:`${d.prefix}data/UISkillIcon${n}.png`,alt:""}):(0,t.jsx)($,{src:`${d.prefix}data/UISkillIconLocke.png`,alt:""}),(0,t.jsx)(o.Typography,{fontSize:12,sx:{...!x?{fontWeight:500,textShadow:"0px 0px 15px #fd5f2f",color:"#fd5f2f"}:{}},children:m})]})},n+""+r)})})]})};var N=e.i(618332),B=e.i(738251);let _=p.default.div`
  width: 56px;
  height: 72px;
  border: 2px solid #5d5d5d;
  border-radius: 5px;
  display: flex;
  justify-content: center;
  align-items: center;
`,P=e=>{let n,a,i,l=(0,r.c)(6),{src:s,selected:o}=e;l[0]===Symbol.for("react.memo_cache_sentinel")?(n={width:{xs:28},"> img":{width:{xs:28}}},l[0]=n):n=l[0];let c=o?"0px 0px 10px 0px cyan":"";return l[1]!==c?(a={boxShadow:c},l[1]=c,l[2]=a):a=l[2],l[3]!==s||l[4]!==a?(i=(0,t.jsx)(B.default,{sx:n,children:(0,t.jsx)("img",{style:a,src:s,alt:""})}),l[3]=s,l[4]=a,l[5]=i):i=l[5],i},W=e=>{let a,i,c,h,p,u,x,m,g,f,y,j,b,v=(0,r.c)(29),{cards:C,cardPresets:T,selectedCardPreset:$}=e;v[0]!==C?(a=C||{},v[0]=C,v[1]=a):a=v[1];let{equippedCards:I,cardSet:M}=a,[N,_]=(0,n.useState)(),[W,O]=(0,n.useState)($??0);return v[2]!==T||v[3]!==I||v[4]!==W?(i=()=>{let e=T?.[W];e||(e=0===W?I:(0,d.createRange)(0,7).fill({})),_(e)},v[2]=T,v[3]=I,v[4]=W,v[5]=i):i=v[5],v[6]!==C||v[7]!==W?(c=[W,C],v[6]=C,v[7]=W,v[8]=c):c=v[8],(0,n.useEffect)(i,c),v[9]===Symbol.for("react.memo_cache_sentinel")?(h=(0,t.jsx)(o.Typography,{mb:2,variant:"h5",children:"Equipped cards"}),v[9]=h):h=v[9],v[10]===Symbol.for("react.memo_cache_sentinel")?(p={mb:1},v[10]=p):p=v[10],v[11]===Symbol.for("react.memo_cache_sentinel")?(u=(e,t)=>O(t),v[11]=u):u=v[11],v[12]!==$?(x=[0,1,2,3,4,5,6].map(e=>(0,t.jsx)(w.Tab,{sx:{minWidth:{xs:"unset",sm:"inherit"},p:1},icon:(0,t.jsx)(P,{selected:$===e,src:`${d.prefix}etc/Card_Preset_${e}.png`,alt:e}),"aria-label":`${e}-card-tab`},`${e}-card-tab`)),v[12]=$,v[13]=x):x=v[13],v[14]!==W||v[15]!==x?(m=(0,t.jsx)(S.Tabs,{centered:!0,sx:p,value:W,onChange:u,children:x}),v[14]=W,v[15]=x,v[16]=m):m=v[16],v[17]!==M?(g=M?.rawName?(0,t.jsx)(s.Stack,{mb:3,justifyContent:"center",direction:"row",children:(0,t.jsx)(B.default,{sx:{position:"relative"},children:(0,t.jsx)(k.CardAndBorder,{variant:"cardSet",...M})})}):null,v[17]=M,v[18]=g):g=v[18],v[19]!==N?(f=N?.map(D),v[19]=N,v[20]=f):f=v[20],v[21]!==f?(y=(0,t.jsx)(l.Grid,{container:!0,rowGap:3,children:f}),v[21]=f,v[22]=y):y=v[22],v[23]!==y||v[24]!==g?(j=(0,t.jsxs)(s.Stack,{children:[g,y]}),v[23]=y,v[24]=g,v[25]=j):j=v[25],v[26]!==j||v[27]!==m?(b=(0,t.jsxs)(s.Stack,{children:[h,m,j]}),v[26]=j,v[27]=m,v[28]=b):b=v[28],b};function D(e,r){let{cardName:n,amount:a}=e||{},i=(0,N.calcCardBonus)(e);return(0,t.jsx)(l.Grid,{display:"flex",justifyContent:"center",position:"relative",xs:3,item:!0,children:a>0?(0,t.jsx)(k.CardAndBorder,{...e,bonus:i}):(0,t.jsx)(_,{children:(0,t.jsx)(o.Typography,{variant:"subtitle2",children:"EMPTY"})})},`${n}-${r}`)}var O=e.i(76753),A=e.i(651811),E=e.i(931),F=e.i(478627);let z=["gaming","sailing","breeding","farming","summoning"].toSimpleObject(),U=e=>{let n,a,i,l,c,h,p,u,x,m,f=(0,r.c)(27),{exp:y,expReq:j,expMulti:b,charName:v,skillName:w,level:S}=e,C=y/j*100;return f[0]!==v?(n=(0,t.jsx)(o.Typography,{variant:"h5",fontWeight:"bold",children:v}),f[0]=v,f[1]=n):n=f[1],f[2]!==w?(a=(0,O.capitalize)(w),f[2]=w,f[3]=a):a=f[3],f[4]!==S?(i=(0,t.jsxs)(o.Typography,{variant:"body1",component:"span",children:["(Lv. ",S,")"]}),f[4]=S,f[5]=i):i=f[5],f[6]!==a||f[7]!==i?(l=(0,t.jsxs)(o.Typography,{variant:"body1",children:[a," ",i]}),f[6]=a,f[7]=i,f[8]=l):l=f[8],f[9]!==C?(c=(0,t.jsx)(A.default,{percent:C,bgColor:"#f3dd4c"}),f[9]=C,f[10]=c):c=f[10],f[11]!==y?(h=(0,d.notateNumber)(y,"Big"),f[11]=y,f[12]=h):h=f[12],f[13]!==j?(p=(0,d.notateNumber)(j,"Big"),f[13]=j,f[14]=p):p=f[14],f[15]!==h||f[16]!==p?(u=(0,t.jsxs)(o.Typography,{variant:"body1",children:[h," / ",p]}),f[15]=h,f[16]=p,f[17]=u):u=f[17],f[18]!==b||f[19]!==w?(x=b&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g.Divider,{sx:{my:1}}),(0,t.jsxs)(o.Typography,{variant:"body1",children:["Exp multi: ",b?.formattedValue||(0,d.notateNumber)(b?.value,"MultiplierInfo")||0,"x"]}),"sneaking"===w?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g.Divider,{sx:{my:1}}),(0,t.jsx)(o.Typography,{variant:"caption",children:"* inaccurate"})]}):null,(0,t.jsx)(g.Divider,{sx:{my:1}}),(0,t.jsx)(k.Breakdown,{breakdown:b?.breakdown,title:"Exp multi breakdown",notation:"MultiplierInfo"})]}),f[18]=b,f[19]=w,f[20]=x):x=f[20],f[21]!==n||f[22]!==l||f[23]!==c||f[24]!==u||f[25]!==x?(m=(0,t.jsxs)(s.Stack,{gap:.5,children:[n,l,c,u,x]}),f[21]=n,f[22]=l,f[23]=c,f[24]=u,f[25]=x,f[26]=m):m=f[26],m},L=({skills:e,charName:r,account:a,characters:i,character:l,showSkillsRankOneOnly:c})=>{let p=Object.keys(e||{})?.filter(t=>e[t]?.rank===1)?.length>0,u=(0,n.useMemo)(()=>(0,F.getMaxDamage)(l,i,a),[l,a]);return c&&!p?null:(0,t.jsxs)(s.Stack,{children:[(0,t.jsx)(o.Typography,{variant:"h5",children:"Skills"}),(0,t.jsx)(x.Card,{children:(0,t.jsx)(m.CardContent,{children:(0,t.jsx)(B.default,{sx:{display:c?"flex":"grid",gridAutoFlow:"column",gap:c?"24px":"none",...c?{maxWidth:500,flexWrap:"wrap"}:{},gridTemplateColumns:{xs:c?"fit-content":"repeat(6, minmax(45px, 100px))"},gridTemplateRows:c?null:{xs:"repeat(3, minmax(45px, 100px))"},justifyContent:"center"},children:Object.keys(e||{})?.map((n,s)=>{let{level:p,rank:x,icon:m}=e[n];if("character"===n||c&&1!==x)return null;let g=(0,E.getSkillExpMulti)(n,l,i,a,u);return(0,t.jsxs)(B.default,{children:[(0,t.jsx)(h.default,{title:(0,t.jsx)(U,{...e?.[n],skillName:n,charName:r,expMulti:g}),children:(0,t.jsx)("img",{src:`${d.prefix}data/${m}.png`,style:{width:38,height:36},alt:""})}),(0,t.jsxs)(o.Typography,{children:["Lv ",p]}),z[n]?null:(0,t.jsx)(h.default,{title:"Rank across the account",children:(0,t.jsxs)(o.Typography,{sx:{width:"fit-content",color:{1:"success.light",2:"warning.light",3:"secondary.main"}[x],fontWeight:1===x||2===x||3===x?"bold":"400"},children:["R: ",x]})})]},s)})})})})]})};var R=e.i(733884);let H=p.default.img`
  width: 32px;
  height: 32px;
`,G=e=>{let n,a,i,l,s,h,p,u,x,m=(0,r.c)(43),{name:g,x1:f,x2:y,level:j,prayerIndex:b,effect:v,curse:w,maxLevel:S,totalAmount:k,costMulti:C}=e,T=f+f*(j-1)/10,$=y+y*(j-1)/10;if(m[0]!==T||m[1]!==$||m[2]!==C||m[3]!==w||m[4]!==v||m[5]!==j||m[6]!==S||m[7]!==g||m[8]!==b||m[9]!==k||m[10]!==f||m[11]!==y){let e,r,u,x=(0,R.calcPrayerCost)({name:g,x1:f,x2:y,level:j,prayerIndex:b,costMulti:C});m[19]!==g?(e=(0,d.cleanUnderscore)(g),m[19]=g,m[20]=e):e=m[20],m[21]!==e?(s=(0,t.jsx)(o.Typography,{mb:1,fontWeight:"bold",variant:"h5",children:e}),m[21]=e,m[22]=s):s=m[22],m[23]!==T||m[24]!==v?(r=(0,d.cleanUnderscore)(v).replace("{",T),m[23]=T,m[24]=v,m[25]=r):r=m[25],m[26]!==r?(h=(0,t.jsxs)(o.Typography,{fontWeight:"bold",variant:"body1",color:"success.light",children:["Bonus: ",(0,t.jsx)(o.Typography,{fontWeight:400,component:"span",children:r})]}),m[26]=r,m[27]=h):h=m[27],m[28]!==$||m[29]!==w?(u=(0,d.cleanUnderscore)(w).replace("{",$),m[28]=$,m[29]=w,m[30]=u):u=m[30],m[31]!==u?(p=(0,t.jsxs)(o.Typography,{fontWeight:"bold",variant:"body1",color:"error.light",children:["Curse: ",(0,t.jsx)(o.Typography,{fontWeight:400,component:"span",children:u})]}),m[31]=u,m[32]=p):p=m[32],n=c.Box,a=1,i="Cost: ",l=j!==S?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.Typography,{component:"span",sx:{color:0===j?"":x<=k?"success.light":"error.light"},children:(0,d.kFormatter)((0,d.round)(x),2)})," (",(0,d.kFormatter)(k,2),")"]}):(0,t.jsx)(o.Typography,{fontWeight:"bold",color:"success.light",component:"span",children:"Maxed"}),m[0]=T,m[1]=$,m[2]=C,m[3]=w,m[4]=v,m[5]=j,m[6]=S,m[7]=g,m[8]=b,m[9]=k,m[10]=f,m[11]=y,m[12]=n,m[13]=a,m[14]=i,m[15]=l,m[16]=s,m[17]=h,m[18]=p}else n=m[12],a=m[13],i=m[14],l=m[15],s=m[16],h=m[17],p=m[18];return m[33]!==n||m[34]!==a||m[35]!==i||m[36]!==l?(u=(0,t.jsxs)(n,{mt:a,children:[i,l]}),m[33]=n,m[34]=a,m[35]=i,m[36]=l,m[37]=u):u=m[37],m[38]!==s||m[39]!==h||m[40]!==p||m[41]!==u?(x=(0,t.jsxs)(t.Fragment,{children:[s,h,p,u]}),m[38]=s,m[39]=h,m[40]=p,m[41]=u,m[42]=x):x=m[42],x},X=e=>{let n,a,i,l=(0,r.c)(5),{prayers:c}=e;return l[0]===Symbol.for("react.memo_cache_sentinel")?(n={height:"fit-content"},l[0]=n):n=l[0],l[1]!==c?(a=c?.length===0?(0,t.jsx)(o.Typography,{variant:"body2",children:"No prayers equipped"}):c?.map(Y),l[1]=c,l[2]=a):a=l[2],l[3]!==a?(i=(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(x.Card,{variant:"outlined",sx:n,children:(0,t.jsx)(m.CardContent,{children:(0,t.jsx)(s.Stack,{direction:"row",gap:2,flexWrap:"wrap",justifyContent:"center",children:a})})})}),l[3]=a,l[4]=i):i=l[4],i};function Y(e,r){return(0,t.jsx)(h.default,{title:(0,t.jsx)(G,{...e}),children:(0,t.jsx)(H,{src:`${d.prefix}data/Prayer${e?.prayerIndex}.png`,alt:""})},name+r)}let V=p.default.img`
  width: 70px;
  height: 70px;
  object-fit: contain;
`,q=e=>{let n,a,i,l,s=(0,r.c)(10),{name:c,upgrades:h,level:p}=e;return s[0]!==c?(n=(0,d.cleanUnderscore)(c),s[0]=c,s[1]=n):n=s[1],s[2]!==n?(a=(0,t.jsx)(o.Typography,{fontWeight:"bold",variant:"h6",children:n}),s[2]=n,s[3]=a):a=s[3],s[4]!==p||s[5]!==h?(i=h?.map((e,r)=>{let{bonus:n,func:a,x1:i,x2:l}=e,s=0===r?p:1===r?p-25:p-100;return(0,t.jsxs)("div",{children:[Math.max(0,(0,d.growth)(a,s,i,l)),(0,d.cleanUnderscore)(n)]},n+" "+r)}),s[4]=p,s[5]=h,s[6]=i):i=s[6],s[7]!==a||s[8]!==i?(l=(0,t.jsxs)(t.Fragment,{children:[a,i]}),s[7]=a,s[8]=i,s[9]=l):l=s[9],l},K=e=>{let n,a,i,l,c,p,u,x,m,g=(0,r.c)(21),{boxes:f,totalPointsSpent:y,totalOrders:j,showUnmaxedBoxesOnly:b}=e,v=y<j?"error.light":"",w=Math.floor(y);g[0]!==w?(n=(0,d.numberWithCommas)(w),g[0]=w,g[1]=n):n=g[1],g[2]!==v||g[3]!==n?(a=(0,t.jsx)(o.Typography,{variant:"h5",color:v,component:"span",children:n}),g[2]=v,g[3]=n,g[4]=a):a=g[4];let S=Math.floor(j);return g[5]!==S?(i=(0,d.numberWithCommas)(S),g[5]=S,g[6]=i):i=g[6],g[7]!==i?(l=(0,t.jsx)(o.Typography,{variant:"h5",component:"span",children:i}),g[7]=i,g[8]=l):l=g[8],g[9]!==a||g[10]!==l?(c=(0,t.jsxs)(o.Typography,{variant:"h5",children:["Post Office (",a,"/",l,")"]}),g[9]=a,g[10]=l,g[11]=c):c=g[11],g[12]===Symbol.for("react.memo_cache_sentinel")?(p={maxWidth:310},g[12]=p):p=g[12],g[13]!==f||g[14]!==b?(u=f?.map((e,r)=>b&&e?.level===e?.maxLevel?null:e?.name!=="Filler"?(0,t.jsx)("div",{children:(0,t.jsx)(h.default,{title:(0,t.jsx)(q,{...e}),children:(0,t.jsx)(k.StyledBadge,{color:"primary",anchorOrigin:{vertical:"top",horizontal:"left"},overlap:"circular",badgeContent:e?.level?(0,t.jsx)(o.Typography,{fontSize:14,fontWeight:500,color:"black",children:e?.level}):null,max:401,children:(0,t.jsx)(V,{src:`${d.prefix}data/UIboxUpg${r}.png`,alt:""})})})},e?.name+" "+r):null),g[13]=f,g[14]=b,g[15]=u):u=g[15],g[16]!==u?(x=(0,t.jsx)(s.Stack,{direction:"row",gap:1,flexWrap:"wrap",sx:p,children:u}),g[16]=u,g[17]=x):x=g[17],g[18]!==x||g[19]!==c?(m=(0,t.jsxs)(s.Stack,{children:[c,x]}),g[18]=x,g[19]=c,g[20]=m):m=g[20],m};var J=e.i(272680);let Q=e=>{let n,a,i,l=(0,r.c)(7),{items:o,character:p,account:g}=e;return l[0]===Symbol.for("react.memo_cache_sentinel")?(n={display:"grid",justifyContent:"center",gridTemplateColumns:"repeat(2, 60px)"},l[0]=n):n=l[0],l[1]!==g||l[2]!==p||l[3]!==o?(a=o?.map((e,r)=>{let{rawName:n,displayName:a,amount:i}=e;return r<8?(0,t.jsx)(x.Card,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:76},variant:"outlined",children:(0,t.jsx)(m.CardContent,{sx:{"&:last-child":{padding:0}},children:(0,t.jsxs)(s.Stack,{alignItems:"center",justifyContent:"center",children:[(0,t.jsx)(h.default,{title:a&&"ERROR"!==a?(0,t.jsx)(u.default,{...e,character:p,account:g}):"",children:(0,t.jsx)(Z,{src:`${d.prefix}data/${n}.png`,alt:n})}),"ERROR"!==a&&"Blank"!==n?i>=1e5?(0,d.notateNumber)(i):i:" "]})})},`${n}-${r}`):null}),l[1]=g,l[2]=p,l[3]=o,l[4]=a):a=l[4],l[5]!==a?(i=(0,t.jsx)(c.Box,{sx:n,children:a}),l[5]=a,l[6]=i):i=l[6],i},Z=p.default.img`
  width: 50px;
  height: 50px;
  object-fit: contain;
`,ee=e=>{let n,a,i,l,c,d,h,p,u=(0,r.c)(26),{equipment:x,tools:m,food:g,account:f,character:y}=e;return u[0]===Symbol.for("react.memo_cache_sentinel")?(n=(0,t.jsx)(o.Typography,{variant:"h5",children:"Equipment"}),u[0]=n):n=u[0],u[1]!==x?(a=x?.slice(0,8),u[1]=x,u[2]=a):a=u[2],u[3]!==f||u[4]!==y||u[5]!==a?(i=(0,t.jsx)(Q,{items:a,character:y,account:f}),u[3]=f,u[4]=y,u[5]=a,u[6]=i):i=u[6],u[7]!==x?(l=x?.slice(8),u[7]=x,u[8]=l):l=u[8],u[9]!==f||u[10]!==y||u[11]!==l?(c=(0,t.jsx)(Q,{items:l,character:y,account:f}),u[9]=f,u[10]=y,u[11]=l,u[12]=c):c=u[12],u[13]!==f||u[14]!==y||u[15]!==m?(d=(0,t.jsx)(Q,{items:m,character:y,account:f}),u[13]=f,u[14]=y,u[15]=m,u[16]=d):d=u[16],u[17]!==f||u[18]!==y||u[19]!==g?(h=(0,t.jsx)(Q,{items:g,character:y,account:f}),u[17]=f,u[18]=y,u[19]=g,u[20]=h):h=u[20],u[21]!==i||u[22]!==c||u[23]!==d||u[24]!==h?(p=(0,t.jsxs)(s.Stack,{children:[n,(0,t.jsxs)(s.Stack,{mt:2,direction:"row",gap:1,flexWrap:"wrap",justifyContent:"center",children:[i,c,d,h]})]}),u[21]=i,u[22]=c,u[23]=d,u[24]=h,u[25]=p):p=u[25],p};var et=e.i(375529),er=e.i(65057);let en=p.default.img`
  width: 30px;
  height: 30px;
`,ea=e=>{let n,a,i,l,c,d,h,p=(0,r.c)(20),{availablePoints:u,pointsFromCoins:x,pointsFromMats:m,pointsFromAcme:g,smithingLevel:f}=e,y=void 0===f?0:f,j=0===u?"":u>0?"error.light":"secondary",b=x+m-u+y+g;p[0]!==j||p[1]!==b?(n=(0,t.jsx)(o.Typography,{variant:"h6",component:"span",color:j,children:b}),p[0]=j,p[1]=b,p[2]=n):n=p[2];let v=x+m+y+g;return p[3]!==n||p[4]!==v?(a=(0,t.jsxs)(o.Typography,{my:1,variant:"h6",children:["Points (",n," ","/ ",v,")"]}),p[3]=n,p[4]=v,p[5]=a):a=p[5],p[6]!==m?(i=(0,t.jsxs)(o.Typography,{variant:"caption",children:["Points From Mats: ",m]}),p[6]=m,p[7]=i):i=p[7],p[8]!==x?(l=(0,t.jsxs)(o.Typography,{variant:"caption",children:["Points From Coins: ",x]}),p[8]=x,p[9]=l):l=p[9],p[10]!==y?(c=(0,t.jsxs)(o.Typography,{variant:"caption",children:["Points From Smithing: ",y]}),p[10]=y,p[11]=c):c=p[11],p[12]!==g?(d=(0,t.jsxs)(o.Typography,{variant:"caption",children:["Points From acme: ",g]}),p[12]=g,p[13]=d):d=p[13],p[14]!==a||p[15]!==i||p[16]!==l||p[17]!==c||p[18]!==d?(h=(0,t.jsxs)(s.Stack,{mb:1,children:[a,i,l,c,d]}),p[14]=a,p[15]=i,p[16]=l,p[17]=c,p[18]=d,p[19]=h):h=p[19],h},ei=e=>{let n,a,i,l,s,c,d=(0,r.c)(14),{title:h,value:p,money:u,sx:g}=e;return d[0]!==g?(n={width:"100%",...g},d[0]=g,d[1]=n):n=d[1],d[2]===Symbol.for("react.memo_cache_sentinel")?(a={"&:last-child":{p:"10px"}},d[2]=a):a=d[2],d[3]!==h?(i=(0,t.jsx)(o.Typography,{fontWeight:"bold",children:h}),d[3]=h,d[4]=i):i=d[4],d[5]!==u||d[6]!==p?(l=u?p:(0,t.jsx)(o.Typography,{children:p}),d[5]=u,d[6]=p,d[7]=l):l=d[7],d[8]!==i||d[9]!==l?(s=(0,t.jsxs)(m.CardContent,{sx:a,children:[i,l]}),d[8]=i,d[9]=l,d[10]=s):s=d[10],d[11]!==n||d[12]!==s?(c=(0,t.jsx)(x.Card,{sx:n,children:s}),d[11]=n,d[12]=s,d[13]=c):c=d[13],c},el=e=>{let n,a,i,l=(0,r.c)(7),{title:c,children:d}=e;return l[0]!==c?(n="object"==typeof c?c:(0,t.jsx)(o.Typography,{my:1,variant:"h6",children:c}),l[0]=c,l[1]=n):n=l[1],l[2]!==d?(a=(0,t.jsx)(s.Stack,{direction:"row",gap:2,children:d}),l[2]=d,l[3]=a):a=l[3],l[4]!==n||l[5]!==a?(i=(0,t.jsxs)(t.Fragment,{children:[n,a]}),l[4]=n,l[5]=a,l[6]=i):i=l[6],i},es=e=>{let n,a,i,l,c,h,p,u,x,m,g,f,y,j,b,v,w,S,k,C,T,$,I,M,N,B,_,P,W,D=(0,r.c)(74),{character:O,account:A,characters:E}=e;D[0]!==A||D[1]!==O||D[2]!==E?(n=(0,er.getPlayerAnvil)(O,E,A),D[0]=A,D[1]=O,D[2]=E,D[3]=n):n=D[3];let{stats:F}=n,{xpPoints:z,speedPoints:U,capPoints:L,anvilSpeed:R,anvilCapacity:H,anvilCost:G,baseAnvilExp:X}=F;D[4]===Symbol.for("react.memo_cache_sentinel")?(a=(0,t.jsx)(o.Typography,{variant:"h5",children:"Anvil Details"}),D[4]=a):a=D[4];let Y=O?.skillsInfo?.smithing?.level;D[5]!==F||D[6]!==Y?(i=(0,t.jsx)(ea,{...F,smithingLevel:Y}),D[5]=F,D[6]=Y,D[7]=i):i=D[7],D[8]!==z?(l=(0,t.jsx)(ei,{title:"Exp",value:z}),D[8]=z,D[9]=l):l=D[9],D[10]!==U?(c=(0,t.jsx)(ei,{title:"Speed",value:U}),D[10]=U,D[11]=c):c=D[11],D[12]!==L?(h=(0,t.jsx)(ei,{title:"Capacity",value:L}),D[12]=L,D[13]=h):h=D[13],D[14]!==i||D[15]!==l||D[16]!==c||D[17]!==h?(p=(0,t.jsxs)(el,{title:i,children:[l,c,h]}),D[14]=i,D[15]=l,D[16]=c,D[17]=h,D[18]=p):p=D[18],D[19]!==A||D[20]!==X||D[21]!==O||D[22]!==E||D[23]!==z?(u=(0,d.notateNumber)((0,er.calcAnvilExp)(O,E,A,X,z),"Big"),D[19]=A,D[20]=X,D[21]=O,D[22]=E,D[23]=z,D[24]=u):u=D[24];let V=`${u}%`;D[25]!==V?(x=(0,t.jsx)(ei,{title:"Exp",value:V}),D[25]=V,D[26]=x):x=D[26],D[27]!==R?(m=(0,d.notateNumber)(R,"Big"),D[27]=R,D[28]=m):m=D[28],D[29]!==m?(g=(0,t.jsx)(ei,{title:"Speed",value:m}),D[29]=m,D[30]=g):g=D[30],D[31]!==H?(f=(0,d.kFormatter)(H),D[31]=H,D[32]=f):f=D[32],D[33]!==f?(y=(0,t.jsx)(ei,{title:"Capacity",value:f}),D[33]=f,D[34]=y):y=D[34],D[35]!==x||D[36]!==g||D[37]!==y?(j=(0,t.jsxs)(el,{title:"Bonus",children:[x,g,y]}),D[35]=x,D[36]=g,D[37]=y,D[38]=j):j=D[38],D[39]!==G?.rawName?(b=(0,t.jsx)(ei,{title:"Item",value:G?.rawName?(0,t.jsx)(en,{src:`${d.prefix}data/${G?.rawName}.png`,alt:""}):(0,t.jsx)(t.Fragment,{})}),D[39]=G?.rawName,D[40]=b):b=D[40];let q=G?.nextMatUpgrade;D[41]!==q?(v=(0,d.kFormatter)(q,2),D[41]=q,D[42]=v):v=D[42],D[43]!==v?(w=(0,t.jsx)(ei,{title:"Upg. cost",value:v}),D[43]=v,D[44]=w):w=D[44];let K=G?.totalMats;D[45]!==K?(S=(0,d.kFormatter)(K),D[45]=K,D[46]=S):S=D[46],D[47]!==S?(k=(0,t.jsx)(ei,{title:"Total Spent",value:S}),D[47]=S,D[48]=k):k=D[48],D[49]!==b||D[50]!==w||D[51]!==k?(C=(0,t.jsxs)(el,{title:"Material",children:[b,w,k]}),D[49]=b,D[50]=w,D[51]=k,D[52]=C):C=D[52],D[53]===Symbol.for("react.memo_cache_sentinel")?(T={pb:2},D[53]=T):T=D[53];let J=G?.nextCoinUpgrade;D[54]!==J?($=(0,d.getCoinsArray)(J),D[54]=J,D[55]=$):$=D[55],D[56]!==$?(I=(0,t.jsx)(ei,{title:"Upg. cost",money:!0,sx:T,value:(0,t.jsx)(et.default,{title:"",maxCoins:3,money:$})}),D[56]=$,D[57]=I):I=D[57],D[58]===Symbol.for("react.memo_cache_sentinel")?(M={pb:2},D[58]=M):M=D[58];let Q=G?.totalCoins;return D[59]!==Q?(N=(0,d.getCoinsArray)(Q),D[59]=Q,D[60]=N):N=D[60],D[61]!==N?(B=(0,t.jsx)(ei,{title:"Total Spent",money:!0,sx:M,value:(0,t.jsx)(et.default,{title:"",maxCoins:3,money:N})}),D[61]=N,D[62]=B):B=D[62],D[63]!==I||D[64]!==B?(_=(0,t.jsxs)(el,{title:"Money",children:[I,B]}),D[63]=I,D[64]=B,D[65]=_):_=D[65],D[66]!==G?.coinsToMax?(P=G?.coinsToMax>0?(0,t.jsx)(ei,{title:"Coins to max",money:!0,sx:{pb:2,my:2},value:(0,t.jsx)(et.default,{title:"",maxCoins:3,money:(0,d.getCoinsArray)(G?.coinsToMax)})}):null,D[66]=G?.coinsToMax,D[67]=P):P=D[67],D[68]!==j||D[69]!==C||D[70]!==_||D[71]!==P||D[72]!==p?(W=(0,t.jsxs)(s.Stack,{children:[a,(0,t.jsxs)(s.Stack,{children:[p,j,C,_,P]})]}),D[68]=j,D[69]=C,D[70]=_,D[71]=P,D[72]=p,D[73]=W):W=D[73],W},eo=e=>{let n,a,i,l,c,d,h,p=(0,r.c)(15),{signs:u}=e;if(p[0]!==u){let e=u?.toSorted(ec);a=s.Stack,p[6]===Symbol.for("react.memo_cache_sentinel")?(c=(0,t.jsx)(o.Typography,{variant:"h5",children:"Star Signs"}),p[6]=c):c=p[6],n=s.Stack,i=1,l=e?.map(eh),p[0]=u,p[1]=n,p[2]=a,p[3]=i,p[4]=l,p[5]=c}else n=p[1],a=p[2],i=p[3],l=p[4],c=p[5];return p[7]!==n||p[8]!==i||p[9]!==l?(d=(0,t.jsx)(n,{gap:i,children:l}),p[7]=n,p[8]=i,p[9]=l,p[10]=d):d=p[10],p[11]!==a||p[12]!==c||p[13]!==d?(h=(0,t.jsxs)(a,{children:[c,d]}),p[11]=a,p[12]=c,p[13]=d,p[14]=h):h=p[14],h};function ec(e,t){return e?.starName.localeCompare(t?.starName,"en")}function ed(e){let{chipBoost:t}=e;return t>1}function eh(e,r){let{starName:n,bonuses:a}=e,i=a?.some(ed);return"None"!==n?(0,t.jsx)(x.Card,{children:(0,t.jsxs)(m.CardContent,{children:[(0,t.jsx)(o.Typography,{fontWeight:"bold",variant:"body1",children:(0,d.cleanUnderscore)(n)}),(0,t.jsx)(o.Typography,{color:i?"info.light":"",children:a?.map((e,t)=>{let{rawName:r,bonus:n}=e;return`${(0,d.cleanUnderscore)(r?.replace("{",n))}${a.length-1===t?"":", "}`})})]})},n+r):null}let ep=e=>{let n,a,i,l,s,c=(0,r.c)(19),{bubbleName:h,desc:p,func:u,level:x,x1:m,x2:g}=e;if(c[0]!==h||c[1]!==p||c[2]!==u||c[3]!==x||c[4]!==m||c[5]!==g){let e,r=(0,d.growth)(u,x,m,g);c[9]!==h?(e=(0,d.cleanUnderscore)(h),c[9]=h,c[10]=e):e=c[10],c[11]!==e?(i=(0,t.jsx)(o.Typography,{fontWeight:"bold",variant:"h5",children:e}),c[11]=e,c[12]=i):i=c[12],n=o.Typography,a=(0,d.cleanUnderscore)(p).replace(/({}?)|\$/g,r),c[0]=h,c[1]=p,c[2]=u,c[3]=x,c[4]=m,c[5]=g,c[6]=n,c[7]=a,c[8]=i}else n=c[6],a=c[7],i=c[8];return c[13]!==n||c[14]!==a?(l=(0,t.jsx)(n,{children:a}),c[13]=n,c[14]=a,c[15]=l):l=c[15],c[16]!==i||c[17]!==l?(s=(0,t.jsxs)(t.Fragment,{children:[i,l]}),c[16]=i,c[17]=l,c[18]=s):s=c[18],s},eu=e=>{let n,a,i,l,o,c=(0,r.c)(11),{bubbles:p}=e;c[0]!==p?(n=p?.every(ex),c[0]=p,c[1]=n):n=c[1];let u=n;return c[2]===Symbol.for("react.memo_cache_sentinel")?(a={height:"fit-content"},c[2]=a):a=c[2],c[3]!==u?(i=u?(0,t.jsx)(x.Card,{variant:"outlined",children:(0,t.jsx)(m.CardContent,{children:(0,t.jsx)(h.default,{title:"Missing Active Bubble",children:(0,t.jsx)("img",{src:`${d.prefix}data/aUpgradesG2.png`,style:{width:42,height:42,filter:"brightness(0)"},alt:""})})})}):null,c[3]=u,c[4]=i):i=c[4],c[5]!==p||c[6]!==u?(l=u?null:(0,t.jsx)(x.Card,{variant:"outlined",children:(0,t.jsx)(m.CardContent,{children:(0,t.jsx)(s.Stack,{direction:"row",gap:2,flexWrap:"wrap",justifyContent:"center",children:p?.map(em)})})}),c[5]=p,c[6]=u,c[7]=l):l=c[7],c[8]!==i||c[9]!==l?(o=(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(s.Stack,{direction:"row",sx:a,children:[i,l]})}),c[8]=i,c[9]=l,c[10]=o):o=c[10],o};function ex(e){let{bubbleName:t}=e;return!t}function em(e,r){let{bubbleName:n,rawName:a}=e;if(!n)return null;let i="BUG]"===n?"Bug2":n;return(0,t.jsx)(h.default,{title:(0,t.jsx)(ep,{...e,bubbleName:i}),children:(0,t.jsx)("img",{src:`${d.prefix}data/${a}.png`,style:{width:42,height:42},alt:""})},i+r)}var eg=e.i(881739),ef=e.i(766464),ey=e.i(937774);e.i(262887);var ej=e.i(210270),eb=e.i(267350);let ev=p.default.img`
  width: 35px;
  height: 35px;
  object-fit: contain;
`,ew=e=>{let n,a,i,l,c,p=(0,r.c)(15),{playerId:u,afkTarget:g,account:f,divStyle:y,characters:j}=e;p[0]!==f?.lab?.connectedPlayers||p[1]!==u?(n=()=>f?.lab?.connectedPlayers?.find(e=>e?.playerId===u)?.isDivinityConnected,p[0]=f?.lab?.connectedPlayers,p[1]=u,p[2]=n):n=p[2];let b=n;p[3]!==f||p[4]!==j||p[5]!==u?(a=(0,eb.getDeityLinkedIndex)(f,j,4).includes(u),p[3]=f,p[4]=j,p[5]=u,p[6]=a):a=p[6];let v=a;return p[7]===Symbol.for("react.memo_cache_sentinel")?(i={width:220},p[7]=i):i=p[7],p[8]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)(o.Typography,{color:"info.light",children:"Activity"}),p[8]=l):l=p[8],p[9]!==g||p[10]!==y?.description||p[11]!==y?.index||p[12]!==v||p[13]!==b?(c=(0,t.jsx)(x.Card,{sx:i,variant:"outlined",children:(0,t.jsxs)(m.CardContent,{children:[l,g&&"_"!==g?(0,t.jsxs)(s.Stack,{direction:"row",alignItems:"center",gap:1,children:["Divinity"===g||b()||v?(0,t.jsx)(h.default,{title:(0,d.cleanUnderscore)(y?.description.replace("@","")),children:(0,t.jsx)("img",{style:{height:40,width:58},src:`${d.prefix}etc/Div_Style_${y?.index??0}.png`,alt:""})}):null,(0,t.jsxs)(s.Stack,{children:[(0,t.jsxs)(s.Stack,{direction:"row",alignItems:"center",gap:1,children:[(0,t.jsx)(ev,{src:`${d.prefix}afk_targets/${g}.png`,alt:""}),(0,t.jsx)(o.Typography,{children:(0,d.cleanUnderscore)(g)})]}),b()?(0,t.jsxs)(s.Stack,{direction:"row",alignItems:"center",gap:1,children:[(0,t.jsx)(ev,{src:`${d.prefix}afk_targets/Divinity.png`,alt:""}),(0,t.jsx)(o.Typography,{children:"Divinity"})]}):null]})]}):(0,t.jsxs)(s.Stack,{direction:"row",alignItems:"center",gap:1,children:[(0,t.jsx)(ev,{src:`${d.prefix}data/Afkz5.png`,alt:""}),(0,t.jsx)(o.Typography,{children:"Nothing"})]})]})}),p[9]=g,p[10]=y?.description,p[11]=y?.index,p[12]=v,p[13]=b,p[14]=c):c=p[14],c};var eS=e.i(42916),ek=e.i(259436),eC=e.i(164056),eT=e.i(303780),e$=e.i(121432),eI=e.i(775976),eM=e.i(451221);e.i(350461);var eN=e.i(730943),eB=e.i(256254);let e_=function(e){let{children:t,defer:r=!1,fallback:a=null}=e,[i,l]=n.useState(!1);return(0,eB.unstable_useEnhancedEffect)(()=>{r||l(!0)},[r]),n.useEffect(()=>{r&&l(!0)},[r]),i?t:a};var eP=e.i(842282),eW=e.i(75136),eD=e.i(739353),eO=e.i(755250),eA=e.i(405666),eE=e.i(952753),eF=e.i(395724),ez=e.i(239547),eU=e.i(56206),eL=e.i(280445),eR=e.i(590117),eH=e.i(889095),eG=e.i(464107);let eX=(0,eL.styled)("div",{shouldForwardProp:eH.default})((0,eR.default)(({theme:e})=>({position:"fixed",top:0,left:0,bottom:0,zIndex:e.zIndex.drawer-1,variants:[{props:{anchor:"left"},style:{right:"auto"}},{props:{anchor:"right"},style:{left:"auto",right:0}},{props:{anchor:"top"},style:{bottom:"auto",right:0}},{props:{anchor:"bottom"},style:{top:"auto",bottom:0,right:0}}]}))),eY=n.forwardRef(function(e,r){let{anchor:n,classes:a={},className:i,width:l,style:s,...o}=e;return(0,t.jsx)(eX,{className:(0,eU.default)("PrivateSwipeArea-root",a.root,a[`anchor${(0,eG.default)(n)}`],i),ref:r,style:{[(0,eP.isHorizontal)(n)?"width":"height"]:l,...s},ownerState:e,...o})}),eV=null;function eq(e,t,r){return"right"===e?r.body.offsetWidth-t[0].pageX:t[0].pageX}function eK(e,t,r){return"bottom"===e?r.innerHeight-t[0].clientY:t[0].clientY}function eJ(e,t){return e?t.clientWidth:t.clientHeight}function eQ(e,t,r,n){return Math.min(Math.max(r?t-e:n+t-e,0),n)}let eZ="undefined"!=typeof navigator&&/iPad|iPhone|iPod/.test(navigator.userAgent),e0=n.forwardRef(function(e,r){let a=(0,eF.useDefaultProps)({name:"MuiSwipeableDrawer",props:e}),i=(0,eM.useTheme)(),l={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{anchor:s="left",disableBackdropTransition:o=!1,disableDiscovery:c=!1,disableSwipeToOpen:d=eZ,hideBackdrop:h,hysteresis:p=.52,allowSwipeInChildren:u=!1,minFlingVelocity:x=450,ModalProps:{BackdropProps:m,...g}={},onClose:f,onOpen:y,open:j=!1,PaperProps:b={},SwipeAreaProps:v,swipeAreaWidth:w=20,transitionDuration:S=l,variant:k="temporary",...C}=a,[T,$]=n.useState(!1),I=n.useRef({isSwiping:null}),M=n.useRef(),N=n.useRef(),B=n.useRef(),_=(0,eW.default)(b.ref,B),P=n.useRef(!1),W=n.useRef();(0,eE.default)(()=>{W.current=null},[j]);let D=n.useCallback((e,t={})=>{let{mode:r=null,changeTransition:n=!0}=t,a=["right","bottom"].includes((0,eP.getAnchor)(i,s))?1:-1,l=(0,eP.isHorizontal)(s),c=l?`translate(${a*e}px, 0)`:`translate(0, ${a*e}px)`,d=B.current.style;d.webkitTransform=c,d.transform=c;let p="";if(r&&(p=i.transitions.create("all",(0,ez.getTransitionProps)({easing:void 0,style:void 0,timeout:S},{mode:r}))),n&&(d.webkitTransition=p,d.transition=p),!o&&!h){let t=N.current.style;t.opacity=1-e/eJ(l,B.current),n&&(t.webkitTransition=p,t.transition=p)}},[s,o,h,i,S]),O=(0,eA.default)(e=>{let t;if(!P.current)return;if(eV=null,P.current=!1,eN.flushSync(()=>{$(!1)}),!I.current.isSwiping){I.current.isSwiping=null;return}I.current.isSwiping=null;let r=(0,eP.getAnchor)(i,s),n=(0,eP.isHorizontal)(s);t=n?eq(r,e.changedTouches,(0,eD.default)(e.currentTarget)):eK(r,e.changedTouches,(0,eO.default)(e.currentTarget));let a=n?I.current.startX:I.current.startY,l=eJ(n,B.current),o=eQ(t,a,j,l),c=o/l;(Math.abs(I.current.velocity)>x&&(W.current=1e3*Math.abs((l-o)/I.current.velocity)),j)?I.current.velocity>x||c>p?f():D(0,{mode:"exit"}):I.current.velocity<-x||1-c>p?y():D(eJ(n,B.current),{mode:"enter"})}),A=(e=!1)=>{if(!T){(e||!(c&&u))&&eN.flushSync(()=>{$(!0)});let t=(0,eP.isHorizontal)(s);!j&&B.current&&D(eJ(t,B.current)+(c?15:-20),{changeTransition:!1}),I.current.velocity=0,I.current.lastTime=null,I.current.lastTranslate=null,I.current.paperHit=!1,P.current=!0}},E=(0,eA.default)(e=>{if(!B.current||!P.current||null!==eV&&eV!==I.current)return;A(!0);let t=(0,eP.getAnchor)(i,s),r=(0,eP.isHorizontal)(s),n=eq(t,e.touches,(0,eD.default)(e.currentTarget)),a=eK(t,e.touches,(0,eO.default)(e.currentTarget));if(j&&B.current.contains(e.target)&&null===eV){if(function({domTreeShapes:e,start:t,current:r,anchor:n}){let a={x:"scrollLeft",y:"scrollTop"},i={x:"scrollWidth",y:"scrollHeight"},l={x:"clientWidth",y:"clientHeight"};return e.some(e=>{let s=r>=t;("top"===n||"left"===n)&&(s=!s);let o="left"===n||"right"===n?"x":"y",c=Math.round(e[a[o]]),d=c+e[l[o]]<e[i[o]];return!!s&&!!d||!s&&!!(c>0)})}({domTreeShapes:function(e,t){let r=[];for(;e&&e!==t.parentElement;){let n=(0,eO.default)(t).getComputedStyle(e);"absolute"===n.getPropertyValue("position")||"hidden"===n.getPropertyValue("overflow-x")||(e.clientWidth>0&&e.scrollWidth>e.clientWidth||e.clientHeight>0&&e.scrollHeight>e.clientHeight)&&r.push(e),e=e.parentElement}return r}(e.target,B.current),start:r?I.current.startX:I.current.startY,current:r?n:a,anchor:s})){eV=!0;return}eV=I.current}if(null==I.current.isSwiping){let t=Math.abs(n-I.current.startX),i=Math.abs(a-I.current.startY),l=r?t>i&&t>3:i>t&&i>3;if(l&&e.cancelable&&e.preventDefault(),!0===l||(r?i>3:t>3)){if(I.current.isSwiping=l,!l)return void O(e);I.current.startX=n,I.current.startY=a,c||j||(r?I.current.startX-=20:I.current.startY-=20)}}if(!I.current.isSwiping)return;let l=eJ(r,B.current),o=r?I.current.startX:I.current.startY;j&&!I.current.paperHit&&(o=Math.min(o,l));let d=eQ(r?n:a,o,j,l);if(j)if(I.current.paperHit)0===d&&(I.current.startX=n,I.current.startY=a);else{if(!(r?n<l:a<l))return;I.current.paperHit=!0,I.current.startX=n,I.current.startY=a}null===I.current.lastTranslate&&(I.current.lastTranslate=d,I.current.lastTime=performance.now()+1);let h=(d-I.current.lastTranslate)/(performance.now()-I.current.lastTime)*1e3;I.current.velocity=.4*I.current.velocity+.6*h,I.current.lastTranslate=d,I.current.lastTime=performance.now(),e.cancelable&&e.preventDefault(),D(d)}),F=(0,eA.default)(e=>{if(e.defaultPrevented||e.defaultMuiPrevented||j&&(h||!N.current.contains(e.target))&&!B.current.contains(e.target))return;let t=(0,eP.getAnchor)(i,s),r=(0,eP.isHorizontal)(s),n=eq(t,e.touches,(0,eD.default)(e.currentTarget)),a=eK(t,e.touches,(0,eO.default)(e.currentTarget));if(!j){if(d||!(e.target===M.current||B.current?.contains(e.target)&&("function"==typeof u?u(e,M.current,B.current):u)))return;if(r){if(n>w)return}else if(a>w)return}e.defaultMuiPrevented=!0,eV=null,I.current.startX=n,I.current.startY=a,A()});return n.useEffect(()=>{if("temporary"===k){let e=(0,eD.default)(B.current);return e.addEventListener("touchstart",F),e.addEventListener("touchmove",E,{passive:!j}),e.addEventListener("touchend",O),()=>{e.removeEventListener("touchstart",F),e.removeEventListener("touchmove",E,{passive:!j}),e.removeEventListener("touchend",O)}}},[k,j,F,E,O]),n.useEffect(()=>()=>{eV===I.current&&(eV=null)},[]),n.useEffect(()=>{j||$(!1)},[j]),(0,t.jsxs)(n.Fragment,{children:[(0,t.jsx)(eP.default,{open:"temporary"===k&&!!T||j,variant:k,ModalProps:{BackdropProps:{...m,ref:N},..."temporary"===k&&{keepMounted:!0},...g},hideBackdrop:h,PaperProps:{...b,style:{pointerEvents:"temporary"!==k||j||u?"":"none",...b.style},ref:_},anchor:s,transitionDuration:W.current||S,onClose:f,ref:r,...C}),!d&&"temporary"===k&&(0,t.jsx)(e_,{children:(0,t.jsx)(eY,{anchor:s,ref:M,width:w,...v})})]})});var e1=e.i(59540);let e2=(0,e1.default)((0,t.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight");var e5=e.i(660828);let e3=(0,e1.default)((0,t.jsx)("path",{d:"M12 5.83 15.17 9l1.41-1.41L12 3 7.41 7.59 8.83 9zm0 12.34L8.83 15l-1.41 1.41L12 21l4.59-4.59L15.17 15z"}),"UnfoldMore"),e4=(0,e1.default)((0,t.jsx)("path",{d:"M7.41 18.59 8.83 20 12 16.83 15.17 20l1.41-1.41L12 14zm9.18-13.18L15.17 4 12 7.17 8.83 4 7.41 5.41 12 10z"}),"UnfoldLess"),e6=(0,e1.default)((0,t.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}),"ContentCopy"),e7=(0,e1.default)((0,t.jsx)("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),e8=(0,e1.default)((0,t.jsx)("path",{d:"m22 9.24-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28z"}),"StarBorder");function e9({data:e,children:r,valueNotation:a="MultiplierInfo"}){let[i,l]=(0,n.useState)(new Set([0])),[h,p]=(0,n.useState)(new Set),[u,x]=(0,n.useState)(!1),[m,g]=(0,n.useState)(""),[y,j]=(0,n.useState)(!1),[b,v]=(0,n.useState)(()=>{let t=localStorage.getItem(`pinned-sources-${e.statName}`);if(t)try{return new Set(JSON.parse(t))}catch(e){console.error("Failed to load pinned sources",e)}return new Set}),w=()=>{x(!0)};(0,n.useEffect)(()=>{localStorage.setItem(`pinned-sources-${e.statName}`,JSON.stringify(Array.from(b)))},[b,e.statName]);let S=(0,n.useMemo)(()=>{if(!m.trim())return e;let t=m.toLowerCase(),r=e.categories.map(e=>{let r=e.name.toLowerCase().includes(t),n=e.sources?.filter(e=>e.name.toLowerCase().includes(t)),a=e.subSections?.map(e=>{let r=e.name.toLowerCase().includes(t),n=e.sources.filter(e=>e.name.toLowerCase().includes(t));return r||n.length>0?{...e,sources:r?e.sources:n}:null}).filter(Boolean);return r||n&&n.length>0||a&&a.length>0?{...e,sources:r?e.sources:n,subSections:r?e.subSections:a}:null}).filter(Boolean);return{...e,categories:r}},[e,m]),k=(e,t)=>[...e].sort((e,r)=>{let n=`${t}-${e.name}`,a=`${t}-${r.name}`,i=b.has(n),l=b.has(a);return i&&!l?-1:!i&&l?1:0}),C=(0,n.useMemo)(()=>({...S,categories:S.categories.map((e,t)=>({...e,sources:e.sources?k(e.sources,`${t}`):void 0,subSections:e.subSections?.map((e,r)=>({...e,sources:k(e.sources,`${t}-${r}`)}))}))}),[S,b]),T=(e,t)=>{t.stopPropagation(),v(t=>{let r=new Set(t);return r.has(e)?r.delete(e):r.add(e),r})},$=(0,eM.useTheme)(),I=(0,f.useMediaQuery)($.breakpoints.down("sm"));return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.Box,{component:"span",sx:{display:"inline-block",cursor:"pointer"},onClick:w,children:r}),(0,t.jsx)(e0,{anchor:I?"bottom":"right",open:u,onClose:()=>{x(!1)},onOpen:w,disableSwipeToOpen:!1,swipeAreaWidth:20,sx:{zIndex:e=>e.zIndex.drawer+2},slotProps:{backdrop:{sx:{bgcolor:"rgba(0, 0, 0, 0.5)"}}},PaperProps:{sx:{width:I?"100%":420,maxWidth:"100vw",height:I?"85vh":"100%",maxHeight:I?"85vh":"100%",borderTopLeftRadius:16*!!I,borderTopRightRadius:16*!!I}},children:(0,t.jsxs)(c.Box,{sx:{width:"100%",height:"100%",display:"flex",flexDirection:"column",bgcolor:"background.paper"},children:[I&&(0,t.jsx)(c.Box,{sx:{display:"flex",justifyContent:"center",pt:1,pb:.5},children:(0,t.jsx)(c.Box,{sx:{width:40,height:4,bgcolor:"divider",borderRadius:2}})}),(0,t.jsx)(s.Stack,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{borderBottom:"1px solid",borderColor:"divider",px:I?2:3,py:I?1.5:2,bgcolor:"background.default"},children:(0,t.jsxs)(s.Stack,{direction:"row",alignItems:"center",justifyContent:"space-between",gap:1.5,width:"100%",children:[(0,t.jsx)(o.Typography,{variant:"body1",color:"text.secondary",fontWeight:500,children:e.statName}),(0,t.jsx)(o.Typography,{variant:"h5",fontWeight:700,children:(0,d.notateNumber)(e.totalValue,a)})]})}),(0,t.jsxs)(s.Stack,{direction:"row",spacing:1,sx:{px:I?1.5:2,py:I?1:1.5,borderBottom:"1px solid",borderColor:"divider",bgcolor:"background.default"},children:[(0,t.jsx)(eC.TextField,{size:"small",placeholder:"Search sources...",value:m,onChange:e=>g(e.target.value),sx:{flexGrow:1,"& .MuiOutlinedInput-root":{fontSize:"0.875rem",color:"text.primary",minHeight:I?40:"auto","& fieldset":{borderColor:"divider"},"&:hover fieldset":{borderColor:"text.secondary"},"&.Mui-focused fieldset":{borderColor:"primary.main"}},"& .MuiInputBase-input::placeholder":{color:"text.secondary",opacity:.7}},InputProps:{startAdornment:(0,t.jsx)(eT.InputAdornment,{position:"start",children:(0,t.jsx)(e5.default,{sx:{fontSize:18,color:"text.secondary"}})})}}),(0,t.jsx)(e$.IconButton,{size:I?"medium":"small",onClick:()=>{l(new Set(e.categories.map((e,t)=>t)));let t=new Set;e.categories.forEach((e,r)=>{e.subSections?.forEach((e,n)=>{t.add(`${r}-${n}`)})}),p(t)},title:"Expand All",sx:{color:"text.secondary",minWidth:I?44:"auto",minHeight:I?44:"auto","&:hover":{bgcolor:"rgba(255, 255, 255, 0.05)"}},children:(0,t.jsx)(e3,{fontSize:"small"})}),(0,t.jsx)(e$.IconButton,{size:I?"medium":"small",onClick:()=>{l(new Set),p(new Set)},title:"Collapse All",sx:{color:"text.secondary",minWidth:I?44:"auto",minHeight:I?44:"auto","&:hover":{bgcolor:"rgba(255, 255, 255, 0.05)"}},children:(0,t.jsx)(e4,{fontSize:"small"})}),(0,t.jsx)(e$.IconButton,{size:I?"medium":"small",onClick:()=>{let t=`${e.statName}: ${(0,d.notateNumber)(e.totalValue,a)}

`;e.categories.forEach(e=>{t+=`${e.name}:
`,e.sources&&e.sources.forEach(e=>{t+=`  ${e.name}: ${(0,d.notateNumber)(e.value,a)}
`}),e.subSections&&e.subSections.forEach(e=>{t+=`  ${e.name}:
`,e.sources.forEach(e=>{t+=`    ${e.name}: ${(0,d.notateNumber)(e.value,a)}
`})}),t+="\n"}),navigator.clipboard.writeText(t),j(!0)},title:"Copy as Text",sx:{color:"text.secondary",minWidth:I?44:"auto",minHeight:I?44:"auto","&:hover":{bgcolor:"rgba(255, 255, 255, 0.05)"}},children:(0,t.jsx)(e6,{fontSize:"small"})})]}),(0,t.jsx)(c.Box,{sx:{flexGrow:1,overflowY:"auto",WebkitOverflowScrolling:"touch",py:1},children:C.categories.map((e,r)=>{let n=i.has(r),s=(e.sources?.length||0)+(e.subSections?.reduce((e,t)=>e+t.sources.length,0)||0);return(0,t.jsxs)(c.Box,{sx:{borderBottom:"1px solid",borderColor:"divider","&:last-child":{borderBottom:0}},children:[(0,t.jsxs)(c.Box,{component:"button",onClick:e=>{e.stopPropagation(),l(e=>{let t=new Set(e);return t.has(r)?t.delete(r):t.add(r),t})},sx:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",px:I?2:3,py:I?1.75:1.5,minHeight:I?48:"auto",bgcolor:"transparent",border:"none",cursor:"pointer",textAlign:"left",color:"white",transition:"background-color 0.2s","&:hover":{bgcolor:"rgba(255, 255, 255, 0.05)"}},children:[(0,t.jsxs)(c.Box,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,t.jsx)(e2,{sx:{fontSize:20,color:"text.secondary",transition:"transform 0.2s",transform:n?"rotate(90deg)":"rotate(0deg)"}}),(0,t.jsx)(o.Typography,{variant:"body2",fontWeight:600,children:e.name})]}),(0,t.jsxs)(o.Typography,{variant:"caption",color:"text.secondary",children:[s," sources"]})]}),(0,t.jsx)(ek.Collapse,{in:n,children:(0,t.jsxs)(c.Box,{sx:{pb:1},children:[e.sources&&e.sources.length>0&&(0,t.jsx)(c.Box,{children:e.sources.map((e,n)=>{let i=`${r}-${e.name}`,l=b.has(i);return(0,t.jsxs)(c.Box,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",px:I?3:5,py:I?1.25:1,minHeight:I?44:"auto",transition:"background-color 0.2s",bgcolor:l?"rgba(255, 215, 0, 0.1)":"transparent","&:hover":{bgcolor:l?"rgba(255, 215, 0, 0.15)":"rgba(255, 255, 255, 0.05)"}},children:[(0,t.jsxs)(c.Box,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,t.jsx)(e$.IconButton,{size:"small",onClick:e=>T(i,e),sx:{p:.5,color:l?"#FFD700":"text.secondary",opacity:l?1:.3,transition:"opacity 0.2s, color 0.2s","&:hover":{opacity:1,bgcolor:"transparent"}},children:l?(0,t.jsx)(e7,{sx:{fontSize:16}}):(0,t.jsx)(e8,{sx:{fontSize:16}})}),(0,t.jsx)(o.Typography,{variant:"body2",color:"text.primary",sx:{opacity:.8},children:e.name})]}),(0,t.jsx)(o.Typography,{variant:"body2",children:(0,d.notateNumber)(e.value,a)})]},n)})}),e.subSections?.map((e,n)=>{let i=`${r}-${n}`,l=h.has(i);return(0,t.jsxs)(c.Box,{sx:{mt:.5},children:[(0,t.jsxs)(c.Box,{component:"button",onClick:e=>{let t;return e.stopPropagation(),t=`${r}-${n}`,void p(e=>{let r=new Set(e);return r.has(t)?r.delete(t):r.add(t),r})},sx:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",px:I?3:5,py:I?1.25:1,minHeight:I?44:"auto",bgcolor:"rgba(255, 255, 255, 0.03)",border:"none",cursor:"pointer",textAlign:"left",transition:"background-color 0.2s","&:hover":{bgcolor:"rgba(255, 255, 255, 0.08)"}},children:[(0,t.jsxs)(c.Box,{sx:{display:"flex",alignItems:"center",gap:.75},children:[(0,t.jsx)(e2,{sx:{fontSize:16,color:"text.secondary",transition:"transform 0.2s",transform:l?"rotate(90deg)":"rotate(0deg)"}}),(0,t.jsx)(o.Typography,{variant:"caption",fontWeight:500,textTransform:"uppercase",letterSpacing:.5,color:"text.secondary",children:e.name})]}),(0,t.jsx)(o.Typography,{variant:"caption",sx:{color:"text.secondary",opacity:.7},children:e.sources.length})]}),(0,t.jsx)(ek.Collapse,{in:l,children:(0,t.jsx)(c.Box,{children:e.sources.map((e,i)=>{let l=`${r}-${n}-${e.name}`,s=b.has(l);return(0,t.jsxs)(c.Box,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",px:I?4:6,py:I?1.25:1,minHeight:I?44:"auto",transition:"background-color 0.2s",bgcolor:s?"rgba(255, 215, 0, 0.1)":"transparent","&:hover":{bgcolor:s?"rgba(255, 215, 0, 0.15)":"rgba(255, 255, 255, 0.05)"}},children:[(0,t.jsxs)(c.Box,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,t.jsx)(e$.IconButton,{size:"small",onClick:e=>T(l,e),sx:{p:.5,color:s?"#FFD700":"text.secondary",opacity:s?1:.3,transition:"opacity 0.2s, color 0.2s","&:hover":{opacity:1,bgcolor:"transparent"}},children:s?(0,t.jsx)(e7,{sx:{fontSize:16}}):(0,t.jsx)(e8,{sx:{fontSize:16}})}),(0,t.jsx)(o.Typography,{variant:"body2",color:"text.primary",sx:{opacity:.8},children:e.name})]}),(0,t.jsx)(o.Typography,{variant:"body2",children:(0,d.notateNumber)(e.value,a)})]},i)})})})]},n)})]})})]},r)})})]})}),(0,t.jsx)(eI.Snackbar,{open:y,autoHideDuration:2e3,onClose:()=>j(!1),message:"Copied to clipboard",anchorOrigin:{vertical:"bottom",horizontal:"center"}})]})}let te={strength:"error.light",agility:"success.light",wisdom:"secondary",luck:"warning.light"},tt=e=>{let n,a,i,l,c,d=(0,r.c)(17),{title:p,value:u,breakdown:x,breakdownNotation:m,damage:g,useDoubleColumn:f}=e,y=void 0===x?"":x,j=void 0===m?"Smaller":m,b=y?"center":"flex-start";return d[0]!==p?(n=(0,t.jsx)(o.Typography,{color:"info.light",children:p}),d[0]=p,d[1]=n):n=d[1],d[2]!==y||d[3]!==j||d[4]!==f?(a=y?(0,t.jsx)(tn,{breakdown:y,useDoubleColumn:f,notate:j}):"",d[2]=y,d[3]=j,d[4]=f,d[5]=a):a=d[5],d[6]!==y||d[7]!==g||d[8]!==u?(i=g?(0,t.jsx)(o.Typography,{color:"#fffcc9",sx:{display:"flex",alignItems:"center",gap:.5},children:(0,eS.default)([{regex:/[\[!|]/g,fn:tl}])(u)}):(0,t.jsx)(o.Typography,{component:"span",sx:y?{alignItems:"center",borderBottom:"1px dotted",lineHeight:1}:{},children:u}),d[6]=y,d[7]=g,d[8]=u,d[9]=i):i=d[9],d[10]!==a||d[11]!==i?(l=(0,t.jsx)(h.default,{maxWidth:500,title:a,children:i}),d[10]=a,d[11]=i,d[12]=l):l=d[12],d[13]!==b||d[14]!==n||d[15]!==l?(c=(0,t.jsxs)(s.Stack,{direction:"row",justifyContent:"space-between",alignItems:b,children:[n,l]}),d[13]=b,d[14]=n,d[15]=l,d[16]=c):c=d[16],c},tr=e=>{let n,a,i,l,c=(0,r.c)(14),{title:d,value:h,breakdown:p,breakdownNotation:u,damage:x}=e,m=void 0===p?"":p,g=void 0===u?"Smaller":u,f=m?"center":"flex-start";return c[0]!==d?(n=(0,t.jsx)(o.Typography,{color:"info.light",children:d}),c[0]=d,c[1]=n):n=c[1],c[2]!==m||c[3]!==x||c[4]!==h?(a=x?(0,t.jsx)(o.Typography,{color:"#fffcc9",sx:{display:"flex",alignItems:"center",gap:.5},children:(0,eS.default)([{regex:/[\[!|]/g,fn:ts}])(h)}):(0,t.jsx)(o.Typography,{component:"span",sx:m?{alignItems:"center",borderBottom:"1px dotted",lineHeight:1}:{},children:h}),c[2]=m,c[3]=x,c[4]=h,c[5]=a):a=c[5],c[6]!==m||c[7]!==g||c[8]!==a?(i=(0,t.jsx)(e9,{data:m,notate:g,children:a}),c[6]=m,c[7]=g,c[8]=a,c[9]=i):i=c[9],c[10]!==f||c[11]!==n||c[12]!==i?(l=(0,t.jsxs)(s.Stack,{direction:"row",justifyContent:"space-between",alignItems:f,children:[n,i]}),c[10]=f,c[11]=n,c[12]=i,c[13]=l):l=c[13],l},tn=e=>{let n,a,i,l,c,h,p=(0,r.c)(27),{breakdown:u,titleWidth:x,notate:m,useDoubleColumn:f}=e,y=void 0===x?170:x,j=void 0===m?"":m;if(!u)return"";p[0]!==j||p[1]!==y?(n=(e,r,n)=>{let{name:a,value:i,title:l}=e,s=void 0===n?"":n;return l?(0,t.jsx)(o.Typography,{sx:{fontWeight:500},children:l},`${s}${a}-${r}`):a?(0,t.jsx)(k.TitleAndValue,{titleStyle:{width:y},title:a,value:isNaN(i)?i:(0,d.notateNumber)(i,j)?.replace(".00","")},`${s}${a}-${r}`):(0,t.jsx)(g.Divider,{sx:{my:1}},`${s}${a}-${r}`)},p[0]=j,p[1]=y,p[2]=n):n=p[2];let b=n;if(!f){let e,r;if(p[3]!==u||p[4]!==b){let t;p[6]!==b?(t=(e,t)=>b(e,t),p[6]=b,p[7]=t):t=p[7],e=u.map(t),p[3]=u,p[4]=b,p[5]=e}else e=p[5];return p[8]!==e?(r=(0,t.jsx)(s.Stack,{children:e}),p[8]=e,p[9]=r):r=p[9],r}let v=Math.ceil(24);if(p[10]!==u||p[11]!==b){let e;p[13]!==b?(e=(e,t)=>b(e,t,"left-"),p[13]=b,p[14]=e):e=p[14],a=u.slice(0,v).map(e),p[10]=u,p[11]=b,p[12]=a}else a=p[12];if(p[15]!==a?(i=(0,t.jsx)(s.Stack,{children:a}),p[15]=a,p[16]=i):i=p[16],p[17]!==u||p[18]!==b){let e;p[20]!==b?(e=(e,t)=>b(e,t,"right-"),p[20]=b,p[21]=e):e=p[21],l=u.slice(v).map(e),p[17]=u,p[18]=b,p[19]=l}else l=p[19];return p[22]!==l?(c=(0,t.jsx)(s.Stack,{children:l}),p[22]=l,p[23]=c):c=p[23],p[24]!==i||p[25]!==c?(h=(0,t.jsxs)(s.Stack,{direction:"row",gap:2,children:[i,c]}),p[24]=i,p[25]=c,p[26]=h):h=p[26],h},ta=p.default.img`
  width: 16px;
  height: 16px;
  object-fit: contain;
`,ti=({activityFilter:e,statsFilter:r,character:a,lastUpdated:i,account:l,characters:c})=>{let p,{name:u,playerId:f,stats:y,afkTime:j,crystalSpawnChance:b,nextPortal:v,afkTarget:w,nonConsumeChance:S}=a,{cashMulti:k,breakdown:T}=(0,n.useMemo)(()=>(0,E.getCashMulti)(a,l,c)||{},[a,l]),{dropRate:$,breakdown:I}=(0,n.useMemo)(()=>(0,E.getDropRate)(a,l,c)||{},[a,l]),{respawnRate:M,breakdown:N}=(0,n.useMemo)(()=>(0,E.getRespawnRate)(a,l)||{},[a,l]),{afkGains:B,breakdown:_}=(0,n.useMemo)(()=>(0,E.getAfkGain)(a,c,l),[a,l]),{value:P,breakdown:W}=(0,n.useMemo)(()=>(0,E.getClassExpMulti)(a,l,c),[a,l]),{value:D,breakdown:O}=(0,n.useMemo)(()=>(0,ej.getGoldenFoodMulti)(a,l,c),[a,l,c]),z=(0,n.useMemo)(()=>(0,F.getMaxDamage)(a,c,l),[a,l]),U=(0,ej.getGuaranteedCrystalMobs)(l),L=(0,n.useMemo)(()=>U-l?.accountOptions?.[101],[U,l]),R=()=>{let e=a?.activePrayers?.find(({name:e})=>"Unending_Energy"===e),t=new Date().getTime()+(j-i),r=(0,eg.differenceInHours)(new Date,new Date(t));return e&&r>10},H=(0,n.useMemo)(()=>e=>Object.entries(e?.stats||{})?.reduce((e,[t,r])=>e+("level"!==t?r:0),0),[a]);return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(s.Stack,{gap:2,flexWrap:"wrap",children:[e?(0,t.jsx)(ew,{afkTarget:w,divStyle:a?.divStyle,playerId:f,account:l,character:a,characters:c}):null,r?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(s.Stack,{sx:{minWidth:250},flexWrap:"wrap",gap:1,divider:(0,t.jsx)(g.Divider,{}),children:[(0,t.jsx)(tt,{title:"Total Stats",value:H(a)}),Object.entries(y||{})?.map(([e,r],n)=>"level"!==e?(0,t.jsxs)(s.Stack,{direction:"row",justifyContent:"space-between",children:[(0,t.jsx)(o.Typography,{component:"span",variant:"body1",color:te?.[e]||"info.light",children:(0,d.pascalCase)(e)}),(0,t.jsx)(o.Typography,{variant:"body1",component:"span",children:Math.floor(r)})]},`${u}-${e}-${n}`):null),(0,t.jsx)(tt,{title:"Cash Multiplier",useDoubleColumn:!0,value:`${(0,d.cashFormatter)(k,2)}x`,breakdown:T,breakdownNotation:"Smaller"}),(0,t.jsx)(tt,{title:"Golden Food",useDoubleColumn:!0,value:`${(0,d.notateNumber)(Math.max(0,100*(D-1)),"MultiplierInfo")}%`,breakdown:O,breakdownNotation:"Smaller"}),(0,t.jsx)(tt,{title:"HP",value:(0,d.notateNumber)(z?.maxHp)}),(0,t.jsx)(tt,{title:"MP",value:(0,d.notateNumber)(z?.maxMp)}),(0,t.jsx)(tt,{title:"Kills Per Hour",value:z?.finalKillsPerHour>1e6?(0,d.notateNumber)(z?.finalKillsPerHour):(0,d.numberWithCommas)(Math.floor(z?.finalKillsPerHour))}),(0,t.jsx)(tt,{title:"Defence",value:(0,d.notateNumber)(z?.defence?.value),breakdown:z?.defence?.breakdown}),(0,t.jsx)(tt,{title:"Critical Chance",value:`${(0,d.notateNumber)(z?.critChance)}%`}),(0,t.jsx)(tt,{title:"Critical Damage",value:`${(0,d.notateNumber)(z?.critDamage,"MultiplierInfo")}x`}),(0,t.jsx)(tt,{title:"Accuracy",value:(0,d.notateNumber)(z?.accuracy)}),(0,t.jsx)(tt,{title:"Movement Speed",value:(0,d.notateNumber)(z?.movementSpeed)}),(0,t.jsx)(tt,{title:"Mining Efficiency",value:(0,d.notateNumber)(z?.miningEff)}),(0,t.jsx)(tt,{title:"Damage",damage:!0,value:(0,F.notateDamage)(z)}),(0,t.jsx)(tr,{title:"Drop Rate",value:`${(0,d.notateNumber)($,"MultiplierInfo")}x`,breakdown:I,breakdownNotation:"ThreeDecimals",useDoubleColumn:!0}),(0,t.jsx)(tt,{title:"Respawn Time",value:`${(0,d.notateNumber)(M,"MultiplierInfo")}%`,breakdown:N,breakdownNotation:"Smaller"}),(0,t.jsx)(tt,{title:"AFK Gains",useDoubleColumn:!0,value:`${(0,d.notateNumber)(100*B,"MultiplierInfo")}%`,breakdown:_,breakdownNotation:"Smaller"}),(0,t.jsx)(tt,{title:"Non Consume Chance",value:`${(0,d.kFormatter)(S,2)}%`}),(0,t.jsxs)(s.Stack,{direction:"row",gap:2,children:[(0,t.jsx)(o.Typography,{color:"info.light",children:"Exp"}),(0,t.jsx)(A.default,{boxSx:{width:"100%"},tooltipTitle:`${(0,d.notateNumber)(a?.skillsInfo?.character?.exp)} / ${(0,d.notateNumber)(a?.skillsInfo?.character?.expReq)}`,percent:a?.skillsInfo?.character?.exp/a?.skillsInfo?.character?.expReq*100})]}),(0,t.jsx)(tt,{title:"Exp multi",value:`${(0,d.notateNumber)(P,"MultiplierInfo")}x`,breakdown:W,breakdownNotation:"Smaller",useDoubleColumn:!0}),(0,t.jsx)(tt,{title:"Money",value:(0,t.jsx)(et.default,{title:"",money:(0,d.getCoinsArray)(a?.money?a?.money:0)})}),v?.goal>10&&v?.current<v?.goal?(0,t.jsx)(x.Card,{variant:"outlined",children:(0,t.jsxs)(m.CardContent,{children:[(0,t.jsx)(o.Typography,{color:"info.light",children:"Next Portal"}),(0,t.jsxs)(s.Stack,{direction:"row",alignItems:"center",gap:1,children:[(0,t.jsx)("img",{width:32,height:32,src:`${d.prefix}data/${v?.currentIcon}.png`,alt:""}),(0,t.jsx)(o.Typography,{children:`${(0,d.kFormatter)(v?.current)} / ${(0,d.kFormatter)(v?.goal)}`})]})]})}):null]}),(0,t.jsx)(x.Card,{variant:"outlined",children:(0,t.jsxs)(m.CardContent,{children:[(0,t.jsx)(o.Typography,{color:"info.light",children:"Crystal Chance"}),(0,t.jsxs)(s.Stack,{direction:"row",gap:1,children:[(0,t.jsxs)(o.Typography,{children:[`1 in ${Math.floor(1/b?.value)}`," (",(0,d.notateNumber)(b?.value*100,"MultiplierInfo")?.replace(".00",""),"%)"]}),(0,t.jsx)(h.default,{title:(0,t.jsx)(tn,{titleWidth:180,breakdown:[{name:"Remaining Crystal kills",value:(0,d.commaNotation)(L)},{name:""},...b?.breakdown],notate:"MultiplierInfo"}),children:(0,t.jsx)(C.default,{})})]})]})}),(0,t.jsx)(x.Card,{variant:"outlined",children:(0,t.jsxs)(m.CardContent,{children:[(0,t.jsx)(o.Typography,{color:"info.light",children:"Afk time"}),(0,t.jsxs)(s.Stack,{direction:"row",alignItems:"center",gap:1,color:R()?"error.light":"",children:[(p=new Date().getTime()+(j-i),5>=(0,ef.differenceInMinutes)(new Date,new Date(p)))?(0,t.jsx)(o.Typography,{color:"success.light",children:"Active"}):(0,t.jsx)(ey.default,{type:"up",date:j,lastUpdated:i}),R()?(0,t.jsx)(h.default,{title:"This character is afk more than 10 hours with Unending Energy prayer",children:(0,t.jsx)(C.default,{})}):null]})]})})]}):null]})})};function tl(e,r){let n=r.at(0),a="M";return"!"===n?a="T":"|"===n&&(a="D"),(0,t.jsx)(ta,{src:`${d.prefix}etc/Damage_${a}.png`,alt:""},e)}function ts(e,r){let n=r.at(0),a="M";return"!"===n?a="T":"|"===n&&(a="D"),(0,t.jsx)(ta,{src:`${d.prefix}etc/Damage_${a}.png`,alt:""},e)}var to=e.i(805861),tc=e.i(173024);let td=({postOffice:e,talents:r,cooldowns:a,afkTime:i,lastUpdated:l})=>{let o=Math.max(0,(0,to.getPostOfficeBonus)(e,"Magician_Starterpack",2)),c=(0,n.useMemo)(()=>Object.entries(a||{})?.reduce((e,[t,n])=>{if(!tc.relevantTalents[t])return e;let a=r?.find(({talentId:e})=>parseInt(t)===e);if(!a)return e;let l=(0,d.growth)(a?.funcX,a?.maxLevel,a?.x1,a?.x2),s=(0,d.growth)(a?.funcY,a?.maxLevel,a?.y1,a?.y2),c=(1-o/100)*n-(new Date().getTime()-i)/1e3;return[...e,{...a,description:a?.description.replace("{",l).replace("}",s),cd:c<0?c:new Date().getTime()+1e3*c}]},[]),[a]);return c?.length?(0,t.jsx)(s.Stack,{direction:"row",gap:2,children:c?.map((e,r)=>(0,t.jsxs)(s.Stack,{gap:1,direction:"row",alignItems:"center",className:"talent",children:[(0,t.jsx)(h.default,{title:(0,t.jsx)(k.TalentTooltip,{...e}),children:(0,t.jsx)("img",{src:`${d.prefix}data/UISkillIcon${e?.talentId}.png`,style:{width:56,height:56},alt:""})}),(0,t.jsx)(ey.default,{placeholder:(0,t.jsx)("span",{style:{color:"#51e406",fontWeight:"bold"},children:"Ready"}),type:"countdown",date:e?.cd,lastUpdated:l})]},`${e?.talentId}-${r}`))}):null};var th=e.i(166721),tp=e.i(645561);let tu=p.default.img`
  width: 104px;
  object-fit: contain;
`,tx=({character:e,account:r,lastUpdated:a,filters:i,cols:h,characters:p,showSkillsRankOneOnly:u,showUnmaxedBoxesOnly:x})=>{let{name:m,classIndex:g,level:f,cards:y,skillsInfo:b,activePrayers:v,starSigns:w,postOffice:S,obols:k,equippedBubbles:C,equipment:T,tools:$,food:I,invBagsUsed:N,carryCapBags:B,flatTalents:_,flatStarTalents:P,cooldowns:D,afkTime:O,inventory:A,inventorySlots:E,playerId:F}=e,z=[{component:(0,t.jsx)(ti,{activityFilter:i?.Activity,statsFilter:i?.Stats,character:e,characters:p,account:r,lastUpdated:a}),filter:["Stats","Activity"]},{component:(0,t.jsx)(J.default,{obols:k,characters:p}),filter:"Obols"},{component:(0,t.jsx)(J.default,{obols:k,obolStats:!0,characters:p}),filter:"Obols Stats"},{component:(0,t.jsx)(j,{bags:N,capBags:B}),filter:"Bags"},{component:(0,t.jsx)(M,{...e,selectedPreset:e?.selectedTalentPreset??1,account:r}),filter:"Talents"},{component:(0,t.jsx)(W,{...e}),filter:"Cards"},{component:(0,t.jsx)(L,{skills:b,account:r,characters:p,character:e,charName:m,showSkillsRankOneOnly:u}),filter:"Skills"},{component:(0,t.jsx)(X,{prayers:v}),filter:"Prayers"},{component:(0,t.jsx)(eo,{signs:w}),filter:"Star Signs"},{component:(0,t.jsx)(es,{characters:p,character:e,account:r}),filter:"Anvil Details"},{component:(0,t.jsx)(th.default,{inventory:A,inventorySlots:E}),filter:"Inventory"},{component:(0,t.jsx)(K,{...S,showUnmaxedBoxesOnly:x}),filter:"Post Office"},{component:(0,t.jsx)(tp.default,{playerLabLevel:b?.laboratory?.level??0,playerChips:r?.lab?.playersChips?.[F],characters:p,charactersPage:!0}),filter:"Chips"},{component:(0,t.jsx)(ee,{charName:m,equipment:T,tools:$,food:I,character:e,account:r}),filter:"Equipment"},{component:(0,t.jsx)(eu,{bubbles:C}),filter:"Equipped Bubbles"},{component:(0,t.jsx)(td,{postOffice:S,cooldowns:D,lastUpdated:a,talents:[..._||[],...P||[]],afkTime:O}),filter:"Active Skills CD"}],U=(0,n.useMemo)(()=>T?.reduce((e,{rawName:t})=>!e&&t.includes("Trophy")?t:e,""),[e]);return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(l.Grid,{item:!0,xl:h,children:(0,t.jsxs)(s.Stack,{gap:2,children:[(0,t.jsxs)(s.Stack,{direction:"row",alignItems:"center",gap:2,children:[(0,t.jsx)(c.Box,{sx:{display:{sm:"none",md:"block"}},children:(0,t.jsx)("img",{src:`${d.prefix}data/ClassIcons${g}.png`,alt:""})}),(0,t.jsxs)(s.Stack,{children:[(0,t.jsxs)(o.Typography,{sx:{typography:{xs:"body2",sm:"body1"}},children:[m," (",f,")"]}),U?(0,t.jsx)(tu,{src:`${d.prefix}data/${U.replace("Replica","")}disp.png`,style:{width:102,height:19},alt:""}):(0,t.jsx)(c.Box,{sx:{width:102,height:19}})]})]}),(0,t.jsx)(s.Stack,{direction:"row",flexWrap:"wrap",gap:4,children:z?.map((e,r)=>{let a=i?.[e.filter];return Array.isArray(e.filter)&&(a=e.filter.some(e=>i?.[e])),a?(0,t.jsx)(n.default.Fragment,{children:e.component},`${m}-${e?.filter}-${r}`):null})})]})})})};var tm=e.i(985978),tg=e.i(276025);function tf(e){return e}e.s(["default",0,()=>{let e,c,d,h=(0,r.c)(10),{state:p,dispatch:u}=(0,n.useContext)(tm.AppContext);h[0]!==p?.displayedCharacters?(e=Object.values(p?.displayedCharacters||[])?.filter(tf).length,h[0]=p?.displayedCharacters,h[1]=e):e=h[1];let x=e,m=Math.max(3,12/x),g=p?.filters?.Skills,f=p?.filters?.["Post Office"];return h[2]===Symbol.for("react.memo_cache_sentinel")?(c=(0,t.jsx)(tg.NextSeo,{title:"Characters | Idleon Toolbox",description:"Characters overview for a lot of the game aspects"}),h[2]=c):c=h[2],h[3]!==m||h[4]!==u||h[5]!==f||h[6]!==g||h[7]!==x||h[8]!==p?(d=(0,t.jsxs)(t.Fragment,{children:[c,x>0?(0,t.jsxs)(t.Fragment,{children:[g?(0,t.jsx)(i.FormControlLabel,{control:(0,t.jsx)(a.Checkbox,{name:"mini",checked:p.showRankOneOnly,onChange:()=>u({type:"showRankOneOnly",data:!p.showRankOneOnly}),size:"small"}),label:"Show rank 1 only"}):null,f?(0,t.jsx)(i.FormControlLabel,{control:(0,t.jsx)(a.Checkbox,{name:"mini",checked:p.showUnmaxedBoxesOnly,onChange:()=>u({type:"showUnmaxedBoxesOnly",data:!p.showUnmaxedBoxesOnly}),size:"small"}),label:"Show Unmaxed Boxes Only"}):null,(0,t.jsx)(l.Grid,{container:!0,sx:{gap:{xs:2}},columns:12.5,children:p?.characters?.map((e,r)=>p?.displayedCharacters?.[r]?(0,t.jsx)(tx,{filters:p?.filters,account:p?.account,character:e,characters:p?.characters,cols:m,lastUpdated:p?.lastUpdated,showSkillsRankOneOnly:p.showRankOneOnly,showUnmaxedBoxesOnly:p.showUnmaxedBoxesOnly},`${e?.name}-${r}`):null)})]}):(0,t.jsx)(s.Stack,{alignItems:"center",justifyContent:"center",children:(0,t.jsx)(o.Typography,{variant:"h4",children:"Please select a character"})})]}),h[3]=m,h[4]=u,h[5]=f,h[6]=g,h[7]=x,h[8]=p,h[9]=d):d=h[9],d}],212829)},351926,(e,t,r)=>{let n="/characters";(window.__NEXT_P=window.__NEXT_P||[]).push([n,()=>e.r(212829)]),t.hot&&t.hot.dispose(function(){window.__NEXT_P.push([n])})}]);