(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,618332,e=>{"use strict";var t=e.i(82748),a=e.i(608580);let n=e=>e?(e?.bonus*((e?.stars??-1)+1)*(e?.chipBoost??1))??0:0,l=(e,a)=>e?.map(e=>({...t.cards?.[e]?.displayName?{cardName:t.cards?.[e]?.displayName}:{},...a?.cards?.[t.cards?.[e]?.displayName]||{}})).filter((e,t)=>t<8);e.s(["calcCardBonus",0,n,"calcCardsLevels",0,e=>e?Object.values(e)?.reduce((e,{stars:t,amount:a})=>e+(a>0?t+1:0),0):0,"getCardBonusByEffect",0,(e,t)=>Object.values(e||{})?.reduce((e,a)=>!a?.effect?.includes(t)||a?.amount<=0?e:e+n(a),0),"getCardSets",0,e=>{let a=Object.values(t.cardSets).reduce((e,t,a)=>({...e,[t?.name]:{...t,totalStars:0,realIndex:a}}),{}),n=Object.entries(t.cards)?.reduce((t,[,n])=>{let{category:l,displayName:s}=n,{stars:o,amount:r}=e?.cards?.[s]||{};return a[l].totalStars+=0===o&&r>0?1:o>0?o+1:0,{...t,[l]:[...t?.[l]||[],n]}},{}),l=Object.values(a);return l.length,l.forEach(e=>{e.stars=Math.floor(e.totalStars/n?.[e?.name]?.length)-1,e.amount=e.totalStars}),a},"getCards",0,(e,n)=>((e,a,n)=>{let[l]=a||[],s=Math.round(4+(+(l>=45)+ +!!n?.spelunking?.loreBosses?.[2]?.defeated));return Object.entries(e).reduce((e,[a,l])=>{let o,r=t.cards?.[a],i=n?.accountOptions?.[155]||"",u=i?.toString()?.split(",")||[],c=u?.includes(a),m=((e,t,a,n,l)=>{let s=0;for(let l=0;l<n;l++)"Boss3B"===a?t>1.5*Math.pow(l+1+Math.floor(l/3),2)&&(s=l+2):t>e*Math.pow(l+1+(Math.floor(l/3)+(16*Math.floor(l/4)+100*Math.floor(l/5))),2)&&(s=l+2);return l&&s<6?5:s>0?s-1:s})(r?.perTier,l,a,s,c);return r?{...e,[r?.displayName]:{...r,amount:l,stars:m,nextLevelReq:l+(o=r?.perTier,m>=6?0:Math.ceil(o*Math.pow(m+1+(Math.floor((m+1)/4)+(16*Math.floor((m+1)/5)+100*Math.floor((m+1)/6))),2)-l)+1)}}:e},{})})(e?.Cards?.[0]||(0,a.tryToParse)(e?.Cards0),(0,a.tryToParse)(e?.Rift)||e?.Rift,n),"getEquippedCardBonus",0,(e,t)=>{let a=e?.equippedCards?.find(({cardIndex:e})=>e===t);return a?n(a):0},"getEquippedCardsData",0,l,"getPlayerCards",0,(e,a)=>{var n;if(!e?.CSetEq&&!e?.CardEquip)return{};let s=e?.CSetEq||{},o=l(e?.CardEquip,a),r=t.cardSets[Object.keys(s)?.[0]]||{};return{cardSet:{...r,bonus:Object.values(s)?.[0],stars:(n=Object.values(s)?.[0],r&&n?n/r?.bonus-1:null)},equippedCards:o}}])},781357,e=>{"use strict";let t=["EquipmentCape0","EquipmentCape2","EquipmentPendant28","EquipmentRings31","EquipmentRings32","EquipmentRings33","EquipmentHats80","EquipmentHats34"].toSimpleObject(),a=["Quest42","Quest49","Quest50","EquipmentShoes2","EquipmentPendant18","TestObj4","TestObj5","TestObj8","TestObj14","TestObj15","TestObj16","EquipmentPants11","EquipmentSmithingTabs7","EquipmentSmithingTabs8","Quest8","StampB28","StampB29","StampB33","StampB35","CardsC13","CardsC14","CardsC15","CardsD12","CardsD13","Trophy4","Trophy7","StampsA22","StampsA25","DoubleAFKtix","ObolFrag","DeliveryBox","StampC17","FishingRod1","CatchingNet1","FoodHealth8","EquipmentCape1","EquipmentHats72","EquipmentHats55","MaxCapBagFi0","MaxCapBagB0","MaxCapBagTr0","MaxCapBagTr2","MaxCapBagS0","MaxCapBagS2","Spice0","Spice6","Spice9","StampC13","TalentPoint5","DungWeaponSwordE5","DungWeaponBowE5","DungWeaponWandE5","DungWeaponPunchE5","DungWeaponPunchF1","DungWeaponPunchF2","DungWeaponPunchF3","DungWeaponPunchF4","DungWeaponPunchF5","DungWeaponWandF1","DungWeaponWandF2","DungWeaponWandF3","DungWeaponWandF4","DungWeaponWandF5","DungWeaponBowF1","DungWeaponBowF2","DungWeaponBowF3","DungWeaponBowF4","DungWeaponBowF5","DungWeaponSwordF1","DungWeaponSwordF2","DungWeaponSwordF3","DungWeaponSwordF4","DungWeaponSwordF5","DungEquipmentShoes4","DungEquipmentShirt4","DungEquipmentRings4","DungEquipmentPants4"].toSimpleObject(),n={mining:[6,7,9,10,11].toSimpleObject(),fishing:[54,55,61].toSimpleObject()};e.s(["filteredGemShopItems",0,t,"filteredLootyItems",0,a,"keysMap",0,{0:{name:"Forest_Villa_Key",rawName:"Key1"},1:{name:"Efaunt's_Tomb_Key",rawName:"Key2"},2:{name:"Chizoar's_Cavern_Key",rawName:"Key3"},3:{name:"Troll's_Enclave_Key",rawName:"Key4"},4:{name:"Kruk's_Volcano_Key",rawName:"Key5"}},"skillIndexMap",0,{0:{name:"character",icon:""},1:{name:"mining",icon:"ClassIcons42"},2:{name:"smithing",icon:"ClassIcons43"},3:{name:"chopping",icon:"ClassIcons44"},4:{name:"fishing",icon:"ClassIcons45"},5:{name:"alchemy",icon:"ClassIcons46"},6:{name:"catching",icon:"ClassIcons47"},7:{name:"trapping",icon:"ClassIcons48"},8:{name:"construction",icon:"ClassIcons49"},9:{name:"worship",icon:"ClassIcons50"},10:{name:"cooking",icon:"ClassIcons51"},11:{name:"breeding",icon:"ClassIcons52"},12:{name:"laboratory",icon:"ClassIcons53"},13:{name:"sailing",icon:"ClassIcons54"},14:{name:"divinity",icon:"ClassIcons55"},15:{name:"gaming",icon:"ClassIcons56"},16:{name:"farming",icon:"ClassIcons57"},17:{name:"sneaking",icon:"ClassIcons58"},18:{name:"summoning",icon:"ClassIcons59"},19:{name:"spelunking",icon:"ClassIcons60"}},"skillsMaps",0,n,"starSignsIndicesMap",0,{The_Book_Worm:"1",The_Buff_Guy:"1a",The_Fuzzy_Dice:"1b",Flexo_Bendo:"2",Dwarfo_Beardus:"3",Hipster_Logger:"4",Pie_Seas:"4a",Miniature_Game:"4b",Shoe_Fly:"4c",Pack_Mule:"5",Pirate_Booty:"6",All_Rounder:"7",Muscle_Man:"7a",Fast_Frog:"7b",Smart_Stooge:"7c",Lucky_Larry:"7d",Fatty_Doodoo:"8",Robinhood:"9",Blue_Hedgehog:"9a",Ned_Kelly:"10",The_Fallen_Titan:"10a",Chronus_Cosmos:"CR",Activelius:"11",Gum_Drop:"11a",Mount_Eaterest:"12",Bob_Build_Guy:"13",The_Big_Comatose:"14",Sir_Savvy:"14a",Silly_Snoozer:"15",The_Big_Brain:"15a",Grim_Reaper:"16",The_Forsaken:"16a",The_OG_Skiller:"17",Mr_No_Sleep:"18",All_Rounderi:"1",Centaurii:"2",Murmollio:"3",Strandissi:"4",Agitagi:"4B",Wispommo:"5",Lukiris:"5B",Pokaminni:"6",Gor_Bowzor:"7",Hydron_Cosmos:"8",Trapezoidburg:"8B",Sawsaw_Salala:"9",Preys_Bea:"9B",Cullingo:"10",Gum_Drop_Major:"10B",Grim_Reaper_Major:"11",Sir_Savvy_Major:"12",The_Bulwark:"13",Big_Brain_Major:"14",The_Fiesty:"15",The_Overachiever:"15B",Comatose_Major:"16","S._Snoozer_Major":"17",Breedabilli:"18",Gordonius_Major:"19",Power_Bowower:"19b",Scienscion:"20",Artifosho:"21",Divividov:"22","C._Shanti_Minor":"23",Muscle_Magnus:"S",Cropiovo_Minor:"A1",Fabarmi:"A2","O.G._Signalais":"A3",Lightspeed_Frog:"A4",Beanbie_Major:"A5",Damarian_Major:"A6",Lotto_Larrinald:"A7",Intellostooge:"A8","S._Tealio":"B1","Sneekee_E._X.":"B2",Jadaciussi:"B3",Druipi_Major:"B4",Sumo_Magno:"B5",Killian_Maximus:"B6",Seraph_Cosmos:"SC",Glimmer_of_Beyond:"C1"}])},161866,e=>{"use strict";var t=e.i(608580),a=e.i(82748);e.s(["calcTotalAchievements",0,e=>e.reduce((e,{completed:t})=>t?e+1:e,0),"getAchievementStatus",0,(e,t)=>{let a=e?.[t];if(!a||!a.completed)return 0;switch(t){case 4:case 27:case 37:case 44:case 107:case 109:case 117:return 5;case 108:return 10;case 99:case 104:case 112:return 20;default:return 1}},"getAchievements",0,e=>{let n,l;return n=(0,t.tryToParse)(e?.AchieveReg)||e?.AchieveReg,l=(0,t.tryToParse)(e?.SteamAchieve)||e?.SteamAchieve,a.achievements?.map((e,t)=>{let{steamIndex:a}=e,s=a?l?.[a]===-1:n?.[t]===-1,o=a?l?.[a]:n?.[t];return{...e,completed:s,...o>=0?{currentQuantity:o}:{}}})}])},971176,e=>{"use strict";var t=e.i(82748),a=e.i(608580);let n=(e,t)=>{if(!e||!t)return{};let a=[];return{...Object.keys(t)?.reduce((n,l)=>{if("UQ1txt"===l||"UQ2txt"===l)return{...n,[l]:e?.[l]||t?.[l]};let s=e?.Type==="KEYCHAIN"?0:e?.[l],o=t?.[l],r=s;if(isNaN(o))return{...n,[l]:o};let i=t?.UQ1txt&&e?.Type!=="KEYCHAIN"&&e?.UQ1txt!==t?.UQ1txt?0:o;return 0!==i&&"UQ1txt"!==l&&"UQ2txt"!==l&&a.push({[l]:i}),r=(s||0)+i,{...n,[l]:parseFloat(r)}},{}),changes:a}},l=(e,t)=>{let a=e?.UQ1txt===t?e?.UQ1val:0,n=e?.UQ2txt===t?e?.UQ2val:0;return e?.[t]?e?.[t]:(a??0)+(n??0)},s=(e,t)=>t?e.reduce((e,a)=>{let{name:n,owner:l,amount:s}=a;if(n===t)if(e?.[l])return{...e,[l]:{amount:e?.[l]?.amount+1}};else return{...e,[l]:{amount:s}};return e},{}):{};e.s(["addEquippedItems",0,(e,t)=>t?e?.reduce((e,{tools:t,equipment:a,food:n})=>[...e,...t||[],...a||[],...n||[]],[]).filter(({rawName:e})=>"Blank"!==e).map(e=>e?.amount?e:{...e,amount:1}):[],"addStoneDataToEquip",0,n,"calcNametagsFound",0,e=>e?.lootyRaw?.reduce((e,t)=>e+ +!!String(t||"")?.includes("EquipmentNametag"),0),"calcObolsFound",0,e=>e?.lootyRaw?.reduce((e,t)=>e+ +!!String(t||"")?.includes("Obol"),0),"calcTrophiesFound",0,e=>e?.lootyRaw?.reduce((e,t)=>e+ +!!String(t||"")?.includes("Trophy"),0),"calculateItemTotalAmount",0,(e,t,a,n=!1)=>e?.reduce((e,l)=>(a?t===(n?l?.rawName:l?.name)&&(e+=l?.amount):(n?l?.rawName?.includes(t):l?.name?.includes(t))&&(e+=l?.amount),e),0),"createItemsWithUpgrades",0,(e,a,l)=>Array.from(Object.values(e)).reduce((e,s,o)=>{let r=n(t.items?.[s],a?.[o]),i="",u=Math.max(r?.Upgrade_Slots_Left,t.items?.[s]?.Upgrade_Slots_Left),c={...t.items?.[s],...r,maxUpgradeSlots:u};c?.UQ1txt&&(i+=c?.UQ1txt),c?.UQ2txt&&(i+=` ${c?.UQ2txt}`);let m={name:t.items?.[s]?.displayName,rawName:s,owner:l,..."Blank"===s?{}:c,misc:i};return m?.Premiumified&&(m.UQ1txt||delete m.UQ1val,m.UQ2txt||delete m.UQ2val,delete m.Defence,delete m.Weapon_Power,delete m.Reach),s?[...e,m]:e},[]),"findItemByDescriptionInInventory",0,(e,t)=>{if(!t)return{};let n=e.filter(({misc:e,description:n})=>(0,a.cleanUnderscore)(n)?.toLowerCase()?.includes(t?.toLowerCase())||(0,a.cleanUnderscore)(e)?.toLowerCase()?.includes(t?.toLowerCase()),[]);return n?.reduce((e,t)=>{let a=e?.findIndex(e=>e?.rawName===t?.rawName),n=e?.[a];if(n){let l=n?.owners?.includes(t?.owner)?n?.owners:[...n?.owners,t?.owner];n?.misc===t?.misc&&e?.splice(a,1),e=[...e,{...t,owners:l}]}else e=[...e,{...t,owners:[t?.owner]}];return e},[])},"findItemInInventory",0,s,"findQuantityOwned",0,(e,t)=>{let a=s(e,t);return Object.entries(a)?.reduce((e,[t,{amount:a}])=>({amount:e?.amount+a,owner:[...e?.owner,t]}),{amount:0,owner:[]})},"flattenCraftObject",0,e=>{if(!e)return[];let t={},a=structuredClone(e),n=(e,a)=>e?.reduce((e,l)=>(e.push(l),l.materials&&(e=e.concat(n(l?.materials,a)),l.materials=[]),t[l?.itemName]?t[l?.itemName].itemQuantity+=l?.itemQuantity:t[l?.itemName]=l,e),[]);return n(a?.materials,t),Object.values(t)},"getAllItems",0,(e,t)=>{let a=e?.reduce((e,{inventory:t=[]})=>[...e,...t],[]),n=t?.forge?.list?.reduce((e,{bar:t,barrel:a,ore:n})=>[...e,t,a,n],[]);return[...a||[],...t?.storage?.list||[],...n||[]]},"getAllTools",0,()=>[t.itemsArray?.filter(({rawName:e})=>e?.match(/EquipmentTools[0-9]+/))?.filter(({rawName:e})=>"EquipmentTools13"!==e&&"EquipmentTools10"!==e),t.itemsArray?.filter(({rawName:e})=>e?.match(/EquipmentToolsHatchet[0-9]+/))?.filter(({rawName:e})=>"EquipmentToolsHatchet0"!==e&&"EquipmentToolsHatchet3"!==e&&"EquipmentToolsHatchet11"!==e),t.itemsArray?.filter(({rawName:e})=>e?.match(/FishingRod[0-9]+/))?.filter(({rawName:e})=>"FishingRod1"!==e),t.itemsArray?.filter(({rawName:e})=>e?.match(/CatchingNet[0-9]+/))?.filter(({rawName:e})=>"CatchingNet1"!==e),t.itemsArray?.filter(({rawName:e})=>e?.match(/TrapBoxSet[0-9]+/)),t.itemsArray?.filter(({rawName:e})=>e?.match(/WorshipSkull[0-9]+/))?.filter(({rawName:e})=>"WorshipSkull8"!==e),t.itemsArray?.filter(({rawName:e})=>e?.match(/DNAgun[0-9]+/))],"getStatsFromGear",0,(e,a,n,s=!1)=>{if(!e)return 0;let{equipment:o,tools:r}=e||{},i=n?.lab?.playersChips?.[e?.playerId]?.find(e=>16===e.index)??0,u=n?.lab?.playersChips?.[e?.playerId]?.find(e=>17===e.index)??0,c=n?.lab?.playersChips?.[e?.playerId]?.find(e=>18===e.index)??0,m=s?r:o;return isNaN(a)?m?.reduce((e,t)=>e+l(t,a),0):m?.reduce((e,n,o)=>e+l(n,t.bonuses?.etcBonuses?.[a])*(!s&&(3===o&&c||10===o&&i||9===o&&u)?2:1),0)},"mergeItemsByOwner",0,e=>{let t={};return e.forEach(e=>{if(!e.displayName)return;let a=e.owner+e.displayName;t[a]?t[a].amount+=e.amount:t[a]={...e}}),Object.values(t)}])},476219,e=>{"use strict";var t=e.i(608580),a=e.i(82748);let n=(e,t)=>{let a=structuredClone(e),{level:n,maxLevel:s}=a?.[t],o=0;for(let e=n;e<s;e++)a[t].level=e,o+=l(a,t);return o??0},l=(e,t)=>{let{level:a,x1:n,x2:l}=e?.[t];return 33>t?Math.max(.1,1-s(e,13)/100)*(a+(n+a)*Math.pow(l,a)):+(a+(n+a)*Math.pow(l,a))},s=(e,t)=>{let{level:a,x5:n}=e?.[t],l=e?.[60];return 32===t||1===t||6===t||7===t||8===t||9===t||13===t||999===t||999===t||33===t||36===t||40===t||42===t||43===t||44===t||49===t||51===t||52===t||53===t||57===t||61===t||999===t?a*n:0===t?(a*n+(Math.max(0,a-25)+(Math.max(0,a-50)+Math.max(0,a-100))))*(1+s(e,32,0)/100):60===t?(l?.level*l?.x5+(Math.max(0,l?.level-25)+(Math.max(0,l?.level-50)+(2*Math.max(0,l?.level-100)+(3*Math.max(0,l?.level-200)+(5*Math.max(0,l?.level-300)+(7*Math.max(0,l?.level-400)+10*Math.max(0,l?.level-450))))))))*(1+Math.floor(l?.level/25)/5)*(1+s(e,61,0)/100):32>t?a*n*(1+s(e,32,0)/100):61>t?a*n*(1+s(e,61,0)/100):0};e.s(["getUpgradeVault",0,(e,o)=>{var r;let i,u,c;return r=e?.UpgVault||(0,t.tryToParse)(e?.UpgVault),i=r?.reduce((e,t)=>e+t,0),u=(u=a.upgradeVault.map((e,t)=>({...e,level:r?.[t],unlocked:i>=e?.unlockLevel}))).map((e,a)=>{let o=s(u,a),r=e?.description?.replace("{",(0,t.commaNotation)(o)).replace("}",(0,t.notateNumber)(1+o/100,"MultiplierInfo"));return{...e,cost:l(u,a),costToMax:n(u,a),bonus:o,description:r}}),c=u?.find(({unlocked:e})=>!e),{upgrades:u,totalUpgradeLevels:i,nextUnlock:c}},"getUpgradeVaultBonus",0,(e,t)=>e?.[t]?.bonus||0])},292996,e=>{"use strict";let t=e=>e?.name?.includes("%")?e?.value>0&&!isNaN(e?.value/100)?e?.value/100:"":e?.value||"";e.s(["createCogstructionData",0,(e,a)=>{let n=e?.reduce((e,n,l)=>{let s=(e=>{if("Blank"===e)return null;if(e.includes("Player_"))return"Character";if("CogY"===e)return"Yang_Cog";if("CogZ"===e)return"Omni_Cog";let t=Object.entries({ad:"Plus",di:"X",up:"Up",do:"Down",ri:"Right",le:"Left",ro:"Row",co:"Col",cr:"Omni"}).find(([t])=>e.endsWith(t));return t?`${t[1]}_Cog`:"Cog"})(a[l]);if(!s)return e;let{a:o="",c:r="",d:i="",b:u="",e:c="",g:m="",k:d="",f:p=""}=n||{},g=[o,r,i,u,c,m,d,p].map((e,a)=>a<7?`${t(e)||""},`:t(e)),h=a[l].includes("Player_")?a[l].split("Player_")[1]:"";return`${e}
${s},${h},${g.join("")}`},"cog type,name,build_rate,flaggy_rate,exp_mult,exp_rate,build_rate_boost,flaggy_rate_boost,flaggy_speed,exp_rate_boost"),l="empties_x,empties_y",s=a?.slice(0,96);for(let e=0;e<8;e++)for(let t=0;t<12;t++){let a=(7-e)*12+t;s?.[a]==="Blank"&&(l=`${l}
${t},${e}`)}return{cogData:n,empties:l}}])},724719,e=>{"use strict";e.s(["getBellBonus",()=>d,"getTheBell",()=>o]);var t=e.i(82748),a=e.i(694186),n=e.i(734002),l=e.i(695906),s=e.i(723672);let o=(e,n)=>{let l=Math.min(6,e?.bellRelated?.[5]+1),s=Math.min(.6/Math.max(1,.8*e?.bellRelated?.[5]+1)*(1+(0,a.getSchematicBonus)({holesObject:e,t:43,i:25})*e?.extraCalculations?.[31]/100),.9),o=["Ring_the_bell_to_get_+{_LV_of_a_random_bonus!","Ping_the_bell_to_find_an_opal_instantly!","Clean_the_bell_for_a_}%_chance_to_unlock_a_new_improvement_method!","Renew_the_bell_to_reset_all_bonuses..._but_you_keep_improvement_methods_&_opals!"],p=["ring","ping","clean","renew"].map((t,a)=>{let l=c(e,n,a),s=i(e,a),r=e?.bellRelated[2*a],u=d({holesObject:e,t:a});return{name:t,expRate:l,description:o?.[a],bonus:u,expReq:s,exp:r}});return{bellMethodsOwned:l,newMethodChance:s,bells:p,improvementMethods:t.holesInfo[60].split(" ").map((t,a)=>{let l=e?.bellImprovementMethods?.[a],s=m(e,a);return{bonus:s,description:t,level:l,cost:u(e,a),...r(e,n,a)}}),bellBonuses:t.holesInfo[59].split(" ").toChunks(2).map(([t,a],n)=>{let l=d({holesObject:e,t:n});return{description:t,baseValue:parseFloat(a),bonus:l,level:e?.bellRingLevels?.[n]}}),rings:e?.bellRelated?.[1],pings:e?.bellRelated?.[3]}},r=(e,t,a)=>0===a?{costType:"money",owned:t?.currencies?.rawMoney}:1===a?{costType:"sediments",owned:Math.max(0,e?.wellSediment?.[3]??0)}:2===a?{costType:"bits",owned:t?.gaming?.bits}:3===a?{costType:"notes",owned:Math.max(0,e?.wellSediment?.[14]??0)}:4===a?{costType:"particles",owned:t?.atoms?.particles}:5===a?{costType:"rupie",owned:Math.max(0,e?.wellSediment?.[25]??0)}:{costType:"",owned:0},i=(e,t)=>0===t?(5+3*e?.bellRelated?.[1])*Math.pow(1.05,e?.bellRelated?.[1]):1===t?(10+(10*e?.bellRelated?.[3]+Math.pow(e?.bellRelated?.[3],2.5)))*Math.pow(1.75,e?.bellRelated?.[3]):2===t?100*Math.pow(3,e?.bellRelated?.[5]):25,u=(e,a)=>{let n=t.holesInfo?.[42]?.split(" ");return 0===a?n[a]*Math.pow(1.25,e?.bellImprovementMethods?.[a]):2===a?n[a]*Math.pow(1.5,e?.bellImprovementMethods?.[a]):n[a]*Math.pow(1.1,e?.bellImprovementMethods?.[a])},c=(e,t,a)=>{if(0===a){let a=(0,n.getMonumentBonus)({holesObject:e,t:0,i:7}),o=(0,l.getMeasurementBonus)({holesObject:e,accountData:t,t:2}),r=m(e,0,0)+m(e,2,0)+m(e,4,0)+m(e,5,0),i=(0,s.getJarBonus)({holesObject:e,i:11,account:t}),u=(0,s.getJarBonus)({holesObject:e,i:36,account:t});return{value:10*(1+a/100)*(1+o/100)*(1+r/100)*(1+i/100)*(1+u/100),breakdown:[{name:"Base",value:10},{name:"Monument bonus",value:1+a/100},{name:"Measurement bonus",value:1+o/100},{name:"Method Quantity",value:1+r/100},{name:"Big Beef Rock (Jar)",value:1+i/100},{name:"Twisted Rupie (Jar)",value:1+u/100}]}}if(1===a){let a=(0,n.getMonumentBonus)({holesObject:e,t:0,i:7}),s=(0,l.getMeasurementBonus)({holesObject:e,accountData:t,t:2}),o=m(e,3,0);return{value:10*(1+a/100)*(1+s/100)*(1+o/100),breakdown:[{name:"Base",value:10},{name:"Monument Bonus",value:1+a/100},{name:"Measurement Bonus",value:1+s/100},{name:"Method Quantity",value:1+o/100}]}}if(2===a){let t=m(e,1,0);return{value:10*(1+t/100),breakdown:[{name:"Base",value:10},{name:"Method Quantity",value:1+t/100}]}}return{value:10,breakdown:[{name:"Base",value:10}]}},m=(e,n)=>2*e?.bellImprovementMethods?.[n]*Math.max(1,(0,a.getSchematicBonus)({holesObject:e,t:45,i:0})*t.holesInfo?.[61]?.split(" ")?.[n]),d=({holesObject:e,t:a})=>{let n=t.holesInfo[59]?.split(" ");return e?.bellRingLevels[a]*n[Math.round(2*a+1)]}},801902,e=>{"use strict";e.s(["getLamp",()=>r,"getLampBonus",()=>m]);var t=e.i(82748),a=e.i(695906),n=e.i(724719),l=e.i(608580),s=e.i(734002),o=e.i(276924);let r=(e,a,n)=>{let s=i(e,a,n);return{wishes:t.lampWishes.map((t,n)=>{let s,o=c(e?.wishesUsed?.[n],n),r=u(e?.wishesUsed?.[n]+1,e?.wishesUsed?.[n]+6,n);return s=4===n||6===n||8===n||10===n||11===n?t?.description.replace("{",m({holesObject:e,t:Math.floor((n-4+Math.floor(n/11))/2),i:0,account:a})).replace("}",m({holesObject:e,t:Math.floor((n-4+Math.floor(n/11))/2),i:1,account:a})).replace("~",m({holesObject:e,t:Math.floor((n-4+Math.floor(n/11))/2),i:2,account:a})):t?.description.replace("#",(0,l.notateNumber)(1+m({holesObject:e,t:99,i:0,account:a})/100)),{...t,cost:o,futureCosts:r,description:s}}),wishPerDay:s,currentWishes:e?.extraCalculations?.[25]}},i=(e,t,l)=>6>l?0:1+((0,a.getMeasurementBonus)({holesObject:e,accountData:t,t:4})+((0,a.getCosmoBonus)({majik:e?.holeMajiks,t:0,i:2})+((0,n.getBellBonus)({holesObject:e,t:3})+((0,s.getMonumentBonus)({holesObject:e,t:1,i:7})+100*(0,a.getStudyBonus)(e,6,0)))))/100,u=(e,t,a)=>{let n=[];for(let l=e;l<t;l++)n.push(c(l,a));return n??0},c=(e,a)=>0===a?11>e?Math.floor(1+(2*e+Math.pow(e,2))):999999:2===a?Math.floor(1+(2*e+Math.pow(e,1.7))):Math.floor(e*t.lampWishes[a]?.x2+t.lampWishes[a]?.x1),m=({holesObject:e,t,i:a,account:n})=>{let l=1+(0,o.getZenithBonus)(n,2)/100;return 99===t?25*e?.wishesUsed?.[7]*l:"25,10,8;15,40,10;20,35,12;5,1,1;2,2,2".split(";")[t].split(",")[a]*e?.wishesUsed?.[Math.min(11,Math.round(4+2*t))]*l}},723672,e=>{"use strict";e.s(["getJarBonus",()=>B,"getNewCollectibleChance",()=>_,"getTheJars",()=>c]);var t=e.i(82748),a=e.i(694186),n=e.i(608580),l=e.i(695906),s=e.i(685849),o=e.i(801902),r=e.i(734002),i=e.i(11138);let u=["Simple Jar","Tall Jar","Ornate Jar","Great Jar","Enchanted Jar","Artisan Jar","Epic Jar","Gilded  Jar","Ceremony Jar","Heirloom Jar"],c=(e,a,l)=>{let s=t.holesInfo?.[65]?.split(" "),o=Math.round(e?.extraCalculations?.[37]),r=g({holesObject:e}),i=v({holesObject:e,account:l}),c=_(e,l),b=f({holesObject:e}),S=M({holesObject:e,account:l}),y=m({holesObject:e,accountData:l}),k=p({holesObject:e}),x=u.map((t,a)=>{let l=1===a?(0,n.notateNumber)(100*i,"Small"):2===a?(0,n.notateNumber)(100*c,"Small"):1===a?S:"";return{name:t,effect:(0,n.cleanUnderscore)(s?.[a]).replace("{",l),unlocked:a<=o,req:h({holesObject:e,i:a}),destroyed:e?.extraCalculations?.slice(40,50)?.[a]||0}}),C=d({holesObject:e,accountData:l}),T=(0,n.createRange)(0,r-1).map((t,a)=>({progress:e?.jarProgress?.[a+3],jarType:e?.jarProgress?.[a],req:x?.[e?.jarProgress?.[a]]?.req})),w=(0,n.createRange)(0,9).map(t=>e?.wellSediment?.slice(20)?.[t]??"0");w=[...w,...(0,n.createRange)(0,1).map(t=>e?.extraCalculations?.slice(38)?.[t]??"0")];let E=e?.jarStuff?.slice(0,40).map((a,s)=>{let[o,r,,i]=t.holesInfo?.[67]?.split(" ")?.[s]?.split("|"),u=B({holesObject:e,i:s,account:l});return{level:a,bonus:u,name:(0,n.cleanUnderscore)(o).toLowerCase().capitalizeAllWords(),bonusModifier:r,description:i.replace("{",u).replace("}",1+u/100),doubled:e?.extraCalculations?.[62]===s}});return{unlockedSlots:r,opalChance:i,newJarCost:b,rupieValue:y,jarAesthetic:k,activeSlots:T,rupies:w,perHour:C,jars:x,totalJars:a?.length,collectibles:E}},m=({holesObject:e,accountData:t})=>{let n=(0,s.getStampsBonusByEffect)(t,"more_Resources_from_all_Caverns")||0,i=(0,a.getSchematicBonus)({holesObject:e,t:62,i:1}),u=(0,a.getSchematicBonus)({holesObject:e,t:65,i:2}),c=(0,a.getSchematicBonus)({holesObject:e,t:68,i:4}),m=Math.max(1,Math.pow(1.5,t?.accountOptions?.[355])),d=1+(0,o.getLampBonus)({holesObject:e,t:99,i:0,account:t})/400,p=1+(0,r.getMonumentBonus)({holesObject:e,t:2,i:1})/100,g=(0,l.getMeasurementBonus)({holesObject:e,accountData:t,t:10}),h=(0,l.getMeasurementBonus)({holesObject:e,accountData:t,t:14}),f=Math.max(1,(0,a.getSchematicBonus)({holesObject:e,t:80,i:1})*Math.pow(1.1,e?.extraCalculations?.[5])),v=1+e?.extraCalculations?.[60]/100,_=1+B({holesObject:e,i:3,account:t})/100,M=1+B({holesObject:e,i:17,account:t})/100,b=1+B({holesObject:e,i:28,account:t})/100,S=1+(B({holesObject:e,i:0,account:t})+B({holesObject:e,i:6,account:t})+B({holesObject:e,i:13,account:t})+B({holesObject:e,i:21,account:t})+B({holesObject:e,i:33,account:t}))/100,y=1+n/100;return{value:(1+i+u+c)*m*d*p*(1+(g+h)/100)*f*v*_*M*b*S*y,breakdown:[{title:"Base Value"},{name:"Schematic Bonuses",value:1+i+u+c},{title:"Multiplicative"},{name:"Rupie Slug (Gem shop)",value:m},{name:"Lamp",value:d},{name:"Monument",value:p},{name:"Measurements",value:1+(g+h)/100},{name:"Schematic",value:f},{name:"Gilded Jars",value:v},{name:"Collectibles",value:_*M*b*S},{name:"Stamps",value:y}]}},d=({holesObject:e,accountData:t})=>36e3*(1+(B({holesObject:e,i:1,account:t})+(B({holesObject:e,i:15,account:t})+(B({holesObject:e,i:24,account:t})+(0,l.getMeasurementBonus)({holesObject:e,accountData:t,t:12}))))/100)*(1+(0,a.getSchematicBonus)({holesObject:e,t:72,i:10})*(0,n.lavaLog)(e?.extraCalculations?.[38])/100),p=({holesObject:e})=>Math.round(Math.min((0,a.getSchematicBonus)({holesObject:e,t:62,i:1})+((0,a.getSchematicBonus)({holesObject:e,t:63,i:1})+((0,a.getSchematicBonus)({holesObject:e,t:64,i:1})+((0,a.getSchematicBonus)({holesObject:e,t:65,i:1})+((0,a.getSchematicBonus)({holesObject:e,t:66,i:1})+((0,a.getSchematicBonus)({holesObject:e,t:67,i:1})+(0,a.getSchematicBonus)({holesObject:e,t:68,i:1})))))),7)),g=({holesObject:e})=>1===(0,a.getSchematicBonus)({holesObject:e,t:66,i:1})?3:1===(0,a.getSchematicBonus)({holesObject:e,t:63,i:1})?2:1,h=({holesObject:e,i:t})=>(1e3+2e3*t)/((1+(0,a.getSchematicBonus)({holesObject:e,t:67,i:30})/100)*(1+(0,a.getSchematicBonus)({holesObject:e,t:74,i:5})*(0,n.lavaLog)(e?.extraCalculations[Math.round(Math.max(0,t-1)+40)])/100)),f=({holesObject:e})=>50*Math.pow(1+e?.extraCalculations?.[37],1.5)*Math.pow(4.8,e?.extraCalculations?.[37]),v=({holesObject:e,account:t})=>.25*Math.pow(.43,e?.opalsPerCavern?.[10])*(1+B({holesObject:e,i:2,account:t})/100)*(1+B({holesObject:e,i:14,account:t})/100)*(1+B({holesObject:e,i:27,account:t})/100),B=({holesObject:e,i:a,account:n})=>{let l=t.holesInfo?.[67].split(" ")?.[a],s=(0,i.getLegendTalentBonus)(n,29);return e?.jarStuff?.[a]*parseFloat(l.split("|")[1])*(1+s/100)},_=(e,t)=>{let l=1===(0,a.getSchematicBonus)({holesObject:e,t:76,i:1}),s=B({holesObject:e,i:7,account:t})/100,o=B({holesObject:e,i:25,account:t})/100,r=0;if(l)for(let t=0;t<10;t++){let a=Math.round(20+t),l=e?.wellSediment?.[a]||0;r+=Math.ceil((0,n.lavaLog)(l))}let i=Math.max(1,Math.pow(1.02,r)),u=e?.jarStuff?.reduce((e,t)=>e+ +(t>=1),0);return 0===u?.25:(1+s)*i*(1+o)*.2/(1+Math.pow(u,1.9))/(u>15?Math.pow(1.5,u-16):1)},M=({holesObject:e,account:t})=>{let s=0;for(let t=0;t<40;t++){let a=e?.jarStuff?.[t];a>=2&&(s+=a-1)}let o=B({holesObject:e,i:9,account:t}),r=B({holesObject:e,i:18,account:t}),i=B({holesObject:e,i:26,account:t}),u=B({holesObject:e,i:34,account:t}),c=1+(0,l.getStudyBonus)(e,10,0)/100;return .35/(1+(Math.pow(s,1.23)+Math.pow(1.1,s)))*(1+o/100)*Math.max(1,(0,a.getSchematicBonus)({holesObject:e,t:73,i:1})*Math.pow(1.1,(0,n.lavaLog)(e?.extraCalculations?.[39])))*(1+r/100)*(1+c/100)*(1+i/100)*(1+u/100)}},279522,787031,532600,10051,e=>{"use strict";e.s(["getArcade",()=>x,"getArcadeBonus",()=>T],279522);var t=e.i(608580),a=e.i(82748);e.s(["calcHappyHours",()=>y,"getDungeonFlurboStatBonus",()=>B,"getDungeonStatBonus",()=>v,"getDungeons",()=>h,"getMaxClaimTime",()=>_,"getSecPerBall",()=>M],10051);var n=e.i(685849);let l=(e,t)=>e?.find(({name:e,done:a})=>e===t&&a)?.value??0;e.s(["getBribeBonus",0,l,"getBribes",0,e=>{let n;return n=e?.BribeStatus||(0,t.tryToParse)(e?.BribeStatus),a.bribes?.map((e,t)=>{let a=n?.[t];return{...e,done:1===a}})}],787031);var s=e.i(172833),o=e.i(161866),r=e.i(623886),i=e.i(699213);function u(e){return(0,i.default)(1,arguments),(0,r.default)(e).getTime()<Date.now()}e.s(["isPast",()=>u],532600);var c=e.i(512527);function m(e){return(0,i.default)(1,arguments),(0,r.default)(e).getDay()}var d=e.i(211792),p=e.i(860207);function g(){return(0,p.default)(Date.now())}let h=(e,a)=>f((0,t.tryToParse)(e?.DungUpg),a),f=(e,t)=>{let n=a.dungeonCreditShop?.map((t,a)=>({...t,level:e?.[0]?.[a]})),l=e?.[1],s=e?.[2],o=0,r=a.dungeonTraits?.map(e=>({...e,bonuses:e?.bonuses?.map(e=>{let t=s?.includes(o),a=o;return o++,{bonus:e,isActive:t,bonusIndex:a}})})),i=e?.[5],u=l?.map((e,t)=>({...a.dungeonStats[t],level:e})),c=i?.map((e,t)=>({...a.dungeonFlurboStats[t],level:e})),m=t?.[72]||0,d=t?.[73]||0,p=t?.[76]||0,g=a.randomList?.[29].split(" "),h=t[71],f=Number(g.reduce((e,a,n,l)=>(t[71]>Number(a)&&(e=n.toString()),e),"0"))+1;return{upgrades:c,insideUpgrades:u,credits:m,flurbos:d,boostedRuns:p,progress:h,rankReq:g?.[f],rank:f,rngItems:n,statBoosts:r}},v=(e,a)=>{let n=e?.find(({effect:e})=>e===a);return n?(0,t.growth)(n?.func,n?.level,n?.x1,n?.x2,!1)??0:0},B=(e,a)=>{let n=e?.find(({effect:e})=>e===a);return n?(0,t.growth)(n?.func,n?.level,n?.x1,n?.x2,!1)??0:0},_=e=>Math.ceil(3600*(48+Math.min(10,(0,n.getStampsBonusByEffect)(e,"hr_Arcade_Ball_claim_max_time")))),M=e=>4e3/(1+(b(e)+l(e?.bribes,"Weighted_Marbles"))/100),b=e=>{let t=0;for(let n=0;n<a.ballsBonuses.length;n++){let[l,s]=a.ballsBonuses[n];1===(0,o.getAchievementStatus)(e?.achievements,l)&&(t+=s)}return t+(0,s.getVialsBonusByStat)(e?.alchemy?.vials,"arcadeBALLZ")+5*e?.tasks?.[2]?.[1]?.[7]+Math.min(50,(0,n.getStampsBonusByEffect)(e,"Arcade_Ball_recharge_rate"))},S=(e,t)=>e?.map(e=>e+Math.round(t/1e3)-3600),y=e=>{let t,a=S(e,t=!function(e){return(0,i.default)(1,arguments),4===(0,r.default)(e).getDay()}(g())?(t=function(e){return(0,i.default)(1,arguments),function(e,t){(0,i.default)(2,arguments);var a=m(e)-t;return a<=0&&(a+=7),(0,d.default)(e,a)}(e,4)}(g())).getTime()-60*t.getTimezoneOffset()*1e3:g()),n=a?.filter(e=>!u(1e3*e)).map(e=>1e3*e);if(n?.length!==0)return n;{let t=function(e){return(0,i.default)(1,arguments),function(e,t){(0,i.default)(2,arguments);var a=t-m(e);return a<=0&&(a+=7),(0,c.default)(e,a)}(e,4)}(g());return S(e,t=t.getTime()-60*t.getTimezoneOffset()*1e3)}};var k=e.i(210270);let x=(e,a,n)=>C((0,t.tryToParse)(e?.ArcadeUpg)||e?.ArcadeUpg,a,n),C=(e,n,l)=>{let s=n?.accountOptions?.[74],o=n?.accountOptions?.[75],r=n?.accountOptions?.[324],i=Math.round(_(n)/Math.max(1800,M(n))),u=a.arcadeShop?.map((a,s)=>{let{x1:o,x2:r,func:i}=a,u=e?.[s]??0,c=(0,t.growth)(i,u,o,r,!1),m=u>100?2:1,d=(0,k.isCompanionBonusActive)(n,27)?2:1;return{...a,level:u,active:l?.ArcadeBonuses?.includes(s),rotationIndex:l?.ArcadeBonuses?.indexOf(s),bonus:c*m*d,iconName:`PachiShopICON${s}`}}),c=u?.reduce((e,{level:t})=>e+t,0);return{shop:u,balls:s,goldBalls:o,royalBalls:r,maxBalls:i,totalUpgradeLevels:c}},T=(e,t)=>e?.find(({effect:e})=>e.includes(t))},633273,e=>{"use strict";function t(e,t,a,n){let l=e?.x3||e?.boneType;if(Array.isArray(a)&&a.length>0&&"object"==typeof a[0]&&null!==a[0]&&"value"in a[0]){let n=null;return void 0!==l&&(n=a[l]),!n&&e.name&&(n=a.find(t=>t.name===e.name)),n||(n=a[0]),n&&n.value>=t}if(Array.isArray(a))return void 0!==l&&void 0!==a[l]?a[l]>=t:a[0]>=t;if("object"==typeof a&&null!==a){let s=null;return(n&&void 0!==l&&void 0!==n[l]?s=n[l]:e.name&&void 0!==a[e.name]&&(s=e.name),s)?(a[s]??0)>=t:Object.values(a).some(e=>e>=t)}return"number"==typeof a&&a>=t}function a({character:e,account:a,category:n="damage",maxUpgrades:l=100,categoryInfo:s,getUpgrades:o,getResources:r,getCurrentStats:i,getUpgradeCost:u,applyUpgrade:c,updateResourcesAfterUpgrade:m,resourceNames:d,extraArgs:p={}}){let{onlyAffordable:g=!1}=p,h=JSON.parse(JSON.stringify(o(a))),f=JSON.parse(JSON.stringify(r(a))),v=i(h,e,a,p),B=p.getExtraDust,_="dust"===n&&"function"==typeof B?B(e,{...a,compass:{...a.compass,upgrades:h}}):0,M=[];if("all"===n){for(let e=0;e<l;e++){let e=h.filter(e=>!(e.level>=e.x4)&&!!e.unlocked&&(!g||!!t(e,e.cost,f,d)));if(0===e.length)break;let n=e[0],l=1/0;for(let t of e){let e=t.cost;if(p.resourcePerHour){let a=p.getResourceType?p.getResourceType(t):void 0!==t.x3?t.x3:t.name||0,n=1;p.resourcePerHour&&void 0!==a&&void 0!==p.resourcePerHour[a]&&p.resourcePerHour[a]>0&&(n=p.resourcePerHour[a]),e=t.cost/n}e<l&&(l=e,n=t)}let s=h.findIndex(e=>e.index===n.index);if(h[s]={...h[s],level:h[s].level+1},m&&d){let e=JSON.parse(JSON.stringify(f));m(e,n,d,n.cost),f=e}h=h.map((e,t)=>{let n=u(e,t,{account:a,upgrades:h,...p});return{...e,cost:n}}),M.push({...n,level:n.level+1,cost:n.cost})}return M}for(let o=0;o<l;o++){let l=null,o=0,r=null,c=0,b=null,S=0,y=null;for(let m of h.filter(e=>{if(!s.upgradeIndices.includes(e.index)||e.level>=e.x4||!e.unlocked)return!1;if(g){let n=u(e,e.index,{account:a,upgrades:h,resources:f,...p});if(!t(e,n,f,d))return!1}return!0})){let t,d=JSON.parse(JSON.stringify(h)),g=d.findIndex(e=>e.index===m.index);d[g]={...d[g],level:d[g].level+1};let f=i(d,e,a,p),M=_;"dust"===n&&"function"==typeof B&&(M=B(e,{...a,compass:{...a.compass,upgrades:d}}));let k=s.stats.map(e=>{if("dust"===n&&"dust"===e&&"function"==typeof B)return{stat:"extraDust",change:M-_,percentChange:_>0?(M-_)/_*100:0};let t=v[e]||0,a=f[e]||0;return{stat:e,change:a-t,percentChange:t>0?(a-t)/t*100:0}}),x=k.reduce((e,t)=>e+t.percentChange,0),C=u(m,m.index,{account:a,upgrades:h,...p});if(p.resourcePerHour){let e=p.getResourceType?p.getResourceType(m):void 0!==m.x3?m.x3:m.name||0,a=1;p.resourcePerHour&&void 0!==e&&void 0!==p.resourcePerHour[e]&&p.resourcePerHour[e]>0&&(a=p.resourcePerHour[e]),t=x/(C/a)}else t=x/C;t>o&&(l=m,o=t,r=k,c=x,b=f,S=M,y=d)}if(l&&o>0){let e={...l,level:l.level+1},t=u(l,l.index,{account:a,upgrades:h,...p});if(M.push({...e,efficiency:o,statChanges:r,totalStatChange:c,cost:t}),h=y,m&&d){let e=JSON.parse(JSON.stringify(f));m(e,l,d,t),f=e}v=b,"dust"===n&&"function"==typeof B&&(_=S),h=h.map((e,t)=>{let n=u(e,t,{account:a,upgrades:h,...p});return{...e,cost:n}})}else break}return M}e.s(["getOptimizedGenericUpgrades",()=>a])},764964,e=>{"use strict";e.s(["getConstructMastery",()=>r,"getRift",()=>l,"isRiftBonusUnlocked",()=>o]);var t=e.i(608580),a=e.i(82748),n=e.i(405127);let l=e=>s((0,t.tryToParse)(e?.Rift)||e?.Rift),s=e=>{let[t,n,l]=e||[];return{list:a.riftInfo,currentRift:parseInt(t),currentProgress:n,chars:l}},o=(e,t)=>e?.list?.find(({riftBonus:a},n)=>a===t&&n<=e?.currentRift),r=(e,t)=>"Ref Spd"===t?e>=n.constructionMasteryThresholds?.[0]?Math.floor(e/10):0:"Dmg"===t?e>=n.constructionMasteryThresholds?.[2]?2*Math.floor((e-n.constructionMasteryThresholds?.[2])/10):0:"Build Spd"===t?e>=n.constructionMasteryThresholds?.[4]?5*Math.floor((e-n.constructionMasteryThresholds?.[4])/10):0:0},198659,e=>{"use strict";e.s(["addBreedingChance",()=>B,"calcBreedabilityMulti",()=>C,"calcHighestPower",()=>x,"calcShinyLvMulti",()=>T,"calcUpgradeBonus",()=>S,"getBreeding",()=>h,"getShinyBonus",()=>M,"getTimeToLevel",()=>b]);var t=e.i(82748),a=e.i(608580),n=e.i(172833),l=e.i(685849),s=e.i(262887),o=e.i(775003),r=e.i(161866),i=e.i(109304),u=e.i(264046),c=e.i(801902),m=e.i(476219),d=e.i(210270),p=e.i(173024),g=e.i(279522);let h=(e,t,n)=>{let l=(0,a.tryToParse)(e?.Breeding)||e?.Breeding,s=(0,a.tryToParse)(e?.Pets)||e?.Pets,o=(0,a.tryToParse)(e?.PetsStored)||e?.PetsStored;return f(l,(0,a.tryToParse)(e?.Territory)||e?.Territory,s,o,(0,a.tryToParse)(e?.Cooking)||e?.Cooking,t,n)},f=(e,a,n,l,s,o,r)=>{let i=e?.[0],u=e?.[3]?.slice(0,4),c=e?.[3]?.[8],d=e?.[1],p=e?.[2]?.map((e,a)=>({...t.petUpgrades[a]||[],level:e})),g={second:p?.[2]?.level>0,third:p?.[4]?.level>0,fourth:p?.[6]?.level>0,fifth:p?.[9]?.level>0},h=l?.map(([e,t,a])=>({name:e,level:t,power:a})),f=e?.slice(4,8),B=e?.slice(22,26),_=e?.slice(13,17),M=Math.round(5+e?.[2]?.[4]+2*(o?.gemShopPurchases?.find((e,t)=>125===t)??0)),b=n?.slice(0,M),S=b?.reduce((e,[t,a])=>(e[t]||(e[t]={amount:0,shiny:0,breedability:0}),e[t].amount+=1,4===a&&(e[t].breedability+=1),5===a&&(e[t].shiny+=1),e),{}),x=a?.map(([,e])=>e),C=a?.map(([e])=>e),T=n?.slice(27)?.map(([e,a,n,l])=>{let s=t.petGenes?.[a],o=t.monsters?.[e]?.Name;return{name:e,realName:o,x1:a,power:n,x3:l,gene:s}})?.toChunks(4),E=t.territory.filter((e,t)=>14!==t),A=E?.map((e,t)=>{let a=T?.[t]||[],n=T?.[t-1]||[],l=T?.[t+1]||[],s=1+(0,m.getUpgradeVaultBonus)(o?.upgradeVault?.upgrades,56)/100,r=a?.reduce((e,t,l)=>e+y({team:a,previousTeam:n,teamMember:t,position:l}),0)*s,i=a?.reduce((e,t)=>e+k(t),0),u=a?.some(e=>e?.gene?.abilityType===0)?0:a?.filter(e=>e?.gene?.name==="Flashy")?.length,c=a?.filter(e=>e?.gene?.name==="Fleeter")?.length,d=a?.filter(e=>e?.gene?.name==="Fasidious")?.length,p=a?.filter(e=>e?.gene?.name==="Miasma");p=p.length?a?.map(({gene:e})=>e?.name)?.every((e,t,a)=>a.indexOf(t)===e)?1:4:1;let g=[...a,...n,...l],h=g?.filter(e=>e?.gene?.name==="Badumdum")?.length,f=g?.filter(e=>e?.gene?.name==="Tsar")?.length,v=r*Math.pow(1.3,c)*Math.pow(1.2,h)*Math.pow(1.5,u)*Math.pow(1.5,d)*p,B=(i+r*t)*Math.pow(1.5,f)<e.fightPower?0:v,_=1+.02/(a.filter(e=>e?.gene?.name==="Monolithic").length/5+1),M=((t>14?E?.[t-1]?.powerReq:e?.powerReq)+x?.[t])*Math.pow(_,x?.[t]);return{...e,team:a,forageSpeed:B,reqProgress:M,currentProgress:C?.[t]}}),O=[],P={},L=0,I=t.petStats?.map((e,t)=>{let a=d?.[t];return e?.map((e,n)=>{let l=v(B,t,n);L+=0===l?1:l;let s=Math.floor((1+Math.pow(l,1.6))*Math.pow(1.7,l)),o=Math.round(e?.baseValue*l),r={...e,world:"World"+(t+1),level:f?.[t]?.[n],shinyLevel:l,shinyProgress:B?.[t]?.[n],breedingProgress:_?.[t]?.[n],shinyGoal:s,rawPassive:e?.passive,passive:e?.passive?.replace("{",o),passiveValue:o,unlocked:n<a};return P?.[e?.passive]?P[e?.passive]+=o:o>0&&(P[e?.passive]=o),S?.[e?.monsterRawName]&&O.push(r),r})});return{eggsPowerRange:w(r?.charactersData),passivesTotals:P,storedPets:h,eggs:i,genetics:u,deadCells:c,speciesUnlocks:d,fencePets:O,fencePetsObject:S,maxArenaLevel:o?.accountOptions?.[89],timeToNextEgg:o?.accountOptions?.[87]*1e3,petUpgrades:p,arenaBonuses:t.arenaBonuses,unlockedBreedingMulti:g,pets:I,territories:A,foragingRounds:x,currentProgress:C,totalShinyLevels:L}},v=(e,t,a)=>{let n=Array(19).fill(1)?.reduce((n,l,s)=>e?.[t]?.[a]>Math.floor((1+Math.pow(s+1,1.6))*Math.pow(1.7,s+1))?s+2:n,0);return e?.[t]?.[a]===0?0:0===n?1:n},B=(e,t)=>{let n=(0,a.tryToParse)(e?.Breeding)||e?.Breeding,l=0,s=t?.breeding?.pets?.map((e,a)=>e?.map((e,s)=>{let r=(0,o.getTotalKitchenLevels)(t?.cooking?.kitchens),i=_(t,n,a,s,t?.breeding?.unlockedBreedingMulti,r),u=Math.min(9,Math.floor(Math.pow(i?.second-1,.8))+1),c=Math.pow(Math.pow(Math.E,Math.pow(u,1.25)),1/.725)-1;return l+=u,{...e,breedingLevel:u,breedingGoal:c,breedingMultipliers:i}}));return{...t?.breeding,pets:s,totalBreedabilityLv:l}},_=(e,a,s,r,i,u)=>{let c,m=1+Math.ceil(100*Math.pow(a?.[4+s|0][r]/10,1.9))/100,d=i?.second?1+Math.log(Math.max(1,Math.pow(a?.[s+13|0][r]+1,.725))):1,p=i?.third?1+(.25*Math.pow(a?.[0]?.[0],1.4)+Math.pow(a?.[0]?.[0]/3,6)):1,g=i?.fourth?0===s?1:1+.1*s+Math.max(1,Math.min(3,1+.15*a?.[2]?.[7]))*Math.pow(a?.[1]?.[s-1|0]/(t.petStats[s-1].length-t.petStats[s-1].length/2),3):1,h=i?.fifth?Math.max(1,Math.pow(e?.accountOptions?.[86]+1,.3)):1,f=(c=t.randomList[54].split(" "),r+2>a?.[1]?.[s]?1/Math.max(1,c[t.petStats[s][r].passiveIndex]):1),v=e?.gemShopPurchases?.find((e,t)=>119===t)??0,B=(0,n.getVialsBonusByEffect)(e?.alchemy?.vials,null,"NewPet"),_=(0,n.getBubbleBonus)(e,"PETTING_THE_RIFT",!1),M=(0,l.getStampsBonusByEffect)(e,"New_Pet_Chance"),b=(0,o.getMealsBonusByEffectOrStat)(e,null,"Npet"),y=S(e?.breeding?.petUpgrades?.[9],9,e),k=(1+10*v/100)*(1+(B+_*e?.rift?.currentRift)/100)*(1+M/100)*(1+b/100)*Math.pow(Math.max(1,y),u/100)*f*m*d*p*g*h;return{first:m,second:d,third:p,fourth:g,fifth:h,totalChance:k}},M=(e,t)=>e?.reduce((e,a)=>e+a?.reduce((e,{passive:a,passiveValue:n})=>e+(a.includes(t)&&n),0),0),b=(e,t,a,n,l)=>{let s=l?e?.shinyLevel:e?.breedingLevel,o=l?e?.shinyProgress:e?.breedingProgress;if(s===n)return 0;let r=0;for(let e=s;e<n;e++)l?r+=Math.floor((1+Math.pow(e,1.6))*Math.pow(1.7,e)):r+=Math.pow(Math.pow(Math.E,Math.pow(e,1.25)),1/.725)-1;return(r-o)/t/(a||1)*864e5},S=(e,t,a)=>0===t||2===t||4===t?e?.level:1===t?4*e?.level:3===t?25*e?.level:5===t?(1+.25*e?.level)*Math.min(2,Math.max(1,1+.1*(0,r.getAchievementStatus)(a?.achievements,221))):6===t?6*e?.level:7===t?1+.15*e?.level:8===t?1+2*e?.level:9===t?1+.02*e?.level:10===t?10*e?.level:11===t?Math.ceil(12*Math.pow(e?.level,.698)):12===t?5*e?.level:0,y=({team:e,previousTeam:t,teamMember:a,position:n})=>{if(a?.gene?.abilityType===1){switch(a?.gene?.name){case"Forager":return 2*a?.power;case"Targeter":if(t?.[n]?.gene?.name==="Targeter")return 5*a?.power;break;case"Opticular":if(e?.every(e=>e.power<=a.power))return 3*a?.power;break;case"Borger":if(t.some(e=>e?.gene?.name==="Forager"))return 10*a?.power}return a?.power}return 0},k=e=>e?.gene?.abilityType===0?e?.gene?.name==="Mercenary"?2*e.power:e.power:0,x=e=>{let t=e?.territories?.reduce((e,{team:t})=>[...e,...t],[]);return Math.max(...[...e?.storedPets||[],...t].map(({power:e})=>e))},C=(e,t)=>{let a=S(e?.breeding?.petUpgrades?.[3],3,e),n=t?.reduce((t,a)=>{let n=(0,i.getStarSignBonus)(a,e,"Breedable_Spd")??0;return n>t?n:t},0),l=(0,o.getMealsBonusByEffectOrStat)(e,null,"Breed"),s=(0,c.getLampBonus)({holesObject:e?.hole?.holesObject,t:0,i:1,account:e}),u=(0,g.getArcadeBonus)(e?.arcade?.shop,"Breedability_Rate")?.bonus;return{value:(1+(a+(l+(20*(0,r.getAchievementStatus)(e?.achievements,218)+n)))/100)*(1+e?.farming?.cropDepot?.shiny?.value/100)*(1+s/100)*(1+u/100),breakdown:[{name:"Breeding bonus",value:a/100},{name:"Meal bonus",value:l/100},{name:"Achievement bonus",value:20*(0,r.getAchievementStatus)(e?.achievements,218)/100},{name:"Starsign bonus",value:n/100},{name:"Crop bonus",value:e?.farming?.cropDepot?.shiny?.value/100},{name:"Lamp bonus",value:s/100},{name:"Arcade bonus",value:u/100}]}},T=(e,t)=>{let a=(0,s.getLabBonus)(e?.lab.labBonuses,8),n=(0,s.getJewelBonus)(e?.lab.jewels,15,a),l=M(e?.breeding?.pets,"Faster_Shiny_Pet_Lv_Up_Rate"),o=t?.reduce((t,a)=>{let n=(0,i.getStarSignBonus)(a,e,"Shiny_Pet_LV_spd")??0;return n>t?n:t},0),r=(0,u.getWinnerBonus)(e,"<x Shiny EXP",!1),m=(0,c.getLampBonus)({holesObject:e?.hole?.holesObject,t:0,i:1,account:e}),d=S(e?.breeding?.petUpgrades?.[12],12,e);return{value:(1+(n+(l+(e?.farming?.cropDepot?.shiny?.value+o+d)))/100)*(1+r/100)*(1+m/100),breakdown:[{name:"Jewel bonus",value:n/100},{name:"Shiny bonus",value:l/100},{name:"Starsign bonus",value:o/100},{name:"Crop bonus",value:e?.farming?.cropDepot?.shiny?.value/100},{name:"Summoning bonus",value:r/100},{name:"Breeding bonus",value:d/100},{name:"Lamp bonus",value:m/100}]}},w=e=>{let t=(0,d.getCharacterByHighestSkillLevel)(e,p.CLASSES.Wind_Walker,"breeding"),n=t?.skillsInfo?.breeding?.level,l=(0,p.getTalentBonus)(t?.flatTalents,"CURVITURE_OF_THE_PAW"),s=Math.pow(4*n+Math.pow(n/2,3),.85),o=Math.min(2.1,Math.max(1,1+l)),r=Math.min(1.2+n/12,4);return(0,a.createRange)(0,10).map(e=>{let t=.2*e+.3*Math.floor((e+1)/4)+1;return{minPower:s*o*t*(r*Math.pow(2.71828,-10*Math.max(.1,1-(e+4)/12*.9))+1),maxPower:s*o*t*(+r+1)}})}},109304,e=>{"use strict";e.s(["getConstellations",()=>u,"getStarSignBonus",()=>p,"getStarSignByEffect",()=>d,"getStarSigns",()=>i]);var t=e.i(608580),a=e.i(82748),n=e.i(781357),l=e.i(764964),s=e.i(198659),o=e.i(262887),r=e.i(878012);let i=e=>c((0,t.tryToParse)(e?.StarSg)||e?.StarSignsUnlocked),u=e=>{let a=(0,t.tryToParse)(e?.SSprog)||e?.StarSignProg;return{constellations:m(a),rawConstellationsDone:a?.reduce((e,[,t])=>e+t,0)}},c=e=>a.starSigns?.map(t=>{let{starName:a}=t;return{...t,indexedStarName:`${n.starSignsIndicesMap?.[a]} - ${a}`,starName:a,unlocked:!!e?.[a]}},[]),m=e=>e?.reduce((e,t,n)=>{let l=a.constellations[n],[s,o]=t,r=l?.mapIndex;return null!==r?[...e,{...l,location:a.mapNames[r],completedChars:s,done:!!o}]:e},[]),d=(e,t)=>{if(e?.length===0)return 0;let a=e?.flatMap(({bonuses:e})=>e).filter(e=>e);return a?.reduce((e,{effect:a,bonus:n})=>a===t?e+n:e,0)},p=(e,t,a,n=!1,i=!1)=>{let u=(0,l.isRiftBonusUnlocked)(t?.rift,"Infinite_Stars")?5+(0,s.getShinyBonus)(t?.breeding?.pets,"Infinite_Star_Signs"):0,c=t?.starSigns?.map((l,s)=>{let r=e?.starSigns?.find(({starName:e})=>e===l?.starName),c=s<u,m=i&&l?.bonuses?.some(e=>e?.effect?.toLowerCase().includes(a.toLowerCase()));if(r){let a=(0,o.getPlayerLabChipBonus)(e,t,15)||n?2:1;r={...r,bonuses:r?.bonuses?.map(e=>({...e,bonus:e?.bonus>0?e?.bonus*a:e?.bonus,active:!0,isInfiniteStar:c}))}}else if(m&&l?.unlocked){let a=(0,o.getPlayerLabChipBonus)(e,t,15)||n?2:1;r={...l,bonuses:l?.bonuses?.map(e=>({...e,bonus:e?.bonus>0?e?.bonus*a:e?.bonus,active:!0,forcedByEffect:!0}))}}return u&&!r&&l?.unlocked&&(l={...l,bonuses:l?.bonuses?.map(e=>({...e,isInfiniteStar:c,bonus:l?.starName==="Gordonius_Major"&&n?e?.bonus*2:e?.bonus}))}),r||l}),m=e?.skillsInfo?.summoning?.level,d=c.find(({starName:e,unlocked:t})=>"Seraph_Cosmos"===e&&t),p=g(c);return p?.reduce((e,{effect:n,bonus:l,active:s,isInfiniteStar:o,forcedByEffect:i})=>{if(n.toLowerCase().includes(a.toLowerCase())&&(s||o||i)){let a=(0,r.getTesseractBonus)(t,40),n=d?l*Math.min(5,Math.pow(1.1+Math.min(a,10)/100,Math.ceil((m+1)/20))):l;return e+(o&&l<0?0:n)}return e},0)},g=e=>e?.map(({bonuses:e})=>e).flatMap(e=>e).filter(e=>e)},521637,e=>{"use strict";e.s(["GRIMOIRE_UPGRADE_CATEGORIES",()=>c,"boneNames",()=>u,"getGrimoire",()=>m,"getGrimoireBonus",()=>B,"getOptimizedGrimoireUpgrades",()=>M,"getWraithStats",()=>h]);var t=e.i(608580),a=e.i(82748),n=e.i(173024),l=e.i(971176),s=e.i(626071),o=e.i(669203),r=e.i(633273),i=e.i(210270);let u=["Femur","Ribcage","Cranium","Bovinae"],c={damage:{name:"Damage",stats:["damage"],upgradeIndices:[0,6,8,16,28,33,43,46,50]},accuracy:{name:"Accuracy",stats:["accuracy"],upgradeIndices:[1,7,12,25,37,38,41,47]},defence:{name:"Defence",stats:["defence"],upgradeIndices:[2,7,15,27,30,38,40,49]},hp:{name:"HP",stats:["hp"],upgradeIndices:[3,7,19,34,38,42]},crit:{name:"Crit",stats:["critChance","critDamage"],upgradeIndices:[10,20]},extraBones:{name:"Extra Bones",stats:["extraBones"],upgradeIndices:[23,48]}},m=(e,a,n)=>d((0,t.tryToParse)(e?.Grimoire)||e?.Grimoire,(0,t.tryToParse)(e?.Ribbon)||e?.Ribbon,a,n),d=(e,n,l,s)=>{let o=a.randomList?.[104]?.split(" "),r=s?.accountOptions?.slice(330,334),i=e?.reduce((e,t)=>e+t,0),u=s?.accountOptions?.[329],c=a.grimoire.map((t,a)=>{let{x1:n,x2:l}=t,o=e?.[a],r=f({x1:n,x2:l,index:a,level:o,account:s});return{...t,index:a,level:o,cost:r}});c=c.map((e,a)=>{let n=_(c,a);return{...e,index:a,unlocked:e?.unlockLevel<=i,bonus:n,monsterProgress:g(o,s,a),description:e?.description.replace("{",(0,t.commaNotation)(n)).replace("}",(0,t.notateNumber)(1+n/100,"MultiplierInfo"))}});let m=c?.find(({unlocked:e})=>!e);return{totalUpgradeLevels:i,bones:r,upgrades:c,nextUnlock:m,totalBonesCollected:u,monsterDrops:p(),ribbons:n}},p=()=>{let e=["Nothing","Z","Copper","Iron","Starfire","Plat","Void","Filler","JungleZ","Grandfrog's_Gazebo","Grandfrog's_Backyard","Gravel_Tomb","Heaty_Hole","Igloo's_Basement","Inside_the_Igloo","End_Of_The_Road","Efaunt's_Tomb","Eycicles's_Nest","Enclave_a_la_Troll","Chizoar's_Cavern","KattleKruk's_Volcano","Castle_Interior","Emperor's_Castle"].toSimpleObject();return Object.values(a.mapNames).map((e,t)=>{let n=a.mapEnemiesArray?.[t],l=a.monsterDrops?.[n]?.find(({rawName:e})=>"COIN"===e)?.quantity,s=6e3===Math.floor(l)||12500===Math.floor(l)||22e3===Math.floor(l)||35e4===Math.floor(l)?0:4e5===Math.floor(l)?1:3700<=l?Math.min(Math.floor(l/27)%4,3):740<=l?Math.min(Math.floor(l/27)%3,2):190<=l?Math.min(Math.floor(l/27)%2,1):0,o=3<=s?Math.pow(Math.max(1,l-3699),.9):2<=s?Math.pow(Math.max(1,l-739),.9):1<=s?Math.pow(Math.max(1,l-189),.9):Math.pow(Math.max(l,l),.9);return{...a.monsters?.[n],rawName:n,mapName:e,boneType:s,boneQuantity:o}}).filter(({mapName:t,AFKtype:a})=>"FIGHTING"===a&&!e[t]&&!a.includes("Fish")&&!a.includes("Bug")&&!t.includes("Colosseum")).filter((e,t,a)=>t===a.findIndex(t=>t.rawName===e.rawName))},g=(e,t,n)=>{let l;return 13===n?l=334:21===n?l=335:31===n&&(l=336),a.monsters?.[e?.[t?.accountOptions?.[l]]]?.Name},h=(e,a)=>{let{upgrades:l,totalUpgradeLevels:s}=a?.grimoire||{},o=(0,n.getTalentBonus)(e?.flatTalents,n.CLASSES.Death_Bringer,"BULWARK_STYLE"),r=(0,n.getTalentBonus)(e?.flatTalents,n.CLASSES.Death_Bringer,"WRAITH_FORM"),i=(0,n.getTalentBonus)(e?.flatTalents,n.CLASSES.Death_Bringer,"MARAUDER_STYLE"),u=(0,n.getTalentBonus)(e?.flatTalents,n.CLASSES.Death_Bringer,"FAMINE_O'_FISH"),c=(0,n.getTalentBonus)(e?.flatTalents,n.CLASSES.Death_Bringer,"FAMINE_O'_FISH",!0),m=(10+(_(l,3)+(_(l,19)+(_(l,34)+_(l,42)))))*(1+(_(l,7)+_(l,38))/100)*(1+s/100*o/100),d=(5+(_(l,0)+(_(l,6)+(_(l,16)+(_(l,33)+_(l,46))))))*(1+r/100)*(1+(_(l,8)+(_(l,28)+(_(l,43)+_(l,50))))/100)*(1+(a?.accountOptions?.[334]*_(l,13)+(a?.accountOptions?.[335]*_(l,21)+a?.accountOptions?.[336]*_(l,31)))/100)*(1+_(l,18)*(0,t.lavaLog)(a?.accountOptions?.[330])/100)*(1+s/100*i/100),p=(2+(_(l,1)+(_(l,12)+(_(l,25)+(_(l,37)+_(l,47))))))*(1+(_(l,7)+_(l,38))/100)*(1+_(l,41)*(0,t.lavaLog)(a?.accountOptions?.[332])/100)*(1+s/100*i/100),g=(_(l,2)+(_(l,15)+(_(l,30)+(_(l,40)+_(l,49)))))*(1+(_(l,7)+_(l,38))/100)*(1+_(l,27)*(0,t.lavaLog)(a?.accountOptions?.[331])/100)*(1+s/100*o/100),h=10+(_(l,10)+u*(0,t.lavaLog)(1));return{hp:m,damage:d,accuracy:p,defence:g,critChance:h,critDamage:1+(25+_(l,20)+c*(0,t.lavaLog)(1))/100,extraBones:v(e,a)}},f=({index:e,level:t,x1:a,x2:n,account:l})=>3*Math.pow(1.05,e)*(0,i.getMasterclassCostReduction)(l)*(t+(a+t)*Math.pow(n+.01,t)),v=(e,a)=>{let{upgrades:r}=a?.grimoire||{},i=(0,n.getTalentBonus)(e?.flatTalents,n.CLASSES.Death_Bringer,"GRIMOIRE"),u=(0,n.getTalentBonus)(e?.flatTalents,n.CLASSES.Death_Bringer),c=(0,n.getTalentBonus)(e?.flatTalents,n.CLASSES.Death_Bringer,"GRAVEYARD_SHIFT"),m=(0,l.getStatsFromGear)(u,76,a),d=(0,o.getEmperorBonus)(a,1);return(1+i/100)*Math.min(2,1+(0,s.getGambitBonus)(a,12))*Math.min(1.5,1+m/100)*(1+d/100)*(1+(_(r,23)+_(r,48)*(0,t.lavaLog)(a?.accountOptions?.[333]))/100)*(1+c/100)},B=(e,t)=>e?.[t]?.bonus||0,_=(e,t)=>{let a=e?.[t];return 9===t||11===t||26===t||36===t||39===t||17===t||32===t||45===t?a?.level*a?.x5:a?.level*a?.x5*(1+_(e,36)/100)},M=(e,t,a="damage",n=100,l={})=>{let s=c[a];return(0,r.getOptimizedGenericUpgrades)({character:e,account:t,category:a,maxUpgrades:n,categoryInfo:s,getUpgrades:e=>e?.grimoire?.upgrades||[],getResources:e=>e?.grimoire?.bones||[],getCurrentStats:(e,t,a)=>h(t,{...a,grimoire:{...a.grimoire,upgrades:e}}),getUpgradeCost:(e,a)=>f({...e,index:a,level:e.level,x1:e.x1,x2:e.x2,account:t}),applyUpgrade:(e,t)=>t.map(t=>t.index===e.index?{...t,level:t.level+1}:t),updateResourcesAfterUpgrade:(e,t,a,n)=>{let l=t.boneType??t.x3;void 0!==e[l]&&(e[l]-=n)},resourceNames:u,extraArgs:l})}},420497,980753,e=>{"use strict";e.s(["getCropEvolution",()=>D,"getExoticMarketBonus",()=>O,"getFarming",()=>M,"getLandRank",()=>P,"getLandRankTotalBonus",()=>L,"getMarketBonus",()=>A,"getProductDoubler",()=>R,"getRanksTotalBonus",()=>y,"getTotalCrop",()=>N,"updateFarming",()=>C],420497);var t=e.i(608580),a=e.i(82748),n=e.i(949500),l=e.i(109304),s=e.i(172833),o=e.i(262887),r=e.i(264046),i=e.i(161866),u=e.i(441132),c=e.i(521637),m=e.i(173024),d=e.i(210270),p=e.i(801902),g=e.i(775003),h=e.i(734002),f=e.i(685849),v=e.i(669203);let B={};B._mul=Math.imul;var _=function(e){this.init(e)};_.__name__="Rand",_.hash=function(e,t){return null==t&&(t=5381),e=B._mul(e,-0x3361d2af),t^=e=B._mul(e<<15|e>>>17,0x1b873593),t=B._mul(t<<13|t>>>19,5)+-0x19ab949c|0,t=B._mul(t^t>>16,-0x7a143595),(t=B._mul(t^t>>13,-0x3d4d51cb))^t>>16},_.inlineHash=function(e,t){return e=B._mul(e,-0x3361d2af),t^=e=B._mul(e<<15|e>>>17,0x1b873593),t=B._mul(t<<13|t>>>19,5)+-0x19ab949c|0,t=B._mul(t^t>>16,-0x7a143595),(t=B._mul(t^t>>13,-0x3d4d51cb))^t>>16},_.prototype={seed:null,seed2:null,init:function(e){this.seed=e,this.seed2=_.hash(e),0==this.seed&&(this.seed=1),0==this.seed2&&(this.seed2=1)},random:function(e){return this.seed=36969*(65535&this.seed)+(this.seed>>16),this.seed2=18e3*(65535&this.seed2)+(this.seed2>>16),(0x3fffffff&(this.seed<<16)+this.seed2)%e},shuffle:function(e){for(var t=e.length,a=0;a<t;){a++,this.seed=36969*(65535&this.seed)+(this.seed>>16),this.seed2=18e3*(65535&this.seed2)+(this.seed2>>16);var n=(0x3fffffff&(this.seed<<16)+this.seed2)%t;this.seed=36969*(65535&this.seed)+(this.seed>>16),this.seed2=18e3*(65535&this.seed2)+(this.seed2>>16);var l=(0x3fffffff&(this.seed<<16)+this.seed2)%t,s=e[n];e[n]=e[l],e[l]=s}},rand:function(){return this.seed=36969*(65535&this.seed)+(this.seed>>16),this.seed2=18e3*(65535&this.seed2)+(this.seed2>>16),(0x3fffffff&(this.seed<<16)+this.seed2)%10007/10007},srand:function(e){return null==e&&(e=1),this.seed=36969*(65535&this.seed)+(this.seed>>16),this.seed2=18e3*(65535&this.seed2)+(this.seed2>>16),((this.seed<<16)+this.seed2|0)%10007/10007*e},int:function(){return this.seed=36969*(65535&this.seed)+(this.seed>>16),this.seed2=18e3*(65535&this.seed2)+(this.seed2>>16),(this.seed<<16)+this.seed2|0},uint:function(){return this.seed=36969*(65535&this.seed)+(this.seed>>16),this.seed2=18e3*(65535&this.seed2)+(this.seed2>>16),0x3fffffff&(this.seed<<16)+this.seed2},__class__:_},e.s(["default",0,_],980753);let M=(e,a,n)=>b((0,t.tryToParse)(e?.FarmUpg),(0,t.tryToParse)(e?.FarmPlot),(0,t.tryToParse)(e?.FarmCrop),(0,t.tryToParse)(e?.FarmRank),a,n),b=(e,t,l,s,o,r)=>{let u=o?.gemShopPurchases?.find((e,t)=>139===t),c=e?.slice(2,a.marketInfo.length+2),d=e?.[1],p=e?.[19],g=a.marketInfo?.map((e,t)=>{let{cropId:a,cropIdIncrement:n,cost:l,costExponent:s,bonusPerLvl:r,maxLvl:i,bonus:u}=e,m=c?.[t]??0,d=(0,v.getEmperorBonus)(o,2),p=Math.max(.001,1-d/(d+100)),g=p*l*Math.pow(s,m);return{...e,level:m,type:w({index:t,cropId:a,cropIdIncrement:n,level:m}),cost:g,nextUpgrades:T({index:t,cropId:a,cropIdIncrement:n,level:m,maxLvl:i,cost:l,costExponent:s,emperorCostCalc:p}),costToMax:I({level:m,maxLvl:i,cost:l,costExponent:s,emperorCostCalc:p}),baseValue:u.includes("}")?1+m*r/100:m*r}}),h=S(o),f=a.exoticMarketInfo?.map((t,a)=>{let n,l,s=e?.[20+a]??0;return n=1===t.type?t.baseValue*(s/(1e3+s)):t.baseValue*s,l=0===s?t.bonus.replace(/[{}$]/g,"0"):t.bonus.replace("{",Math.round(100*n)/100+"").replace("}",Math.round((1+n/100)*100)/100+"").replace("$",Math.ceil(n)+""),{...t,level:s,value:n,isAvailableThisWeek:h.includes(a),displayText:l}}).filter(({name:e})=>"NAME_MAGNI"!==e),B=f.reduce((e,t)=>e+t.level,0),[_,M,b]=s||[];Array.isArray(_)||(_=[]),Array.isArray(M)||(M=[]),Array.isArray(b)||(b=[]);let y=_?.reduce((e,t)=>e+t,0),k=b?.reduce((e,t)=>e+t,0),x=a.ninjaExtraInfo?.[37]?.split(" "),C=a.ninjaExtraInfo?.[34]?.split(" "),E=a.ninjaExtraInfo?.[36]?.split(" ")?.map(e=>parseFloat(e)),O=(0,m.getHighestTalentByClass)(r,m.CLASSES.Death_Bringer,"DANK_RANKS")??0,P=a.ninjaExtraInfo?.[35]?.split(" ")?.map((e,t)=>{let a=C?.[t],n=E?.[t],l=b?.[t],s=x?.[t];return{name:a,description:e,bonus:4===t||9===t||14===t||19===t?Math.max(1,O)*n*l:1.7*n*l/(l+80)*Math.max(1,O),upgradeLevel:l,unlockAt:s}}),L=t?.map(([e,t,n,l,s,o,r],i)=>{let u=a.seedInfo?.[e],c=Math.round(u?.cropIdMin+n),m=14400*Math.pow(1.5,e),d=_?.[i],p=M?.[i],g=(7*d+25*Math.floor(d/5)+10)*Math.pow(1.11,d);return{seed:u,index:i,rank:d,rankProgress:p,rankRequirement:g,seedType:e,baseCropType:n,cropType:c,cropQuantity:s,cropProgress:r,progress:t,growthReq:m,isLocked:l,currentOG:o,cropRawName:`FarmCrop${c}.png`,seedRawName:`Seed_${e}.png`}}),N=Math.floor(1+(A(g,"LAND_PLOTS")+20*u)/100),R=Object.entries(l||{}).reduce((e,[t,n])=>{let l=a.seedInfo.find(e=>parseFloat(t)>=e.cropIdMin&&parseFloat(t)<=e.cropIdMax);return e+parseFloat(n)*Math.pow(2.5,l?.seedId??0)*Math.pow(1.08,t-(l?.cropIdMin??0))},0),D=(0,n.isJadeBonusUnlocked)(o,"Deal_Sweetening")??0,F=A(g,"MORE_BEENZ"),G=A(g,"LAND_RANK"),j=Math.pow(R,.5)*(1+F/100)*(1+(25*D+5*(0,i.getAchievementStatus)(o?.achievements,363))/100);return{plot:L,crop:{...l,beans:d},market:g,exoticMarket:f,totalExoticLevels:B,cropsFound:Object.keys(l||{}).length,cropsOnVine:N,instaGrow:p,beanTrade:j,ranks:P,totalPoints:y,usedPoints:k,hasLandRank:G,totalRanks:_?.reduce((e,t)=>e+t,0)}},S=e=>{if(!e?.timeAway?.GlobalTime)return[];let t=Math.round(100*Math.floor(e.timeAway.GlobalTime/604800)),a=[];for(let e=0;e<8;e++){let n,l=0;do n=Math.floor(Math.max(0,Math.min(59,60*new _(t+e+1e3*l).rand()))),l++;while(a.includes(n))a.push(n)}return a},y=(e,t)=>0===t?(1+e?.[3]?.bonus/100)*(1+e?.[10]?.bonus/100)*(1+e?.[15]?.bonus/100):1===t?e?.[8]?.bonus+e?.[17]?.bonus:2===t?e?.[6]?.bonus+e?.[13]?.bonus:3===t?e?.[7]?.bonus+(e?.[11]?.bonus+e?.[18]?.bonus):4===t?e?.[5]?.bonus+(e?.[12]?.bonus+e?.[16]?.bonus):1,k=(e,t)=>Object.values(e)?.filter(e=>e>=t).length,x=(e,t,a)=>{let n=e.find((e,t)=>t===a);if(!n)return 0;switch(a){case 7:return n.level*n.bonusPerLvl;case 9:return x(e,t,15)*Math.pow(1+n.level*n.bonusPerLvl/100,k(t,200));case 11:return 1+n.level*n.bonusPerLvl/100;case 10:return x(e,t,15)*(1+n.level*n.bonusPerLvl*k(t,1e3)/100);case 12:return x(e,t,15)*(1+n.level*n.bonusPerLvl*k(t,2500)/100);case 13:return 0;case 14:return x(e,t,15)*(1+n.level*n.bonusPerLvl*k(t,1e4)/100);case 15:return 1+n.level*n.bonusPerLvl*k(t,1e5)/100;default:return n.bonus.includes("}")?1+n.level*n.bonusPerLvl/100:n.level*n.bonusPerLvl}},C=(e,t)=>{let a=t?.farming?.market?.map((e,a)=>({...e,value:x(t?.farming?.market,t?.farming?.crop,a)})),o=A(a,"NUTRITIOUS_SOIL"),u=A(a,"SPEED_GMO","value"),c=(0,s.getVialsBonusByStat)(t?.alchemy?.vials,"6FarmSpd"),m=(0,r.getWinnerBonus)(t,"<x Farming SPD"),d=Math.max(1,u)*(1+(o+c+O(t,30))/100)*(1+m/100),p=[0,1,2,3,4,5,6].map((e,t)=>{let a=6===t?25200*d:14400*Math.pow(1.5,e);return{value:a/d,breakdown:[{name:"Base Growth Time",value:a},{name:"Speed GMO",value:Math.max(1,u)},{name:"Nutritious Soil",value:1+o/100},{name:"Vial Bonus",value:1+c/100},{name:"Summoning Bonus",value:1+m/100}]}}),g=t?.farming?.plot?.map((a,s)=>{let o=A(t?.farming?.market,"OG_FERTILIZER"),r=(0,n.getCharmBonus)(t,"Taffy_Disc"),u=(0,l.getStarSignBonus)(e?.[0],t,"OG_Chance"),c=(0,i.getAchievementStatus)(t?.achievements,365),m=L(t,3),p=Math.pow(.4,a?.currentOG+1)*Math.max(1,o)*(1+r/100)*(1+u/100)*(1+2*t?.tasks?.[2]?.[5]?.[2]/100)*(1+15*c/100)*(1+m/100),g=a?.seedType===6?25200*d:14400*Math.pow(1.5,a?.seedType),h=(g-a?.progress)/d,f=Math.min(1e9,Math.max(1,Math.pow(2,a?.currentOG)));return{...a,nextOGChance:p,growthRate:d,ogMulti:f,timeLeft:h,maxTimeLeft:g/d,growthReq:g}});return{...t?.farming||{},plot:g,cropDepot:E(t),market:a,maxTimes:p}},T=({index:e,cropId:t,cropIdIncrement:a,level:n,maxLvl:l,cost:s,costExponent:o,isUnique:r=!0,emperorCostCalc:i})=>{let u=new Map,c=0;for(;u.size<4&&n+c<l;){let l=w({index:e,cropId:t,cropIdIncrement:a,level:n+c}),m=i*s*Math.pow(o,n+c);u.has(l)&&r?u.set(l,u.get(l)+m):u.set(l,m),c++}return Array.from(u.entries()).map(([e,t])=>({type:e,cost:t}))},w=({index:e,cropId:t,cropIdIncrement:a,level:n})=>0===e?Math.floor(t+a*(n+(2*Math.floor(n/3)+Math.floor(n/4)))):Math.floor(t+a*n),E=e=>{let t=(0,o.getLabBonus)(e?.lab?.labBonuses,17),a=(0,o.getLabBonus)(e?.lab.labBonuses,8),l=(1+(t+(0,o.getJewelBonus)(e?.lab?.jewels,20,a))/100)*(1+(0,c.getGrimoireBonus)(e?.grimoire?.upgrades,22)/100)*1,s={damage:{name:"DMG",value:0},gamingEvo:{name:"Gaming Evo",value:0},jadeCoin:{name:"Jade Coin",value:0},cookingSpeed:{name:"Meal Spd",value:0},cash:{name:"Cash",value:0},shiny:{name:"Pet Rate",value:0},critters:{name:"Critters",value:0},dropRate:{name:"Drop Rate",value:0},spelunky:{name:"Spelunky",value:0}};return(0,n.isJadeBonusUnlocked)(e,"Reinforced_Science_Pencil")&&(s.damage.value=20*Math.round(e?.farming?.cropsFound)*l),(0,n.isJadeBonusUnlocked)(e,"Science_Pen")&&(s.gamingEvo.value=Math.pow(1.02,Math.round(e?.farming?.cropsFound))*l),(0,n.isJadeBonusUnlocked)(e,"Science_Marker")&&(s.jadeCoin.value=8*Math.round(e?.farming?.cropsFound)*l),(0,n.isJadeBonusUnlocked)(e,"Science_Featherpen")&&(s.cookingSpeed.value=Math.pow(1.1,Math.round(e?.farming?.cropsFound))*l),(0,n.isJadeBonusUnlocked)(e,"Science_Environmentally_Sourced_Pencil")&&(s.cash.value=15*Math.round(e?.farming?.cropsFound)*l),(0,n.isJadeBonusUnlocked)(e,"Science_Crayon")&&(s.shiny.value=7*Math.round(e?.farming?.cropsFound)*l),(0,n.isJadeBonusUnlocked)(e,"Science_Paintbrush")&&(s.critters.value=.1*Math.round(e?.farming?.cropsFound)*l),(0,n.isJadeBonusUnlocked)(e,"Science_Highlighter")&&(s.dropRate.value=Math.round(Math.max(0,e?.farming?.cropsFound-100))*l),(0,n.isJadeBonusUnlocked)(e,"Science_Fancy_Pen")&&(s.spelunky.value=5*Math.round(Math.max(0,e?.farming?.cropsFound-200))*l),s},A=(e,t,a="baseValue")=>e?.find(({name:e})=>e===t)?.[a]??0,O=(e,t)=>e?.farming?.exoticMarket?.[t]?.value??0,P=(e,t)=>e?.[t]?.bonus,L=(e,t)=>0===t?(1+P(e?.farming?.ranks,3)/100)*(1+P(e?.farming?.ranks,10)/100)*(1+P(e?.farming?.ranks,15)/100):1===t?P(e?.farming?.ranks,8)+P(e?.farming?.ranks,17):2===t?P(e?.farming?.ranks,6)+P(e?.farming?.ranks,13):3===t?P(e?.farming?.ranks,7)+(P(e?.farming?.ranks,11)+P(e?.farming?.ranks,18)):4===t?P(e?.farming?.ranks,5)+(P(e?.farming?.ranks,12)+P(e?.farming?.ranks,16)):1,I=({level:e,maxLvl:t,cost:a,costExponent:n,emperorCostCalc:l})=>{let s=0;for(let o=e;o<t;o++)s+=l*a*Math.pow(n,o);return s??0},N=(e,t,a,n)=>e?.reduce((e,{seedType:l,cropQuantity:s,cropRawName:o,ogMulti:r,rank:i})=>{if(-1===l)return e;let{productDoubler:c}=R(t),m=P(a,1),d=(0,u.getVoteBonus)(n,29),p=A(n?.farming?.market,"VALUE_GMO","value"),g=Math.min(1e4,Math.round(Math.max(1,Math.floor(1+c/100))*(1+y(a,1)/100)*Math.max(1,p)*(1+(m*(i??0)+d)/100)));return{...e,[o]:(e?.[o]||0)+s*r*g}},{}),R=e=>{let t=e?.[5]?.value||0;return{productDoubler:t,percent:t%100,multi:Math.max(2,Math.floor(t/100)+1)}},D=(e,t,a,n)=>{let o=A(e?.farming?.market,"BIOLOGY_BOOST"),v=(0,r.getWinnerBonus)(e,"<x Crop EVO"),B=(0,p.getLampBonus)({holesObject:e?.hole?.holesObject,t:2,i:0,account:e}),_=(0,s.getBubbleBonus)(e,"W10AllCharz",!1),M=(0,s.getBubbleBonus)(e,"CROPIUS_MAPPER",!1),b=(0,s.getVialsBonusByEffect)(e?.alchemy?.vials,null,"6FarmEvo"),S=(0,g.getMealsBonusByEffectOrStat)(e,null,"zCropEvo"),y=(0,g.getMealsBonusByEffectOrStat)(e,null,"zCropEvoSumm"),k=(0,h.getMonumentBonus)({holesObject:e?.hole?.holesObject,t:2,i:4}),x=(0,f.getStampsBonusByEffect)(e,"Crop_Evolution_Chance",t),C=(0,c.getGrimoireBonus)(e?.grimoire?.upgrades,14),T=(0,d.getKillroyBonus)(e,3),w=A(e?.farming?.market,"EVOLUTION_GMO"),E=(0,d.isMasteryBonusUnlocked)(e?.rift,e?.totalSkillsLevels?.farming?.rank,1),O=(0,l.getStarSignBonus)(t,e,"Crop_Evo",n),I=(0,m.getTalentBonus)(t?.flatTalents,"MASS_IRRIGATION"),N=(0,u.getVoteBonus)(e,29),R=(1+o/100)*(1+v/100)*(1+B/100)*(1+_/100)*(1+M/100)*(1+b/100)*(1+S/100)*(1+k/100)*(1+x/100)*(1+C/100)*(1+y*Math.ceil((t?.skillsInfo?.summoning?.level+1)/50)/100)*(1+5*(0,i.getAchievementStatus)(e?.achievements,355)/100)*Math.max(1,T)*Math.max(1,w)*(1+15*E/100)*(1+O*t?.skillsInfo?.farming?.level/100)*Math.max(1,L(e,0))*Math.max(1,I)*(1+(P(e?.farming?.ranks,0)*e?.farming?.plot?.[a?.index]?.rank+N)/100)*a?.seed?.nextCropChance*Math.pow(a?.seed?.nextCropDecay,a?.baseCropType);return{value:R=Math.round(10*(R=Math.min(100,100*R)))/10,breakdown:[{title:"Additive"},{name:"Base Chance",value:a?.seed?.nextCropChance.toExponential(3)},{name:"Decay Rate",value:Math.pow(a?.seed?.nextCropDecay,a?.baseCropType).toExponential(3)},{name:"Market",value:Number(((1+o/100)*(1+w/100)).toFixed(3))},{name:"Summoning",value:Number((1+v/100).toFixed(3))},{name:"Lamp",value:Number((1+B/100).toFixed(3))},{name:"Bubble",value:Number(((1+_/100)*(1+M/100)).toFixed(3))},{name:"Vial",value:Number((1+b/100).toFixed(3))},{name:"Meal",value:Number(((1+S/100)*(1+y*Math.ceil((t?.skillsInfo?.summoning?.level+1)/50)/100)).toFixed(3))},{name:"Monument",value:Number((1+k/100).toFixed(3))},{name:"Stamp",value:Number((1+x/100).toFixed(3))},{name:"Grimoire",value:Number((1+C/100).toFixed(3))},{name:"Achievement",value:Number((1+5*(0,i.getAchievementStatus)(e?.achievements,355)/100).toFixed(3))},{title:"Multiplicative"},{name:"Killroy",value:Number(Math.max(1,T).toFixed(3))},{name:"Skill Mastery",value:Number((1+15*E/100).toFixed(3))},{name:"Star Sign",value:Number((1+O*t?.skillsInfo?.farming?.level/100).toFixed(3))},{name:"Land Rank Total",value:Number(Math.max(1,L(e,0)).toFixed(3))},{name:"Talent",value:Number(Math.max(1,I).toFixed(3))},{name:"Land Rank + Vote",value:Number((1+(P(e?.farming?.ranks,0)*e?.farming?.plot?.[a?.index]?.rank+N)/100).toFixed(3))}],expression:`let value = (1 + marketBonus1 / 100)
    * (1 + winBonus / 100)
    * (1 + lampBonus / 100)
    * (1 + bubbleBonus1 / 100)
    * (1 + bubbleBonus2 / 100)
    * (1 + vialBonus / 100)
    * (1 + mealBonus1 / 100)
    * (1 + monumentBonus / 100)
    * (1 + stampBonus / 100)
    * (1 + grimoireBonus / 100)
    * (1 + (mealBonus2
      * Math.ceil((character?.skillsInfo?.summoning?.level + 1) / 50)) / 100)
    * (1 + (5 * getAchievementStatus(account?.achievements, 355)) / 100)
    * Math.max(1, killroyBonus)
    * Math.max(1, marketBonus2)
    * (1 + (15 * skillMasteryBonus) / 100)
    * (1 + (starSignBonus * character?.skillsInfo?.farming?.level) / 100)
    * Math.max(1, getLandRankTotalBonus(account, 0))
    * Math.max(1, talentBonus)
    * (1 + (getLandRank(account?.farming?.ranks, 0) * account?.farming?.plot?.[crop?.index]?.rank + voteBonus) / 100)
    * crop?.seed?.nextCropChance
    * Math.pow(crop?.seed?.nextCropDecay, crop?.baseCropType);

  value = Math.min(100, 100 * value);
  value = Math.round(10 * value) / 10;`}}},669203,878012,e=>{"use strict";e.s(["getEmperor",()=>F,"getEmperorBonus",()=>W],669203);var t=e.i(82748),a=e.i(608580),n=e.i(949500);e.s(["TESSERACT_UPGRADE_CATEGORIES",()=>g,"getArcanistStats",()=>w,"getExtraTachyon",()=>x,"getMaps",()=>M,"getOptimizedTesseractUpgrades",()=>R,"getPrismaFragChance",()=>O,"getPrismaMulti",()=>P,"getRingBaseStats",()=>_,"getTesseract",()=>f,"getTesseractBonus",()=>v,"getWeaponBaseStats",()=>B,"tachyonNames",()=>p],878012);var l=e.i(173024),s=e.i(971176),o=e.i(279522),r=e.i(262887),i=e.i(210270),u=e.i(633273),c=e.i(11138),m=e.i(39188),d=e.i(420497);let p={0:"Purple",1:"Brown",2:"Green",3:"Red",4:"Silver",5:"Gold"},g={damage:{name:"Damage",stats:["damage"],upgradeIndices:[0,4,6,12,15,24,31,36,42,50,53,39,49,54]},accuracy:{name:"Accuracy",stats:["accuracy"],upgradeIndices:[1,9,19,22,27,38,44,52,55,39,49,54]},defence:{name:"Defence",stats:["defence"],upgradeIndices:[2,11,22,29,44,46,55,39,49,54]},crit:{name:"Crit",stats:["critPct","critDamage"],upgradeIndices:[8,14,39,49,54]},attackSpeed:{name:"Attack Speed",stats:["attackSpeed"],upgradeIndices:[21,39,49,54]}},h={0:"DR",1:"EXP",2:"AFK"},f=(e,n,l)=>{let s=l?.accountOptions?.slice(388,394).map((e,t)=>({value:e,name:p?.[t]})),o=s?.reduce((e,{value:t})=>e+t,0),r=(0,a.tryToParse)(e?.Arcane)||[],[i]=(0,a.tryToParse)(e?.Tess)||[],u=(0,a.tryToParse)(e?.MapBon)||[],c=r?.reduce((e,t)=>e+t,0),m=t.tesseract?.map((e,t)=>{let a=r?.[t];return{...e,level:a,index:t}}),d=A(n,m=(m=m.map((e,t)=>{let a=N(m,t),n=I(m,t,e?.level+1);return{...e,unlocked:e?.x6<=c,bonus:a,nextLevelBonus:n,bonusDiff:n-a,description:E(e?.description,a)}})).map((e,t)=>{let a=L({...e,index:t,account:l,upgrades:m});return{...e,cost:a}})),g=1/(300*Math.pow(1.2,l?.accountOptions?.[396])),h=N(m,5,0),f=1/(500*Math.pow(1.2,l?.accountOptions?.[397])),v=N(m,23,0),B=(i||[]).reduce((e,t)=>({...e,[t]:!0}),{});return{upgrades:m,tachyons:s,totalTachyons:o,totalUpgradeLevels:c,crystalChargeReq:d,weaponDropChance:g,weaponQuality:h,ringDropChance:f,ringQuality:v,unlockedPortals:B,mapBonusRaw:u}},v=(e,t)=>e?.tesseract?.upgrades?.[t]?.bonus||0,B=e=>{e/6e3;return[{title:"Base stats"},{name:"Weapon Power",value:Math.round(5*Math.pow((Math.min(.92,.8+e/2e4)+1)/2,15)+Math.floor(e/25))},{name:"Arcanist DMG",value:Math.round(20*Math.pow((Math.min(.92,.8+e/2e4)+1)/2,15)+Math.floor(e/20))},{name:"Extra Tachyons",value:Math.round(14.5*Math.pow((Math.min(.92,.8+e/2e4)+1)/2,15)+Math.floor(e/15))}]},_=e=>[{title:"Base stats"},{name:"Arcanist ACC",value:Math.round(17.5*Math.pow((Math.min(.92,.8+e/2e4)+1)/2,15)+Math.floor(e/15))},{name:"Extra Tachyons",value:Math.round(14.5*Math.pow((Math.min(.92,.8+e/2e4)+1)/2,15)+Math.floor(e/10))}],M=(e,n)=>{let{unlockedPortals:s,upgrades:o,mapBonusRaw:r}=e?.tesseract,i=100*((0,l.getTalentBonus)(n?.flatTalents,"OVERWHELMING_ENERGY")-1)+Math.min(10,N(o,58,0));return(0,a.getFilteredPortals)()?.map(({mapIndex:e,mapName:a})=>{let n=(t.mapPortals?.[e]).map((t,a)=>({unlocked:s?.[e+"_"+a]})),l=t.mapEnemiesArray?.[e],o=t.monsterDrops?.[l]?.find(({rawName:e})=>"COIN"===e)?.quantity,u=y(o),c=k(o),m=b(r?.[e],i);return{mapIndex:e,mapName:a,portals:n,reqKills:C(e),timeLeft:T(e),monster:t.monsters?.[l],unlocked:n.every(({unlocked:e})=>e),tachyonQuantity:u,tachyonType:c,mapBonuses:m}})},b=(e,t)=>{let a=[];for(let n=0;n<3;n++){let l,s=parseInt(e?.[n],10),o=S(s),r=Math.min(t,o),i=s;if(Math.floor(1e3*o)===Math.floor(1e3*S(i+1e5)))l="TONS";else{let e=4,t=0;for(;t<5;){for(t++;Math.floor(10*S(s))===Math.floor(10*S(i+Math.pow(10,e)));)i+=Math.pow(10,e);e--}l=i-s}a.push({kills:s,value:r,killsToNext:l,type:h?.[n]})}return a},S=e=>(2*Math.max(0,(0,a.lavaLog)(e)-3.5)+Math.max(0,(0,a.lavaLog2)(e)-12))*((0,a.lavaLog)(e)/2.5)+(Math.min(2,e/1e3)+Math.max(5*((0,a.lavaLog)(e)-5),0)),y=e=>{let t=k(e);if(t>=5)return Math.pow(Math.max(1,e-9999)/8,.83);if(t>=4)return Math.pow(Math.max(1,e-3999)/6,.87);if(t>=3)return 1850===e?40:2500===e?80:Math.max(5,Math.pow(Math.max(1,e-2749)/5,.9));if(t>=2)return Math.max(3,Math.pow(Math.max(1,e-799)/3,.9));if(t>=1)return Math.pow(Math.max(1,e-249)/2,.9);else return Math.pow(Math.max(1,e)/2,.9)},k=e=>5e5===e?5:12500===e||4e5===e?4:2500===e||1850===e?3:770===e||1500===e||22e3===e||23e4===e?2:6e3===e||2e5===e?1:8500===e||17e3===e||175e3===e?0:e>=1e4?Math.min(Math.floor(e/71)%6,5):e>=4e3?Math.min(Math.floor(e/71)%5,4):e>=2750?Math.min(Math.floor(e/35)%4,3):e>=800?Math.min(Math.floor(e/35)%3,2):e>=250?Math.min(Math.floor(e/35)%2,1):0,x=(e,t)=>{let u=t?.tesseract?.upgrades,c=(0,l.getTalentBonus)(e?.flatTalents,"TESSERACT"),m=(0,s.getStatsFromGear)(e,95,t),d=(0,o.getArcadeBonus)(t?.arcade?.shop,"Arcane_Tachyons")?.bonus??0,p=(0,r.getLabBonus)(t?.lab.labBonuses,8),g=(0,r.getJewelBonus)(t?.lab.jewels,23,p),h=W(t,6),f=(0,n.getCharmBonus)(t,"Mystery_Fizz"),v=(0,l.getTalentBonus)(e?.flatTalents,"BACKUP_ENERGY"),B=(0,i.isBundlePurchased)(t?.bundles,"bun_x")?1.2:1;return(1+(N(u,17,0)+(c+(N(u,34,0)*(0,a.lavaLog)(t?.accountOptions?.[390])+(N(u,56,0)*(0,a.lavaLog)(t?.accountOptions?.[393])+(m+(g+d))))))/100)*(1+h/100)*(1+f/100)*Math.max(1,v)*B},C=e=>25>e?5:[10,20,40,70,80,250,250,250][Math.floor(e/50)],T=e=>[360,270,225,200,180,180,180,180][Math.floor(e/50)],w=(e,t,n,o)=>{let r=(0,l.getTalentBonus)(n?.flatTalents,"LABOTOMIZER"),i=(0,l.getTalentBonus)(n?.flatTalents,"GHASTLY_POWER"),u=(0,l.getTalentBonus)(n?.flatTalents,"GHASTLY_POWER",!0),c=(0,l.getTalentBonus)(n?.flatTalents,"GHOULISH_POWER"),m=(0,l.getTalentBonus)(n?.flatTalents,"ARCANIST_FORM"),d=(0,s.getStatsFromGear)(n,94,o),p=(0,s.getStatsFromGear)(n,93,o),g=0,h=n?.equipment?.[1];h?.rawName?.includes("EquipmentWandsArc")&&(g+=h?.Weapon_Power);let f=(5+(N(e,0,0)+(N(e,6,0)+(N(e,15,0)+(N(e,36,0)+N(e,50,0))))))*(1+t/100*i/100)*Math.pow(1.04,Math.max(0,g))*(1+m/100)*(1+(N(e,12,0)*(0,a.lavaLog)(o?.accountOptions?.[388])+(N(e,4,0)+(N(e,24,0)+(N(e,31,0)+(N(e,42,0)+N(e,53,0))))))/100)*(1+p/100),v=(N(e,2,0)+(N(e,11,0)+(N(e,29,0)+N(e,46,0))))*(1+t/100*c/100)*(1+(N(e,22,0)+(N(e,44,0)+N(e,55,0)))/100)*(1+N(e,41,0)*(0,a.lavaLog)(o?.accountOptions?.[391])/100),B=(2+(N(e,1,0)+(N(e,9,0)+(N(e,19,0)+(N(e,38,0)+N(e,52,0))))))*(1+t/100*c/100)*(1+(N(e,22,0)+(N(e,44,0)+N(e,55,0)))/100)*(1+N(e,27,0)*(0,a.lavaLog)(o?.accountOptions?.[389])/100)*(1+d/100),_=5+N(e,8,0)+r*Math.floor(n?.skillsInfo?.laboratory?.level/10);return{damage:f,defence:v,accuracy:B,mastery:.25,critPct:_,critDamage:1+(20+N(e,14,0))/100,attackSpeed:t/100*u+N(e,21,0)}},E=(e,t)=>{if(t<1e9)if(e=e.replace("{",(0,a.commaNotation)(t)),t<1e3){let n=1+t/100;e=e.replace("}",(0,a.notateNumber)(n,"MultiplierInfo"))}else{let n=Math.floor(1+t/100);e=e.replace("}",(0,a.commaNotation)(n))}else e=e.replace("{",(0,a.notateNumber)(t));return e},A=(e,t)=>{let a=(0,l.getCharacterByHighestTalent)(e,l.CLASSES.Arcane_Cultist,"BACKUP_ENERGY",!0),n=(0,l.getTalentBonus)(a?.flatTalents,"BACKUP_ENERGY");return Math.ceil(Math.max(50,200-(Math.min(100,N(t,13,0))+Math.min(10,n))))},O=(e,t,a)=>{let n=(0,l.getTalentBonus)(e?.flatTalents,"PRIMO_PRISMA");return 1/(1e3*Math.pow(1.27,t?.accountOptions?.[395]))*Math.max(1,(e?.dropRate?.dropRate-1)*(N(a,51,0)/100))*Math.max(1,n*Math.pow(1.5,Math.floor(e?.mapIndex/50)))},P=e=>{let t=(0,o.getArcadeBonus)(e?.arcade?.shop,"Prisma_Bonuses")?.bonus,a=v(e,45),n=(0,m.getPaletteBonus)(e,28),l=(0,d.getExoticMarketBonus)(e,48),s=(0,c.getLegendTalentBonus)(e,36);return Math.min(3,2+(a+(t+(10*!!(0,i.hasItemDropped)(e,"Trophy23")+(n+(.2*(e?.alchemy?.p2w?.totalEtherealSigils||0)+l))))+s)/100)},L=({index:e,x1:t,x2:n,level:l,account:s,upgrades:o})=>3*(0,i.getMasterclassCostReduction)(s)*(1/(1+N(o,49,0)*(0,a.lavaLog)(s?.accountOptions?.[392])/100))*Math.pow(1.04,e)*(l+(t+l)*Math.pow(n+.01,l)),I=(e,t,a)=>N(e.map((e,n)=>n===t?{...e,level:a}:{...e}),t,0),N=(e,t,a)=>{let n=e?.[t];return 3===t||7===t||8===t||10===t||13===t||16===t||20===t||25===t||26===t||28===t||33===t||35===t||39===t||40===t||43===t||45===t||48===t||57===t||58===t?999===a?0:n?.level*n?.x5:999===a?69.42:n?.level*n?.x5*(1+N(e,39,0)/100)},R=(e,t,a="damage",n=100,l={})=>{let s=g[a];return(0,u.getOptimizedGenericUpgrades)({character:e,account:t,category:a,maxUpgrades:n,categoryInfo:s,getUpgrades:e=>e?.tesseract?.upgrades||[],getResources:e=>e?.tesseract?.tachyons||[],getCurrentStats:(e,t,a)=>w(e,a?.tesseract?.totalUpgradeLevels,t,a),getUpgradeCost:(e,t,{account:a,upgrades:n})=>L({...e,index:t,account:a,upgrades:n}),applyUpgrade:(e,t)=>t.map(t=>t.index===e.index?{...t,level:t.level+1}:t),updateResourcesAfterUpgrade:(e,t,a,n)=>{let l=p[t.x3],s=e.find(e=>e.name===l);s&&(s.value-=n)},resourceNames:p,extraArgs:l})},D={0:"data/ClassIcons58",1:"data/Bone0_x1",2:"data/ClassIcons57",3:"data/Opal",4:"data/ClassIcons29",5:"data/Quest78",6:"data/Tach0_x1",7:"data/ClassIcons56",8:"data/ClassIcons59",9:"",10:"",11:"etc/Owlb_5"},F=(e,l)=>{let s=l?.accountOptions?.[369]??0,r=Math.floor(s/48),i=t.emperorBonuses.filter((e,t,a)=>a.findIndex(t=>t.name===e.name&&t.index===e.index)===t),u=t.emperorBonuses.reduce((e,t,a)=>{if(e[t.name]||(e[t.name]=0),!(a<s))return e;{let n=Math.floor(s/48);return e[t.name]+=(t?.value??0)*n,a<s%48&&(e[t.name]+=t?.value??0),e}},{});i=i.map(e=>{let t=v(l,48),n=u[e.name]??0,s=(0,o.getArcadeBonus)(l?.arcade?.shop,"Emperor_Bonuses")?.bonus,i=e.name.replace("{",(0,a.commaNotation)(n)).replace("}",(0,a.notateNumber)(1+n/100,"MultiplierInfo")).replace("$",Math.floor((n+4)/(n+100)*1e3)/10),c=`${e.name.substring(0,3)}`.replace("{",(0,a.commaNotation)(e.value)).replace("}",e.value/100).replace("$",Math.floor((e.value+4)/(e.value+100)*1e3)/10);return{bonus:i,totalBonus:Math.floor(n*(1+(t+s)/100)),rawIndex:e.index,icon:D[e.index],value:c,indexes:G(e,r)}});let c=t.emperorBonuses.find((e,t)=>t===s+1),m=Math.round(5*!!(0,n.isJadeBonusUnlocked)(l,"Emperor_Season_Pass")+6*l?.accountOptions?.[382]+5)+1;return{highestEmperorShowdown:s,bossHp:Array.from({length:6},(e,t)=>j(s+t)),bonuses:i,nextLevelBonus:c,dailyAttempts:Math.round(1+l?.accountOptions?.[382]),attempts:Math.round(-1*(l?.accountOptions?.[370]-1)),maxAttempts:m}},G=(e,a)=>{let n=t.emperorBonuses.reduce((t,n,l)=>(n.index===e.index&&t.push(l+48*a),t),[]);if(n.length<5){let l=a+1,s=0;for(;n.length<5&&s<t.emperorBonuses.length;)t.emperorBonuses[s].index===e.index&&n.push(s+48*l),++s===t.emperorBonuses.length&&(s=0,l++)}return n},j=e=>135e13*Math.pow(1.7,e),W=(e,t)=>e?.emperor?.bonuses?.find(({rawIndex:e})=>e===t)?.totalBonus??0},384308,e=>{"use strict";e.s(["getArmorSetBonus",()=>s,"getArmorSmithy",()=>l]);var t=e.i(82748),a=e.i(608580),n=e.i(210270);let l=(e,l,s)=>{let o=s?.accountOptions?.[380],[,...r]=(s?.accountOptions?.[379]??"").toString().split(","),i=s?.accountOptions?.[381],u=t.equipmentSets.map(e=>{let t=e.description.replace("|","_").replace("{",e.bonusValue).replace("}",(0,a.notateNumber)(1+e.bonusValue/100,"MultiplierInfo")),n=r.includes(e?.setName);return{...e,description:t,unlocked:n}}),c=+!!(0,n.isBundlePurchased)(s?.bundles,"bun_i")?.owned,m=2e3<=e.ServerGemsReceived+1500*c||1>Math.round(30-i);return{sets:u,days:i,smithyUnlocked:o,unlockedSets:r,isSmithyUnlocked:m}},s=(e,t)=>e?.armorSmithy?.sets?.find(({setName:e,unlocked:a})=>a&&e===t)?.bonusValue??0},206609,e=>{"use strict";var t=e.i(608580),a=e.i(82748);let n=(e,t)=>+(e?.accountOptions?.[464]>t),l=(e,t,n)=>{let l=e?.accountOptions?.[464]??0,o=parseFloat(a.generalSpelunky[29]?.split(" ")?.[t]??0);return 9===t?1e5*Math.pow(10,l):0===t?1/(1+s(e,4)/100)*(1/(1+s(e,8)/100))*(Math.pow(o,e?.accountOptions?.[Math.round(t+455)])+3*e?.accountOptions?.[Math.round(t+455)]+Math.pow(e?.accountOptions?.[Math.round(t+455)],2.5)):1/(1+s(e,4)/100)*(1/(1+s(e,8)/100))*(n/5*Math.pow(o,e?.accountOptions?.[Math.round(t+455)])+2*e?.accountOptions?.[Math.round(t+455)]+Math.pow(e?.accountOptions?.[Math.round(t+455)],1.5))},s=(e,t)=>999==t?1:a.generalSpelunky[28][t]*e?.accountOptions?.[Math.round(t+455)],o=e=>50+s(e,5),r=e=>(1+s(e,0))*(1+s(e,3)/100)*(1+s(e,7)/100),i=(e,a,{bonus:n,mobs:l,pearlValue:s,blackPearlValue:o})=>{if(!e)return e;let r=e;if(5===a&&o<100)return"Upgrade_this_once_to_add_Pure_Pearls_to_the_Clam's_Drop_Table...";let i=(0,t.notateNumber)(1+n/100,"MultiplierInfo");if((r=r.replace(/\}/g,i)).includes("$")){let e="";e=0===a?""+Math.floor(s):1===a?""+Math.floor(l):2===a||4===a?""+Math.floor(1e4*(1-1/(1+n/100))/100):5===a?""+Math.floor(o):""+Math.floor(n),r=r.replace(/\$/g,e)}return r};e.s(["getClamWork",0,(e,u)=>{var c,m;let d,p,g,h,f,v,B,_,M,b;return c=u,m=(0,t.tryToParse)(e?.Spelunk),d=c?.accountOptions?.[464]??0,p=c?.accountOptions?.[465]??0,g=1e6>l(c,9)?(0,t.commaNotation)(l(c,9)):(0,t.notateNumber)(l(c,9),"Big"),h=1e16*Math.pow(30,d),f=Math.min(25,2+c?.accountOptions?.[456]),v=o(c),B=r(c),_=a.generalSpelunky?.[27].split(" "),M=a.generalSpelunky?.[30].split(" ").map((e,t)=>({name:e,unlocked:n(c,t)})),b=["PEARL_VALUE","CLAM_COMRADES","LUCKY_DAY","MULTI-SCALPING","FRUGALITY","PURE_PEARLS","ENCYSTATION_UP","SHINIER_PEARLS","ANTI_INFLATION"].map((e,t)=>{let a=s(c,t),n=i(_?.[t]??"",t,{bonus:a,mobs:f,pearlValue:B,blackPearlValue:v}),o=20*Math.pow(10+3*d,t-1);return{name:e,description:n,requiredPearls:20*Math.pow(10+3*d,t-1),bonus:a,cost:l(c,t,o),unlocked:t<=p}}),{workerClass:d,promotionChance:.5/(2+d),promotionCost:g,clamHp:h,mobs:f,pearlValue:B,blackPearlValue:v,upgrades:b,ownedPearls:c?.accountOptions?.[454]??0,compensations:M,respawn:60}},"getClamWorkBonus",0,n])},366125,628188,e=>{"use strict";e.s(["getAmberDenominator",()=>V,"getAmberIndex",()=>H,"getLoreBonus",()=>j,"getLoreBossBonus",()=>W,"getOptimizedSpelunkingAmberGainUpgrades",()=>es,"getOptimizedSpelunkingPowerUpgrades",()=>el,"getSpelunking",()=>P,"getSpelunkingBonus",()=>$,"groupUpgradesByColumn",()=>z,"isEtherealBonusUnlocked",()=>ee],366125);var t=e.i(608580),a=e.i(82748),n=e.i(264046),l=e.i(24174),s=e.i(775003),o=e.i(39188),r=e.i(420497),i=e.i(618332),u=e.i(279522),c=e.i(521637),m=e.i(384308),d=e.i(210270),p=e.i(801902),g=e.i(685849),h=e.i(172833),f=e.i(441132),v=e.i(11138);e.s(["getCoralKidUpgBonus",()=>k,"getCoralReef",()=>b,"getDancingCoralBonus",()=>C],628188);var B=e.i(949500),_=e.i(206609),M=e.i(276924);let b=(e,a,n)=>{let l=(0,t.tryToParse)(e?.Spelunk)||{},s=e?.TowerInfo||(0,t.tryToParse)(e?.Tower),o=l?.[13]||[];return S(l,a,o,s?.slice(18)||[],n)},S=(e,t,n,l,s)=>{let o=a.generalSpelunky?.[25]?.split(" ")||[],r=Array.from({length:6},(e,a)=>{let l=t?.accountOptions?.[427+a]||0,r=k(t,a),i=A(o[a]||"",l,a,r,t,n,s);return{index:a,level:l,description:i,cost:y(a,l),bonus:r}}),i=a.generalSpelunky?.[23]?.split(" ")||[],u=["Reef_Coral","Vibrant_Coral","Glowing_Coral","Neon_Coral","Twisted_Coral","6th_Coral","7th_Coral","8th_Coral","9th_Coral"],c=["Generated_Daily_in_Town","Dropped_by_Shellslugs","Dropped_by_Litterfish","Dropped_by_Coralcave_Crab","Dropped_by_Pirate_Pou","Dropped_by_RIPtide","Dropped_by_RIPtide","Dropped_by_RIPtide","Dropped_by_RIPtide"],m=Array.from({length:l?.length||0},(a,n)=>{let s=l?.[n]||0,o=O(i[n]||"",t,n);return{index:n,level:s,coralName:u[n]||"",description:o,dropResource:c[n]||"",cost:x(e,n),bonus:C(t,n,0),tower:t?.towers?.data?.slice(18)?.[n]||""}}).filter((e,t)=>t<6),d=E(t,n);return{coralKidUpgrades:r,dancingCoral:m,reefUpgrades:n?.map((e,n)=>{let l=a.coralReef?.[n],s=l?.name||"";return 0===n?s=s.replace("{",Math.round(d)):4===n&&(s=s.replace("}",Math.ceil(e/4)).replace("{",Math.ceil(3*e))),{index:n,level:e||0,...l,description:s,cost:T(t,n,e||0),bonus:0===n?d:0}})||[],grindTimeDaily:d,unlockedCorals:e?.[4]?.[6],ownedCorals:e?.[4]?.[5],reefDayGains:w(t)}},y=(e,t)=>1===e?1e7*Math.pow(6,e)*Math.pow(1.25,t):1e7*Math.pow(6,e)*Math.pow(1.1,t),k=(e,t)=>{let a=e?.accountOptions||{},n=a?.[427+t]||0;switch(t){case 0:return 10*n;case 1:case 4:return Math.round(2*n);case 2:return n/(25+n)*20;case 3:return Math.round(n);case 5:return n/(40+n)*100;default:return 0}},x=(e,t)=>(a.generalSpelunky?.[22]?.split(" ")?.[t]||0)/(1+(10*e?.[4]?.[7]+Math.pow(1.05,e?.[4]?.[7]))/100),C=(e,t,n=0)=>999===n?a.generalSpelunky?.[24]?.[t]||0:C(e,t,999)*Math.max(0,(e?.spelunking?.rawDancingCoral?.[t]||0)-200),T=(e,t,n)=>{let l=a.coralReef?.[t];return l?(l.x2||0)*Math.pow(l.exponent||1.1,n):0},w=e=>10*((1+((0,d.isCompanionBonusActive)(e,40)?e?.companions?.list?.at(40)?.bonus:0)/100)*(1+.3*((0,d.getEventShopBonus)(e,25)||0))*(1+20*(e?.gemShopPurchases?.find((e,t)=>41===t)||0)/100)*(1+(k(e,5)+C(e,0,0)+20*(0,_.getClamWorkBonus)(e,5)+((0,d.getKillRoyShopBonus)(e,6)||0)+((0,g.getStampsBonusByEffect)(e,"corale")||0)+((0,h.getVialsBonusByEffect)(e?.alchemy?.vials,null,"7corale")||0)+((0,v.getLegendTalentBonus)(e,0)||0)+((0,u.getArcadeBonus)(e?.arcade?.shop,"Coral_Reef_Gains")?.bonus||0)+20*((0,B.getJadeEmporiumBonus)(e,"Coral_Reef_Bonus")||0)+Math.min(2*((0,i.getCardBonusByEffect)(e?.cards,"Coral_Reef_Gains_(Passive)")||1),15)+(0,M.getStatueBonus)(e,31))/100)),E=(e,t)=>Math.floor((10*t?.[0]+15*(0,_.getClamWorkBonus)(e,6))*(1+(0,f.getMeritocracyBonus)(e,24)/100)),A=(e,a,n,l,s,o,r)=>{if(!e)return"";let i=e,u=Math.round(10*l)/10;i=i.replace("{",""+u);let c=(0,t.notateNumber)(1+l/100,"MultiplierInfo");if(i=i.replace("}",c),3===n){let e=(0,d.getHighestCharacterSkill)(r,"divinity");i=i.replace("$",""+e)}else if(2===n){let e=Math.pow(1+k(s,2)/100,Math.max(0,(s?.divinity?.unlockedDeities||0)-10)),a=(0,t.notateNumber)(e,"MultiplierInfo");i=i.replace("$",a)}else if(4===n){let e=Array.from({length:6},(e,t)=>o?.[t]||0).reduce((e,t)=>e+t,0);i=i.replace("$",(0,t.commaNotation)(e*l))}let m=k(s,3),p=(0,d.getHighestCharacterSkill)(r,"divinity"),g=(0,t.notateNumber)(1+(1+m/100)*p/100,"MultiplierInfo");return i.replace("^",g)},O=(e,a,n)=>{if(!e)return"";let l=e,s=C(a,n,999),o=Math.floor(10*s)/10;l=l.replace("{",""+o);let r=(0,t.notateNumber)(1+s/100,"MultiplierInfo");return l.replace("}",r)},P=(e,a,n)=>L(a,n,(0,t.tryToParse)(e?.Spelunk)||[],e?.TowerInfo||(0,t.tryToParse)(e?.Tower)),L=(e,n,s,o)=>{let r=s?.[0]?.reduce((e,t)=>e+ +(t>0),0),i=s?.[1],u=i?.reduce((e,t)=>e+t,0),c=s?.[6]??0,m=s?.[3],p=c?.length??0,g=a.spelunkingRocks?.flat().length??0,h=a.spelunkingRocks?.map((t,a)=>t.map((a,n)=>{let l=D(e,t,a),s=a?.x4===1;return{...a,index:n,hp:G(a),powerReq:l,powerReqFormatted:F(l,s),acquired:!!(c||[])?.find(e=>e===a?.name)}})),f=n?.reduce((e,{skillsInfo:t})=>(e+t?.spelunking?.level)??0,0)??0,v=n?.reduce((e,{skillsInfo:t})=>Math.max(e,t?.spelunking?.level??0),0)??0,[B,_,b,S,y]=s?.[4]||[],k=s?.[2]??[],x=k?.reduce((e,a)=>e+Math.ceil((0,t.lavaLog)(a)),0)??0,C=s?.[5],T=C?.reduce((e,t)=>e+Math.max(0,t),0),w=s?.[8],E=s?.[17],A=o?.slice(18),O=s?.[13],P=O?.[2],L=s?.[44]?.reduce((e,t)=>e+t,0)??0,j=a.spelunkingUpgrades.map((e,t)=>{let a=C?.[t]||0;return{...e,level:a,originalIndex:t}}),W=a.spelunkingChapters?.map((a,n)=>a.map((a,s)=>{let o=w?.[4*n+s]||0;(0,l.isArtifactAcquired)(e?.sailing?.artifacts,"Pointagon")?.bonus;let r=(a?.x4===1?1+e?.sailing?.artifacts?.[35]?.bonus/100:1)*(0,t.growth)(a?.func,o,a?.x1,a?.x2,!1)||0;return{...a,level:o,bonus:r,requiredPages:a?.x5}})),V={...e,spelunking:{...e?.spelunking,chapters:W}},H=j.map(e=>(e?.x4??0)*Math.max(0,e?.level??0)),z=U(e),ee=q(V,z),et=K(e,j),ea=5+3*(0,d.isMasteryBonusUnlocked)(e?.rift,e?.totalSkillsLevels?.spelunking?.rank,4),en=Q(V),el=$(e,19),es=N(e,s),eo=R(e,s),er=4e-5*(1+$(e,43,0)/100)*(1+(0,M.getZenithBonus)(e,6,0)/100);j=j.map((t,a)=>{let l=H?.[a]??0,s=X(H,j,a,{totalCharactersSpelunkingLevels:f,totalBestCaveLevels:u,discoveriesCount:p,biggestHaul:x,totalGrandDiscoveries:L},!1),o=Z(t.description,a,{baseBonus:l,bonus:s,totalBestCaveLevels:u,discoveriesCount:p,biggestHaul:x,totalCharactersSpelunkingLevels:f,exaltedFragmentFound:S,prismaFragmentFound:y,prismaDropChance:es,exaltedDropChance:eo,staminaRegenRate:en.value,overstimRate:30+$(e,6),maxElixirDuplicates:H?.[25],taxRate:el,amberGain:ee.value,totalGrandDiscoveries:L,grandDiscoveriesChance:er}),r=J(e,n,t);return{...t,description:o,baseBonus:l,bonus:s,cost:r}});let ei=a.generalSpelunky[14]?.split(" ").map((e,t)=>{let n=h?.[t]?.slice(0,-1),l=n?.reduce((e,t)=>e+ +!!t?.acquired,0);return{description:e,index:t,maxDiscoveries:n?.length>0?n?.length:0,discoveriesCount:l,discoveries:n,defeated:t<=r,biggestHaul:k?.[t]??0,bestCaveLevel:i?.[t]??0,foundAt:a.generalSpelunky?.[7]?.split(" ")?.[t]??0}}).filter(e=>e?.description&&isNaN(Number(e.description))),eu=j?.[23]?.baseBonus,ec=1+j?.[24]?.baseBonus,em=j?.[25]?.baseBonus,ed=s?.[7]||[],ep=a.generalSpelunky[16].split(" ").map((e,t)=>{let n=ed.filter(e=>e===t).length;return{description:e,quantity:E?.[t]||0,bonus:a.generalSpelunky?.[17]?.split(" ")?.[t]||0,acquired:t<=eu,isInUse:n>0,timesUsed:n}}),eg=(s||[])?.slice(20,41)||[],eh=I(e,n,j,m,en.value),ef=Y(e,2,2),ev=$(e,6),eB=eh.filter(({characterStamina:e,currentStamina:t})=>t>=e).length,e_=ev>=1&&eB>0?eB*en.value*(1+ef/100):0;return{sneakingSlots:s?.[14],totalGrandDiscoveries:L,grandDiscoveriesChance:er,exaltedFragmentFound:S,prismaFragmentFound:y,highestSpelunkingLevelCharacter:v,totalUpgradeLevels:T,coralReefLevels:O,biggestHaul:x,biggestHauls:k,bestCaveLevels:i,cavesUnlocked:r,totalBestCaveLevels:u,totalCharactersSpelunkingLevels:f,discoveriesCount:p,maxDiscoveries:g,discoveries:h,upgrades:j,chapters:W,power:et,rawDancingCoral:A,rawLoreThreshold:P,elixirs:ep,currentAmber:B,overstimLevel:_,overstimCurrent:b??0,overstimReq:100*Math.pow(1.3,_),overstimFillRate:ef,overstimRate:e_,charactersAtMaxStamina:eB,loreBonuses:z,amberGain:ee,maxDailyPageReads:ea,staminaRegenRate:en,loreBosses:ei,ownedSlots:ec,ownedElixirs:eu,maxElixirDuplicates:em,talentSpelunkArrays:eg,charactersStamina:eh}},I=(e,t,a,n,l)=>{let s={...e,spelunking:{...e?.spelunking,upgrades:a}};return t?.map(({skillsInfo:t},a)=>{let o=n?.[a]??0,r=Math.max(0,t?.spelunking?.level??0),i=(0,d.isMasteryBonusUnlocked)(e?.rift,e?.totalSkillsLevels?.spelunking?.rank,3),u=$(s,4),c=$(s,5),m=Math.floor((14+r+u*Math.floor(r/10)+Y(s,2,0)+15*i+c+Y(s,3,0))*(1+(0,d.getAdviceFishBonus)(s,1)/100)),p=Math.max(0,m-(o>m?m:o));return{characterStamina:m,currentStamina:o,timeToFull:l>0?p/l:0}})},N=(e,t)=>1/(1/(100*Math.pow(1.5,t?.[4]?.[4]??0))*(1+$(e,28)/100)),R=(e,t)=>1/(1/(60*Math.pow(8,t?.[4]?.[3]??0))*(1+$(e,27)/100)),D=(e,t,a,n=0)=>{let l=e?.accountOptions?.[478]??0,s=t?.[0];if(n>=3&&l<10)return 1e8;let o=s?.x7??0,r=a?.x1??0;return a?.x4!==1?100*o*r:100*o*r*Math.pow(a?.x5??0,Math.round(Math.max(0,n-(a?.x6??0))))},F=(e,a=!1)=>{let n=e>9999999?(0,t.notateNumber)(e,"Big"):(0,t.commaNotation)(e);return a&&(n+="+"),n},G=e=>{let t=e?.x2??0;return e?.x4!==1?Math.floor(t):Math.floor(t+((e?.x5??0)-1)*Math.max(0,0-(e?.x6??0)))},j=(e,t)=>e?.spelunking?.loreBonuses?.[t]?.bonus??0,W=(e,t)=>{let a=e?.spelunking?.loreBonuses?.[t];return a?a?.bonus??0:0},U=e=>{let t=a.generalSpelunky[20]?.split(" "),n=a.generalSpelunky[21]?.split(" "),l=e?.spelunking?.rawLoreThreshold;return t?.map((t,a)=>{let s=0;if(l>a){let t=n?.[a]?.split("|"),l=parseFloat(t[0]),o=parseFloat(t[1]),r=(0,c.getGrimoireBonus)(e?.grimoire?.upgrades,17),i=(0,m.getArmorSetBonus)(e,"TROLL_SET"),u=Math.pow(Math.floor(Math.max(0,(e?.tome?.totalPoints??0)-o)/100),.7);s=(1+(r+i)/100)*l*Math.max(0,u/(25+u))}return{name:t,bonus:s,index:a}})},q=(e,t)=>{let a=(0,u.getArcadeBonus)(e?.arcade?.shop,"Spelunking_Amber")?.bonus,l=e?.farming?.cropDepot?.spelunky?.value??0,o=(0,p.getLampBonus)({holesObject:e?.hole?.holesObject,t:3,i:0,account:e}),c=(0,g.getStampsBonusByEffect)(e,"Spelunking_Amber_gain"),m=(0,h.getVialsBonusByEffect)(e?.alchemy?.vials,null,"7amber"),f=(0,s.getMealsBonusByEffectOrStat)(e,null,"SplkAmb"),v=C(e,2,0),B=(0,i.getCardBonusByEffect)(e?.cards,"Spelunk_Amber_(Passive)"),_=(0,n.getWinnerBonus)(e,"<x Amber Gain"),M=$(e,7,1),b=$(e,20),S=$(e,41),y=$(e,51),k=$(e,6),x=(30+$(e,6))*e?.spelunking?.overstimLevel,T=(0,d.isMasteryBonusUnlocked)(e?.rift,e?.totalSkillsLevels?.spelunking?.rank,6),w=$(e,44),E=$(e,8),A=j({...e,spelunking:{...e?.spelunking,loreBonuses:t}},4),O=Y(e,1,3),P=(0,r.getExoticMarketBonus)(e,43),L=$(e,9),I=$(e,10),N=$(e,21);return{value:(1+a/100)*(1+(l+(o+c+m+f))/100)*(1+v/100)*(1+B/100)*(1+_/100)*(1+(M+b+S+y)/100)*(1+k*x/100)*(1+50*T/100)*(1+w/100)*(1+E/100)*(1+A/100)*Math.max(1,O)*(1+P/100)*(1+L/100)*(1+I/100)*(1+N/150),breakdown:[{name:"Arcade",value:a/100},{name:"Crop Depot",value:l/100},{name:"Lamp",value:o/100},{name:"Stamp",value:c/100},{name:"Vial",value:m/100},{name:"Meal",value:f/100},{name:"Dancing Coral",value:v/100},{name:"Card",value:B/100},{name:"Winner",value:_/100},{name:"Amber on the Rocks",value:M/100},{name:"Deep Pockets",value:b/100},{name:"The Green Amber Clause of the Contract",value:S/100},{name:"The Red Amber Fine Print of the Contract",value:y/100},{name:"Overstim Meter",value:k/100},{name:"Overstim",value:x/100},{name:"Rift Bonus",value:50*T/100},{name:"Amber on the Brain",value:E},{name:"Lore",value:A/100},{name:"Chapter",value:O},{name:"Exotic",value:P/100},{name:"Amber from the Depths",value:L/100},{name:"Amber from 'Em All",value:I/100},{name:"Deep Pockets",value:N/150}]}},V=e=>{let t=$(e,51),a=$(e,41),n=$(e,20);return t>=1?1e21:a>=1?1e9:n>=1?1e3:1},H=e=>{let t=V(e);return 1e21===t?3:1e6===t?2:+(1e3===t)},$=(e,t,a)=>{let n=e?.spelunking?.upgrades?.[t];return n?a?n?.baseBonus:n?.bonus:0},Y=(e,t,a)=>{let n=e?.spelunking?.chapters?.[t]?.[a];return n?n?.bonus:0},K=e=>{let t=1+$(e,0),a=(0,n.getWinnerBonus)(e,"<x Spelunk POW"),u=Math.max(1,Math.pow(2,e?.gemShopPurchases?.find((e,t)=>43===t)??0)),c=Math.max(1,Y(e,1,2)),m=$(e,1),d=C(e,1,0),p=e?.farming?.cropDepot?.spelunky?.value??0,g=(0,l.getSlabBonus)(e,6),h=e?.msaTotalizer?.spelunkingPow?.value??0,f=(0,s.getMealsBonusByEffectOrStat)(e,null,"SplkPOW"),v=$(e,2),B=$(e,3),_=(0,o.getPaletteBonus)(e,13),M=$(e,46),b=(0,r.getExoticMarketBonus)(e,42),S=(0,i.getCardBonusByEffect)(e?.cards,"Spelunk_POW_(Passive)"),y=$(e,14),k=$(e,15),x=$(e,16),T=$(e,17);return{value:t*((1+a/100)*u*c*(1+m/100)*(1+d/100)*(1+(p+g+h+f)/100)*(1+v/100)*(1+B/100)*(1+_/100)*(1+M/100)*(1+(b+S)/100)*(1+(y+k+x+T)/100)),breakdown:[{name:"Learning the POW",value:t},{name:"Winner",value:a},{name:"Gem Item",value:u},{name:"Chapter",value:c},{name:"Discovering the POW",value:m},{name:"Dancing Coral",value:d},{name:"Crop Depot",value:p},{name:"Sailing",value:g},{name:"Gaming",value:h},{name:"Meal",value:f},{name:"Depthing the POW",value:v},{name:"Hauling the POW",value:B},{name:"Palette",value:_},{name:"Grandiose_POW",value:M},{name:"Exotic Market",value:b},{name:"Card",value:S},{name:"The Reliable Mace",value:y},{name:"The Sturdy Mallet",value:k},{name:"The Risque Flail",value:x},{name:"The Unaffiliated Warhammer",value:T}]}},J=(e,t,a)=>{var n=1/(1+(0,s.getMealsBonusByEffectOrStat)(e,null,"SplkUpg")*Math.max(1,Math.min(2,1+Math.floor((t?.[0]?.skillsInfo?.spelunking?.level??0)/50)))/100)*((10+a?.level)??0)*a?.x1*Math.pow(9.5,a?.x7)*Math.pow(6.3,a?.x8);if(a?.level!==-1)return .25*n*Math.pow(a?.x2,a?.level)+(Math.pow(a?.level,2)+5*a?.level)},X=(e,t=[],a,{totalCharactersSpelunkingLevels:n=0,totalBestCaveLevels:l=0,discoveriesCount:s=0,biggestHaul:o=0,totalGrandDiscoveries:r=0}={},i=!1)=>{let u,c,m;if(i){let e=t[a];return(e?.x4??0)*Math.max(0,e?.level??0)}let d=(u=1+5*s/100,c=1+l/100,m=1+3*o/100,e.map((e,t)=>{switch(t){case 0:return e*n;case 8:return e*(1+n/100);case 1:case 10:return e*u;case 2:return e*(2+l/100);case 9:return e*c;case 3:return e*m;case 7:{let t=e??0;return 15+t/(250+t)*45}case 19:return Math.max(10,50-(e??0));case 25:return 1+(e??0);case 38:return 20+(e??0);case 44:case 45:case 46:return e*r;default:return e}}));return void 0!==a?d[a]:d},z=e=>{let t={};return e.forEach(e=>{let a=e.x7;t[a]||(t[a]=[]),t[a].push(e)}),Object.keys(t).forEach(e=>{t[e].sort((e,t)=>e.x8-t.x8)}),t},Q=e=>{let t=(0,f.getMeritocracyBonus)(e,17),a=(0,v.getLegendTalentBonus)(e,30),n=$(e,5),l=(0,h.getBubbleBonus)(e,"FASTER_NRG",!1),s=Y(e,2,1),o=(0,i.getCardBonusByEffect)(e?.cards,"Stamina_Regen_(Passive)"),r=(0,d.isMasteryBonusUnlocked)(e?.rift,e?.totalSkillsLevels?.spelunking?.rank,5);return{value:5*(1+(0,f.getMeritocracyBonus)(e,17)/100)*(1+a/100)*(1+(n+l+(s+(10*r+o)))/100),breakdown:[{name:"Base Rate",value:5},{name:"Meritoracy",value:t},{name:"Legend",value:a},{name:"Stamina Resurgence",value:n},{name:"Bubble",value:l},{name:"Chapter",value:s},{name:"Rift",value:r/100},{name:"Card",value:o/100}]}},Z=(e,a,n={})=>{let l=e,s=n.bonus;l=l.replace(/\{/g,(0,t.commaNotation)(n.baseBonus));let o=(0,t.notateNumber)(1+s/100,"MultiplierInfo").replace(/#/g,"");switch(l=l.replace(/\}/g,o),a){case 1:case 10:let r=n.discoveriesCount;l=l.replace(/\^/g,(0,t.commaNotation)(r||0));break;case 2:case 9:let i=n.totalBestCaveLevels;l=l.replace(/\^/g,(0,t.commaNotation)(i||0));break;case 3:let u=n.biggestHaul;l=l.replace(/\^/g,(0,t.commaNotation)(u||0));break;case 8:let c=n.totalCharactersSpelunkingLevels;l=l.replace(/\^/g,(0,t.commaNotation)(c||0));break;case 5:let m=n?.staminaRegenRate;null!=m&&(l=l.replace(/\$/g,""+Math.round(10*m)/10));break;case 6:let d=n?.overstimRate;null!=d&&(l=l.replace(/\$/g,""+Math.round(d)));break;case 7:let p=Math.floor(10*n.baseBonus)/10;l=l.replace(/~/g,""+p);let g=n?.amberGain;null!=g&&(l=g>1e9?l.replace(/\$/g,(0,t.notateNumber)(g,"Big")):g>100?l.replace(/\$/g,(0,t.commaNotation)(g)):l.replace(/\$/g,(0,t.notateNumber)(g,"MultiplierInfo").replace(/#/g,"")));break;case 19:let h=n?.taxRate;null!=h&&(l=l.replace(/\$/g,""+Math.round(h)));break;case 21:let f=1+7*n.bonus/100;l=l.replace(/\$/g,(0,t.notateNumber)(f,"MultiplierInfo").replace(/#/g,""));break;case 25:let v=n?.maxElixirDuplicates;null!=v&&(l=l.replace(/\$/g,""+Math.round(v)));break;case 27:l=(l=l.replace(/\$/g,(0,t.commaNotation)(n?.exaltedDropChance))).replace(/#/g,""+Math.round(n?.exaltedFragmentFound));break;case 28:l=(l=l.replace(/\$/g,(0,t.commaNotation)(n?.prismaDropChance))).replace(/#/g,""+Math.round(n?.prismaFragmentFound));break;case 40:let B=n?.toolName,_=n?.toolDamage;null!=B&&(l=l.replace(/\$/g,B)),null!=_&&(l=l.replace(/#/g,""+_));break;case 43:l=l.replace(/\$/g,(0,t.commaNotation)(1/n?.grandDiscoveriesChance))}return l.replace(/\$/g,(0,t.commaNotation)(s||0))},ee=e=>e?.spelunking?.loreBosses?.[6]?.defeated,et=[0,1,2,3,14,15,16,17],ea=[6,7,8,9,10,20,21,41,44,51],en=(e,t,a,n,{upgradeIndices:l,getCurrentMetric:s,metricFieldName:o})=>{let{onlyAffordable:r=!1,characters:i=[]}=n;if(!t?.spelunking?.upgrades)return[];let u=V(t),c=t.spelunking,m=i?.reduce((e,{skillsInfo:t})=>e+(t?.spelunking?.level??0),0)??0,d=c?.totalBestCaveLevels??0,p=c?.discoveriesCount??0,g=c?.biggestHaul??0,h=c?.totalGrandDiscoveries??0,f=JSON.parse(JSON.stringify(t.spelunking.upgrades)),v=t.spelunking.currentAmber||0;f=f.map((e,t)=>({...e,originalIndex:void 0!==e.originalIndex?e.originalIndex:t,index:void 0!==e.index?e.index:t}));let B=e=>{let t=e.map(e=>(e?.x4??0)*Math.max(0,e?.level??0));return e.map((a,n)=>{let l=t[n]??0,s=X(t,e,n,{totalCharactersSpelunkingLevels:m,totalBestCaveLevels:d,discoveriesCount:p,biggestHaul:g,totalGrandDiscoveries:h},!1);return{...a,baseBonus:l,bonus:s}})},_=s(f=B(f)),M=[];for(let e=0;e<a;e++){let e=null,a=-1/0,n=0,c=0,m=0,d=f.filter(e=>{let a=Number(void 0!==e.originalIndex?e.originalIndex:e.index);if(isNaN(a)||!l.includes(a)||-1===e.level)return!1;let n=e.x3;if(null!=n&&e.level>=n)return!1;if(r)try{let a=J(t,i,e);if(isNaN(a)||v<a)return!1}catch(t){return console.warn("Error calculating cost for upgrade:",e.name,t),!1}return void 0!==e.cost&&null!==e.cost});if(0===d.length)break;for(let l of d){let o=JSON.parse(JSON.stringify(f)),r=void 0!==l.originalIndex?l.originalIndex:l.index,d=o.findIndex(e=>(void 0!==e.originalIndex?e.originalIndex:e.index)===r);if(-1===d)continue;o[d]={...o[d],level:o[d].level+1};let p=s(o)-_,g=_>0?p/_*100:0,h=J(t,i,l);if(!h||h<=0||isNaN(h)||!isFinite(h)||g<=0)continue;let v=h/u,B=v>0?g/v:0;!isNaN(B)&&isFinite(B)&&(null===e||B>a)&&(e=l,a=B,n=p,c=g,m=h)}if(e&&!isNaN(a)&&isFinite(a)&&a>-1/0){let l=void 0!==e.originalIndex?e.originalIndex:e.index,r=f.findIndex(e=>(void 0!==e.originalIndex?e.originalIndex:e.index)===l);f[r]={...f[r],level:f[r].level+1},v-=m,_=s(f=B(f)),f=f.map(e=>{let a=J(t,i,e);return{...e,cost:a}});let u=void 0!==e.x3?e.x3:e.x4,d={...e,level:e.level+1,x3:u,cost:m,percentChange:c,efficiency:a};d[o]=n,M.push(d)}else break}return M},el=(e,t,a=100,n={})=>en(e,t,a,n,{upgradeIndices:et,getCurrentMetric:e=>{let a=e.map(e=>(e?.x4??0)*Math.max(0,e?.level??0)),l=t.spelunking,s=n.characters||[],o=s?.reduce((e,{skillsInfo:t})=>e+(t?.spelunking?.level??0),0)??0,r=l?.totalBestCaveLevels??0,i=l?.discoveriesCount??0,u=l?.biggestHaul??0,c=l?.totalGrandDiscoveries??0,m=e.map((t,n)=>{let l=a[n]??0,s=X(a,e,n,{totalCharactersSpelunkingLevels:o,totalBestCaveLevels:r,discoveriesCount:i,biggestHaul:u,totalGrandDiscoveries:c},!1);return{...t,baseBonus:l,bonus:s}});return K({...t,spelunking:{...t.spelunking,upgrades:m}}).value},metricFieldName:"powerChange"}),es=(e,t,a=100,n={})=>en(e,t,a,n,{upgradeIndices:ea,getCurrentMetric:e=>{let a,l,s,o,r,i,u,c,m,d=(a=e.map(e=>(e?.x4??0)*Math.max(0,e?.level??0)),l=t.spelunking,s=n.characters||[],o=s?.reduce((e,{skillsInfo:t})=>e+(t?.spelunking?.level??0),0)??0,r=l?.totalBestCaveLevels??0,i=l?.discoveriesCount??0,u=l?.biggestHaul??0,c=l?.totalGrandDiscoveries??0,m=e.map((t,n)=>{let l=a[n]??0,s=X(a,e,n,{totalCharactersSpelunkingLevels:o,totalBestCaveLevels:r,discoveriesCount:i,biggestHaul:u,totalGrandDiscoveries:c},!1);return{...t,baseBonus:l,bonus:s}}),{...t,spelunking:{...t.spelunking,upgrades:m}}),p=U(d);return q(d,p).value},metricFieldName:"amberGainChange"})},39188,e=>{"use strict";e.s(["calculateSnailEncouragementForSuccessChance",()=>W,"getBitsMulti",()=>k,"getGaming",()=>S,"getPaletteBonus",()=>q,"isSuperbitUnlocked",()=>j]);var t=e.i(82748),a=e.i(608580),n=e.i(267350),l=e.i(210270),s=e.i(470242),o=e.i(441132),r=e.i(24174),i=e.i(734002),u=e.i(775003),c=e.i(172833),m=e.i(173024),d=e.i(161866),p=e.i(264046),g=e.i(801902),h=e.i(669203),f=e.i(11138),v=e.i(420497),B=e.i(949500),_=e.i(279522),M=e.i(366125);let{tryToParse:b}=e.r(608580),S=(e,t,a,n)=>{let l=b(e?.Gaming)||e?.Gaming,s=b(e?.GamingSprout)||e?.GamingSprout,o=b(e?.Spelunk)||e?.Spelunk;return l&&s&&o?y(l,s,o,t,a,n):null},y=(e,n,l,r,i,u)=>{let c=[];for(let t=0;t<9;t++){let n=0;for(let l=a.number2letter.indexOf("hhhhhhhhh".charAt(t));n<l;n++)c.push({rawName:"GamingPlant"+a.number2letter[t+1]+n+".png",unlocked:!!e?.[11]&&n<a.number2letter.indexOf(e?.[11]?.charAt(t))})}let[,m,d]=n?.[32],p=e?.[13],g=n.slice(0,25).reduce((e,t)=>t?.[1]>0?e+1:e,0),h=e?.[0],f=e?.[10],v=Math.max(1+Math.pow(f,.5)/100,1),B=e?.[8],_=n?.[28]?.[2],M=n?.[28]?.[1],b=n?.[26]?.[1],S=O(b),[y,k,D]=n?.[27],j=P(k,y),W=A("nugget"),q=A("acorn",y),H=G(n,i),$=n?.slice(25,25+t.gamingImports?.length+1),Y=i?.gemShopPurchases?.find((e,t)=>131===t)??0,K=L(i?.gemShopPurchases?.find((e,t)=>131===t)??0),J=t.gamingImports?.map((e,t)=>{let a=I(t,e?.minorBonus,$);return{...e,level:$?.[t]?.[0],rawName:3===t?`GamingItem${t}_0`:0===t&&Y>0?`GamingItem${t}b`:`GamingItem${t}`,minorBonus:a?.description,bonus:a?.value,cost:N(t,$),acquired:$?.[t]?.[0]>0,...0===t?{saveSprinklerChance:100*K}:{},...1===t?{maxNuggetValue:E(a?.result,(0,s.getEquinoxBonus)(i?.equinox?.upgrades,"Metal_Detector"),i?.accountOptions?.[192])}:{},...2===t?{acornShop:H}:{}}}).filter((e,t)=>t<8),X=e?.slice(1,t.gamingUpgrades?.length+1)?.map((a,l)=>{let s=R(l,e,n,r,i,H,J);return{...t.gamingUpgrades?.[l],level:a,bonus:s,description:t.gamingUpgrades?.[l]?.description.replace(/{/,s),cost:F(l,e,u)}}),z=w(n?.[25]?.[1],J),Q=e?.[12]||[],Z=t.superbitsUpgrades?.map((e,t)=>({...e,originalIndex:t,unlocked:Q?.indexOf(a.number2letter?.[t])!==-1,cost:e?.x1*Math.pow(10,e?.x2),isDuper:t>=24,...T(r,i,t)})),ee=e?.[5],et=e?.[4],ea=e?.[7],en=C(),el=(25+(10*(ea+1)+Math.pow(ea+1,2)))*Math.pow(1.3,ea),es=x(et,ee,1+(0,o.getVoteBonus)(i,21)/100),eo=[100,200,300,400,500].map(e=>({value:e,chance:x(et,e)})),{palette:er,paletteFinalBonus:ei}=U(i,l),eu=V(ei,i,r);return{palette:er,paletteFinalBonus:ei,paletteLuck:eu,bestNugget:B,bits:h,envelopes:p,snailLevel:m,snailEncouragement:d,squirrelMulti:D,elegantShellRank:_,fertilizerUpgrades:X,availableSprouts:g,availableDrops:z,sproutsCapacity:X?.[2]?.bonus,imports:J,lastShovelClicked:b,goldNuggets:S,lastAcornClicked:k,acorns:j,nuggetsBreakpoints:W,acornsBreakpoints:q,superbitsUpgrades:Z,mutations:en,unlockedMutations:et,mutationCost:el,dna:ee,newMutationChance:es,mutationChanceBreakpoints:eo,logBook:c,poingHighscore:f,poingMulti:v,totalPlantsPicked:M}},k=(e,t)=>{let a=(0,r.isArtifactAcquired)(e?.sailing?.artifacts,"Gummy_Orb")?.bonus??0,n=(0,r.isArtifactAcquired)(e?.sailing?.artifacts,"Weatherbook")?.bonus??0,s=Math.pow(2,Math.max(0,Math.min(25,e?.gaming?.snailLevel))),o=1+8*e?.gaming?.squirrelMulti/(250+e?.gaming?.squirrelMulti),f=e?.gaming?.imports?.[3]?.bonus,v=(0,u.getMealsBonusByEffectOrStat)(e,null,"GamingBits"),B=(0,c.getVialsBonusByStat)(e?.alchemy?.vials,"GameBits"),_=(0,m.getHighestTalentByClass)(t,m.CLASSES.Divine_Knight,"BITTY_LITTY")??0,M=(0,l.getHighestCharacterSkill)(t,"gaming"),b=(0,p.getWinnerBonus)(e,"<x Gaming Bits"),S=(0,g.getLampBonus)({holesObject:e?.hole?.holesObject,t:1,i:1,account:e}),y=(0,h.getEmperorBonus)(e,7),k=(0,l.isMasteryBonusUnlocked)(e?.rift,e?.totalSkillsLevels?.gaming?.rank,1)||0,x=(0,c.getBubbleBonus)(e,"BIT_BY_BIT",!1),C=e?.gaming?.logBook?.reduce((e,{unlocked:t})=>e+ +!!t,0),T=Math.max(1,Math.pow(1.08,C)+x*C/100),w=[{title:"Multiplicative"},{name:"Gummy Orb Artifact",value:a/100},{name:"Weatherbook Artifact",value:n/100},{name:"Monument",value:(0,i.getMonumentBonus)({holesObject:e?.hole?.holesObject,t:0,i:4})/100},{name:"Skill mastery",value:15*k/100},{name:"MSA Bonus",value:e?.msaTotalizer?.bit?.value/100},{name:"Snail",value:s},{name:"Acorn",value:o},{name:"Nugget",value:e?.gaming?.bestNugget},{name:"Elegant Shell",value:e?.gaming?.elegantShellRank*f/100},{name:"Logbook",value:T},{name:"Meal",value:v/100},{name:"Vial",value:B/100},{name:"Bitty Litty Talent",value:_*M/100},{name:"Achievements",value:1+((0,d.getAchievementStatus)(e?.achievements,296)+(0,d.getAchievementStatus)(e?.achievements,307))/20},{name:"Poing",value:Math.max(1,Math.min(25,e?.gaming?.poingMulti))},{name:"Summoning",value:b/100},{name:"Lamp",value:S/100},{name:"Emperor",value:y/100}];return{value:(1+a/100)*(1+n/100)*(1+(0,i.getMonumentBonus)({holesObject:e?.hole?.holesObject,t:0,i:4})/100)*(1+15*k/100)*(1+e?.msaTotalizer?.bit?.value/100)*Math.max(1,s)*Math.max(1,o)*Math.max(1,e?.gaming?.bestNugget)*(1+e?.gaming?.elegantShellRank*f/100)*Math.max(1,T)*(1+(v+B)/100)*(1+_*M/100)*Math.max(1,Math.min(25,e?.gaming?.poingMulti))*(1+((0,d.getAchievementStatus)(e?.achievements,296)+(0,d.getAchievementStatus)(e?.achievements,307))/20)*(1+b/100)*(1+S/100)*(1+y/100),breakdown:w,expression:`(1 + gummyOrbArtifactBonus / 100)
  * (1 + weatherbookArtifactBonus / 100)
  * (1 + monumentBonus / 100)
  * (1 + (15 * skillMastery) / 100)
  * (1 + msaBitBonus / 100)
  * Math.max(1, snailBonus)
  * Math.max(1, acornBonus)
  * Math.max(1, bestNugget)
  * (1 + (account?.gaming?.elegantShellRank * elegantShellBonus) / 100)
  * Math.max(1, logBookBitBonus)
  * (1 + (mealBonus + vialBonus) / 100)
  * (1 + (bittyLittlyTalentBonus * highestGaming) / 100)
  * Math.max(1, Math.min(25, account?.gaming?.poingMulti))
  * (1 + (achievement1 + achievement1) / 20)
  * (1 + winBonus / 100) *
  (1 + lampBonus / 100) *
  (1 + emperorBonus / 100)`}},x=(e,t,a=1)=>Math.floor(1e3*(0===e?Math.min(.8,7*t/(100+t)*a):Math.min(.99,42*t/(100+t)*Math.pow(.31,e)*a)))/10,C=()=>{let e=t.randomList2?.[0]?.split(" ");return["FunGi","Bonsai","Cactus","Blossom","Voraci","Berri Bush","EverGreen","Chemical"].map((t,a)=>({name:t,index:a,description:e?.[a]?.replace(//g,"bits")}))},T=(e,t,a)=>{let n,s,o;if(0===a)s=Math.pow(1.03,n=t?.achievements?.filter(({completed:e})=>e)?.length??0);else if(3===a||11===a||16===a)n=Math.floor(t?.towers?.totalWaves/10),o=`Total Bonus: ${n}% (${t?.towers?.totalWaves} waves)`;else if(13===a)n=13*Math.floor(t?.towers?.totalWaves/10),o=`Total Bonus: ${n}% (${t?.towers?.totalWaves} waves)`;else if(7===a)n=Math.floor(t?.towers?.totalWaves/10),o=`Total Bonus: ${n}% (${t?.towers?.totalWaves} waves)`;else if(12===a)s=Math.floor((0,l.getHighestCharacterSkill)(e,"gaming"));else if(20===a)n=50*Math.floor(t?.towers?.totalWaves/10),o=`Total Bonus: ${n}% (${t?.towers?.totalWaves} waves)`;else if(27===a)n=2.5*Math.max(0,Math.floor((t?.towers?.totalWaves-300)/10)),o=`Total Bonus: ${n}% (${t?.towers?.totalWaves} waves)`;else if(24===a){let e=t?.spelunking?.discoveriesCount??0;s=Math.pow(1.01,e),o=`${e} discoveries`}else if(26===a){let e=t?.spelunking?.discoveriesCount??0;s=Math.pow(1.02,e),o=`${e} discoveries`}else if(28===a){let e=t?.gaming?.snailLevel??0;s=Math.round(20*Math.max(0,e-25)),o=`${e} snail level`}else if(32===a){let e=t?.spelunking?.discoveriesCount??0;s=Math.pow(1.05,e),o=`${e} discoveries`}else if(38===a)s=t?.gaming?.paletteFinalBonus,o=`Palette Lucky +${t?.gaming?.paletteFinalBonus?.toFixed(2)}%`;else if(42===a){let t=(0,l.getHighestCharacterSkill)(e,"sneaking");s=Math.round(t),o=`${t} sneaking level`}else if(45===a){let t=(0,l.getHighestCharacterSkill)(e,"gaming");s=Math.round(Math.max(0,3*(t-200))),o=`${t} gaming level`}else if(47===a){let t=(0,l.getHighestLevelCharacter)(e);s=Math.floor(Math.max(0,.01*(t-500))),o=`${t} level`}return{bonus:isNaN(n)?0:n,totalBonus:isNaN(s)?0:s,additionalInfo:o}},w=(e,t)=>Math.floor(Math.pow(e*(1+t?.[0]?.level/100)/3600,.75)),E=(e,t,a)=>1584.8931924611136*e*(1+t*a/100),A=(e,t)=>{let a=[1,2,3,4,5,6].reduce(({breakpoints:a,lastClicked:n},l,s)=>{let o=3600*Math.floor(n)+n%1*6e3,r="nugget"===e?O(o):P(o,t);if(0===a.length)return{breakpoints:[...a,{time:o,amount:r}],lastClicked:n+.1};for(;r<=a?.[s-1]?.amount&&n%1!=0;)(r="nugget"===e?O(o):P(o,t))<=a?.[s-1]?.amount&&(n+=.1,o=3600*Math.floor(n)+n%1*6e3);return{breakpoints:[...a,{time:o,amount:r}],lastClicked:n}},{breakpoints:[],lastClicked:1});return a?.breakpoints},O=e=>Math.floor(Math.pow(e/3600,.44)),P=(e,t)=>Math.floor(Math.pow(e*(1+t/100)/3600,.85)),L=e=>1===e?.3:2===e?.43:3===e?.53:.6*(4===e),I=(e,t,a)=>{let n=a?.[e]?.[0];if(1===e){let e=Math.floor(10*(1+Math.pow(60*n/(250+n),1.7)))/10;return{description:t.replace(/{/,e),result:e}}if(2===e){let e=Math.round(5*n);return{description:t.replace(/{/,e),result:e}}if(5===e){let e=Math.floor(60*n/(100+n)*10)/10;return{description:t.replace(/{/,e),result:e}}return{description:t.replace(/{/,Math.round(n)),value:Math.round(n)}},N=(e,a)=>t.gamingImports?.[e]?.x1*Math.pow(10,t.gamingImports?.[e]?.x2)/4*Math.pow(1.4,a?.[e]?.[0]),R=(e,t,l,s,o,r,i)=>{if(0===e){let e=t?.[1];return(0,a.notateNumber)((1+4*e)*Math.pow(1.065,e),"bits")}if(1===e){let e=t?.[2],a=s?.find(({linkedDeity:e})=>6===e),u=(0,n.getMinorDivinityBonus)(a,o,6,s)??0,c=5e3/((1+2*e/100)*(1+(r?.[1]?.bonus+u)/100)*(1+(3+i?.[4]?.level/100)*l?.[29]?.[1]))*(1/D(t))/60*100/100;return c>60?`${100*c/60/100} Hr`:`${Math.trunc(1e3*c)/1e3} Min`}if(2===e){let e=t?.[3],n=o?.gemShopPurchases?.find((e,t)=>133===t)??0;return(0,a.notateNumber)(Math.round(Math.min(24,3+e+n)))}},D=e=>{let t=e?.[7];return .13+.11*t/(150+t)},F=(e,t,a)=>{if(0===e){let e=t?.[1];return(1+(3*e+Math.pow(e,2)))*Math.pow(Math.min(1.25,Math.max(1.13,1+a?.GamingFertCostExpA/1e3))+Math.max(0,Math.min(.15,.18*(e-50)/(e+100))),e)}if(1===e){let e=t?.[2];return(2+(5*e+Math.pow(e,2)))*Math.pow(1.22,e)}if(2===e){let e=t?.[3];return 11>e?(25*(e+1)+Math.pow(e+1,3))*Math.pow(5+3.7*e,e):9999*1e63}},G=(e,t)=>{let a=["All plants give x{ bits","All plants grow {% faster","Boosts Palette Lucky by +{%"],[,,n,l]=e?.[27];return[n,l,t?.accountOptions?.[415]].map((e,t)=>{let n=0===t?1+8*e/(250+e):1===t?Math.pow(3*e,.8):2===t?Math.pow(e,.8):0;return{cost:1+e+2*Math.max(0,e-5),description:a?.[t].replace(/{/,`${n.toFixed(2)}`),bonus:n}})},j=(e,t)=>e?.gaming?.superbitsUpgrades?.find(({name:e,unlocked:a})=>e===t&&a),W=(e,t)=>{let a=0,n=1e3;for(;n-a>1;){let l=Math.floor((a+n)/2);(1-.1*Math.pow(e,.72))*(1+100*l/(25+l)/100)<t?a=l+1:n=l}return a},U=(e,n)=>{let l=[],s=0;for(let e=0;e<37;e++){let o,r=n?.[9]?.[e],i=t.gamingPalette?.[e]?.x4;o=1===t.gamingPalette?.[e]?.x5?r/(r+25)*i:r*i;let u=t.gamingPalette?.[e]?.description||"";if(u){u=(u=u.replace(/\{/g,(0,a.commaNotation)(o))).replace(/#/g,""+Math.floor(100*o)/100);let e=(0,a.notateNumber)(1+o/100,"MultiplierInfo");u=u.replace(/\}/g,e)}l.push({...t.gamingPalette?.[e],level:r,bonus:o,description:u}),s+=r}let o=Math.round(s*(1+(0,f.getLegendTalentBonus)(e,10)/100));return l.push(o),{palette:l,paletteFinalBonus:o}},q=(e,t)=>e?.gaming?.palette?.[t]?.bonus??0,V=(e,t,a)=>(1+ +!!j(t,"Colourful_Luck"))*(1+((0,o.getMeritocracyBonus)(t,8)??0)/100)*(1+((q(t,3)??0)+((e+((0,M.getLoreBossBonus)(t,5)??0))*!!j(t,"Bigger_Palette")+(Math.max(0,3*(((0,l.getHighestCharacterSkill)(a,"gaming")??0)-200)*!!j(t,"Gamer_Luck"))+(20*Math.max(0,(t?.gaming?.snailLevel??0)-25)*!!j(t,"Lucky_Snail")+((t?.gaming?.imports?.[2]?.acornShop?.[2]?.bonus??0)+((0,v.getExoticMarketBonus)(t,44)??0)+(100*((0,B.getJadeEmporiumBonus)(t,"Palette_Slot")??0)+((0,_.getArcadeBonus)(t?.arcade?.shop,"Palette_Luck")?.bonus??0))))))/100))},405127,723748,734002,694186,695906,626071,398241,e=>{"use strict";e.s(["constructionMasteryThresholds",()=>eQ,"getBuildCost",()=>ez,"getConstruction",()=>eG,"getExtraMaxLevels",()=>e0,"getGildedBoostioBonus",()=>e1,"getTowers",()=>eJ,"optimizeArrayWithSwaps",()=>eH],405127);var t=e.i(608580),a=e.i(82748),n=e.i(292996);e.s(["getGambit",()=>ek,"getGambitBonus",()=>ew],626071),e.s(["getCosmoBonus",()=>ep,"getHole",()=>eu,"getMeasurementBonus",()=>eB,"getStudyBonus",()=>eS],695906),e.s(["getSchematicBonus",()=>z,"getTheWell",()=>Y],694186),e.s(["getBravery",()=>R,"getMonumentAfkBonus",()=>D,"getMonumentAfkReq",()=>F,"getMonumentBonus",()=>V,"getMonumentHourBonus",()=>U,"getMonumentMultiReward",()=>G],734002);var l=e.i(264046),s=e.i(723672),o=e.i(279522),r=e.i(161866),i=e.i(39188),u=e.i(11138),c=e.i(441132);e.s(["UPGRADE_CATEGORIES",()=>_,"dustNames",()=>B,"getCompass",()=>b,"getCompassBonus",()=>A,"getCompassStats",()=>E,"getExtraDust",()=>L,"getOptimizedUpgrades",()=>N],723748);var m=e.i(949500),d=e.i(173024),p=e.i(971176),g=e.i(669203),h=e.i(210270),f=e.i(685849),v=e.i(633273);let B={0:"Stardust",1:"Moondust",2:"Solardust",3:"Cooldust",4:"Novadust"},_={damage:{name:"Damage",stats:["damage"],upgradeIndices:[6,8,10,23,113,112,14,119,15,122,123,121,129,130,127,24,132,135,126,48,155,157,158,60,64,74,75,81,85,94]},dust:{name:"Dust",stats:["dust"],upgradeIndices:[139,142,34,145,31,38,33,148,150,68,86,89,93]},accuracy:{name:"Accuracy",stats:["accuracy"],upgradeIndices:[6,17,22,120,124,19,22,125,134,128,133,25,131,136,147,61,79,84,90]},defence:{name:"Defence",stats:["defence"],upgradeIndices:[29,137,30,141,138,144,149,143,63,83,91]},crit:{name:"Crit",stats:["critPct","critDamage"],upgradeIndices:[16,123,20,42,66,75]},attackSpeed:{name:"Attack Speed",stats:["attackSpeed"],upgradeIndices:[21,69]},hp:{name:"HP",stats:["hp"],upgradeIndices:[10,28,78,84,87,92]}},M={0:"Fire",1:"Wind",2:"Grass",3:"Ice"},b=(e,a,n,l)=>S((0,t.tryToParse)(e?.Compass),a,n,l),S=(e,n,l,s)=>{let o,[r,i,u,c,m]=e||[],d=r?.reduce((e,t)=>e+t,0),p=l?.accountOptions?.slice(357,362).map((e,t)=>({value:e,name:B?.[t]})),g=l?.accountOptions?.[362],h=(u||[]).reduce((e,t)=>({...e,[t]:!0}),{}),v=(0,t.getFilteredPortals)()?.map(({mapIndex:e,mapName:n},l)=>{let s=(a.mapPortals?.[e]).map((a,n)=>{let l=y(e,n);return{costQuantity:l,costType:k(e),unlocked:t.excludedPortals[e]?.includes(n)||h?.[e+"_"+n]}}),o=a.mapEnemiesArray?.[e];return{mapIndex:e,mapName:n,portals:s,monster:a.monsters?.[o],unlocked:s.every(({unlocked:e})=>e)}}),_=a.abominations.map((e,t)=>{let n=i?.[t];return{...e,unlocked:n,hp:400+(123+2*Math.pow(t,3.5)+50*Math.pow(t,2))*Math.pow(2.4,t),weakness:C(e),map:a.mapNames?.[e?.x2],world:Math.floor(e?.x2/50+1)}}),M=a.compass.map((e,t)=>{let a=r?.[t],n=1===e?.x9?"CompassCir":a>=e?.x4?"CompassSqMax":"CompassSq";return{...e,level:a,shapeIcon:n,index:t}});M=M.map((e,a)=>{let n,r=P(M,a),i=O(M,a,e?.level+1),u=I(M,a,s,l),c=e?.description.includes("}");if(e?.name==="Top_of_the_Mornin'"){let e=Math.max(0,l?.accountOptions?.[365]),t=P(M,9)+P(M,71);o=`${t-e} / ${t}`,n=`Kills: ${o}`}return{...e,bonus:r,nextLevelBonus:i,bonusDiff:i-r,cost:u,isMulti:c,description:e?.description.replace(/{/g,(0,t.commaNotation)(r)).replace(/}/g,(0,t.notateNumber)(1+r/100,"MultiplierInfo")),extraData:n}});let b=x((c||[]).toSimpleObject(),M),S=(m||[]).reduce((e,t)=>{let[,a,n]=t.match(/^([a-zA-Z_]+)(\d+)$/),l=f.altStampsMapping?.[a];return{...e,[l]:{...e?.[l]||{},[n]:!0}}},{combat:{},skills:{},misc:{}}),E=w(l,m?.length,0);return{upgrades:M,groupedUpgrades:T(M,_),abominations:_,medallions:b,maps:v,totalAcquiredMedallions:c?.length,totalKilledAbominations:i?.reduce((e,t)=>t>0?e+1:e,0),dusts:p,exaltedStamps:S,usedExaltedStamps:m?.length,remainingExaltedStamps:E,totalUpgradeLevels:d,totalDustsCollected:g,topOfTheMorninKills:o}},y=(e,t)=>{let n=3*(25+5*e+a.mapDetails?.[e]?.[0]?.[t??0]*Math.pow(1.3,(e-50*Math.floor(e/50))*Math.min(1,Math.floor(e/50)+.2))*Math.pow(4,Math.floor(e/50)));return 1===e?50:2e9>n?Math.ceil(n):2e9},k=e=>Math.min(Math.floor(e/100)+Math.floor(e/249),3),x=(e,t)=>Array.from(new Map(a.randomList?.[112]?.split(" ").map(n=>{let l,s,o=a.monsterDrops?.[n]?.find(({rawName:e})=>"COIN"===e)?.quantity,r=5>Math.floor(o/3)%16?1<=P(t,3)?Math.floor(o/3)%16:-1:670===o||2500===o||13e4===o?4:1850===o||7e3===o||19e3===o||16e4===o?3:-1,i=9>Math.floor(o/2)%42?1<=P(t,12)?Math.floor(o/2)%42:-1:460===o||1260===o||2300===o||8500===o||8e4===o?3:-1,u=Math.round(o/17)%4,c=145e3===Math.floor(o)||72e3===Math.floor(o)||2700===Math.floor(o)||-1===Math.floor(o)?0:310===Math.floor(o)||770===Math.floor(o)||1500===Math.floor(o)||29e3===Math.floor(o)?1:4e5===Math.floor(o)||98500===Math.floor(o)||865===Math.floor(o)||-1===Math.floor(o)?2:89e3===Math.floor(o)||12500===Math.floor(o)||5e4===Math.floor(o)||-1===Math.floor(o)?3:5e3<=o?Math.min(Math.floor(o/35)%4,3):1e3<=o?Math.min(Math.floor(o/35)%3,2):350<=o?Math.min(Math.floor(o/35)%2,1):0,m=3<=c?Math.pow(Math.max(1,o-4999)/3,.9):2<=c?Math.pow(Math.max(1,o-999)/3,.9):1<=c?Math.pow(Math.max(1,o-349)/2,.9):Math.pow(Math.max(1,o)/2,.9);"rockS"===n?l="W3 Colo":["Meteor","rocky","snakeZ","iceknight","frogGR"].includes(n)?l="Event Boss":["poopBig","babayaga","babaHour","babaMummy","mini3a","mini4a","mini5a","mini6a"].includes(n)?l="Boss":/^Crystal\d$/.test(n)?l="Glitterbug prayer":/^Chest[ABC]\d$/.test(n)&&(l=`W ${n.slice(-1)}`);let d=n.match(/^Chest([ABC])(\d)$/);if(d){let[,e,t]=d;l=`W ${t}`,s="A"===e?"Bronze_Chest":"B"===e?"Silver_Chest":"Golden_Chest"}return[n,{...a.monsters[n],...s?{Name:s}:{},acquired:e?.[n],weakness:u,drops:[-1!==r?{...a.items?.[`EquipmentBowsTempest${r}`]}:null,-1!==i?{...a.items?.[`EquipmentRingsTempest${i}`]}:null].filter(Boolean),description:l,dustType:c,dustBaseQuantity:m}]})).values()),C=e=>{let t=50>e?.x2?0:100>e?.x2?3:150>e?.x2?2:200>e?.x2?1:e?.x11%4;return{name:M?.[t]??"Unknown",index:t}},T=(e,t)=>{let n=Object.entries({105:"Elemental",106:"Fighter",107:"Survival",108:"Nomadic",109:"Abomination"}).map(([n,l])=>{let s=a.randomList[parseInt(n)].split(" ").map(Number).filter(e=>!isNaN(e));if(!s.length)return null;let o=s.map(t=>e.find(e=>e.index===t)).filter(Boolean);switch(l){case"Elemental":e[1]&&o.unshift(e[1]);break;case"Fighter":e[13]&&o.unshift(e[13]);break;case"Survival":e[27]&&o.unshift(e[27]);break;case"Nomadic":e[40]&&o.unshift(e[40])}if("Abomination"===l)o=o.map((e,a)=>({...e,unlocked:!!t?.[a]?.unlocked}));else{let e=o[0]?.level??0;o=o.map((t,a)=>({...t,unlocked:a<=e,unlocksAt:a}))}return{path:l,list:o}}).filter(Boolean),l=[e[0],e[170]].filter(Boolean),s=l[0]?.level??0;return[{path:"Default",list:l.map((e,t)=>({...e,unlocked:t<=s}))},...n]},w=(e,t,a)=>999===a?A(e,44)+e?.accountOptions?.[366]+(0,h.getEventShopBonus)(e,18):Math.round(w(e,t,999)-t),E=(e,a)=>{let{upgrades:n,totalUpgradeLevels:l}=a?.compass,s=(0,d.getTalentBonus)(e?.flatTalents,"WINDBORNE"),o=(0,d.getTalentBonus)(e?.flatTalents,"PUMPIN'_POWER"),r=(0,d.getTalentBonus)(e?.flatTalents,"ELEMENTAL_MAYHEM",!0),i=(0,d.getTalentBonus)(e?.flatTalents,"TEMPEST_FORM"),u=(0,p.getStatsFromGear)(e,87,a),c=(0,p.getStatsFromGear)(e,88,a),m=(0,p.getStatsFromGear)(e,89,a),g=(0,p.getStatsFromGear)(e,86,a),h=(10+(P(n,28)+P(n,87)))*(1+(P(n,140)+(P(n,146)+P(n,92)))/100),f=0,v=e?.equipment?.[1],B=e?.equipment?.[5],_=e?.equipment?.[7];v?.name?.includes("Tempest")&&(f+=v?.Weapon_Power),B?.name?.includes("Tempest")&&(f+=B?.Weapon_Power),_?.name?.includes("Tempest")&&(f+=_?.Weapon_Power);let M=5+(P(n,14)+(P(n,15)+(P(n,24)+(P(n,60)+P(n,81)))))*Math.pow(1.05,f)*(1+g/100)*(1+P(n,23)*(0,t.lavaLog)(a?.accountOptions?.[360])/100)*Math.pow(1+P(n,26)/100,a?.accountOptions?.[232])*(1+P(n,6)*a?.compass?.totalAcquiredMedallions/100)*(1+(P(n,119)+(P(n,121)+(P(n,122)+(P(n,123)+(P(n,126)+(P(n,127)+(P(n,129)+(P(n,130)+(P(n,132)+(P(n,135)+(P(n,64)+P(n,78)*(0,t.lavaLog)(h)+(P(n,85)+(P(n,94)+i)))))))))))))/100),b=(3+(P(n,17)+(P(n,19)+(P(n,25)+P(n,61)))))*(1+l/100*s/100)*(1+P(n,22)*(0,t.lavaLog)(a?.accountOptions?.[357])/100)*(1+P(n,6)*a?.compass?.totalAcquiredMedallions/100)*(1+(P(n,120)+(P(n,124)+(P(n,125)+(P(n,128)+(P(n,131)+(P(n,133)+(P(n,134)+(P(n,136)+(P(n,147)+(P(n,84)*(0,t.lavaLog)(h)+(P(n,79)+P(n,90))))))))))))/100),S=(1+(P(n,29)+P(n,63)))*(1+l/100*s/100)*(1+P(n,30)*(0,t.lavaLog)(a?.accountOptions?.[358])/100)*(1+u/100)*(1+(P(n,137)+(P(n,138)+(P(n,141)+(P(n,143)+(P(n,144)+(P(n,149)+(P(n,83)+P(n,91))))))))/100),y=Math.min(.7,.2+P(n,70)/100),k=5+(P(n,16)+o*Math.floor(a?.breeding?.totalBreedabilityLv/25))+P(n,66),x=1+(20+(P(n,20)+P(n,123))+(P(n,75)+c))/100,C=P(n,21)+(P(n,69)+m),T=2.1+(P(n,37)+P(n,88)),w=P(n,32)+P(n,65);return{hp:h,damage:M,accuracy:b,defence:S,mastery:y,critPct:k,critDamage:x,attackSpeed:C,invulnerableTime:T,range:w,moveSpeed:Math.floor(100+P(n,35)+(P(n,141)+P(n,62))),multiShopPct:P(n,18)+(P(n,125)+P(n,73)+l/100*r)}},A=(e,t)=>e?.compass?.upgrades?.[t]?.bonus||0,O=(e,t,a)=>P(e.map((e,n)=>n===t?{...e,level:a}:{...e}),t),P=(e,t)=>{let a=e?.[t];return 1===a?.x9?(1+(P(e,39)+P(e,80))/100)*a?.level*a?.x5:45===t?a?.level*a?.x5*Math.pow(2,Math.floor(a?.level/50)):a?.level*a?.x5},L=(e,a)=>{let n=a?.compass?.upgrades,l=(0,p.getStatsFromGear)(e,85,a)??0,s=(0,p.getStatsFromGear)(e,79,a)??0,r=(0,d.getTalentBonus)(e?.flatTalents,"ETERNAL_HUNT"),i=(0,d.getTalentBonus)(e?.flatTalents,"COMPASS"),u=(0,o.getArcadeBonus)(a?.arcade?.shop,"Windwalker_Dust")?.bonus,c=(0,m.getCharmBonus)(a,"Twinkle_Taffy"),h=(0,g.getEmperorBonus)(a,4);return(1+(P(n,31)+P(n,34)*(0,t.lavaLog)(a?.accountOptions?.[359]))/100)*(1+P(n,38)/100)*(1+c/100)*(1+(l+s)/100)*(1+h/100)*(1+0*r/100)*(1+(P(n,139)+(P(n,142)+(P(n,145)+(P(n,148)+(P(n,150)+(P(n,68)+(P(n,93)+(P(n,89)+(i+u)))))))))/100)},I=(e,t,n,l)=>{let s=1,o=0;switch(t){case 45:s=1+(P(e,151)+P(e,152)+P(e,153))/100;break;case 43:s=1+(P(e,154)+P(e,156))/100;break;case 48:s=1+(P(e,155)+P(e,157)+P(e,158))/100;break;case 57:s=1+(P(e,159)+P(e,160)+P(e,161)+P(e,168))/100;break;case 51:s=1+(P(e,162)+P(e,163)+P(e,164)+P(e,166)+P(e,167))/100;break;case 54:s=1+(P(e,165)+P(e,169))/100}let r=a.compass?.[t]?.x10+"",i=e?.[t];r.includes("Path")&&(o=(Math.pow(3*i?.level,2)+12*i?.level)*Math.pow(1.1,i?.level));let u=Math.max(n?.DustCost,6.2),c=1+(P(e,36)+P(e,77))/100,m=a.compass?.[t],d=Math.round(105+m?.x10),p=a.randomList[d]?.split(" "),g=Math.max(1,Math.pow(3.69-p.length/27,p.indexOf(""+t)));return(0,h.getMasterclassCostReduction)(l)*(o+1/c*u*(1/Math.max(1,s))*(m?.x1/2)*g*Math.pow(m?.x2,i?.level))},N=(e,t,a="damage",n=100,l={})=>{let s=_[a];return"dust"===a&&(l.getExtraDust=L),(0,v.getOptimizedGenericUpgrades)({character:e,account:t,category:a,maxUpgrades:n,categoryInfo:s,getUpgrades:e=>(e?.compass?.groupedUpgrades||{}).flatMap(({list:e})=>e).toSorted((e,t)=>e.index-t.index)||[],getResources:e=>e?.compass?.dusts||[],getCurrentStats:(e,t,a)=>E(t,{...a,compass:{...a.compass,upgrades:e}}),getUpgradeCost:(e,t,{account:a,upgrades:n})=>I(n,t,a?.serverVars),applyUpgrade:(e,t)=>t.map(t=>t.index===e.index?{...t,level:t.level+1}:t),updateResourcesAfterUpgrade:(e,t,a,n)=>{let l=B[t.x3],s=e.find(e=>e.name===l);s&&(s.value-=n)},resourceNames:B,extraArgs:l})},R=(e,n)=>{let l=q(e),s=U({holesObject:e,t:0,i:4}),o=j(e,n),r=W(e,n),i=G(e,0,n)||0,u=Math.min(.5,Math.pow(.5,e?.opalsPerCavern?.[3])*(1+V({holesObject:e,t:0,i:5})/100)),c=Math.round(Math.min(9,3+(2*U({holesObject:e,t:0,i:1})+(U({holesObject:e,t:0,i:3})+(U({holesObject:e,t:0,i:5})+U({holesObject:e,t:0,i:7})))))),m=(0,t.fillArrayToLength)(50).map((e,t)=>({name:`Level ${t+1}`,value:(10+15*t)*Math.pow(1.3,t)})).filter((e,t)=>(t+1)%5==0),d=a.holesInfo?.[32]?.split(" ")?.slice(0,10)?.filter(e=>!e.includes("Monument_")).map((a,n)=>{let l=e?.braveryBonuses?.[n],s=V({holesObject:e,t:0,i:n});return{description:a.replace(/_/g," ").replace(/\|/g," ").replace("{",Math.round(s)).replace("}",(0,t.notateNumber)(1+s/100,"MultiplierInfo")),level:l,bonus:s}}),p=e?.braveryMonument?.[0]||0,g=a.holesInfo?.[31]?.split(" ").slice(0,8),h=(a.holesInfo?.[30]?.split(" ").map((e,t)=>({hours:e,reward:g?.[t]}))).find(({hours:e})=>p<e),f=D(e,n);return{damage:{min:o,max:r},ownedSwords:c,maxRethrow:l,maxRetelling:s,opalChance:u,hps:m,bonuses:d,hours:p,nextHourBreakpoint:h,timeForNextFight:72e3*(1-i),rewardMulti:i,afkPercent:f,monumentAfkReq:F(f?.value,h?.hours,p)}},D=(e,t)=>{let a=(0,l.getWinnerBonus)(t,"+{% Monument AFK"),n=(0,o.getArcadeBonus)(t?.arcade?.shop,"Monument_AFK")?.bonus;return{value:V({holesObject:e,t:0,i:8})+(V({holesObject:e,t:1,i:8})+V({holesObject:e,t:2,i:8})+(a+((0,s.getJarBonus)({holesObject:e,i:19,account:t})/1+(z({holesObject:e,t:81,i:20})+(eB({holesObject:e,accountData:t,t:11})+(n+10*(0,r.getAchievementStatus)(t?.achievements,311)+A(t,55))))))),breakdown:[{name:"Monument",value:V({holesObject:e,t:0,i:8})+V({holesObject:e,t:1,i:8})+V({holesObject:e,t:2,i:8})},{name:"Summoning",value:a},{name:"Jar",value:(0,s.getJarBonus)({holesObject:e,i:19,account:t})},{name:"Schematic",value:z({holesObject:e,t:81,i:20})},{name:"Measurement",value:eB({holesObject:e,accountData:t,t:11})},{name:"Arcade",value:n||0},{name:"Achievement",value:10*(0,r.getAchievementStatus)(t?.achievements,311)},{name:"Compass",value:A(t,55)}],expression:`braveryAfkBonus
+ justiceAfkBonus
+ wisdomAfkBonus
+ winBonus
+ (
  minecraftGemBonus / 1
  + (
    rockSmartSchematicBonus
    + measurementBonus
    + arcadeBonus
    + 10 * achievementBonus
  )
)`}},F=(e,t,a=0)=>{if(!t)return null;let n=Math.ceil(Math.max(0,t-a)/(1+e/100));return Array.from({length:10},(e,t)=>{let a=t+1,l=Math.ceil(n/a);return{name:`${a} characters`,value:`${l} hrs`}})},G=(e,t,a)=>{let n=(0,u.getLegendTalentBonus)(a,27),l=+!!(0,i.isSuperbitUnlocked)(a,"Monument_Infimulti"),s=1===t?86400*(2+(z({holesObject:e,t:70,i:2})+10*l)+(14*eS(e,9,99)+n/24)):86400*(2+(z({holesObject:e,t:70,i:2})+(10*l+n/24)));return(Math.min(e?.extraCalculations?.[Math.round(11+t)],s)/72e3+(Math.pow(1+Math.max(0,e?.extraCalculations?.[Math.round(11+t)]-s)/72e3,.3)-1))*(1+(0,c.getMeritocracyBonus)(a,7)/100)*(1+(0,u.getLegendTalentBonus)(a,27)/100)},j=(e,t)=>3+Math.floor(e?.braveryMonument?.[0]/6)*z({holesObject:e,t:24,i:1})+eS(e,3,0)/100*W(e,t),W=(e,t)=>(25+10*Math.floor(e?.braveryMonument?.[0]/6)*z({holesObject:e,t:24,i:1}))*(1+eB({holesObject:e,accountData:t,t:1})/100)*(1+0*z({holesObject:e,t:40,i:10})/100)*1,U=({holesObject:e,t,i:a})=>+(e?.braveryMonument?.[Math.round(1+2*t)]>a),q=e=>Math.round(5*U({holesObject:e,t:0,i:2})+10*U({holesObject:e,t:0,i:6})),V=({holesObject:e,t,i:n})=>{let l=1;9!==n&&(l=1+V({holesObject:e,t,i:9})/100+ep({majik:e?.holeMajiks,t:0,i:0})/100);let s=a.holesInfo[37]?.split(" ")[Math.round(10*t+n)],o=e?.braveryBonuses?.[Math.round(10*t+n)],r=Math.max(1,l);return s<30?o*s*r:.1*Math.ceil(o/(250+o)*10*s*r)};var H=e.i(801902),$=e.i(724719);let Y=(e,a)=>{let{wellSediment:n,sedimentMulti:l,wellBuckets:s}=e,o=(0,t.fillArrayToLength)(10).map((e,t)=>0<=n[t]?{current:n?.[t],max:X({sedimentMulti:l,index:t})}:(n[t],{current:n[t]})),r=o.findIndex(({current:e})=>e<0);o.unshift(o[r]);let i=J(e),u=(0,t.fillArrayToLength)(i,s),c=Q(e,a),m=K(e),d=e?.extraCalculations?.[10];return{rockLayerIndex:r,sediments:o,buckets:u,fillRate:c,opalCost:(0,t.notateNumber)(m,"TinyE"),expandWhenFull:d}},K=e=>{let t=(1+(3*e?.extraCalculations[9]+Math.pow(e?.extraCalculations[9],2)))*Math.pow(3.5+e?.extraCalculations[9]/10,e?.extraCalculations[9]);return 1e9>t?1===e?.extraCalculations[9]?6:2===e?.extraCalculations[9]?60:Math.floor(t):t},J=e=>Math.round(1+(z({holesObject:e,t:3,i:1})+(z({holesObject:e,t:4,i:1})+(z({holesObject:e,t:5,i:1})+(z({holesObject:e,t:6,i:1})+(z({holesObject:e,t:7,i:1})+(z({holesObject:e,t:8,i:1})+(z({holesObject:e,t:9,i:1})+(z({holesObject:e,t:10,i:1})+z({holesObject:e,t:11,i:1})))))))))),X=({sedimentMulti:e,index:t})=>{let n=a.holesInfo?.[21]?.split(" ");return 100*Math.pow(1.5,e?.[t])*(1+n?.[t]/100)},z=({holesObject:e,t:a,i:n})=>{let{wellSediment:l,sedimentMulti:s,extraCalculations:o,bellImprovementMethods:r,engineerSchematics:i,studyStuff:u}=e||{};if(0===i?.[a])return 0;if(14===a){let e=0;for(let t=0;t<10;t++)e+=s[t];return e*(20+eS({studyStuff:u},0,0))}if(45===a){let e=0,t=r.length;for(let a=0;a<t;a++)e+=r[a];return Math.max(1,Math.pow(1.1,Math.floor(e/25)))}return 46===a?5*o[26]:47===a?25*o[26]:48===a?10*o[26]:49===a?n*(o[1]+(o[3]*z({holesObject:e,t:50,i:1})+o[5]*z({holesObject:e,t:79,i:1}))):52===a?60*Math.floor((0,t.lavaLog)(l[0])):53===a?4*Math.floor((0,t.lavaLog)(l[13])):54===a?Math.pow(1.2,Math.floor((0,t.lavaLog)(l[15]))):55===a?10*Math.floor((0,t.lavaLog)(l[11])):56===a?Math.pow(1.3,Math.floor((0,t.lavaLog)(l?.[2]))):57===a?20*Math.floor((0,t.lavaLog)(l[1])):58===a?5*(0,t.lavaLog)(o[32]):59===a?(o[33]+(o[34]+(o[35]+o[36])))/100*10:82===a||83===a||84===a?n*o[55]:n},Q=(e,t)=>{let a=(0,f.getStampsBonusByEffect)(t,"more_Resources_from_all_Caverns")||0;return z({holesObject:e,t:58,i:0})+z({holesObject:e,t:59,i:0})+(10+(z({holesObject:e,t:1,i:5})+z({holesObject:e,t:26,i:5})))*(1+z({holesObject:e,t:14,i:0})/100)*(1+t.gemShopPurchases[2]/2)*(1+V({holesObject:e,t:0,i:1})/100)*(1+(0,H.getLampBonus)({holesObject:e,t:99,i:0,account:t})/100)*(1+ew(t,3)/100)*Math.max(1,z({holesObject:e,t:15,i:1})*Math.pow(1.1,e?.extraCalculations[1]))*(1+eB({holesObject:e,accountData:t,t:5})/100)*(1+(0,$.getBellBonus)({holesObject:e,t:0})/100)*(1+(0,s.getJarBonus)({holesObject:e,i:8,account:t})/100)*(1+a/100)},Z=(e,t)=>a.holesInfo[47].split(" ")[t]*e?.harpRelated?.[Math.round(2*t)],ee=e=>Math.min(15,Math.round(1+ep({majik:e?.holeMajiks,t:0,i:1})+(z({holesObject:e,t:32,i:1})+(z({holesObject:e,t:33,i:1})+(z({holesObject:e,t:34,i:1})+(z({holesObject:e,t:35,i:1})+z({holesObject:e,t:36,i:1}))))))),et=(e,t,a)=>1+(z({holesObject:e,t:39,i:15})+(z({holesObject:e,t:37,i:20})*a+z({holesObject:e,t:38,i:30})*t))/100;var ea=e.i(618332),en=e.i(521637);let el=[{name:"Illuminate",description:"{x_chance_for_Search"},{name:"Search",description:"{%_Chance_to_awaken_Centurion"},{name:"Amplify",description:"{%_Faster_Golem_Respawn"}],es=(e,a)=>0===a?1+10*e?.extraCalculations[57]/100:1===a?.05*es(e,0)*Math.pow(.7,e?.extraCalculations[55])*(0,t.lavaLog2)(Math.max(5,e?.extraCalculations[56]/4)):5*e?.extraCalculations[59];var eo=e.i(276924),er=e.i(878012);let ei={EXPLORE:0,ENGINEER:1,BONUSES:2,MEASURE:3,STUDIES:4},eu=(e,a)=>ec((0,t.tryToParse)(e?.Holes)||e?.Holes,(0,t.tryToParse)(e?.Jars)||e?.Jars,a),ec=(e,n,l)=>{let o,r,i,u,c,m,d,p,g,v,B,_,M,b,S,y,k,x,C,T,w,E,A,O,P,L,I,N,j,W,q,K,J,X,Q,ea,en,eo,er,eu,ec,ev,ex,eC,eT,eE,eA,eO,eP,eL,eI,eN,eR,eD,eF,eG,ej,eW,eU,eq,eV,eH,e$,eY,eK,eJ,eX,[ez=[],eQ=[],eZ=[],e0=[],e1=[],e2=[],e3=[],e5=[],e4=[],e6=[],e8=[],e7=[],e9=[],te=[],tt=[],ta=[],tn=[],tl=[],ts=[],to=[],,tr=[],ti=[],tu=[],tc,tm,td,tp,tg]=e||[],th={charactersCavernLocation:ez,villagersLevels:eQ,villagersExp:eZ,opalsInvested:e0,holeMajiks:e1,villageMajiks:e2,idleonMajiks:e3,opalsPerCavern:e5,sedimentMulti:e4,wellSediment:e6,wellBuckets:e8,extraCalculations:e7,dawgDenAmplifierLevels:e9,engineerSchematics:te,braveryMonument:tt,braveryBonuses:ta,bellImprovementMethods:tn,bellRingLevels:tl,bellRelated:ts,harpRelated:to,wishesUsed:tr,measurementBuffLevels:ti,parallelVillagersGemShop:tu,jarStuff:tc,jarProgress:tm,studyStuff:td,studyProgress:tp,gambitStuff:tg},tf=a.lampWishes.map((e,t)=>({...e,level:tr?.[t]})),tv=a.holesInfo?.[40]?.split(" "),tB=tv?.map((e,t)=>{let n=a.holesBuildings?.[e],s=e6?.[n?.x2],{description:o,value:r}=em(n,th,Number(e),l);return{...n,unlocked:te?.[e],index:e,description:o,totalBonus:r,owned:isNaN(s)?0:s,cost:e_({...n,index:t,discountWish:tf?.[5]?.level})}}),t_=Math.min(15,eQ?.[0]),tM=eQ?.slice(0,5)?.filter(e=>e>=1)?.length,tb=Math.min(...e0?.slice(0,tM)),tS=eZ?.slice(0,5).map((e,a)=>{let n=eQ?.[a],s=eb(n,a),o=e0?.[a],r=eM(th,l,a,tb,t_),i=(s-e)/r?.value*36e5;return{index:a,name:Object.keys(ei)?.[a].toLowerCase().camelToTitleCase(),exp:e<1e6?(0,t.commaNotation)(e):(0,t.notateNumber)(e,"Big"),expReq:s<1e6?(0,t.commaNotation)(s):(0,t.notateNumber)(s,"Big"),readyToLevel:e>=s,level:n,opalInvested:o,expRate:r,timeLeft:i}}),ty=ey(th,tS?.[ei.STUDIES]?.level,l),tk=Y(th,l),tx=(O=(0,t.notateNumber)((o=th,2e4*Math.pow(1.8,1+o?.extraCalculations[1])*.25),"Big"),P=th?.extraCalculations?.[1],L=th?.extraCalculations?.[0],I=200*Math.pow(2.2,1+P)/(1+((0,s.getJarBonus)({holesObject:th,i:5,account:l})+eS(th,1,0)*th?.extraCalculations?.[1]+eS(th,7,0)*th?.extraCalculations?.[3]+eS(th,11,0)*th?.extraCalculations?.[5])/100),{miningEff:O,layer:P+1,ores:{mined:L<1e9?(0,t.commaNotation)(L):(0,t.notateNumber)(L,"Big"),required:I<1e9?(0,t.commaNotation)(I):(0,t.notateNumber)(I,"Big"),maxed:L>=I}}),tC=(N=th?.extraCalculations?.[8],j=12*(150+(30+th?.opalsPerCavern[2])*th?.opalsPerCavern[2])*Math.pow(1.5,th?.opalsPerCavern[2]),W=a.holesInfo?.[28]?.split(" ").toChunks(2).map(([e,a],n)=>{let l,s;return{ampName:e,ampDescription:a,level:th?.dawgDenAmplifierLevels?.[n],bonus:(0,t.notateNumber)((l=th,0===(s=n)?(5e3+800*l?.dawgDenAmplifierLevels[0])*Math.pow(1.25,l?.dawgDenAmplifierLevels[0]):1===s?(6e3+4e3*l?.dawgDenAmplifierLevels[1])*Math.pow(1.3,l?.dawgDenAmplifierLevels[1]):2===s?5*l?.dawgDenAmplifierLevels[2]:3===s?(1+l?.dawgDenAmplifierLevels[3])*Math.pow(1.05,l?.dawgDenAmplifierLevels[3]):4===s?(1+l?.dawgDenAmplifierLevels[4])*Math.pow(1.07,l?.dawgDenAmplifierLevels[4]):5===s?1+l?.dawgDenAmplifierLevels[5]:6===s?4*l?.dawgDenAmplifierLevels[6]:l?.dawgDenAmplifierLevels[7]/10),"Big")}}),q=(e=>{let t=0;for(let a=0;a<8;a++)t+=e?.dawgDenAmplifierLevels[a];return .5*z({holesObject:e,t:23,i:1})*Math.floor(t/10)+(11*e?.dawgDenAmplifierLevels[0]+(9*e?.dawgDenAmplifierLevels[1]+(8*e?.dawgDenAmplifierLevels[2]+(10*e?.dawgDenAmplifierLevels[3]+(8*e?.dawgDenAmplifierLevels[4]+(7*e?.dawgDenAmplifierLevels[5]+(10*e?.dawgDenAmplifierLevels[6]+7*e?.dawgDenAmplifierLevels[7])))))))/100+1})(th),K=Math.round(1+(z({holesObject:r=th,t:16,i:1})+(z({holesObject:r,t:17,i:1})+(z({holesObject:r,t:18,i:1})+(z({holesObject:r,t:19,i:1})+(z({holesObject:r,t:20,i:1})+(z({holesObject:r,t:21,i:1})+z({holesObject:r,t:22,i:1})))))))),{bestScore:(0,t.commaNotation)(N),nextOpalAt:j,ampMulti:q,amplifiers:W,ownedAmps:K}),tT=R(th,l),tw=(0,$.getTheBell)(th,l),tE=(J=ee(th),i=th,X=Math.round(Math.min(7,Math.min(1,i?.harpRelated?.[0])+(Math.min(1,i?.harpRelated?.[2])+(Math.min(1,i?.harpRelated?.[4])+(Math.min(1,i?.harpRelated?.[6])+(Math.min(1,i?.harpRelated?.[8])+(Math.min(1,i?.harpRelated?.[10])+Math.min(1,i?.harpRelated?.[12])))))))),u=th,Q=150*Math.pow(1+u?.extraCalculations?.[20],1.5)*Math.pow(4.5,u?.extraCalculations?.[20]),ea=th?.extraCalculations?.[22],en=200*(1+Z(th,2)/100),c=th,m=l,d=X,p=ea,eo=1===eS(c,5,99)?(1+eS(c,5,0))*(1+eS(c,5,99))*(p/100)*et(c,d,p)*(1+Z(c,4)/100)*(1+eB({holesObject:c,accountData:m,t:6})/100)*(1+m?.gemShopPurchases?.[2]/2):(1+eS(c,5,99))*(p/100)*et(c,d,p)*(1+Z(c,4)/100)*(1+eB({holesObject:c,accountData:m,t:6})/100)*(1+m?.gemShopPurchases?.[2]/2),er=Math.min(1,et(g=th,X,v=ea)*(1-Math.pow(1-Math.pow(.2,g?.opalsPerCavern?.[5]+1),Math.max(1,v/100)))),eu=th?.wellSediment?.slice(10,20),ec=(0,t.fillArrayToLength)(6).map((e,n)=>{let o,r,i,u=a.holesInfo[45].split(" ")[n],c=th?.harpRelated?.[2*n],m=th?.harpRelated?.[2*n+1],d=(o=th,r=n,(4+o?.harpRelated[Math.round(2*r)])*Math.pow(1.15,o?.harpRelated[Math.round(2*r)])),p=(({index:e,holesObject:t,stringTypes:a,power:n,accountData:l})=>{let o=(0,f.getStampsBonusByEffect)(l,"more_Resources_from_all_Caverns")||0;return n/100*et(t,a,n)*Math.max(1,z({holesObject:t,t:41,i:1})*Math.pow(1.1,t?.extraCalculations?.[3]))*(1+(Z(t,0)+(Z(t,3)+Z(t,5)))/100)*(1+Z(t,1)/100)*(1+(0,H.getLampBonus)({holesObject:t,t:99,i:0,account:l})/100)*(1+ew(l,3)/100)*(1+V({holesObject:t,t:1,i:1})/100)*(1+eB({holesObject:t,accountData:l,t:3})/100)*(1+eB({holesObject:t,accountData:l,t:8})/100)*(1+(0,$.getBellBonus)({holesObject:t,t:2})/100)*(1+l?.gemShopPurchases?.[2]/2)*(1+(0,s.getJarBonus)({holesObject:t,i:20,account:l})/100)*(1+o/100)/Math.pow(4,e)})({index:0===n||1===n?0:3===n?1:5===n?2:4*(4===n),holesObject:th,stringTypes:X,power:ea,accountData:l}),g=Z(th,n);return 0===n?i=(0,t.notateNumber)(p,"Big"):1===n?i=(0,t.notateNumber)(100*er,"Small"):3===n||5===n?i=(0,t.notateNumber)(p,"Big"):4===n&&(i=(0,t.commaNotation)(eo)),{level:c,exp:m,expReq:d,owned:p,description:u?.replace("{",i),bonus:g}}),{stringSlots:J,stringTypes:X,newNoteCost:Q,powerRate:en,power:ea,harpExpGain:eo,chords:ec,opalChance:er,notes:eu}),tA=(0,H.getLamp)(th,l,t_),tO=(ev=(0,t.notateNumber)((B=th,2e4*Math.pow(1.8,1+B?.extraCalculations[3])*.25),"Big"),ex=th?.extraCalculations?.[3],eC=th?.extraCalculations?.[2],eT=200*Math.pow(2.2,1+ex)/(1+((0,s.getJarBonus)({holesObject:th,i:5,account:l})+eS(th,1,0)*th?.extraCalculations?.[1]+eS(th,7,0)*th?.extraCalculations?.[3]+eS(th,11,0)*th?.extraCalculations?.[5])/100),{fishingEff:ev,layer:ex+1,bugs:{mined:eC<1e9?(0,t.commaNotation)(eC):(0,t.notateNumber)(eC,"Big"),required:eT<1e9?(0,t.commaNotation)(eT):(0,t.notateNumber)(eT,"Big"),maxed:eC>=eT}}),tP=(eE=th?.extraCalculations[26]+1,eA=1e11*Math.pow(7.5,th?.extraCalculations[26]),eO=Math.max(0,5e3*Math.pow(3.4,th?.extraCalculations[26])-th?.extraCalculations[27]),{monarchHp:eA,mushroomKillsLeft:eO,mushroomKills:th?.extraCalculations[27],mushroomKillsReq:5e3*Math.pow(3.4,th?.extraCalculations[26]),layer:eE}),tL=(eP=G(th,1,l)||0,eL=th?.braveryMonument?.[2]||0,eI=a.holesInfo?.[31]?.split(" ").slice(8,16),eR=(eN=a.holesInfo?.[30]?.split(" ").map((e,t)=>({hours:e,reward:eI?.[t]}))).find(({hours:e})=>eL<e),eD=a.holesInfo?.[32]?.split(" ")?.slice(10,20)?.filter(e=>!e.includes("Monument_")).map((e,a)=>{let n=th?.braveryBonuses?.slice(10)?.[a],l=V({holesObject:th,t:1,i:a});return{description:e.replace(/_/g," ").replace(/\|/g," ").replace("{",Math.round(l)).replace("}",(0,t.notateNumber)(1+l/100,"MultiplierInfo")),level:n,bonus:l}}),eF=D(th,l),{rewardMulti:eP,hours:eL,hoursRewards:eI,hoursBreakpoints:eN,nextHourBreakpoint:eR,bonuses:eD,timeForNextFight:72e3*(1-eP),coins:(_=th,Math.round((5+(0,t.lavaLog2)(_?.braveryMonument?.[2])*z({holesObject:_,t:61,i:1}))*(.5*U({holesObject:_,t:1,i:3})+1.5*U({holesObject:_,t:1,i:7})+1))),health:Math.round(1+(U({holesObject:M=th,t:1,i:1})+(U({holesObject:M,t:1,i:4})+2*U({holesObject:M,t:1,i:7})))),popularity:Math.round(3+7*U({holesObject:th,t:1,i:5})),dismissals:Math.round(U({holesObject:b=th,t:1,i:2})+(U({holesObject:b,t:1,i:4})+2*U({holesObject:b,t:1,i:7}))),opalChance:(S=th,Math.min(.5,Math.pow(.5,S?.opalsPerCavern?.[9])*(1+V({holesObject:S,t:1,i:5})/100)*(1+eS(S,9,0)/100))),monumentAfkReq:F(eF?.value,eR?.hours,eL)}),tI=(0,s.getTheJars)(th,n,l),tN=(eG=(0,t.notateNumber)((y=th,2e4*Math.pow(1.8,1+y?.extraCalculations[5])*.25),"Big"),ej=th?.extraCalculations?.[5],eW=th?.extraCalculations?.[4],eU=200*Math.pow(2.2,1+ej)/(1+((0,s.getJarBonus)({holesObject:th,i:5,account:l})+eS(th,1,0)*th?.extraCalculations?.[1]+eS(th,7,0)*th?.extraCalculations?.[3]+eS(th,11,0)*th?.extraCalculations?.[5])/100),{choppingEff:eG,layer:ej+1,logs:{chopped:eW<1e9?(0,t.commaNotation)(eW):(0,t.notateNumber)(eW,"Big"),required:eU<1e9?(0,t.commaNotation)(eU):(0,t.notateNumber)(eU,"Big"),maxed:eW>=eU}}),tR=(eq=Math.min(.5,Math.pow(.5,th?.opalsPerCavern?.[12])*(1+U({holesObject:th,t:2,i:5})/100)),eV=G(th,2,l)||0,eH=th?.braveryMonument?.[4]||0,e$=a.holesInfo?.[31]?.split(" ").slice(16),eK=(eY=a.holesInfo?.[30]?.split(" ").map((e,t)=>({hours:e,reward:e$?.[t]}))).find(({hours:e})=>eH<e),eJ=a.holesInfo?.[32]?.split(" ")?.slice(20)?.filter(e=>!e.includes("Monument_")).map((e,a)=>{let n=th?.braveryBonuses?.slice(20)?.[a],l=V({holesObject:th,t:2,i:a});return{description:e.replace(/_/g," ").replace(/\|/g," ").replace("{",Math.round(l)).replace("}",(0,t.notateNumber)(1+l/100,"MultiplierInfo")),level:n,bonus:l}}),{rewardMulti:eV,hours:eH,hoursRewards:e$,hoursBreakpoints:eY,nextHourBreakpoint:eK,bonuses:eJ,timeForNextFight:72e3*(1-eV),opalChance:eq,afkPercent:eX=D(th,l),attempts:(k=th,1===x?30:Math.round(5+eS(k,12,0)+(4*U({holesObject:k,t:2,i:4})+Math.floor(2*(0,t.lavaLog)(k?.braveryMonument?.[4]))))),attemptsGainPerRound:(C=th,1===T?0:Math.round(2*U({holesObject:C,t:2,i:1})+U({holesObject:C,t:2,i:6}))),timePerMatch:1===w?1e3:12.6,instantMatches:(E=th,1===A?0:Math.round(4*U({holesObject:E,t:2,i:3})+5*U({holesObject:E,t:2,i:7}))),monumentAfkReq:F(eX?.value,eK?.hours,eH)}),tD=ek(th,l),tF={bonuses:el.map((e,a)=>{let n,l,s=es(th,a),o=0===a?Math.round(100*s)/100:1===a?(0,t.notateNumber)(100*Math.min(1,s),"Small"):Math.round(s);return{...e,cost:(n=th,0===(l=a)?3*Math.pow(1.075,n?.extraCalculations?.[57])+n?.extraCalculations?.[57]:1===l?Math.max(5,n?.extraCalculations?.[56]/4):10*Math.pow(1.1,n?.extraCalculations?.[59])+2*n?.extraCalculations?.[59]),description:e?.description.replace("{",o)}}),layer:th?.extraCalculations?.[55]+1,torches:th?.extraCalculations?.[56]},tG=[e1,e2,e3],tj=[],tW=a.cosmoUpgrades.map((e,t)=>e.map((e,n)=>{let s;(0,h.isCompanionBonusActive)(l,0)?s=!0:2===t&&0===n&&(e7?.[29]!==-1&&tj.push({index:e7?.[29],name:a.gods?.[e7?.[29]]?.name}),e7?.[30]!==-1&&tj.push({index:e7?.[30],name:a.gods?.[e7?.[30]]?.name}));let o=Number(a.holesInfo?.[56+t]?.[n])+1;return{...e,level:tG?.[t]?.[n],maxLevel:o,bonus:ep({majik:tG?.[t],t:t,i:n}),godsLinks:tj,hasDoot:s}})),tU=ed(th),tq=[0,2,5,7,9],tV=[1,3,4,6,8],tH=[10,11,12,13,14,15],t$=a.holesInfo[52]?.split(" "),tY=a.holesInfo?.[54]?.split(" ").map((e,t)=>{let n,s=Number(t$[t]),o=eg({holesObject:th,t:t}),r=eB({holesObject:th,accountData:l,t:t}),i=eh({holesObject:th,accountData:l,t:s}),u=(250+50*ti[t])*Math.pow(1.6,t-6*Math.floor(t/10))*Math.pow(1.1,ti[t]),c=ef({holesObject:th,accountData:l,t:s}),m=a.holesInfo[50]?.split(" ")[t],d=Math.max(0,e6?.[m]??0);return tq.includes(t)?n="HoleWellFill"+(Number(m)+1):tV.includes(t)?n="HoleHarpNote"+(Number(m)-10):tH.includes(t)&&(n="HoleJarR"+(Number(m)-20)),{description:e,baseBonus:o,totalBonus:r,multi:i,level:th?.measurementBuffLevels[t],cost:u,owned:d,icon:n,measuredBy:c,measureIndex:s}}),tK=e6?.reduce((e,a)=>e+Math.ceil((0,t.lavaLog)(a)),0),tJ=e7?[1,3,5,7].reduce((e,t)=>e+Math.round(Math.max(0,e7[t]||0)),0):0,tX=eQ?.reduce((e,t)=>e+t,0),tz=e5?.reduce((e,t)=>e+t,0);return{villagers:tS,unlockedCaverns:t_,charactersCavernLocation:ez,engineerBonuses:tB,unlockedSchematics:Math.min(Math.min(93,Math.round(1+3*tS?.[1]?.level+Math.floor(tS?.[1]?.level/5))),a.holesBuildings?.length),caverns:{theWell:tk,motherlode:tx,theDen:tC,bravery:tT,theBell:tw,theHarp:tE,theLamp:tA,theHive:tO,grotto:tP,justice:tL,theJars:tI,evertree:tN,wisdom:tR,gambit:tD,theTemple:tF},totalResources:tK,totalLayerResources:tJ,totalOpalsFound:tz,totalVillagersLevels:tX,holesObject:th,majiks:tW,cosmoSchematics:tU,godsLinks:tj,measurements:tY,studies:ty,leastOpalInvestedVillager:tb}},em=(e,a,n,l)=>{let o=e?.description,r=0;switch(n){case 14:case 46:case 47:case 48:case 52:case 55:case 57:r=z({holesObject:a,t:n,i:0}),o=o.replace("{",(0,t.notateNumber)(r,"Big"));break;case 15:r=Math.pow(1.1,Number(a?.extraCalculations?.[1])),o=o.replace("{",(0,t.notateNumber)(r,"Small"));break;case 38:let i=Math.round(30*(r=ee(a)));o=o.replace("$",String(r)).replace("#",String(i));break;case 41:r=Math.pow(1.1,Number(a?.extraCalculations?.[3])),o=o.replace("{",(0,t.notateNumber)(r,"Small"));break;case 45:r=z({holesObject:a,t:n,i:0}),o=o.replace("}",(0,t.notateNumber)(r,r<1e3?"Small":"Big"));break;case 53:case 54:case 56:case 80:r=z({holesObject:a,t:n,i:0}),o=o.replace("{",(0,t.notateNumber)(r,"Small"));break;case 58:r=z({holesObject:a,t:n,i:0}),o=o.replace("{",(0,t.notateNumber)(r,"Big")).replace("#",(0,t.notateNumber)(a?.extraCalculations?.[32],"Big"));break;case 59:r=z({holesObject:a,t:n,i:0}),o=o.replace("{",(0,t.notateNumber)(r,"Big")).replace("!",(0,t.numberWithCommas)(Number(a?.extraCalculations?.[33]))).replace("#",(0,t.numberWithCommas)(Number(a?.extraCalculations?.[34]))).replace("$",(0,t.numberWithCommas)(Number(a?.extraCalculations?.[35]))).replace("%",(0,t.numberWithCommas)(Number(a?.extraCalculations?.[36])));break;case 72:r=10*(0,t.lavaLog)(Number(a?.extraCalculations?.[38])),o=o.replace("{",(0,t.notateNumber)(r,"Small"));break;case 73:r=Math.pow(1.1,(0,t.lavaLog)(Number(a?.extraCalculations?.[39]))),o=o.replace("{",(0,t.notateNumber)(r,"Small"));break;case 76:r=Math.pow(1.02,(0,s.getNewCollectibleChance)(a,l)),o=o.replace("{",(0,t.notateNumber)(r,"Small"));break;case 82:case 83:case 84:let u=82===n?20:83===n?40:100;r=z({holesObject:a,t:n,i:u}),o=o.replace("{",(0,t.notateNumber)(r,"Small"))}return{description:o,value:r}},ed=e=>{let t=0,a=e?.engineerSchematics;for(let e=0;e<a.length;e++)1===a[e]&&(t=Math.round(t+1));return t},ep=({majik:e,t,i:n})=>2===t&&1===n?Math.floor(Math.max(1,Math.pow(3,e?.[n]))):Math.floor(a.cosmoUpgrades?.[t]?.[n]?.x0*e?.[n]),eg=({holesObject:e,t})=>{let n=a.holesInfo[55].split(" ");return -1!==n[t].indexOf("TOT")?(1+ep({majik:e?.villageMajiks,t:1,i:3})/100)*(n[t].replace("TOT","")*e?.measurementBuffLevels[t]/(100+e?.measurementBuffLevels[t])):(1+ep({majik:e?.villageMajiks,t:1,i:3})/100)*n[t]*e?.measurementBuffLevels[t]},eh=({holesObject:e,accountData:t,t:a})=>{let n=ev({holesObject:e,accountData:t,t:a,i:99});return 5>n?1+18*n/100:1+(18*n+8*(n-5))/100},ef=({holesObject:e,accountData:t,t:a})=>({0:{label:"Gloomie Kills",value:e?.extraCalculations?.[28]},1:{label:"Crops",value:t?.farming?.cropsFound},2:{label:"Account lv",value:t?.tome?.tome?.[0]?.quantity},3:{label:"Tome score",value:t?.tome?.totalPoints},4:{label:"All skill lv",value:t?.tome?.tome?.[1]?.quantity},5:{label:"N/A",value:0},6:{label:"Deathnote pts",value:Object.values(t?.deathNote||{}).reduce((e,{rank:t})=>e+t,0)},7:{label:"Highest DMG",value:t?.tasks?.[0]?.[1]?.[0]},8:{label:"Slab Items",value:t?.looty?.lootedItems},9:{label:"Studies done",value:e?.studyStuff?.reduce((e,t)=>e+t,0)},10:{label:"Golem kills",value:Math.floor(e?.extraCalculations?.[63])}})[a]??{label:"Unknown",value:0},ev=({holesObject:e,accountData:a,t:n,i:l})=>{let s;switch(n){case 0:let o=e?.extraCalculations?.[28];s=99===l?(0,t.lavaLog)(o):o;break;case 1:s=99===l?a?.farming?.cropsFound/14:a?.farming?.cropsFound;break;case 2:let r=a?.tome?.tome?.[0]?.quantity;s=99===l?r/500:r;break;case 3:let i=a?.tome?.totalPoints;s=99===l?i/2500:i;break;case 4:let u=a?.tome?.tome?.[1]?.quantity;s=99===l?u/5e3+Math.max(0,u-18e3)/1500:u;break;case 5:default:s=0;break;case 6:let c=Object.values(a?.deathNote||{})?.reduce((e,{rank:t})=>e+t,0);s=99===l?c/125:c;break;case 7:let m=a?.tasks?.[0]?.[1]?.[0];s=99===l?(0,t.lavaLog)(m)/2:m;break;case 8:let d=a?.looty?.lootedItems;s=99===l?d/150:d;break;case 9:let p=e?.studyStuff?.reduce((e,t)=>e+t,0);s=99===l?p/6:p;break;case 10:let g=e?.extraCalculations?.[63];s=99===l?Math.max(0,(0,t.lavaLog)(g)-2):g}return s},eB=({holesObject:e,accountData:t,t:n})=>eg({holesObject:e,t:n})*eh({holesObject:e,accountData:t,t:Number((a.holesInfo[52]?.split(" "))[n])}),e_=({x2:e,x3:t,x4:a,index:n,discountWish:l})=>1===a?Math.max(.01,Math.pow(.85,l))*t:10>e?50*Math.max(.01,Math.pow(.85,l))*Math.pow(1.28,n+Math.floor(n/2.7)):20>e?50*Math.max(.01,Math.pow(.85,l))*Math.pow(1.28,n-16+Math.floor((n-16)/2.7))*Math.pow(1.23,Math.min(Math.max(0,(n-16)/2),14)):40*Math.max(.01,Math.pow(.85,l))*Math.pow(1.34,n-54+Math.floor((n-54)/2.7))*Math.pow(1.26,Math.min(Math.max(0,(n-54)/2),14)),eM=(e,t,a,n,r)=>{let i=+!!(0,h.isBundlePurchased)(t?.bundles,"bun_u")?.owned,c=(0,ea.getCardBonusByEffect)(t?.cards,"Villager_EXP_(Passive)"),d=(0,h.getEventShopBonus)(t,6),p=(0,en.getGrimoireBonus)(t?.grimoire?.upgrades,29),g=(0,er.getTesseractBonus)(t,32),f=(0,o.getArcadeBonus)(t?.arcade?.shop,"Villager_XP_multi")?.bonus??0,v=+!!(0,h.isCompanionBonusActive)(t,13),B=(0,eo.getStatueBonus)(t,28),_=(0,s.getJarBonus)({holesObject:e,i:4,account:t})+((0,s.getJarBonus)({holesObject:e,i:10,account:t})+((0,s.getJarBonus)({holesObject:e,i:12,account:t})+((0,s.getJarBonus)({holesObject:e,i:22,account:t})+((0,s.getJarBonus)({holesObject:e,i:29,account:t})+(0,s.getJarBonus)({holesObject:e,i:35,account:t}))))),M=A(t,59),b=(0,m.getCharmBonus)(t,"Candy_Cache");return{value:(0===a&&r<13?Math.pow(1.5,t?.accountOptions?.[355]):1)*(100+z({holesObject:e,t:0,i:25}))*Math.max(1,(1+M/100)*(1+(0,u.getLegendTalentBonus)(t,12)/100)*(1+b/100)*(1+2*v)*(1+B/100)*(1+_/100)*(1+25*d/100)*(1+50*i/100))*e?.opalsInvested[a]*((1+e?.parallelVillagersGemShop[a])??0)*(1+f/100)*(1+p/100)*(1+g/100)*(1+ep({majik:e?.villageMajiks,t:1,i:5})*Math.floor(n/5)/100)*(1+(V({holesObject:e,t:0,i:3})+(V({holesObject:e,t:1,i:3})+V({holesObject:e,t:2,i:3})+(eB({holesObject:e,accountData:t,t:7})+(Math.floor(e?.opalsInvested[a]/10)*ep({majik:e?.villageMajiks,t:1,i:0})+(ep({majik:e?.villageMajiks,t:1,i:1})*ed(e)+(ep({majik:e?.villageMajiks,t:1,i:2})+(z({holesObject:e,t:48,i:0})+(c+((0,$.getBellBonus)({holesObject:e,t:1})+(eB({holesObject:e,accountData:t,t:0})+(0,l.getWinnerBonus)(t,"+{% Villager EXP")))))))))))/100),breakdown:[{title:"Base Value"},{name:"Opal Dividends",value:100+z({holesObject:e,t:0,i:25})},{title:"Multiplicative"},{name:"Opal Invested",value:e?.opalsInvested[a]},{name:"Companion",value:3*!!v},{name:"Statue",value:1+B/100},{name:"Jar",value:1+_/100},{name:"Event shop",value:1+25*d/100},{name:"Bundle",value:1+50*i/100},{name:"Arcade",value:1+f/100},{name:"Grimoire",value:1+p/100},{name:"Tesseract",value:1+g/100},{name:"Gem shop",value:2*!!e?.parallelVillagersGemShop[a]},{name:"Compass",value:1+M/100},{name:"Charm",value:1+b/100},{title:"Additive"},{name:"Gloomie Opie",value:z({holesObject:e,t:48,i:0})},{name:"Num. of Schematics",value:ed(e)},{name:"Village Majik",value:ep({majik:e?.villageMajiks,t:1,i:5})*Math.floor(n/5)+Math.floor(e?.opalsInvested[a]/10)*ep({majik:e?.villageMajiks,t:1,i:0})+ep({majik:e?.villageMajiks,t:1,i:1})*ed(e)+ep({majik:e?.villageMajiks,t:1,i:2})},{name:"Monument",value:V({holesObject:e,t:0,i:3})+V({holesObject:e,t:1,i:3})+V({holesObject:e,t:2,i:3})},{name:"Measurements",value:eB({holesObject:e,accountData:t,t:7})+eB({holesObject:e,accountData:t,t:0})},{name:"Cards",value:c},{name:"Bell",value:(0,$.getBellBonus)({holesObject:e,t:1})},{name:"Summoning",value:(0,l.getWinnerBonus)(t,"+{% Villager EXP")},{name:"Legend Talent",value:(0,u.getLegendTalentBonus)(t,12)}]}},eb=(e,t)=>1===e&&0===t?5:0===t?10*(-1.5+(10+7*Math.pow(e,2.1))*Math.pow(2.1,e)*(1+.75*Math.max(0,e-4))*Math.pow(3.4,Math.min(1,Math.max(0,Math.floor(1.0000099753310063)))*Math.max(0,e-12))):1===t?30*(10+6*Math.pow(e,1.8))*Math.pow(1.57,e):2===t?50*(10+5*Math.pow(e,1.7))*Math.pow(1.4,e):3===t?120*(30+10*Math.pow(e,2))*Math.pow(2,e):4===t?500*(10+5*Math.pow(e,1.3))*Math.pow(1.13,e):10*1e20,eS=(e,t,n)=>{let l=a.holesInfo[70]?.split(" ");return 99===n?+(1<=e?.studyStuff?.[t]):9===t?1<=e?.studyStuff?.[t]?50+e?.studyStuff?.[t]*Number(l[t]):0:3===t?1<=e?.studyStuff?.[t]?Math.min(32,12+e?.studyStuff?.[t]*Number(l[t])):0:e?.studyStuff?.[t]*Number(l[t])},ey=(e,t,n)=>{let l=["Shallow Caverns","Glowshroom Tunnels","Underground Overgrowth"],o=a.holesInfo?.[68]?.split(" "),r=a.holesInfo?.[69]?.split(" ")?.map((t,a)=>{let n=Math.floor(a/5),s=eS(e,a,0),r=e?.studyProgress?.[a],i=4e3*Math.pow(1.25,e?.studyStuff?.[a])*Math.pow(1.5,Math.floor(a/5));return{name:o?.[a]?.toLowerCase().camelToTitleCase(),description:t.replace("{",Math.round(s)).replace("}",Math.round(100*(1+s/100))/100),listIndex:n,active:e?.extraCalculations?.[61]===a,progress:r,req:i,location:l?.[n],bonus:s,level:e?.studyStuff?.[a],readyToLevel:r>=i}}),i=(0,f.getStampsBonusByEffect)(n,"Study_rate_for_Bolaia");return{studyPerHour:100*(1+(5+(z({holesObject:e,t:85,i:2})+(z({holesObject:e,t:87,i:3})+z({holesObject:e,t:88,i:5}))))*t/100)*(1+((0,s.getJarBonus)({holesObject:e,i:16,account:n})+(i+ep({majik:e?.villageMajiks,t:1,i:4})))/100),studies:r}},ek=(e,n)=>{let l=eC(e,n),s=eT(e,n,99),o=eT(e,n,777),r=a.holesInfo?.[71]?.split(" ")?.map((e,a)=>{let[n,l,s,r]=e?.split("|"),i=ex(a),u=eE({index:a,x0:parseFloat(n),x1:parseFloat(l),points:o,pointsReq:i});return{description:s,bonus:u,pointsReq:i,name:r.replace("{",Math.floor(u)).replace("}",u?`${(0,t.notateNumber)(1+Math.floor(u)/100,"MultiplierInfo")}x`:0).replace(/[]/g,"").replace("(TAP ME)","")}}),i=r?.find(({pointsReq:e})=>o<e),u=r?.[0]?.bonus+10*(0,h.getEventShopBonus)(n,15),c=e?.gambitStuff?.slice(0,u)?.reduce((e,t)=>e+ +(-1!==t),0),m=e?.extraCalculations.slice(65,71),d=m.reduce((e,t)=>e+t,0);return{pointsMulti:l,basePoints:s,points:o,bonuses:r,nextUnlock:i,times:m,totalTime:d,summoningDoublers:{appointed:c,total:r?.[0]?.bonus}}},ex=e=>2e3+1e3*(e+1)*(1+e/5)*Math.pow(1.26,e),eC=(e,t)=>1+(eB({holesObject:e,accountData:t,t:13})+eS(e,13,0)+z({holesObject:t?.hole?.holesObject,t:78,i:10})+V({holesObject:e,t:2,i:7})+(0,s.getJarBonus)({holesObject:e,i:23,account:t})+(0,s.getJarBonus)({holesObject:e,i:30,account:t})+(0,er.getTesseractBonus)(t,47))/100,eT=(e,t,a)=>{let n=e?.extraCalculations[Math.round(a+65)]+(3*Math.floor(e?.extraCalculations[Math.round(a+65)]/10)+10*Math.floor(e?.extraCalculations[Math.round(a+65)]/60));return 99===a?eT(e,t,0)+(eT(e,t,1)+(eT(e,t,2)+(eT(e,t,3)+(eT(e,t,4)+eT(e,t,5))))):777===a?eT(e,t,99)*eC(e,t):0===a?100*n:200*n},ew=(e,t)=>e?.hole?.caverns?.gambit?.bonuses?.[t]?.bonus||0,eE=({index:e,x0:a,x1:n,points:l,pointsReq:s})=>{let o=(0,t.lavaLog)(l),r=(0,t.lavaLog2)(l);return l<s?0:0===e?Math.max(1,Math.ceil(r-8+(o-1))):1===n?a*o:a};e.s(["calcTotalAtomLevels",()=>eF,"getAtomBonus",()=>eR,"getAtomColliderThreshold",()=>eD,"getAtoms",()=>eO],398241);var eA=e.i(172833);let eO=(e,a)=>{let n=(0,t.tryToParse)(e?.Atoms)||e?.Atoms;return eP((0,t.tryToParse)(e?.Divinity)||e?.Divinity,n,a)},eP=(e,t,n)=>{let l=t??[],s=e?.[39],o=a.atomsInfo?.map((e,s)=>{let o=l?.[s]??0,r=n?.towers?.data?.[8]?.level??0,u=t?.[9]??0,c=(0,eA.getBubbleBonus)(n,"ATOM_SPLIT",!1),m=(0,i.isSuperbitUnlocked)(n,"Atom_Redux")?.unlocked??0,d=(0,i.isSuperbitUnlocked)(n,"Isotope_Discovery")??0,p=(0,f.getStampsBonusByEffect)(n,"Lower_Atom_Upgrade_Costs"),g=Math.round(20+(10*!!d+A(n,53))),h={account:n,atomReductionFromAtom:u,reduxSuperbit:m,bubbleBonus:c,atomColliderLevel:r,stampBonusReduction:p,atomInfo:e,level:o},v=eL(h),B=eL({...h,level:o+1}),_=eI({...h,maxLevel:g}),M=eN(e,o,n);return{level:o,maxLevel:g,rawName:`Atom${s}`,...a.atomsInfo?.[s]||{},cost:Math.floor(v),nextLeveCost:Math.floor(B),costToMax:Math.floor(_),bonus:M}}),r=n?.accountOptions?.[134],u=o?.find(({name:e})=>"Hydrogen_-_Stamp_Decreaser"===e);return{particles:s,atoms:o,stampReducer:Math.min(90,(u?.level??0)*r)}},eL=({account:e,atomReductionFromAtom:t,reduxSuperbit:a,bubbleBonus:n,atomColliderLevel:l,stampBonusReduction:s,atomInfo:o,level:r})=>1/(1+(s+t+10*!!a+((0,en.getGrimoireBonus)(e?.grimoire?.upgrades,51)+A(e,50))+n+l/10+7*e?.tasks?.[2][4][6])/100)*(o?.x3+o?.x1*r)*Math.pow(o?.x2,r),eI=e=>{let t=0;for(let a=e?.level;a<e?.maxLevel;a++)t+=eL({...e,level:a});return t},eN=(e,t,a)=>{if(e?.name==="Fluoride_-_Void_Plate_Chef"){let n=a?.cooking?.meals?.reduce((e,{level:t})=>t>=30?e+1:e,0);return 100*(Math.pow(1+e?.baseBonus*t/100,n)-1)}if(e?.name==="Carbon_-_Wizard_Maximizer")return e?.baseBonus*a?.towers?.wizardOverLevels},eR=(e,t)=>{let a=e?.atoms?.atoms;return a?.filter(e=>e?.name===t).map(a=>"Fluoride_-_Void_Plate_Chef"===t?a?.bonus:"Carbon_-_Wizard_Maximizer"===t?a?.baseBonus*e?.towers?.wizardOverLevels:a?.level*a?.baseBonus)?.[0]},eD=e=>0===e?15e6:1===e?25e6:2===e?1e8:3===e?25e7:105e7,eF=e=>e?.reduce((e,{level:t})=>e+t,0),eG=(e,a)=>{let l=e?.CogMap||(0,t.tryToParse)(e?.CogM),s=e?.CogOrder||(0,t.tryToParse)(e?.CogO),o=eW(eU(l,s?.length)),r=ej(e,o,s,a),i=(0,n.createCogstructionData)(o,s);return{...r,cogstruction:i}},ej=(e,a,n,l)=>eq(e?.FlagUnlock||(0,t.tryToParse)(e?.FlagU),e?.FlagsPlaced||(0,t.tryToParse)(e?.FlagP),a,n,l),eW=e=>e?.map(e=>Object.entries(e)?.reduce((e,[t,n])=>a.cogKeyMap?.[t]&&a.cogKeyMap?.[t]!=="_"?{...e,[t]:{name:a.cogKeyMap?.[t],value:n}}:{...e,[t]:n},{})),eU=(e,t)=>{let a=[];for(let n=0;n<t;n++)a[n]=e?.[n]||{};return a},eq=(e,t,n,l,s)=>{let o=e?.reduce((e,s,o)=>{let r=l?.[o],i=n?.[o];return[...e,{currentAmount:-11===s?a.flagsReqs?.[o]:parseFloat(s),requiredAmount:a.flagsReqs?.[o],flagPlaced:t?.includes(o),cog:{name:r,stats:i,originalIndex:o}}]},[]),r=s?.gemShopPurchases?.find((e,t)=>118===t)??0,i=n?.map((e,t)=>({...e,name:l?.[t]})).filter(({name:e})=>e?.includes("Player_")).reduce((e,{a:t})=>e+(t?.value||0),0),u=e$(o);return{...u,baseBoard:o,totalFlaggyRate:u?.totalFlaggyRate*(1+50*r/100),playersBuildRate:i}},eV=(e,t,a)=>{let n=[...e],l={...n[t]?.cog};return n[t]={...n[t],cog:{...n[a]?.cog}},n[a]={...n[a],cog:l},n},eH=(e,t,a=2500,n)=>{let l=[...e],s=e$(l,n),o=s?.[t],r=[],i=Date.now();for(;Date.now()-i<a;){let e=Math.floor(Math.random()*l.length),a=Math.floor(Math.random()*l.length);if(e===a||l?.[e]?.currentAmount<l?.[e]?.requiredAmount||l?.[a]?.currentAmount<l?.[a]?.requiredAmount||l?.[e]?.flagPlaced||l?.[e]?.cog?.stats?.h==="everything"||l?.[a]?.flagPlaced||l?.[a]?.cog?.stats?.h==="everything")continue;let i=eV(l,e,a),u=e$(i,n);u?.[t]>o&&(s=u,l=i,o=u?.[t],r=[...r,{from:e,to:a}])}return{...s,moves:r}},e$=(e,t)=>{let{boosted:a,relations:n}=eY(e),l=0,s=0,o=0,r=0,i=e?.map((e,i)=>{let{cog:u}=e||{},{e:c,g:m,f:d}=a?.[i]||{},p=u?.stats?.a?.value||0,g=u?.stats?.c?.value||0,h=u?.stats?.b?.value||0,f=0;if(u?.name?.includes("Player_")){let e=t?.find(({name:e})=>e===u?.name.replace("Player_",""));e?(f=e?.constructionExpPerHour*(1+(d?.value||0)/100),r+=f):r+=h}let v=p*(1+(c?.value||0)/100);l+=Math.max(v,0),s+=u?.stats?.d?.value||0;let B=g+g*(m?.value||0)/100;return o+=Math.max(B,0),{...e,cog:{...u,stats:{...u?.stats,a:{...u?.stats?.a,value:v},c:{...u?.stats?.c,value:B},...t?{b:{...u?.stats?.b,value:f}}:{}}},affectedBy:n?.[i]||[],affects:Object.entries(n).filter(([e,t])=>t.includes(i)).map(([e])=>parseInt(e))}});return t&&(i=i?.map(e=>e?.cog?.name?.includes("Player_")?{...e,cog:{...e?.cog,stats:{...e?.cog?.stats,b:{...e?.cog?.stats?.b,value:e?.cog?.stats?.b?.value*(1+s/100)}}}}:e)),{totalBuildRate:l,totalExpRate:s,totalFlaggyRate:o,totalPlayerExpRate:r*(t?1+s/100:1),board:i}},eY=e=>{let t={},a=Array(96).fill(0);for(let n=0;n<8;n++)for(let l=0;l<12;l++){let s=(7-n)*12+l,o=e?.[s]?.cog,r=e?.[s]?.cog?.stats||{},i=eK(o,l,n);if(i?.length>0){i=i?.map(([e,t])=>e<0||t<0||e>=12||t>=8?null:(7-t)*12+e)?.filter(e=>null!==e);let{e,f:n,g:l}=r||{};if(e||n||l)for(let e=0;e<i.length;e++){let n=i[e],{e:l,f:o,g:u}=r;if(a?.[n]===0)a[n]={e:{...l,value:Math.ceil(l?.value)},f:{...o,value:Math.ceil(o?.value)},g:{...u,value:Math.ceil(u?.value)}};else{let{e:e,f:t,g:s}=a[n]||{};a[n]={e:{...e,value:Math.ceil((e?.value||0)+(l?.value||0))},f:{...t,value:Math.ceil((t?.value||0)+(o?.value||0))},g:{...s,value:Math.ceil((s?.value||0)+(u?.value||0))}}}t[n]=[...t[n]||[],s]}}}return{boosted:a,relations:t}},eK=(e,t,a)=>{let n=[];switch(e?.stats?.h){case"diagonal":n.push([t-1,a-1],[t+1,a-1],[t-1,a+1],[t+1,a+1]);break;case"adjacent":n.push([t-1,a],[t,a+1],[t+1,a],[t,a-1]);break;case"up":n.push([t-1,a+2],[t,a+2],[t+1,a+2],[t-1,a+1],[t,a+1],[t+1,a+1]);break;case"right":n.push([t+2,a-1],[t+2,a],[t+2,a+1],[t+1,a-1],[t+1,a],[t+1,a+1]);break;case"down":n.push([t-1,a-2],[t,a-2],[t+1,a-2],[t-1,a-1],[t,a-1],[t+1,a-1]);break;case"left":n.push([t-2,a-1],[t-2,a],[t-2,a+1],[t-1,a-1],[t-1,a],[t-1,a+1]);break;case"row":for(let e=0;e<12;e++)t!==e&&n.push([e,a]);break;case"column":for(let e=0;e<8;e++)a!==e&&n.push([t,e]);break;case"corners":n.push([t-2,a-2],[t+2,a-2],[t-2,a+2],[t+2,a+2]);break;case"around":n.push([t,a-2],[t-1,a-1],[t,a-1],[t+1,a-1],[t-2,a],[t-1,a],[t+1,a],[t+2,a],[t-1,a+1],[t,a+1],[t+1,a+1],[t,a+2]);break;case"everything":for(let e=0;e<8;e++)for(let l=0;l<12;l++)(a!==e||t!==l)&&n.push([l,e])}return n},eJ=e=>eX(e?.TowerInfo||(0,t.tryToParse)(e?.Tower),(0,t.tryToParse)(e?.TotemInfo)||e?.TotemInfo),eX=(e,t)=>{let n=t?.[0],l=n?.reduce((e,t)=>e+t,0),s=Object.keys(a.towers).length,o=e?.slice(54,62),r=0,i=0;return{data:Object.entries(a.towers)?.map(([t,a])=>{let n=e?.[a?.index];return a?.index>=9&&a?.index<=17&&n>50&&(r+=n-50),i+=n,{...a,name:t,level:n,nextLevel:n+1===e?.[a.index+s],progress:e?.[a?.index+12+2*s],inProgress:o?.includes(a?.index),slot:o?.findIndex(e=>e===a?.index)}}),buildMultiplier:a.randomList?.[13].split(" "),wizardOverLevels:r,totalLevels:i,totalWaves:l,towersTwo:e?.[2]}},ez=(e,t,a,n)=>0===n?20*Math.pow(t+1,2)*Math.pow(1.6,t+1):Number(e?.buildMultiplier?.[n])*Math.pow(a,t),eQ=[250,500,750,1e3,1250,1500,2500],eZ=(e,t)=>{if(0===t)return Math.max(0,Math.floor(e/10));if(1===t)return Math.max(0,2*Math.floor((e-eQ?.[2])/10));if(2===t)return Math.max(0,5*Math.floor((e-eQ?.[4])/10));if(3===t)return 35*(e>=eQ?.[1]);if(4===t)return 100*(e>=eQ?.[3]);else if(5===t)return 100*(e>=eQ?.[5]);else if(6===t)return 30*(e>=eQ?.[6]);return 0},e0=(e,t,a,n)=>{let l=e?.towers?.totalLevels;return 50===t?Math.round(2*a+(eZ(l,6,0)+100*ew(e,9))):101===t?eZ(l,4,0):100===t?18<=n&&e?.coralReef?.unlockedCorals>n-18?eZ(l,5,0)+100:eZ(l,5,0):15===t?eZ(l,3,0):0},e1=e=>(3+eR(e,"Nitrogen_-_Construction_Trimmer")/100)*(1+(0,u.getLegendTalentBonus)(e,33)/100)},949500,11138,e=>{"use strict";e.s(["calcTotalBeanstalkLevel",()=>A,"getCharmBonus",()=>E,"getInventoryNinjaItem",()=>k,"getJadeEmporiumBonus",()=>w,"getNinjaEquipmentBonus",()=>x,"getNinjaUpgradeBonus",()=>C,"getSneaking",()=>h,"isJadeBonusUnlocked",()=>T],949500);var t=e.i(608580),a=e.i(82748),n=e.i(262887),l=e.i(173024);e.s(["getLegendTalentBonus",()=>d,"getLegendTalents",()=>u,"getSuperTalentLeftToSpend",()=>g],11138);var s=e.i(405127),o=e.i(210270),r=e.i(206609),i=e.i(24174);e.i(366125);let u=(e,a={},n=[])=>c((0,t.tryToParse)(e?.Spelunk),a,n),c=(e,t={},n=[])=>{let l=e?.[18],s=a.generalSpelunky[26]?.split(" "),o={...t,_spelunkingRaw:e};return{talents:a.legendTalents?.map((e,t)=>{let a=l?.[t]||0,n=e.x2*a,r=m(e.description,t,n,o);return{...e,originalIndex:t,level:a,index:s?.indexOf(t+""),bonus:n,description:r||e.description}}).filter(e=>"filler"!==e.name).toSorted((e,t)=>e.index-t.index),pointsLeftToSpend:p(l,t,n)}},m=(e,a,n,l={})=>{if(!e)return e;let r=e;r=r.replace(/\{/g,(0,t.commaNotation)(n));let i=1+n/100,u=(0,t.notateNumber)(i,"MultiplierInfo");if((r=r.replace(/\}/g,u)).includes("$")){let e="";e=2===a?2+n/100:33===a?(0,t.notateNumber)((0,s.getGildedBoostioBonus)(l)||0,"MultiplierInfo"):37===a?Math.round((0,o.getGuaranteedCrystalMobs)(l)||0):39===a?Math.round(50+d(l,7)):(0,t.notateNumber)(n,"MultiplierInfo"),r=r.replace(/\$/g,e)}return r},d=(e,t)=>e?.legendTalents?.talents?.find(e=>e.originalIndex===t)?.bonus,p=(e,t={},a=[])=>Math.round(((e={},t=[])=>{let a=0;t&&Array.isArray(t)&&t.forEach(e=>{let t=Math.max(0,Math.floor(((e?.level||0)-400)/100));a+=t});let n=(0,r.getClamWorkBonus)(e,1)||0;a+=n;let l=(0,r.getClamWorkBonus)(e,4)||0;a+=l;let s=(0,o.isCompanionBonusActive)(e,39)?e?.companions?.list?.at(39)?.bonus:0;a+=10*s;let u=e?.gemShopPurchases?.find((e,t)=>42===t)||0;a+=u;let c=(0,i.isArtifactAcquired)(e?.sailing?.artifacts,"Obsidian")?.bonus??0;return Math.round(a+=Math.min(5,Math.round(c)))})(t,a)-(e=>{if(!e||!Array.isArray(e))return 0;let t=0;for(let a=0;a<50;a++)t+=e[a]||0;return Math.round(t)})(e)),g=(e,t,a,n={})=>{let l=((e,t={})=>Math.min(20,Math.floor(Math.max(0,e-400)/100)+ +!!t?.spelunking?.loreBosses?.[5]?.defeated))(e,n),s=Math.round(t+12*a),o=n?.spelunking?.talentSpelunkArrays?.[s];if(Array.isArray(o))for(let e=0;e<20;e++)-1!==o[e]&&(l=Math.round(l-1));return Math.round(l)},h=(e,a,n,l)=>v((0,t.tryToParse)(e?.Ninja),(0,t.tryToParse)(e?.Spelunk),a,n,l),f=(a.ninjaExtraInfo?.[3]).split(" "),v=(e,l,s,o,r)=>{let i=e?.[106]?.filter(e=>e.includes("NjGem")),u=Object.entries(a.ninjaEquipment).reduce((e,[t,a])=>t.includes("NjGem")?[...e,a]:e,[]).map((e,t)=>{let n=i?.[t],l=r?.accountOptions?.[233+t]??0,s=l<.5?0:_({...e,baseValue:l},t,0,o),u="string"==typeof a.randomList?.[102]?a.randomList?.[102]?.split(" ")[t]:void 0;return{...e,unlocked:n,baseValue:l,bonus:s,description:u}});u=u.map((e,a)=>{let n=e?.baseValue<.5?0:_(e,a,u?.[5]?.bonus,o),l,s=e.description??"";return e.description.includes("}")&&(l=(0,t.notateNumber)(n,"Big"),s=s.replace("}",l)),e.description.includes("$")&&(l=(0,t.notateNumber)(100*(1-1/(1+n/100)),"Big"),s=s.replace("$",l)),{...e,bonus:n,notatedBonus:l,description:s.replace("{","+").replace(/@/g,"")}});let c=e?.[102]?.[0],m=e?.[102]?.[9],d=e?.[102]?.[1],p=e?.[102]?.[2],g=e?.[103],h=g?.reduce((e,t)=>e+t,0),v=e?.[104],b=e?.[100],S=f.reduce((e,t,a)=>e+ +((r?.accountOptions?.[231]<r?.accountOptions?.[232]?0:parseFloat(t))-b?.[a]<=0),1),y=r.accountOptions?.[231],k=r.accountOptions?.[232],x=k>0?12*k:Math.min(12,S),C=e?.slice(0,o?.length)?.map(([e,t])=>({floor:e,activityInfo:t})),T=a.ninjaExtraInfo.slice(13,23).map(e=>e.split(" ").toChunks(2))?.map(e=>e?.map(([e,t])=>({...a.ninjaEquipment[e],dropChance:t}))),w=l?.[13]?.[3]??0,E=a.ninjaUpgrades?.map((e,t)=>{let a=g?.[t],n=t>16,l=!1;return l=!n||w>t-17,{...e,level:a,value:a*(e.modifier??1),isUnlocked:l,isSpecialUpgrade:n,prerequisiteIndex:n?null:e.x9,unlockOrder:n?t-17+1:null,position:{locked:{x:e.x0,y:e.x1},unlocked:{x:e.x10,y:e.x11}},size:{width:e.x2,height:e.x3}}}),A=a.ninjaExtraInfo[24].split(" "),O=M(e?.slice(60,99),!1,u,r),P=M(e?.slice(12,12+o?.length*4),!0,u?.[3]?.bonus,r),L=o.map((e,t)=>({equipment:P?.[t]?.map(e=>({...e,value:e?.value})),...C?.[t]||[]})),I=0,N=a.jadeUpgrades.map((e,a)=>{let n=!!m&&m?.indexOf(t.number2letter?.[a])!==-1;return n&&(I+=1),{...e,originalIndex:a,index:A?.indexOf(a+""),unlocked:n}});N.sort((e,t)=>e.index-t.index);let R=r?.looty?.rawLootedItems,D=N.map((e,t)=>{let a;return 42===t?a=1:(8===t||6===t)&&(a=(6===t?3:5)*Math.floor(Math.max(0,R-1e3)/10)*(1+(0,n.getLabBonus)(r?.lab?.labBonuses,15)/100)),{...e,cost:(300+500*t+Math.pow(t,3))*Math.pow(2.52,t)*Math.pow(3.07,Math.max(0,t-28))*Math.pow(160,Math.max(0,t-38)),bonus:a}}),F=a.pristineCharms.map((t,a)=>({...t,unlocked:e?.[107]?.[a],value:t?.bonus.includes("}")?1+t?.x3/100:t?.x3,baseValue:t?.x3})),G=(a.randomList?.[101]).split(" ").map((e,t)=>{let[a,n]=e.split("{");return{index:t,description:a,bonus:n}}),j=B(y,k,E,u,O);return{totalNinjaUpgradeLevels:h,sneakingExpThing:c,jadeEmporium:D,jadeCoins:d,upgrades:E,characterEquipments:P,inventory:O,players:L,pristineCharms:F,dropList:T,doorsCurrentHp:b,beanstalkData:v,totalJadeEmporiumUnlocked:I,unlockedFloors:x,gemStones:u,lastLooted:p,ninjaMasteryBonuses:G,ninjaMastery:k,itemsMaxLevel:j}},B=(e,t,a,n,l)=>{let s=k({sneaking:{inventory:l}},"Gold_Star")||0,o=(a?.[2]?.value||0)*e,r=n?.[7]?.bonus,i=e=>a?.[e]?.value||0;return[{name:"Gemstone",value:Math.floor(o+i(5))},{name:"Kunai",value:Math.floor(o+i(6))},{name:"Gloves",value:Math.floor(o+i(9))},{name:"Charm",value:Math.floor(o+i(10)+s+r)},{name:"Nunchaku",value:Math.floor(o+i(11))}]},_=(e,t,a,n)=>{let s=(0,l.getHighestTalentByClass)(n,l.CLASSES.Wind_Walker,"GENERATIONAL_GEMSTONES")??0;return 5===t?e?.x3+e?.x5*(e?.baseValue/(1e3+e?.baseValue)):(e?.x3+e?.x5*(e?.baseValue/(1e3+e?.baseValue)))*(1+a/100)*Math.max(1,s)},M=(e,t,n,l)=>{let s=n?.[3]?.bonus||0,o=e?.map(([e,t],n)=>({...a.ninjaEquipment[e],level:t,symbolBonus:b(l,S(60+n)),symbolLevel:l?.spelunking?.sneakingSlots?.[24+n]}));return t?o?.toChunks(4)?.map(e=>e.map(e=>({...e,value:y(e)}))):o?.map(e=>{let t=d(l,6),a=e?.symbolBonus||0;return{...e,value:y(e)*(e?.name?.startsWith("Gold_")?1+s/100*(1+a/100)*(1+t/100):1)}})},b=(e,t)=>999==t?50*(e?.spelunking?.sneakingSlots?.[t]+1):50*e?.spelunking?.sneakingSlots?.[t],S=e=>60>e?Math.round(e-14)-2*Math.floor((e-14)/4):Math.round(e-36),y=({type:e,subType:t,level:a,x3:n,x5:l})=>{if(1===e)if(0===t)return 10*n*((a+10)/(a+40));else return n*Math.pow(1.23,a)*Math.pow(.92,Math.max(0,a-80))*Math.pow(.94,Math.max(0,a-110));return 2===e?Math.min(n+a/(a+50)*l,l)+Math.min(a/(a+900)*l,l):0},k=(e,t)=>e?.sneaking?.inventory?.find(({name:e})=>e===t)?.value,x=(e,t,a)=>e?.sneaking?.players?.[t]?.equipment?.reduce((e,t)=>e+(t?.name===a?t?.value:0),0),C=(e,t)=>e?.sneaking?.upgrades?.find(({name:e})=>e===t)?.value,T=(e,t)=>e?.sneaking?.jadeEmporium?.find(({name:e})=>e===t)?.unlocked,w=(e,t)=>e?.sneaking?.jadeEmporium?.find(({name:e})=>e===t)?.bonus,E=(e,t)=>e?.sneaking?.pristineCharms?.find(({name:e,unlocked:a})=>e===t&&a)?.baseValue??0,A=(e=[])=>e?.reduce((e,t)=>e+t,0)},264046,e=>{"use strict";e.s(["getEndlessBattles",()=>p,"getSummoning",()=>m,"getWinnerBonus",()=>_]);var t=e.i(608580),a=e.i(82748),n=e.i(949500),l=e.i(24174),s=e.i(161866),o=e.i(384308),r=e.i(669203),i=e.i(878012);let u={0:"white",1:"green",2:"yellow",3:"blue",4:"purple",5:"red",6:"cyan"},c={0:"aether",1:"grover",2:"shimmer",3:"freezer",4:"hexer",5:"cinder",6:"zephyer"},m=(e,a,n)=>d((0,t.tryToParse)(e?.Summon),(0,t.tryToParse)(e?.KRbest),a,n),d=(e,n,l,s)=>{let o=l?.accountOptions?.[319]??0,r=e?.[0],m=r?.reduce((e,t)=>e+t,0),d=e?.[3],p=e?.[1],g=e?.[2],_=["Piggo","Wild_Boar","Mallay","Squirrel","Whale","Bunny","Chippy","Cool_Bird","Hedgehog"],b=["Pet1","Pet2","Pet3","Pet0","Pet4","Pet6","Pet5","Pet10","Pet11"],S=[[],[],[],[],[],[],[],[],[],[]],{familiarsOwned:y}=(e?.[4]??[]).reduce((e,t,a)=>(e.familiarsOwned+=e.multiplier*t,e.multiplier*=a+3,e),{familiarsOwned:0,multiplier:1}),k={0:0,1:0,2:0,3:0,4:0,5:0,6:0};b.forEach((e,t)=>{let n=a.summoningEnemies.find(t=>t.enemyId===e);if(n){let a=B(e,n,p);S[0].push({...n,...a,icon:`afk_targets/${_?.[t]}`})}}),a.deathNote.forEach(({rawName:e,world:t})=>{let n=a.summoningEnemies.find(t=>t.enemyId===e);if(n){let a=B(e,n,p);S[t+1].push({...n,...a})}});let x=p?.reduce((e,t)=>{let n=a.summoningEnemies.find(e=>e.enemyId===t);if(n&&n?.bonusId<20&&a.summoningBonuses.find(e=>e.bonusId===n.bonusId))if(e[n.bonusId]?e[n.bonusId]+=parseFloat(n.bonusQty):e[n.bonusId]=parseFloat(n.bonusQty),-1!==b.findIndex(e=>n.enemyId===e))k[0]+=1;else{let e=a.deathNote.find(({rawName:e})=>n.enemyId===e);e&&(k[e.world+1]+=1)}return e},{});for(let e=0;e<o;e++){let t=e%40,n=Math.round(Number(a.summoningEndless.bonusIds[t])-1);x[n]=(Number(x[n])||0)+Number(a.summoningEndless.bonusQuantities[t])}let C=a.summoningBonuses.map(({bonusId:e,bonus:t},a)=>{let n=x?.[a];return{bonusId:e,bonus:t,value:h(x,l,a),baseValue:n}}),T=l?.hole?.holesObject?.gambitStuff,w=a.summoningUpgrades.map((e,t)=>{let a=T&&T?.includes(t);return{...e,originalIndex:t,level:r?.[t],value:r?.[t]*e.bonusQty*(a?2:1),doubled:a}}),E=f(w=M(w=w.map((e,t)=>{let a=w.find(({originalIndex:e})=>49===e),n=w.find(({originalIndex:e})=>57===e),s=(0,i.getTesseractBonus)(l,54)*l?.accountOptions?.[319],o=1/(1+a?.value/100)*(1/(1+n?.value/100))*(1/(1+s/100))*e?.cost*Math.pow(e?.costExponent,r?.[t]);return{...e,totalCost:o}}),k,s,o),m,l),A=v(w,m,l);w=(0,t.groupByKey)(w,({colour:e})=>e);let O={0:256,1:257,2:262,3:120,4:157,5:212,6:264},P=Object.entries(n||{}).filter(([e])=>e.includes("SummzTrz")).map(([e,n])=>{let l=parseInt(e.match(/\d+$/)[0],10),s=a.summoningEnemies[106+l],o=s?.enemyId==="Boss6",r=o?"Boss6A":s?.enemyId,i=a.monsters?.[r]?.Name,m=2*s?.hp*Math.pow(4e3,n),d=(0,t.createRange)(n+1,n+14).map(e=>2*s?.hp*Math.pow(4e3,e)),p=a.monsters?.[a.mapEnemiesArray[O[l]]]?.Name;return{name:s?.territoryName,monsterIcon:o?`data/${s?.enemyId}`:`afk_targets/${i}`,stoneName:c[l],kills:n,index:l,bonus:`${u[l]}_`+Math.max(2,1+n)+"x_higher_bonuses",bossHp:m,nextLevelHps:d,mapName:a.mapNames[O[l]],mapMonsterName:p,mapMonsterIcon:p?`afk_targets/${p}`:null}}).toSorted((e,t)=>e.index-t.index),L=P.reduce((e,{kills:t})=>e+t,0);return{upgrades:w,winnerBonuses:C,essences:g,totalUpgradesLevels:m,familiarsOwned:y,allBattles:S,armyHealth:E,armyDamage:A,summoningStuff:d,highestEndlessLevel:o,totalWins:S?.flat()?.reduce((e,{won:t})=>e+ +!!t,0)+o,summoningStones:P,totalSummoningStonesKills:L}},p=(e=100,t,n)=>{let l=[];for(let s=0;s<t+e;s++){let e=s%40,o=g(s,0,0),r=a.summoningEndless.bonusIds?.[e],i=structuredClone(a.summoningBonuses?.[r-1]),u=a.summoningEndless.bonusQuantities[e]*(1+(n?.[31]?.value??0)/100),c=i?.bonus?.includes("<")?1+u/100:u;i.bonus=i?.bonus?.replace(/[<{]/,c.toFixed(2).replace(".00",""));let m=Math.round(a.summoningEnemies.findIndex(e=>e.enemyId.includes("rift1"))+Math.min(4,Math.floor(s/20))),[d,...p]=a.summoningEndless.difficultiesText?.[o].split("|"),h=a.summoningEnemies?.[m];l.push({...h,bonus:i,bonusQty:u,difficulty:{name:d,sentence:p.join("_")},won:t>s,icon:`etc/${h?.enemyId}_monster`})}return l},g=(e,t,n)=>99===n?+(t===g(e,0,0)):a.summoningEndless.difficulties[Math.round(e-40*Math.floor(e/40))],h=(e,t,a)=>{let i,u=e?.[a]||0,c=(0,n.getCharmBonus)(t,"Crystal_Comb"),m=(0,l.isArtifactAcquired)(t?.sailing?.artifacts,"The_Winz_Lantern")?.bonus??0,d=t?.gemShopPurchases?.find((e,t)=>11===t)??0,p=(0,s.getAchievementStatus)(t?.achievements,373),g=(0,s.getAchievementStatus)(t?.achievements,379),f=(0,r.getEmperorBonus)(t,8),v=(0,o.getArmorSetBonus)(t,"GODSHARD_SET"),{bonusPerLevel:B,level:_}=t?.meritsDescriptions[5][4];if(20===a||22===a||24===a||31===a)i=u;else if(19===a)i=3.5*u*(1+c/100)*(1+10*d/100)*(1+(m+Math.min(10,_*B)+p+g+v)/100);else if(a>=20&&a<=33){let a=h(e,t,31);i=u*(1+c/100)*(1+10*d/100)*(1+(m+Math.min(10,_*B)+p+g+v+f+(0===a?0:a))/100)}else{let a=h(e,t,31);i=3.5*u*(1+c/100)*(1+10*d/100)*(1+(m+Math.min(10,_*B)+p+g+v+f+(0===a?0:a))/100)}return i},f=(e,t,a)=>{let n=[1,10,35,37].reduce((t,a)=>{let n=e.find(({originalIndex:e})=>e===a)||{};return t+n?.value},0),l=e.find(({originalIndex:e})=>20===e)?.value||0,s=e.find(({originalIndex:e})=>50===e)?.value||0,o=e.find(({originalIndex:e})=>59===e)?.value||0,r=e.find(({originalIndex:e})=>61===e)?.value||0;return(1+n)*(1+l/100)*(1+(s+(o+(e.find(({originalIndex:e})=>63===e)?.value||0)*a?.accountOptions?.[319]))/100)*(1+r*Math.max(0,Math.floor(t/100))/100)},v=(e,t,a)=>{let n=[3,12,21,31].reduce((t,a)=>{let n=e.find(({originalIndex:e})=>e===a)||{};return t+n?.value},0),l=e.find(({originalIndex:e})=>43===e)?.value||0,s=e.find(({originalIndex:e})=>51===e)?.value||0,o=e.find(({originalIndex:e})=>56===e)?.value||0,r=e.find(({originalIndex:e})=>47===e)?.value||0,i=e.find(({originalIndex:e})=>60===e)?.value||0;return(1+n)*(1+l/100)*(1+(s+(o+(e.find(({originalIndex:e})=>64===e)?.value||0)*a?.accountOptions?.[319]))/100)*(1+0*r/100)*(1+i*Math.max(0,Math.floor(t/100))/100)},B=(e,n,l)=>{let s=`data/Mface${a.monsters?.[e]?.MonsterFace}`,o=l?.includes(e),{bonus:r,bonusId:i}=a.summoningBonuses.find(e=>e.bonusId===n.bonusId),u=3.5*n?.bonusQty,c=r.includes("<")?(0,t.notateNumber)(1+u/100,"MultiplierInfo"):(0,t.notateNumber)(u,"Big");return{bonus:{bonusId:i,bonus:r.replace(/[<{]/,c)},won:o,icon:s}},_=(e,t)=>e?.summoning?.winnerBonuses?.find(({bonus:e})=>e===t)?.value??0,M=(e,t,a,n)=>{let l=Object.values(t).reduce((e,t)=>e+t,0),s=e.reduce((e,{level:t})=>e+t,0);return e.map(e=>{let o="";switch(e.originalIndex){case 0:o=e.value*l;break;case 11:case 18:o=e.value*t[1];break;case 27:o=e.value*t[2];break;case 38:o=e.value*t[3];break;case 54:o=e.value*t[6];break;case 49:case 57:o=e.value;break;case 30:case 40:case 65:case 66:case 67:case 46:case 52:case 58:o=e.value*(a?.[0]?.Lv0?.[18]??1);break;case 60:case 61:o=e.value*(s/100);break;case 62:case 63:case 64:o=e.value*n}return{...e,totalBonus:o}})}},470242,e=>{"use strict";e.s(["getEquinox",()=>m,"getEquinoxBonus",()=>h]);var t=e.i(82748),a=e.i(608580),n=e.i(172833),l=e.i(210270),s=e.i(441132),o=e.i(264046),r=e.i(695906),i=e.i(279522),u=e.i(669203),c=e.i(878012);let m=(e,t)=>{let n=(0,a.tryToParse)(e?.WeeklyBoss)||e?.WeeklyBoss,l=(0,a.tryToParse)(e?.Dream)||e?.Dream;return n&&l?d(n,l,t):null},d=(e,a,o)=>{let m=a.slice(2,16).reduce((e,t)=>e+t,0),d=Object.keys(e).filter(e=>e.startsWith("d_")).reduce((t,a)=>(t[a.substring(2)]=e[a],t),{}),g=Object.values(d).reduce((e,t)=>e+ +(-1===t),0),h=a[2],f=t.equinoxChallenges.map(({label:e,goal:t,reward:a},n)=>({label:e,goal:t,reward:a,current:d[n]||0,active:-1!==d[n]&&0<h--})),v=p(f,a.slice(2,14),o),B=(0,l.isBundlePurchased)(o?.bundles,"bun_q"),_=(0,n.getVialsBonusByStat)(o?.alchemy?.vials,"EqBar"),M=(0,s.getVoteBonus)(o,32),b=(0,l.getEventShopBonus)(o,3),S=+!!(0,l.isCompanionBonusActive)(o,15),y=(0,r.getCosmoBonus)({majik:o?.hole?.holesObject?.idleonMajiks,t:2,i:5})||0,k=(0,i.getArcadeBonus)(o?.arcade?.shop,"Equinox_Fill_Rate")?.bonus,x=(0,u.getEmperorBonus)(o,5),C=(0,c.getTesseractBonus)(o,37),T=10*(-1===d[3])+(15*(-1===d[9])+(20*(-1===d[14])+(25*(-1===d[19])+(30*(-1===d[22])+(35*(-1===d[24])+40*(-1===d[29])))))),w=(1+M/100)*(1+2.5*S)*(1+y/100)*(1+.5*b)*(1+(o?.accountOptions?.[320]??0)/10)*(1+(_+T+k+x+C)/100),E=[{title:"Multiplicative"},{name:""},{name:"Arcade",value:k/100},{name:"Vote",value:M/100},{name:"Cosmo",value:y/100},{name:"Companion",value:2.5*S},{name:"Event shop",value:.5*b},{name:"Penguins",value:1+o?.accountOptions?.[320]/10},{name:"Vial",value:_/100},{name:"Clouds",value:T/100},{name:"Emperor",value:x/100},{name:"Tesseract",value:C/100},{name:"Bundle*",value:B?90:60}],A=B?Math.round(90*w):Math.round(60*w),O=Math.round((120+40*m)*Math.pow(1.02,m)),P=a?.[0],L=new Date().getTime()+(O-P)/A*36e5;return{currentCharge:P,chargeRequired:O,chargeRate:A,timeToFull:L,challenges:f,upgrades:v,completedClouds:g,breakdown:E,expression:`const base = (1 + voteBonus / 100)
    * (1 + companionBonus * 2.5)
    * (1 + cosmoBonus / 100)
    * (1 + .5 * eventShopBonus)
    * (1 + (penguins) / 10)
    * (1 + (eqBarVial + cloudsBonus + arcadeBonus + emperorBonus) / 100);
const chargeRate = bundleBonus ? Math.round(90 * base) : Math.round(60 * base)
    `}},p=(e,a,n)=>{let l=e.filter(e=>-1===e.current&&"Unlock_next_Equinox_upgrade"===e.reward).length;return t.equinoxUpgrades.map(({name:t,description:s,maxLevel:r,bonus:i},u)=>{let c="Hmm..."===t?0:"Food_Lust"===t?Math.min(parseInt(a[u]),n?.accountOptions?.[193]):i*a[u]||0,m=(0,o.getWinnerBonus)(n,"+{ Equinox Max LV"),d={4:5*g(e,12)+10*g(e,18)+10*g(e,34),5:6*g(e,32),8:5*g(e,21)+10*g(e,26),9:4*g(e,25),10:4*g(e,30),11:15*g(e,35)},p=u in d?r+m+Math.round(d[u]):7===u?r+m:3===u?r+3*g(e,6)+4*g(e,15):r;return{name:t,bonus:c,desc:s?.replace("{}",i*a[u]||0).replace("{","").replace("}",a[u]||0).split("_@_"),lvl:a[u]||0,maxLvl:p,unlocked:u<=l}})},g=(e,t)=>+!!e.find((e,a)=>a===t&&-1===e.current),h=(e,t)=>(e||[])?.filter(e=>e.name===t)?.[0]?.bonus||0},441132,e=>{"use strict";e.s(["getMeritocracyBonus",()=>d,"getVoteBallot",()=>u,"getVoteBonus",()=>m]);var t=e.i(470242),a=e.i(82748),n=e.i(695906),l=e.i(264046),s=e.i(210270),o=e.i(11138),r=e.i(279522),i=e.i(206609);let u=(e,t)=>c(e,t),c=(e,u)=>{let c,{votePercent:m,voteCategories:d,voteCat2:p,votePercent2:g}=u?.serverVars||{},[h,...f]=d||[],[v,...B]=p||[],_=(0,s.isCompanionBonusActive)(u,19)?u?.companions?.list?.at(19)?.bonus:0,M=1+((0,t.getEquinoxBonus)(u?.equinox?.upgrades,"Voter_Rights")+((0,n.getCosmoBonus)({majik:u?.hole?.holesObject?.idleonMajiks,t:2,i:3})+(0,l.getWinnerBonus)(u,"+{% Ballot Bonus")+(17*(0,s.getEventShopBonus)(u,7)+13*(0,s.getEventShopBonus)(u,7)+_)))/100,b=a.ninjaExtraInfo[38].split(" ").toChunks(3).map((e,t)=>{let a=f.findIndex(e=>e===t);return{...e,icon:`VoteBon${t}.png`,active:a>-1,selected:h===t,percent:m?.[a]||0,bonus:parseFloat(e?.[1])*M}}),S=(0,s.isCompanionBonusActive)(u,39)?u?.companions?.list?.at(39)?.bonus:0,y=(0,r.getArcadeBonus)(u?.arcade?.shop,"Meritocracy_Bonus")?.bonus,k=(0,o.getLegendTalentBonus)(u,24)??0,x=1+(5*((0,i.getClamWorkBonus)(u,3)??0)+(S+(k+(y+20*(0,s.getEventShopBonus)(u,23)))))/100,C=a.ninjaExtraInfo[41].split(" "),T=[];for(let e=0;e<C.length;){let t=[];for(;isNaN(Number(C[e]));)t.push(C[e]),e++;let a=Number(C[e++]),n=Number(C[e++]);T.push({description:t.join(" "),value:a,extra:n})}return{bonuses:b,meritocracyBonuses:c=T.map((e,t)=>{let a=B.findIndex(e=>e===t);return{...e,icon:`MeritBon${t}.png`,active:a>-1,selected:v===t,percent:g?.[a]||0,bonus:e.value*x}}),voteMulti:M,meritocracyMult:x,selectedBonus:{...b?.[h],index:h},selectedMeritocracyBonus:{...c?.[v],index:v}}},m=(e,t)=>e?.voteBallot?.bonuses?.[t]?.selected?e?.voteBallot?.bonuses?.[t]?.bonus:0,d=(e,t)=>e?.voteBallot?.meritocracyBonuses?.[t]?.selected?e?.voteBallot?.meritocracyBonuses?.[t]?.bonus:0},276924,e=>{"use strict";e.s(["applyStatuesMulti",()=>p,"calcStatueLevels",()=>h,"calcTotalOnyx",()=>f,"getStatueBonus",()=>g,"getStatues",()=>i,"getZenithBonus",()=>c]);var t=e.i(608580),a=e.i(82748),n=e.i(173024),l=e.i(24174),s=e.i(476219),o=e.i(210270),r=e.i(441132);let i=(e,a,n)=>u((0,t.tryToParse)(e?.StuG)||e?.StatueG,a,(0,t.tryToParse)(e?.Spelunk)||[],n),u=(e,t,n=[],l={})=>{let s=e?.reduce((e,n,l)=>{let s,o=n>=2,r=n>=3,i=d(t,l)?.StatueLevels,[u,c]=i?.[l]||[];return i?.[l]?(s=r?`StatueZ${parseInt(l)+1}`:o?`StatueO${parseInt(l)+1}`:n>=1?`StatueG${parseInt(l)+1}`:`Statue${parseInt(l)+1}`,[...e,{...a.statues?.[l]||{},rawName:s,level:u,progress:c,onyxStatue:o,zenithStatue:r,statueIndex:l}]):e},[]).filter(({name:e}={})=>e);return{statues:s,zenith:{market:m(n),clusters:l?.accountOptions?.[486]}}},c=(e,t)=>e?.zenith?.market?.[t]?.bonus??0,m=e=>a.zenithMarket?.map((a,n)=>{let l=e?.[45]?.[n]||0,s=Math.floor(a?.x4*l),o=l+(a?.x1||0)*Math.pow(a?.x2||1,l),r=o<1e6?Math.floor(o):o,i=a?.description?.replace(/\{/g,(0,t.commaNotation)(s))?.replace(/\}/g,(0,t.notateNumber)(1+s/100,"MultiplierInfo")),u=a?.x3||0,c=0;if(u>0&&l<u)for(let e=l;e<u;e++){let t=e+(a?.x1||0)*Math.pow(a?.x2||1,e);c+=t<1e6?Math.floor(t):t}return{...a,bonus:s,cost:r,level:l,description:i,costToMax:c}}),d=(e,t)=>e.reduce((e,a)=>e?.StatueLevels?.[t]?.[0]>a?.StatueLevels?.[t]?.[0]?e:a),p=(e,t)=>{let a=1+(0,n.getHighestTalentByClass)(t,n.CLASSES.Voidwalker,"VOODOO_STATUFICATION")/100,i=(0,l.isArtifactAcquired)(e?.sailing?.artifacts,"The_Onyx_Lantern"),u=(0,o.getEventShopBonus)(e,19)??0,m=1+(0,r.getMeritocracyBonus)(e,26)/100,d=e?.statues?.map(t=>({...t,bonus:t?.bonus,talentMulti:a,onyxMulti:Math.max(1+(100+(i?.bonus||0))/100,1),zenithMulti:1+(50+c(e,0))/100,eventBonusMulti:1+.3*u,meritocracyMulti:m})),p=1+g({statues:d},29)/100,h=[0,1,2,6];return d?.map(t=>{let a=1;return h.includes(t.statueIndex)&&(a=1+(0,s.getUpgradeVaultBonus)(e?.upgradeVault?.upgrades,25)/100),{...t,dragonMulti:p,upgradeVaultMulti:a}})},g=(e,t,a)=>{let l=e?.statues?.[t];if(!l)return 0;let s=1;switch(l?.name){case"POWER":case"MINING":s+=((0,n.getTalentBonus)(a,"SHIELDIEST_STATUES")||(0,n.getTalentBonus)(a,"STRONGEST_STATUES"))/100;break;case"OCEANMAN":s+=(0,n.getTalentBonus)(a,"STRONGEST_STATUES")/100;break;case"DEFENCE":case"THICC_SKIN":s+=(0,n.getTalentBonus)(a,"SHIELDIEST_STATUES")/100;break;case"SPEED":case"ANVIL":s+=((0,n.getTalentBonus)(a,"STRAIGHTSHOT_STATUES")||(0,n.getTalentBonus)(a,"SHWIFTY_STATUES"))/100;break;case"BULLSEYE":s+=(0,n.getTalentBonus)(a,"STRAIGHTSHOT_STATUES")/100;break;case"OL_RELIABLE":s+=(0,n.getTalentBonus)(a,"SHWIFTY_STATUES")/100;break;case"EXP":case"LUMBERBOB":s+=((0,n.getTalentBonus)(a,"STARING_STATUES")||(0,n.getTalentBonus)(a,"STUPENDOUS_STATUES"))/100;break;case"BEHOLDER":s+=(0,n.getTalentBonus)(a,"STARING_STATUES")/100;break;case"CAULDRON":s+=(0,n.getTalentBonus)(a,"STUPENDOUS_STATUES")/100;break;case"EHEXPEE":case"KACHOW":case"FEASTY":s+=(0,n.getTalentBonus)(a,"SKILLIEST_STATUE")/100;break;default:s=1}let o=l?.onyxStatue?l?.onyxMulti:1,r=l?.zenithStatue?l?.zenithMulti:1,i=l?.dragonMulti&&l?.name!=="DRAGON"?l?.dragonMulti:1,u=l?.upgradeVaultMulti?l?.upgradeVaultMulti:1;return l?.level*l?.bonus*s*l?.talentMulti*o*r*i*u*l?.eventBonusMulti*l?.meritocracyMulti},h=e=>e?Object.values(e)?.reduce((e,{level:t})=>e+t,0):0,f=e=>e?.accountOptions?.[69]<2?0:e?.statues?.reduce((e,{onyxStatue:t})=>e+ +!!t,0)},942144,e=>{"use strict";e.s(["getFamilyBonus",()=>o,"getFamilyBonusBonus",()=>s,"getUpdatedFamilyBonus",()=>r]);var t=e.i(608580),a=e.i(173024),n=e.i(82748),l=e.i(210270);let s=(e,a,n)=>{let l=e?.find(({name:e})=>e?.includes(a));return l?(0,t.growth)(l?.func,Math.max(0,Math.round(n-l?.x3)),l?.x1,l?.x2,!1):0},o=(e,t)=>e?.find(({name:e})=>e?.includes(t)),r=(e,t)=>{let r=(0,l.getHighestLevelOfClass)(t,a.CLASSES.Elemental_Sorcerer),i=s(n.classFamilyBonuses,"LV_FOR_ALL_TALENTS_ABOVE_LV_1",r);if((0,a.checkCharClass)(e?.class,a.CLASSES.Elemental_Sorcerer)){i*=1+(0,a.getTalentBonus)(e?.flatTalents,"THE_FAMILY_GUY")/100;let t=o(n.classFamilyBonuses,"LV_FOR_ALL_TALENTS_ABOVE_LV_1");i=(0,a.getFamilyBonusValue)(i,t?.func,t?.x1,t?.x2)}return i}},24174,e=>{"use strict";e.s(["calcArtifactsAcquired",()=>et,"calcTotalBoatLevels",()=>ee,"getArtifacts",()=>T,"getSailing",()=>b,"getSlabBonus",()=>ea,"isArtifactAcquired",()=>L]);var t=e.i(608580),a=e.i(82748),n=e.i(210270),l=e.i(173024),s=e.i(172833),o=e.i(618332),r=e.i(685849),i=e.i(775003),u=e.i(267350),c=e.i(276924),m=e.i(262887),d=e.i(198659),p=e.i(942144),g=e.i(980753),h=e.i(161866),f=e.i(441132),v=e.i(532600),B=e.i(949500),_=e.i(39188),M=e.i(11138);let b=(e,a,n,l,s,o)=>{let r=(0,t.tryToParse)(e?.Sailing)||e?.Sailing,i=(0,t.tryToParse)(e?.Captains)||e?.Captains,u=(0,t.tryToParse)(e?.Boats)||e?.Boats,c=(0,t.tryToParse)(e?.SailChests)||e?.SailChests;return r&&i&&u&&c?S(a,r,i,u,c,n,l,s,o):null},S=(e,t,a,n,l,s,o,r,i)=>{let u=t?.[1],c=L(e,"Dreamcatcher")?.bonus??0,m=o?.gemShopPurchases?.find((e,t)=>129===t),d=(0,h.getAchievementStatus)(o?.achievements,287)+(0,h.getAchievementStatus)(o?.achievements,290),p=Math.min(Math.round(5+m+(Math.min(4,c)+o?.tasks?.[2]?.[4]?.[2]+d)),30),g=w(l,e,r),f=I(),v=Q(u),B=N(t,a,n,o,s,i,e,v),_=y(B?.boats?.map(({maxTime:e})=>e),p-(g?.length||0)),M=k(B,t?.[0],v,e,o);return{maxChests:p,artifacts:e,lootPile:v,chests:g,rareTreasureChance:f,trades:M,timeToFullChests:_,...B}},y=(e,t)=>{let a=t/Math.min(...e),n=0,l=0;for(let s of e)if(n+=s,(l+=a*(n-s))>=t)break;return n},k=({boats:e}={},t,a,n,l)=>{let s=e?.[0]?.loot?.value??0,o=L(n,"Emerald_Relic"),r=t?.reduce((e,t)=>-1===t?e+1:e,0),i=Math.floor(l?.timeAway?.GlobalTime/21600),u=[];for(let e=0;e<40;e++){let t=Math.min(30,Math.ceil(2*new g.default(i+e).rand()*r)),n=x(a?.[t],s),l=new Date(Math.floor((i+e)*216e5));(0,v.isPast)(l)||u.push({...a?.[t],date:l,moneyValue:C(n,t,o),lootItemCost:n})}return u},x=(e,t)=>Math.max(.2*e?.amount,t),C=(e,t,a)=>{let n=a?.acquired??0;return e*(1.5*Math.pow(1.6,Math.floor(t/2))*(1+((t+1)%2*150+(30*Math.floor(n/2)+30*Math.floor(n/3)))/100))},T=(e,n,l)=>{let s=(0,t.tryToParse)(e?.Sailing)||e?.Sailing,o=s?.[3],r=s?.[1];return a.artifacts?.map((e,t)=>Z(e,o?.[t],r,t,n,l))},w=(e,t,a)=>e?.map(e=>({...E(e,t,a),rawName:`SailChest${e?.[3]}`})),E=(e,t,n)=>{let[l,s,o]=e,r=a.islands?.[s],i=0;for(let e=0;e<s;e++){let t=a.islands?.[e];i+=t?.numberOfArtifacts}let u=1,c=0;for(let e=0;e<r?.numberOfArtifacts;e++){let a=t[i+e];a?(a?.acquired===1&&(u=c=u*(1-o/A(s,n))),a?.acquired===2&&(u=c=u*(1-o/O(s,n)))):c=u*(1-o/a?.baseFindChance)}if(0===c)return{done:!0,island:r,islandIndex:s,treasure:l};let m=100*Math.min(1,1-c),d=t?.slice(i,i+r?.numberOfArtifacts).filter(({acquired:e})=>e<3);return{artifactChance:m>.01?Math.round(100*m)/100:.01,ancientChance:(o/A(s,n)).toFixed(5),eldritchChance:(o/O(s,n)).toFixed(5),sovereignChance:(o/P(s,n)).toFixed(5),island:r,islandIndex:s,treasure:l,possibleArtifacts:d}},A=(e,t)=>3>e?850:(1e3+(e-3)*t?.AncientOddPerIsland)/(1+t?.AncientArtiPCT/100),O=(e,t)=>3>e?900+250*e:(1e3+(e-3)*t?.AncientOddPerIsland)/(1+t?.AncientArtiPCT/100)*4,P=(e,t)=>5>e?9e3+2e3*e:(1e3+1.25*(e-3)*t?.AncientOddPerIsland)/(1+t?.AncientArtiPCT/100)*180,L=(e=[],t)=>e?.find(({name:e,acquired:a})=>e===t&&a),I=()=>.05,N=(e,t,s,o,r,i,u,c)=>{let m=e?.[2]?.[0]||0,g=e?.[2]?.[1]||0,h=(0,n.getHighestLevelOfClass)(i,l.CLASSES.Siege_Breaker)??0,f=(0,l.getHighestTalentByClass)(r,l.CLASSES.Siege_Breaker,"THE_FAMILY_GUY")??0,v=(0,p.getFamilyBonusBonus)(a.classFamilyBonuses,"FASTER_MINIMUM_BOAT_TRAVEL_TIME",h),B=(0,d.getShinyBonus)(o?.breeding?.pets,"Lower_Minimum_Travel_Time_for_Sailing"),_=Math.round(Math.max(15,120/(1+(v*(1+f/100)+(B+(0,M.getLegendTalentBonus)(o,11)))/100)-4*(o?.gemShopPurchases?.find((e,t)=>8===t)??0))),b=D(o,r,u),S=t?.slice(30,34);S=S.map((e,t)=>F(e,t,!0));let y=t?.slice(0,m+1),k=y?.map((e,t)=>F(e,t)),x=s?.slice(0,g+1),C=x?.map((e,t)=>R(e,t,c,k,u,r,o,b,_)),T=C?.reduce((e,{captainMappedIndex:t},a)=>({...e,[t]:a}),{});return{captains:k,boats:C,shopCaptains:S,captainsOnBoats:T,minimumTravelTime:_,minimumTravelTimeBreakdown:[{name:"Base",value:120},{name:"Family Bonus",value:v},{name:"The Family Guy",value:f},{name:"Shiny Bonus",value:B}]}},R=(e,t,n,l,s,o,r,i,u=120)=>{let[c,m,,d,p,g]=e,h=l?.[c],f=a.islands?.[m],v={rawName:`Boat_Frame_${z(d+g)}`,level:d+g,artifactChance:J(s,l[c],r),captainIndex:c,captainMappedIndex:h?.captainIndex,lootLevel:d,speedLevel:g,boatIndex:t,island:f,islandIndex:m,distanceTraveled:p};return v.resources=j(v,n),v.breakpointResources=G(v,n),v.loot=$(o,r,s,v,h),v.speed=V(h,f,g,i,u),v.maxTime=f?.distance/v.speed?.value*36e5,v.timeLeft=(f?.distance-p)/v.speed?.value*36e5,v},D=(e,t,a)=>{let l=t?.find(({linkedDeity:e})=>6===e),m=(0,u.getMinorDivinityBonus)(l,e,6,t),d=(0,o.getCardBonusByEffect)(e?.cards,"Sailing_Speed_(Passive)"),p=(0,r.getStampsBonusByEffect)(e,"Sailing_Speed"),g=(0,i.getMealsBonusByEffectOrStat)(e,null,"Sailing"),h=(0,s.getBubbleBonus)(e,"BOATY_BUBBLE",!1),v=(0,u.getGodBlessingBonus)(e?.divinity?.deities,"Goharut"),B=(0,u.getGodBlessingBonus)(e?.divinity?.deities,"Bagur"),_=(0,u.getGodBlessingBonus)(e?.divinity?.deities,"Purrmep"),b=L(a,"10_AD_Tablet")?.bonus??0,S=(0,s.getVialsBonusByStat)(e?.alchemy?.vials,"SailSpd"),y=(0,n.isMasteryBonusUnlocked)(e?.rift,e?.totalSkillsLevels?.sailing?.rank,1),k=(0,c.getStatueBonus)(e,24),x=(0,f.getVoteBonus)(e,24),C=e?.msaTotalizer?.sailing?.value??0;return(1+(m+(d+h))/125)*(1+(50*e?.gemShopPurchases?.[8]+(0,M.getLegendTalentBonus)(e,11))/100)*(1+v/100)*(1+_/100)*(1+x/100)*(1+(B+(b+(p+(k+(g+(S+(17*y+C)))))))/125)},F=(e,n,l)=>{let s=String.fromCharCode(65+n),[o,r,i,u,c,m,d]=e,p={captainIndex:s,captainType:o,level:u,firstBonusIndex:r,secondBonusIndex:i,firstBonusDescription:a.captainsBonuses?.[r]?.bonus,secondBonusDescription:a.captainsBonuses?.[i]?.bonus,firstBonusValue:m,secondBonusValue:d,exp:(0,t.notateNumber)(Math.floor(c),"Big")},g=K(p,m),h=K(p,d);return p.firstBonus=g,p.secondBonus=h,p.firstBonusDescription=p?.firstBonusDescription?.replace("{",g),p.secondBonusDescription=p?.secondBonusDescription?.replace("{",h),p.expReq=(0,t.notateNumber)(Y(p),"Big"),l&&(p.cost=Math.pow(8,1+o)*(1+Math.pow(2*r+2*i+m+d,2)/100)),p},G=(e,t)=>{let a=[{required:0},{required:0}],n=e?.lootLevel+(8-e?.lootLevel%8),l=e?.speedLevel+(7-e?.speedLevel%7);for(let l=e?.lootLevel;l<n;l++){let[n]=j({...e,lootLevel:l},t);a[0]={...n,required:a[0].required+n?.required}}for(let n=e?.speedLevel;n<l;n++){let[,l]=j({...e,speedLevel:n},t);a[1]={...l,required:a[1].required+l?.required}}return a},j=(e,t)=>[0,1].map(a=>{let n=W(e?.boatIndex,a);return{required:U(e,a),...t?.[n]||{}}}),W=(e,t)=>0===t?4>e?0:Math.min(30,1+2*(e-4)):2>e?e:5>e?1+2*(e-2):Math.min(30,2*(e-4)),U=(e,t)=>{let a=W(e?.boatIndex,t),n=0===t?e?.lootLevel:e?.speedLevel;return 0===a?Math.round((5+4*n)*Math.pow(1.17-.12*n/(n+200),n)):a%2==1?Math.round((5+2*n)*Math.pow(1.15-.1*n/(n+200),n)):Math.round((2+n)*Math.pow(1.12-.07*n/(n+200),n))},q=({speedLevel:e,captainSpeedBonus:t,baseSpeed:a})=>(10+(5+Math.pow(Math.floor(e/7),2))*e)*(1+t/100)*a,V=(e,t,a,n,l)=>{let s,o=0;e?.firstBonusDescription?.includes("Boat_Speed")&&(o+=e?.firstBonus),e?.secondBonusDescription?.includes("Boat_Speed")&&(o+=e?.secondBonus);let r=a+(7-a%7),i=q({speedLevel:a,captainSpeedBonus:o,baseSpeed:n}),u=q({speedLevel:a+1,captainSpeedBonus:o,baseSpeed:n});return r!==a+1&&(s=q({speedLevel:r,captainSpeedBonus:o,baseSpeed:n})),{raw:i,value:t?Math.min(i,t?.distance*60/l):i,nextLevelValue:u,nextBreakpointValue:s}},H=({lootLevelMath:e,lootLevel:t,lootPileSigil:a,artifactBonus:n,firstCaptainBonus:l,secondCaptainBonus:s,talentBonus:o})=>(5+e*t)*(1+(a+(l+s+n))/100)*o,$=(e,t,a,n,o)=>{let r,i=1+(0,l.getHighestTalentByClass)(e,l.CLASSES.Siege_Breaker,"UNENDING_LOOT_SEARCH")/100,u=n?.lootLevel+(8-n?.lootLevel%8),c=2+Math.pow(Math.floor((n?.lootLevel+1)/8),2),m=2+Math.pow(Math.floor(n?.lootLevel/8),2),d=2+Math.pow(Math.floor(u/8),2),p=(0,s.getSigilBonus)(t?.alchemy?.p2w?.sigils,"LOOT_PILE"),g=X(1,o,o?.firstBonusIndex),h=X(1,o,o?.secondBonusIndex),f=L(a,"Genie_Lamp")?.bonus??0,v=H({lootLevelMath:m,lootLevel:n?.lootLevel,lootPileSigil:p,artifactBonus:f,firstCaptainBonus:g,secondCaptainBonus:h,talentBonus:i}),B=H({lootLevelMath:c,lootLevel:n?.lootLevel+1,lootPileSigil:p,artifactBonus:f,firstCaptainBonus:g,secondCaptainBonus:h,talentBonus:i});return u!==n?.lootLevel+1&&(r=H({lootLevelMath:d,lootLevel:u,lootPileSigil:p,artifactBonus:f,firstCaptainBonus:g,secondCaptainBonus:h,talentBonus:i})),{value:v,nextLevelValue:B,nextBreakpointValue:r}},Y=e=>(9+Math.pow(e?.level,3))*Math.pow(1.5,e?.level)*Math.pow(1.5,Math.max(e?.level-10,0)),K=(e,t)=>Math.round(e?.level*t*10)/10,J=(e,a,n)=>{let l=L(e,"Fauxory_Tusk")?.bonus??0,s=(0,d.getShinyBonus)(n?.breeding?.pets,"Higher_Artifact_Find_Chance"),o=X(3,a,a?.firstBonusIndex),r=X(3,a,a?.secondBonusIndex);return(0,t.notateNumber)(Math.max(1,1+(l+(o+r)+s)/100),"MultiplierInfo")},X=(e,t,a)=>a>0?0:a===e?t?.level*t?.firstBonusValue:a===e?t?.level*t?.secondBonusValue:0,z=e=>e<25?0:e<50?1:e<100?2:e<200?3:e<300?4:5,Q=e=>e?.map((e,t)=>({amount:e>0?e:0,rawName:`SailT${t}`})),Z=(e,a,s,o,r,i)=>{let u,c=e?.baseBonus,d=e?.baseBonus,p=2===a||3===a||4===a||5===a,g=2===a?"ancientMultiplier":3===a?"eldritchMultiplier":4===a?"sovereignMultiplier":5===a?"omnipotentMultiplier":"baseBonus",h=e?.description;if(e?.name==="Maneki_Kat"||e?.name==="Ashen_Urn"){let t=(0,n.getHighestLevelCharacter)(r);u=`Highest level: ${t}`,c=t*e?.baseBonus,e?.name==="Ashen_Urn"&&(c=t>e?.[g]?e?.[g]*e?.baseBonus:t*e?.baseBonus,h=`${h} Total Bonus: ${p?c*a:c}`)}else if(e?.name==="Ruble_Cuble"||e?.name==="10_AD_Tablet"||e?.name==="Jade_Rock"||e?.name==="Gummy_Orb"){let t=i?.looty?.rawLootedItems,a=e?.name==="10_AD_Tablet"||e?.name==="Gummy_Orb"||e?.name==="Jade_Rock";u=`Looted items: ${t}`;let n=(0,m.getLabBonus)(i?.lab.labBonuses,15),l=(0,M.getLegendTalentBonus)(i,28),s=(0,f.getMeritocracyBonus)(i,23),o=e?.[g]*(1+n/100)*(1+l/100)*(1+s/100)*Math.floor(Math.max(0,t-500)/10);c=a&&"baseBonus"!==g?e?.baseBonus*o:o}else if(e?.name==="Fauxory_Tusk"||e?.name==="Genie_Lamp"){let t=e?.name==="Genie_Lamp",a=(0,n.getHighestCharacterSkill)(r,"sailing");c=t?a*e?.baseBonus:a,u=`Sailing level: ${a}`}else if(e?.name==="Weatherbook"){let t=(0,n.getHighestCharacterSkill)(r,"gaming");u=`Gaming level: ${t}`,c=t*e?.baseBonus}else if(e?.name==="Triagulon"){let a=i?.cooking?.meals?.[0]?.amount;c=e?.baseBonus*(0,t.lavaLog)(a)}else if(e?.name==="Opera_Mask"){let a=s?.[0];c=e?.baseBonus*(0,t.lavaLog)(a)}else if(e?.name==="Fun_Hippoete")c=e?.baseBonus*(0,t.lavaLog)(i?.construction?.playersBuildRate);else if(e?.name==="The_True_Lantern")c=e?.baseBonus*((0,t.lavaLog)(i?.atoms?.particles)??0);else if(e?.name==="Gold_Relic"){let a=i?.accountOptions?.[125],n=p?e?.[g]:0;u=`Days passed: ${a}. Bonus: ${(0,t.notateNumber)(1+a*(2+n)/100,"MultiplierInfo").replace("#","")}x`}else if(e?.name==="Crystal_Steak"){let e=r?.map(({name:e,class:t,stats:a})=>{let n=l.mainStatMap?.[t];return{name:e,stat:a?.[n]}});h=h.replace("_Total_Bonus:_+}%_dmg",""),u=e.map(({name:e,stat:t})=>({name:e,bonus:(p?c*a:c)*Math.floor(t/100)}))}else if(e?.name==="Socrates")u=(r?.map(({name:e,stats:t})=>({name:e,strength:t?.strength??0,agility:t?.agility??0,wisdom:t?.wisdom??0,luck:t?.luck??0}))).map(({name:t,strength:n,agility:l,wisdom:s,luck:o})=>{let r=1+(p?e?.baseBonus*a:e?.baseBonus)/100;return{name:t,strength:Math.floor(r*n),agility:Math.floor(r*l),wisdom:Math.floor(r*s),luck:Math.floor(r*o)}});else if(e?.name==="Deathskull"&&33===o){let e=["Gives_+1_Gallery_Slots_for_Trophies_in_World_7!","Gives_+1_Gallery_Slots_for_Trophies_in_World_7!","Gives_+2_Gallery_Slots_for_Trophies!","Gives_+2_Gallery_Slots_and_makes_1_of_them_Featured_grade!","Gives_+2_Gallery_Slots_and_makes_both_of_them_Featured_grade!","Gives_+2_Gallery_Slots_and_makes_1_of_them_Featured_grade_and_1_of_them_Masterpiece!"],t=Math.round(a);t>=0&&t<e.length&&(h=h.replace("$",e[t])),c=a}return 2===a&&e?.ancientFormDescription==="The_artifact's_main_bonus_is_doubled!"?c*=2:3===a&&e?.eldritchFormDescription==="The_artifact's_main_bonus_is_tripled!"?c*=3:4===a&&e?.sovereignFormDescription==="The_artifact's_main_bonus_is_quadrupled!"?c*=4:5===a&&e?.omnipotentFormDescription==="The_artifact's_main_bonus_is_quintupled!"&&(c*=5),h=h.replace(/{/,d).replace(/}/,(0,t.kFormatter)(c,2)).replace(/@/,""),{...e,description:h,additionalData:u,bonus:c,acquired:a,rawName:`Arti${o}`}},ee=e=>e?.reduce((e,{level:t})=>e+t,0),et=e=>e?.reduce((e,{acquired:t})=>e+(t??0),0),ea=(e,t)=>{let a=(0,B.getJadeEmporiumBonus)(e,"Jade_Coin_Magnetism"),n=(0,B.getJadeEmporiumBonus)(e,"Essence_Confetti"),l=(0,_.isSuperbitUnlocked)(e,"Slabby_Spelunking"),s=(0,m.getLabBonus)(e?.lab?.labBonuses,15),o=e?.looty?.rawLootedItems;return 4==t?1==a?5*(1+s/100)*(1+(0,f.getMeritocracyBonus)(e,23)/100)*(1+(0,M.getLegendTalentBonus)(e,28)/100)*Math.floor(Math.max(0,o-1e3)/10):0:5==t?1==n?3*(1+s/100)*(1+(0,f.getMeritocracyBonus)(e,23)/100)*(1+(0,M.getLegendTalentBonus)(e,28)/100)*Math.floor(Math.max(0,o-1e3)/10):0:6==t&&l?3*(1+s/100)*(1+(0,f.getMeritocracyBonus)(e,23)/100)*(1+(0,M.getLegendTalentBonus)(e,28)/100)*Math.floor(Math.max(0,o-1300)/5):0}},435327,e=>{"use strict";var t=e.i(971176),a=e.i(82748),n=e.i(608580);e.s(["getSaltLick",0,(e,l)=>{let s=(0,n.tryToParse)(e?.SaltLick)||e?.SaltLick;return a.saltLicks?.map((e,a)=>{let n=s?.[a],o=(0,t.calculateItemTotalAmount)(l,e?.name,!0);return{...e,totalAmount:o,level:n}})},"getSaltLickBonus",0,(e,t,a=!1)=>{let l=e?.[t];if(!l||0===l)return 0;let s=(l.baseBonus*(l.level??0))??0;return a?(0,n.round)(s)??0:s}])},172833,e=>{"use strict";e.s(["CAULDRONS_MAX_LEVELS",()=>k,"MAX_VIAL_LEVEL",()=>B,"applyArtifactBonusOnSigil",()=>X,"calcBubbleLevels",()=>Z,"calcSigilsLevels",()=>et,"calcVialsLevels",()=>ee,"cauldronColors",()=>_,"cauldronsIndexMapping",()=>M,"getActiveBubbleBonus",()=>D,"getAlchemy",()=>x,"getBubbleAtomCost",()=>Q,"getBubbleBonus",()=>F,"getEquippedBubbles",()=>R,"getKrukBubblesDaily",()=>es,"getLiquidCauldrons",()=>w,"getMaxCauldron",()=>V,"getPossibleZenithMarketBubbles",()=>el,"getSigilBonus",()=>J,"getUpgradeableBubbles",()=>en,"getVialsBonusByEffect",()=>j,"getVialsBonusByStat",()=>W,"isPrismaBubble",()=>T,"liquidsIndex",()=>b,"updateVials",()=>U,"vialCostsArray",()=>z]);var t=e.i(608580),a=e.i(82748),n=e.i(24174),l=e.i(435327),s=e.i(775003),o=e.i(262887),r=e.i(210270),i=e.i(685849),u=e.i(279522),c=e.i(764964),m=e.i(476219),d=e.i(878012),p=e.i(173024),g=e.i(441132),h=e.i(11138),f=e.i(276924),v=e.i(366125);let B=13,_={0:"#ff9000",1:"#76ef5a",2:"#f1a2fc",3:"#f6f031"},M={0:"power",1:"quicc",2:"high-iq",3:"kazam"},b={0:"water drops",1:"liquid n2",2:"trench h2o",3:"toxic mercury"},S={0:"O",1:"G",2:"P",3:"Y"},y={_:"power",a:"quicc",b:"high-iq",c:"kazam"},k={brewing:170,liquidsRegen:100,liquidsCapacity:80,cauldronsSpeed:150,cauldronsNewBubble:125,cauldronsBoostReq:100,vialsAttempts:15,vialsRng:45},x=(e,a,n)=>{let l=(0,t.createArrayOfArrays)(e?.CauldronInfo),s=(0,t.tryToParse)(e?.CauldronJobs1),o=$(e);return l?.[8]&&l?.[8]?.length===0&&(l[8]=o.slice(0,16)),C(e,l,s,o,a,n)},C=(e,t,a,n,l,s)=>{let o=a?.map((e,t)=>({activity:e,index:t})),r=O(e,o,l),i=N(t),u=q(t?.[5],n.slice(0,16),r,i,o),c=G(t?.[4]),m=t?.slice(0,4)?.flat()?.reduce((e,t)=>e+Math.min(100,t),0),d=s?.accountOptions?.[383],p=s?.accountOptions?.[384];return{p2w:r,bubbles:i,bubblesFlat:Object.values(i).flat(),vials:c,cauldrons:u,cauldronsInfo:n,multiplierArray:t?.[10],liquids:t?.[6],activities:o,totalBubbleLevelsTill100:m,prismaFragments:d,prismaBubbles:p}},T=(e,t)=>-1!==(e?.alchemy?.prismaBubbles||"")?.indexOf(t+","),w=e=>{let t=e?.alchemy?.liquids,a=e?.alchemy?.cauldronsInfo.slice(18);return t.map((t,n)=>{let[c,m]=a[4*n],[d,p]=a[4*n+1],[g,h]=[E(m+1),E(p+1)],f=A(n+4,m),v=e?.gemShopPurchases?.find((e,t)=>106===t)??0,B=(0,l.getSaltLickBonus)(e?.saltLick,5),_=0;v>n&&(_=.5+B/100),e?.accountOptions?.[123]>n&&(_=0===_?1:B/100+2);let M=F(e,"DA_DAILY_DRIP",!1),b=j(e?.alchemy?.vials,null,`Liquid${n+1}Cap`),S=(0,o.getLabBonus)(e?.lab.labBonuses,8),y=(0,o.getJewelBonus)(e?.lab.jewels,16,S),k=(0,s.getMealsBonusByEffectOrStat)(e,null,`Liquid${0===n||1===n?"12":"34"}`,y),x=(0,r.isMasteryBonusUnlocked)(e?.rift,e?.totalSkillsLevels?.alchemy?.rank,4),C=(0,o.getLabBonus)(e?.lab.labBonuses,6),T=e?.alchemy?.p2w?.liquids?.[n]?.capacity?.level,w=(0,i.getStampsBonusByEffect)(e,"Cap_for_all_Liquids_in_Alchemy"),O=(0,u.getArcadeBonus)(e?.arcade?.shop,"Cap_for_all_Liquids")?.bonus,P=M*Math.max(Math.pow(e?.totalSkillsLevels?.alchemy?.level/25,.3),0),L=_+(k+5*x)/100,I=C*(10+(f+(b+(T+(P+(w+Math.ceil(O)))))));return{isDragonic:e?.accountOptions?.[106]>n,maxLiquid:Math.ceil((1+L)*I),maxLiquidBreakdown:[{name:"Bleach Liquid",value:1.5*(v>n)},{name:"Dragonic",value:2*(e?.accountOptions?.[123]>n)},{name:"Meal",value:k/100},{name:"Skill Mastery",value:5*x/100},{name:"Lab",value:C},{name:"Cauldron Cap",value:f},{name:"Vial",value:b},{name:"P2W",value:T},{name:"Da daily drip",value:P},{name:"Stamp",value:w},{name:"Arcade",value:Math.ceil(O)}],decantCap:{level:m,progress:c,req:g},decantRate:{level:p,progress:d,req:h}}})},E=e=>Math.floor(1.6+Math.pow(1.25*e,1.8)),A=(e,a)=>e<4?Math.round(10*(0,t.growth)("decay",90,100,a,0,0))/10:Math.round(a),O=(e,a,n)=>{let l={0:4,1:5,2:6},s=a.filter(({activity:e},t)=>e<100&&e>=4&&-1!==e&&t<n?.length),o={},[r,i,u,c,,m]=(0,t.tryToParse)(e?.CauldronP2W)||e?.CauldronP2W;return o.cauldrons=r.toChunks(3).map(([e,t,a],n)=>({name:M[n],speed:{cost:I("cauldron",0,e),costToMax:L("cauldron",0,e,k.cauldronsSpeed),level:e},newBubble:{cost:I("cauldron",1,t),costToMax:L("cauldron",1,t,k.cauldronsNewBubble),level:t},boostReq:{cost:I("cauldron",2,a),costToMax:L("cauldron",2,a,k.cauldronsBoostReq),level:a}})),o.liquids=i.toChunks(2).map(([e,t],a)=>({name:b[a],regen:{cost:I("liquid",0,e),costToMax:L("liquid",0,e,k.liquidsRegen),level:e},capacity:{cost:I("liquid",1,t),costToMax:L("liquid",1,t,k.liquidsCapacity),level:t},players:s?.filter(({activity:e})=>e===l?.[a])})).filter(({name:e})=>e),o.vials={attempts:u?.[0]||0,rng:u?.[1]||0},o.player={speedLv:c?.[0]||0,speed:P(c?.[0]||0,3,0),extraExpLv:c?.[1]||0,extraExp:P(c?.[1]||0,3,1)},o.sigils=Y(e,a,n),o.totalEtherealSigils=o?.sigils?.filter(e=>e?.unlocked===3)?.length||0,o.vialsAttempts={current:m[0],max:Math.round(3+u?.[0])},o},P=(e,n,l)=>{let[s,o,r]=a.p2w[n][l];return(0,t.growth)(r,e,s,o)},L=(e,t,a,n)=>{let l=0;for(let s=a;s<n;s++)l+=I(e,t,s);return l},I=(e,t,a)=>"liquid"===e?0===t?Math.round(2500*Math.pow(1.19-.135*a/(100+a),a)):Math.round(3500*Math.pow(1.2-.13*a/(100+a),a)):"cauldron"===e?0===t?Math.round(2500*Math.pow(1.15-.117*a/(100+a),a)):1===t?Math.round(3200*Math.pow(1.18-.145*a/(100+a),a)):Math.round(3750*Math.pow(1.2-.14*a/(100+a),a)):0,N=e=>{let t={0:{5:"",7:"Pickaxes_and_Fishing_Rods"},1:{5:"",6:"Catching_Nets_and_Traps"},2:{5:"",6:"Hatchets_and_Worship_Skulls"},3:{7:"",25:""}};return e?.reduce((e,n,l)=>l<=3?{...e,[M?.[l]]:Object.keys(n)?.reduce((e,s,o)=>"length"!==s?[...e,{level:parseInt(n?.[s])||0,index:o,rawName:`aUpgrades${S[l]}${o}`,...a.cauldrons[M?.[l]][s],desc:a.cauldrons[M?.[l]][s]?.desc.replace("$",t?.[l]?.[o])}]:e,[])}:e,{})},R=(e,a,n)=>{let l=(0,t.tryToParse)(e?.CauldronBubbles)||e?.CauldronBubbles;return l?.filter((e,t)=>t<n?.length)?.map(e=>e?.reduce((e,t)=>{let n=y[t[0]],l=n?t?.substring(1):null;return[...e,l?a?.[n]?.[l]:{}]},[])).filter(e=>e.length)},D=(e,a,n)=>{let l=(0,r.isCompanionBonusActive)(n,4);if(l)return F(n,a,!1);let s=e?.find(({bubbleName:e})=>a===e);return s||l?(0,t.growth)(s?.func,s?.level,s?.x1,s?.x2,!1)??0:0},F=(e,a,n,l)=>{let s=e?.alchemy?.bubblesFlat?.find(({bubbleName:e})=>e===a);if(-1===s)return 0;let o=(0,t.growth)(s?.func,s?.level,s?.x1,s?.x2,n)??0,r=T(e,s?.bubbleIndex)?(0,d.getPrismaMulti)(e):1,i=1;if(l){let a=e?.alchemy?.bubbles[s?.cauldron][1];a&&(i=(0,t.growth)(a?.func,a?.level,a?.x1,a?.x2,n)*(T(e,a?.bubbleIndex)?(0,d.getPrismaMulti)(e):1))}let u={quicc:new Set([0,6,9,12,14]),power:new Set([0,2,4,7,14]),"high-iq":new Set([0,2,6,12,14])},c=1;if(u[s?.cauldron]?.has(s?.index)){let a=e?.alchemy?.bubbles[s?.cauldron][16];a&&(c=(0,t.growth)(a?.func,a?.level,a?.x1,a?.x2,n)*(T(e,a?.bubbleIndex)?(0,d.getPrismaMulti)(e):1))}return o*r*i*c},G=e=>Object.keys(e).reduce((t,n,l)=>{let s=a.vials?.[l];return"length"!==n?[...t,{...s,level:parseInt(e?.[n])||0}]:t},[]).filter(({name:e})=>e),j=(e,a,n)=>e?.reduce((e,l)=>{let{func:s,level:o,x1:r,x2:i,desc:u,stat:c,multiplier:m=1}=l;return a&&!u.includes(a)||n&&!c.includes(n)?e:e+((0,t.growth)(s,o,r,i,!1)??0)*m},0),W=(e,a)=>e?.reduce((e,n)=>{let{func:l,level:s,x1:o,x2:r,multiplier:i=1,stat:u}=n;return a!==u?e:e+((0,t.growth)(l,s,o,r)??0)*i},0),U=e=>{let t,a=(0,o.getLabBonus)(e.lab.labBonuses,10),n=0,l=(0,m.getUpgradeVaultBonus)(e?.upgradeVault?.upgrades,42);if((0,c.isRiftBonusUnlocked)(e?.rift,"Vial_Mastery")){let t=e?.alchemy?.vials?.filter(({level:e})=>e>=13);n=isNaN(n=2*t?.length)?0:n}let s=a*(1+(n+l)/100)*(1+(0,g.getMeritocracyBonus)(e,20)/100);return t=e.alchemy.vials,t?.map(e=>({...e,multiplier:s}))},q=(e,t,a,n,l)=>{let s=l.filter(({activity:e})=>e<100&&-1!==e),o={0:"power",4:"quicc",8:"high-iq",12:"kazam"},r={};for(let l=0,i=t.length;l<i;l+=4){let[i,u,c,m]=t.slice(l,l+4),d={speed:i,luck:u,cost:c,extra:m},p=s.filter(({activity:e})=>e===l/4);r[o[l]]={progress:e?.[l/4],req:V(n?.[o[l]]?.length),players:p},Object.entries(d).forEach(([e,t])=>{let[n,s]=t;r[o[l]]={...r[o[l]],boosts:{...r[o[l]].boosts,[e]:{progress:n,level:parseInt(s),req:H(0,2,a.cauldrons[l/4]?.boostReq?.level,parseInt(s))}}}})}return r},V=e=>3+Math.pow(3*e,2.2)*Math.pow(1.3,e),H=(e,n,l,s)=>Math.floor(1+Math.pow(1.5*(s+1),1.6)*Math.pow(1.073,s+1)*2*((e,n,l)=>{let[s,o,r]=a.p2w[e][n];return Math.max((100-Math.max(0,(0,t.growth)(r,l,s,o)))/100,.05)})(0,2,l)),$=e=>e?.CauldUpgLVs&&e?.CauldUpgXPs?e?.CauldUpgLVs?.map((t,a)=>[e?.CauldUpgXPs?.[a],t]):e?.CauldronInfo?.[8]?.reduce((e,t)=>[...e,...t],[]),Y=(e,a,n)=>K((0,t.tryToParse)(e?.CauldronP2W)||e?.CauldronP2W,a,n),K=(e,t,n)=>{let l=e?.[4],s=[];for(let e=0,o=l.length;e<o;e+=2){let[o,r]=l.slice(e,e+2),i=a.sigils?.[e/2],u=t.filter(({activity:t,index:a})=>t>=100&&Math.floor(t-100)===e/2&&a<11&&a<n?.length);i&&(s=[...s,{...i,unlocked:r,progress:o,bonus:3===r?i?.etherealBonus:2===r?i.jadeBonus:1===r?i?.boostBonus:0===r?i?.unlockBonus:0,characters:u}])}return s.map((e,t)=>({...e,index:t}))},J=(e,t)=>e?e?.reduce((e,a)=>a?.name!==t?e:e+a?.bonus,0):0,X=(e,t)=>{let a=(0,n.isArtifactAcquired)(t,"Chilled_Yarn");if(!a)return e;let l=1+a?.bonus;return e?.map(e=>({...e,bonus:e.bonus*l}))},z=[0,100,1e3,2500,1e4,5e4,1e5,5e5,1000001,5e6,25e6,1e8,1e9,5e10],Q=(e,t)=>Math.floor(t/1e9*(e+1)*Math.pow(1.04,e)*100),Z=e=>e?Object.values(e)?.reduce((e,t)=>e+t?.reduce((e,{level:t})=>e+t,0),0):0,ee=e=>e?Object.values(e)?.reduce((e,{level:t})=>e+t,0):0,et=e=>e?Object.values(e)?.reduce((e,{unlocked:t})=>e+(t+1),0):0,ea=(e,t,a)=>{let n,l=e?.lab?.labBonuses?.find(e=>"No_Bubble_Left_Behind"===e.name),s=(0,o.getLabBonus)(e?.lab.labBonuses,8),i=(0,o.getJewelBonus)(e?.lab.jewels,7,s);return(n=Math.max(1,(l?.active?l?.bonusOn:l?.bonusOff)+i-1),a)?Math.floor(n):(n+=1,(0,r.isBundlePurchased)(e?.bundles,"bun_s")&&(n=Math.round(n+3),l?.active&&l?.bonusOn>.5&&(n+=1)),(0,r.getEventShopBonus)(e,2)&&(n+=2),(0,p.getHighestTalentByClass)(t,p.CLASSES.Arcane_Cultist,"TACHYON_TRUTH")>=1&&(n+=3),n)},en=(e,t)=>{let a=3,l=e?.lab?.labBonuses?.find(e=>"No_Bubble_Left_Behind"===e.name);if(!l?.active)return{normal:[],atomBubbles:[],upgradeableBubblesAmount:0,maxBubblesToUpgrade:10,minLevel:0,maxLevel:0,breakdown:[{name:"Base",value:0},{name:"Artifact",value:0},{name:"Merit",value:0},{name:"Jewel",value:0}]};let s=Object.values(e?.alchemy?.bubbles).flatMap((e,t)=>e.map((e,a)=>({...e,tab:t,flatIndex:1e3*t+a}))).filter(({level:e,index:t})=>e>=2&&t<15).filter(({level:e})=>e<1e4).sort((e,t)=>t.flatIndex-e.flatIndex).sort((e,t)=>e.level-t.level),o=e?.lab?.jewels?.find(e=>"Pyrite_Rhinestone"===e.name);o?.acquired&&a++;let r=(0,n.isArtifactAcquired)(e?.sailing?.artifacts,"Amberite"),i=r?.acquired||1;r&&(a+=r?.baseBonus*i);let u=e?.tasks?.[2]?.[3]?.[6];u>0&&(a+=u),a=Math.min(10,a);let c=s.slice(0,a),m=((e,t,a)=>{let n=Object.values(e?.alchemy?.bubbles||{}).map(e=>e.filter(({level:e,index:a})=>e>=5&&a<t).sort((e,t)=>e.level-t.level).filter(({level:e})=>e<1e4)),l=Math.ceil(Math.min(10,a)/4),s=[];for(let e=0;e<n.length;e++){let t=n[e];s.push(t.slice(0,l))}return s.flat()})(e,30,a).map(e=>({...e,lithium:!0}));return{normal:c,atomBubbles:m,upgradeableBubblesAmount:a,maxBubblesToUpgrade:10,minLevel:ea(e,t,!0),maxLevel:ea(e,t),breakdown:[{name:"Base",value:3},{name:"Artifact",value:(r?.baseBonus||0)*i},{name:"Merit",value:u},{name:"Jewel",value:+!!o?.acquired}]}},el=(e,t)=>{let a=["_0","a0","b0","c0","c9","_11","a11","a1"],n=(0,f.getZenithBonus)(e,1),l=a.slice(0,3);for(let e=3;e<a.length;e++)n>=e-2&&l.push(a[e]);let s=es(e);return t?.some(t=>8===t.linkedDeity||(0,o.isGodEnabledBySorcerer)(t,8)||8===t.secondLinkedDeityIndex||(0,r.isCompanionBonusActive)(e,0))?e?.alchemy?.bubblesFlat.filter(e=>l.includes(e.bubbleIndex)).map(e=>({...e,krukLevelsDaily:s})):[]},es=e=>{let t=(0,i.getStampsBonusByEffect)(e,"daily_Kattlekruk_bubble_LVs"),a=(0,h.getLegendTalentBonus)(e,5),n=(0,f.getZenithBonus)(e,4),l=(0,g.getMeritocracyBonus)(e,3),s=(0,u.getArcadeBonus)(e?.arcade?.shop,"Kruk_Bubble_LVs")?.bonus;return Math.floor((20+t+a+n)*(1+l/100)*(1+(F(e,"KATTLE_DA_GOAT",!1)+s+(0,v.getSpelunkingBonus)(e,47))/100))}},685849,e=>{"use strict";e.s(["altStampsMapping",()=>B,"applyStampsMulti",()=>P,"calcStampCollected",()=>I,"calcStampLevels",()=>L,"evaluateStamp",()=>S,"getStampBonus",()=>O,"getStamps",()=>_,"getStampsBonusByEffect",()=>A,"getStampsPerDay",()=>b,"stampsMapping",()=>v,"unobtainableStamps",()=>N,"updateStamps",()=>y]);var t=e.i(608580),a=e.i(82748),n=e.i(173024),l=e.i(971176),s=e.i(210270),o=e.i(172833),r=e.i(949500),i=e.i(476219),u=e.i(398241),c=e.i(723748),m=e.i(384308),d=e.i(264046),p=e.i(11138),g=e.i(420497),h=e.i(39188),f=e.i(441132);let v={0:"combat",1:"skills",2:"misc"},B={_:"combat",a:"skills",b:"misc"},_=(e,a)=>M((0,t.tryToParse)(e?.StampLv)||e?.StampLevel,(0,t.tryToParse)(e?.StampLvM)||e?.StampLevelMAX,a),M=(e,t,n)=>{let s=e?.reduce((e,a,n)=>({...e,[v?.[n]]:Object.keys(a).reduce((e,l,s)=>"length"!==l?[...e,{level:parseFloat(a[l]),maxLevel:t?.[n]?.[s]}]:e,[])}),{});return Object.entries(s)?.reduce((e,[t,s])=>{let o=s?.map((e,s)=>{let o=a.stamps[t][s],r=o?.itemReq?.[0],i=(0,l.flattenCraftObject)(a.crafts[r?.name]),u=n?.storage?.list?.reduce((e,{rawName:t,amount:a})=>t!==r?.rawName?e:e+(a||0),0),c=Math.max(0,u-1e7);return{...o,...e,materials:i,ownedMats:u,greenStackOwnedMats:c,itemReq:r,category:t}});return{...e,[t]:o}},{})},b=e=>{let t=0,a=(0,s.isBundlePurchased)(e?.bundles,"bun_s");a&&(t+=5);let n=(0,s.getEventShopBonus)(e,1);n&&(t+=3);let l=(0,d.getWinnerBonus)(e,"+{ Stamp LV/day");return l&&(t+=l),{value:t,breakdown:[{name:"Bundle",value:5*!!a},{name:"Event",value:3*!!n},{name:"Summoning",value:l||0}]}},S=(e,t,n,l=!0,o,r=!1)=>{let i,u,c=o??t?.atoms?.stampReducer,m=(0,s.getHighestCapacityCharacter)(a.items?.[e?.itemReq?.rawName],n,t,r),d=T(e?.level,e,t),p=t?.currencies?.rawMoney>=d,g=Math.floor(E(e?.level,e,t,c,l));e?.materials?.length>0?(i=k(e?.materials,g,t),u=k(e?.materials,g,t,!0)):(i=e?.ownedMats>=g,u=Math.max(0,e?.ownedMats-1e7)>=g);let h=m?.maxCapacity>=g,f={...e,bestCharacter:m,goldCost:d,materialCost:g,enoughPlayerStorage:h,greenStackHasMaterials:u,hasMaterials:i,hasMoney:p},v=x(f,t,c,l);return{...f,futureCosts:v}},y=(e,a,n=!0,l,s)=>{let o=Object.values(e?.stamps||{}).flat().map(t=>S(t,e,a,n,l,s));return(0,t.groupByKey)(o,({category:e})=>e)},k=(e,t,a,n)=>e?.every(({itemName:e,type:s,itemQuantity:o})=>{if("Equip"===s)return!0;let r=(0,l.calculateItemTotalAmount)(a?.storage?.list,e,!0);return n?Math.max(0,r-1e7):r>=o*t}),x=(e,t,a,n)=>{let l=e?.maxLevel;for(;E(l,e,t,a,n)<e?.bestCharacter?.maxCapacity;)l+=e?.reqItemMultiplicationLevel;let s=t?.atoms?.atoms?.[0]?.baseBonus*t?.atoms?.atoms?.[0]?.level,o=e?.level+e?.reqItemMultiplicationLevel*3,r=[];for(let l=e?.level+e?.reqItemMultiplicationLevel;l<=o;l+=e?.reqItemMultiplicationLevel)for(let o=l===e?.level+e?.reqItemMultiplicationLevel?a:0;o<=90;o=Math.min(90,o+s)){let a,i,u=E(l-e?.reqItemMultiplicationLevel,e,t,o,n);if(90===o){u<e?.bestCharacter?.maxCapacity&&(a=l-e?.reqItemMultiplicationLevel===e?.level?u:w(e?.level,l,e,t,o,n),i=C(e?.level,l,e,t),r.push({...e?.itemReq,level:l,goldCost:i,materialCost:a,reduction:o}));break}if(u<e?.bestCharacter?.maxCapacity){a=l-e?.reqItemMultiplicationLevel===e?.level?u:w(e?.level,l,e,t,o,n),i=C(e?.level,l,e,t),r.push({...e?.itemReq,level:l,goldCost:i,materialCost:a,reduction:o});break}if(0===s)break}if(0===r.length){let s=E(l,e,t,a,n),o=T(l,e,t);r.push({...e?.itemReq,level:l,goldCost:o,materialCost:s,reduction:a})}return r},C=(e,t,a,n)=>{let l=T(e,a,n);for(let s=e;s<t;s++)l+=T(s,a,n);return l},T=(e,t,a)=>{if(!t||"number"!=typeof e)return 0;let n=(0,o.getVialsBonusByEffect)(a?.alchemy?.vials,"material_cost_for_stamps")||0,l=a?.bribes?.[0],s=l?.done?l.value/100:0,r=t.baseCoinCost*(1-s),i=t.reqItemMultiplicationLevel||1;return Math.floor(r*Math.pow(Math.max(1.05,t.powCoinBase-e/(e+5*i)*.25),10/i*e)*Math.max(.1,1-n/100))},w=(e,t,a,n,l=0,s)=>{let o=0;for(let r=e;r<t;r+=a?.reqItemMultiplicationLevel)o+=E(r,a,n,l,s);return o},E=(e,t,a,n=0,l)=>{let s=(0,o.getVialsBonusByEffect)(a?.alchemy?.vials,"material_cost_for_stamps"),r=(0,o.getSigilBonus)(a?.alchemy?.p2w?.sigils,"ENVELOPE_PILE")??0,i=Math.max(.1,1-n/100),u=1/(1+(0,f.getMeritocracyBonus)(a,14)/100);return Math.max(1,t?.baseMatCost*(l?.05:1)*u*i*(1/(1+r/100))*Math.pow(t?.powMatBase,Math.pow(Math.round(e/t?.reqItemMultiplicationLevel)-1,.8))*Math.max(.1,1-s/100))},A=(e,t,a)=>e?.stamps&&Object.entries(e?.stamps)?.reduce((n,[l,s])=>{let o=s?.filter(({effect:e})=>e?.includes(t));return n+o?.reduce((t,{rawName:n})=>t+O(e,l,n,a),0)},0),O=(e,a,l,o)=>{let d=e?.stamps?.[a]?.findIndex(({rawName:e})=>e===l),f=e?.stamps?.[a]?.[d];if(!f)return 0;let v=1,B=0;f?.stat?.includes("Eff")&&(v=(0,n.getTalentBonus)(o?.flatStarTalents,"TOILET_PAPER_POSTAGE")),"misc"!==a&&(B=(0,r.getCharmBonus)(e,"Liqorice_Rolle"));let _=e?.compass?.exaltedStamps?.[a]?.[d],M=(0,r.isJadeBonusUnlocked)(e,"Level_Exemption"),b=(0,u.getAtomBonus)(e,"Aluminium_-_Stamp_Supercharge")??0,S=(0,r.getCharmBonus)(e,"Jellypick"),y=(0,m.getArmorSetBonus)(e,"EMPEROR_SET"),k=(0,s.getEventShopBonus)(e,18),x=e?.spelunking?.exaltedFragmentFound,C=(0,g.getExoticMarketBonus)(e,49),T=(0,p.getLegendTalentBonus)(e,36),w=(0,h.getPaletteBonus)(e,23),E=100+(b+(S+(0,c.getCompassBonus)(e,76)+y+20*k+w+C+x+T)),A=_?1+E/100:1;if(f?.skillIndex>0&&!M&&f?.reqItemMultiplicationLevel>1){let e=f?.level*(200/(20*f?.reqItemMultiplicationLevel));if(e>3){let a=3+(e-3)*Math.pow(o?.skillsInfoArray?.[f?.skillIndex]?.level/(e-3),.75),n=Math.min(Math.floor(Math.min(a*=20*f?.reqItemMultiplicationLevel/200,e)),f?.level);return((0,t.growth)(f?.func,n,f?.x1,f?.x2,!1)??0)*(f?.multiplier||1)*(v||1)*(1+B/100)*A}}let O=0;return(f?.stat==="BaseDmg"||f?.stat==="BaseHp"||f?.stat==="BaseAcc"||f?.stat==="BaseDef")&&(O=(0,i.getUpgradeVaultBonus)(e?.upgradeVault?.upgrades,16)),((0,t.growth)(f?.func,f?.level,f?.x1,f?.x2,!1)??0)*(f?.multiplier||1)*(v||1)*(1+B/100)*(1+O/100)*A},P=(e,t)=>Object.entries(e).reduce((e,[a,n])=>{let l=n;return"misc"!==a&&(l=n?.map(e=>({...e,multiplier:t}))),{...e,[a]:l}},{}),L=e=>e?Object.values(e)?.reduce((e,t)=>e+t?.reduce((e,{level:t})=>e+t,0),0):0,I=e=>e?Object.values(e)?.reduce((e,t)=>e+t?.reduce((e,{level:t})=>e+ +(t>0),0),0):0,N=["Stat_Wallstree_Stamp","SpoOoky_Stamp","Prayday_Stamp","Shiny_Crab_Stamp","Talent_I_Stamp","Talent_V_Stamp","Gear_Stamp"].toSimpleObject()},805861,e=>{"use strict";var t=e.i(608580),a=e.i(82748);e.s(["getPlayerPostOffice",0,(e,t)=>{let n=0,l=a.postOffice?.map((t,a)=>{let l=e?.[a]?.[0]??e?.[a];return n+=l,{...t,level:l||0}}),s=t?.currencies?.DeliveryBoxComplete+t?.currencies?.DeliveryBoxStreak+t?.currencies?.DeliveryBoxMisc+(t?.accountOptions?.[347]??0);return{boxes:l,totalOrders:s,totalPointsSpent:n,unspentPoints:s-n||0}},"getPostOfficeBonus",0,(e,a,n)=>{let l=e?.boxes?.find(({name:e})=>e===a);if(!l)return 0;let s=Math.round(0===n?l?.level:1===n?l?.level-l?.upgradeLevels?.[0]:l?.level-l?.upgradeLevels?.[1]),o=l?.upgrades?.[n];return(0,t.growth)(o?.func,s>0?s:0,o?.x1,o?.x2,!1)??0},"getPostOfficeBoxLevel",0,(e,t)=>{let a=e?.boxes?.find(({name:e})=>e===t);return a?a?.level:0},"getPostOfficeShipments",0,e=>{let a=(0,t.tryToParse)(e?.PostOfficeInfo0)||e?.PostOfficeInfo0,n=(0,t.createArrayOfArrays)(a),l=(0,t.tryToParse)(e?.PostOfficeInfo1)||e?.PostOfficeInfo1,s=(0,t.createArrayOfArrays)(l);return s?.map((e,t)=>{let[a,l,s]=e;return{index:t,totalShipments:a,streak:l,completedAnOrder:n?.[t]?.[2],shield:s}})}])},76487,990732,948982,71791,e=>{"use strict";e.s(["default",()=>ep],76487);var t=e.i(391398),a=e.i(261576),n=e.i(191788),l=e.i(627242),s=e.i(201084),o=e.i(717803),r=e.i(886779),i=e.i(356119),u=e.i(514707),c=e.i(608580),m=e.i(782808),d=e.i(10051),p=e.i(405127),g=e.i(172833),h=e.i(775003),f=e.i(764964),v=e.i(82748);e.s(["calcCost",()=>I,"calcResourceToRankUp",()=>N,"calcTimeToRankUp",()=>L,"getRefinery",()=>T,"getRefineryCycles",()=>P,"hasMissingMats",()=>A],990732);var B=e.i(971176),_=e.i(805861),M=e.i(685849),b=e.i(198659),S=e.i(279522),y=e.i(173024),k=e.i(942144),x=e.i(441132),C=e.i(11138);let T=(e,t,a)=>w((0,c.tryToParse)(e?.Refinery)||e?.Refinery,t,a),w=(e,t,a)=>{let n=e?.[1],l=e?.[2],s=n?.reduce((e,t,a)=>"Blank"!==t?[...e,{rawName:t,name:v.items[t]?.displayName,amount:l?.[a],owner:"refinery"}]:e,[]),o=[...t,...s||[]],r=a?.[2]?.[2]?.[6],i=e?.slice(3,3+e?.[0]?.[0]),u=i?.reduce((e,t,a)=>{let n=`Refinery${a+1}`,[l,s,,r,i]=t,{saltName:u,cost:c}=v.refinery?.[n]||{};return[...e,{saltName:u,cost:c?.map(e=>{let t=(0,B.calculateItemTotalAmount)(o,e?.name,!0);return{...e,totalAmount:t}}),rawName:n,powerCap:E(s),refined:l,rank:s,active:r,autoRefinePercentage:i}]},[]);return{salts:u,refinerySaltTaskLevel:r,timePastCombustion:e?.[0]?.[1],timePastSynthesis:e?.[0]?.[2],totalLevels:u?.reduce((e,{rank:t})=>e+t,0),refineryStorage:s}},E=e=>{let t=v.randomList[18]?.split(" ");return parseFloat(Math.max(t?.[Math.min(e,t?.length-2)],25))},A=(e,t,a,n)=>a?.filter(({rawName:a,quantity:l,totalAmount:s})=>s<Math.floor(Math.pow(t,a?.includes("Refinery")&&e<=n?.refinery?.refinerySaltTaskLevel?1.3:1.5))*l),O=(e,t)=>{let{alchemy:a,saltLick:n,charactersLevels:l,breeding:s,rift:o,towers:r}=e,i=a?.vials,u=(0,g.getVialsBonusByEffect)(i,"Refinery_Cycle_Speed"),c=n?.[2]?n?.[2]?.baseBonus*n?.[2]?.level:0,m=a?.p2w?.sigils?.find(e=>e?.name==="PIPE_GAUGE")?.bonus||0,d=(0,M.getStampsBonusByEffect)(e,"Faster_refinery_cycles"),h=(0,b.getShinyBonus)(s?.pets,"Faster_Refinery_Speed"),B=0;(0,f.isRiftBonusUnlocked)(o,"Construct_Mastery")&&(B=r?.totalLevels>=p.constructionMasteryThresholds?.[0]?Math.floor(r?.totalLevels/10):0);let _=(0,S.getArcadeBonus)(e?.arcade?.shop,"Refinery_Speed")?.bonus??0,C=l?.filter(e=>(0,y.checkCharClass)(e?.class,y.CLASSES.Divine_Knight))?.map(({level:e})=>e),T=C?.length>0?Math.max(...C):0,w=(0,y.getHighestTalentByClass)(t,y.CLASSES.Divine_Knight,"THE_FAMILY_GUY"),E=(0,k.getFamilyBonusBonus)(v.classFamilyBonuses,"Refinery_Speed",T)*(w>0?1+w/100:1)||0,A=(0,x.getVoteBonus)(e,33);return{bonusBreakdown:[{name:"Vials",value:u/100},{name:"Salt lick",value:c/100},{name:"Family",value:E/100},{name:"Sigils",value:m/100},{name:"Stamps",value:d/100},{name:"Shinies",value:h/100},{name:"Const mastery",value:B/100},{name:"Arcade",value:_/100},{name:"Vote",value:A/100}],bonus:u+c+E+m+d+h+B+_+A}},P=(e,t,a)=>{let{bonusBreakdown:n,bonus:l}=O(e,t,a),s=(0,C.getLegendTalentBonus)(e,19),o=e?.lab?.labBonuses?.find(e=>"Gilded_Cyclical_Tubing"===e.name)?.active?3:1,r=(t?.filter(e=>(0,y.checkCharClass)(e?.class,y.CLASSES.Squire)||(0,y.checkCharClass)(e?.class,y.CLASSES.Divine_Knight))).reduce((e,t)=>{let{name:a,talents:n,cooldowns:l,postOffice:s,afkTime:o}=t,r=Math.max(0,(0,_.getPostOfficeBonus)(s,"Magician_Starterpack",2)),i=n?.[2]?.orderedTalents.find(e=>e?.name==="REFINERY_THROTTLE"),u=0;i?.maxLevel>0&&(u=(0,c.growth)(i?.funcX,i?.maxLevel,i?.x1,i?.x2)||0);let m=(new Date().getTime()-o)/1e3,d=(1-r/100)*l?.[130]-m;return{squiresCycles:e?.squiresCycles+u,squiresCooldowns:[...e?.squiresCooldowns,{name:a,cooldown:d<0?d:new Date().getTime()+1e3*d}]}},{squiresCycles:0,squiresCooldowns:[]}),i=(new Date().getTime()-(a??0))/1e3,u=[...n,{title:"Multiplicative"},{name:""},{name:"Lab",value:o}],m={name:"Combustion",time:Math.ceil(900/((1+l/100)*o*(1+s/100))),timePast:e?.refinery?.timePastCombustion+i,breakdown:[{title:"Additive"},{name:""},{name:"Base",value:900},...u]},d={name:"Synthesis",time:Math.ceil(3600/((1+l/100)*o*(1+s/100))),timePast:e?.refinery?.timePastSynthesis+i,breakdown:[{title:"Additive"},{name:""},{name:"Base",value:3600},...u]};return{...r,cycles:[m,d]}},L=(e,t,a,n,l,s,o,r,i)=>{let{bonus:u}=O(e,t,a),c=e?.lab?.labBonuses?.find(e=>"Gilded_Cyclical_Tubing"===e.name)?.active?3:1,m=Math.floor(Math.pow(s,1.3)),d=86400/((i<=2?900:3600)/(1+u/100))+(l?n?.squiresCycles??0:0),p=Math.floor((o-r)/m)/d*24/c;return{timeLeft:new Date().getTime()+3600*p*1e3,totalTime:new Date().getTime()+(o-0)/m/d*24/c*36e5}},I=(e,t,a,n,l)=>Math.floor(Math.pow(t,n?.includes("Refinery")&&l<=e?.refinerySaltTaskLevel?1.3:1.5))*a,N=(e,t,a,n)=>(a-t)/Math.floor(Math.pow(e,1.3))*n;e.s(["calcTotals",()=>H,"getPrinter",()=>U,"getPrinterExclusions",()=>Y,"getPrinterMulti",()=>V],948982);var R=e.i(267350),D=e.i(24174),F=e.i(210270),G=e.i(398241),j=e.i(949500),W=e.i(723748);let U=(e,t,a)=>q((0,c.tryToParse)(e?.Print)||e?.Printer,(0,c.tryToParse)(e?.PrinterXtra)||e?.PrinterXtra,t,a),q=(e,t,a,n)=>{let l=(0,R.getDeityLinkedIndex)(n,a,3),s=n?.hole?.godsLinks?.find(({index:e})=>3===e),o=n?.lab?.labBonuses?.find(e=>"Wired_In"===e.name)?.active,r=n?.lab?.connectedPlayers,{value:i,params:u}=V(n,a),m=e?.slice(5,e?.length);return a.map((e,a)=>{let d=m?.slice(14*a,14*a+14);if(t){let e=t?.slice(10*a,10*a+10);d.splice(-4,0,e),d=d.flat()}return d?.reduce((e,t,m,p)=>{if(m%2==0){let t=p.slice(m,m+2).map((e,t)=>e),g=t[1],h=r?.find(({playerId:e})=>e===a);g*=o&&h?l.includes(a)||s?6*i:2*i:l.includes(a)||s?3*i:i;let f=[{title:"Multiplicative"},{name:""},{name:"Lab",value:h&&o?2:0},{name:"Harriep God",value:l.includes(a)||s?3:0},{name:"Companion",value:u.companionBonus},{name:"Compass",value:u.compassBonus},{name:"Skill Mastery",value:1+u.skillMasteryBonus/100},{name:"Divine Knight",value:(0,c.notateNumber)(1+u.highestKingOfRemembrance*(0,c.lavaLog)(u.orbOfRemembranceKills)/100,"MultiplierInfo")},{name:"Gold Relic",value:1+u.daysSinceLastSample*(2+u.goldRelicBonus)/100},{name:"Charm",value:1+u.charmBonus/100},{name:"Vote",value:u.voteBonus},{name:"Winter event",value:1+2*n?.accountOptions?.[323]*(0,F.getEventShopBonus)(n,4)/100}];return[...e,{item:t[0],value:t[1],active:m>=d.length-4,boostedValue:g,breakdown:f,expression:""}]}return e},[])})},V=(e,t)=>{let a=(0,D.isArtifactAcquired)(e?.sailing?.artifacts,"Gold_Relic"),n=a?.acquired===4?a?.sovereignMultiplier:a?.acquired===3?a?.eldritchMultiplier:a?.acquired===2?a?.ancientMultiplier:0,l=e?.accountOptions?.[125],s=e?.accountOptions?.[138],o=t?.filter(e=>(0,y.checkCharClass)(e?.class,y.CLASSES.Divine_Knight)),r=o?.reduce((e,{flatTalents:t,addedLevels:a})=>{let n=(0,y.getTalentBonus)(t,"KING_OF_THE_REMEMBERED",!1,!1,a,!1);return n>e?n:e},0),i=e?.rift?.currentRift>15?(0,F.getSkillMasteryBonusByIndex)(e?.totalSkillsLevels,e?.rift,3):0,u=(0,j.getCharmBonus)(e,"Lolly_Flower"),m=1+(0,x.getVoteBonus)(e,11)/100,d=1+e?.accountOptions?.[354]*(0,F.isCompanionBonusActive)(e,17)/100,p=1+e?.accountOptions?.[364]*(0,W.getCompassBonus)(e,43)/100,g=(1+l*(2+n)/100)*(1+r*(0,c.lavaLog)(s)/100)*(1+i/100)*(1+u/100)*m*(1+2*e?.accountOptions?.[323]*(0,F.getEventShopBonus)(e,4)/100)*d*p;return{params:{daysSinceLastSample:l,highestKingOfRemembrance:r,skillMasteryBonus:i,charmBonus:u,voteBonus:m,orbOfRemembranceKills:s,goldRelicBonus:n,companionBonus:d,compassBonus:p},value:g,expression:`(1 + (daysSinceLastSample * (2 + goldRelicBonus)) / 100)
* (1 + (highestKingOfRemembrance * lavaLog(orbOfRemembranceKills)) / 100)
* (1 + skillMasteryBonus / 100) * (1 + charmBonus / 100)
* voteBonus
* (1 + (2 * accountData?.accountOptions?.[323] * getEventShopBonus(accountData, 4)) / 100)
* companionBonus
* compassBonus`}},H=(e,t)=>{let{printer:a,storage:n}=e||{},l=(0,G.getAtomColliderThreshold)(e?.accountOptions?.[133]),s=a?.reduce((e,t)=>(t.forEach(({boostedValue:t,item:a,active:s})=>{if("Blank"!==a&&s)if(e?.[a])e[a]={...e[a],boostedValue:t+e[a]?.boostedValue};else{let s=n?.list.find(({rawName:e})=>e===a)?.amount;e[a]={boostedValue:t,atomable:s>=l-.01*l,storageItem:s}}}),e),{});s=$(s,l,t);let o=Object.entries(s)?.reduce((e,[,t])=>e+(t?.atoms??0),0);return{...s,atom:{boostedValue:o,atoms:o}}},$=(e={},t,a)=>Object.entries(e)?.reduce((e,[n,l])=>{let{boostedValue:s,atomable:o,storageItem:r}=l,i=s,u;if(a?.checked)u=o;else{let e=s>=t&&!o,a=s>t-r&&!o;i=e?s-t:a?s-(t-r):s,u=e||a||o}return e[n]={...l,...u?{atoms:i/1e7}:{}},e},{}),Y=()=>["Copper","OakTree","Grasslands1","Bug1","Fish1"].toSimpleObject();var K=e.i(262887),J=e.i(420497),X=e.i(532600);e.s(["getIsland",()=>en,"getIslands",()=>et],71791);var z=e.i(787031);let Q=["Get_as_much_total_stats_as_possible,_STR_AGI_WIS_and_LUK_combined.","Get_as_much_STR_stat_as_you_can.","Get_as_much_AGI_stat_as_you_can.","Get_as_much_WIS_stat_as_you_can.","Get_as_much_LUK_stat_as_you_can.","Get_the_highest_DPS_(number_of_digits)_you_can;_but_on_a_beginner","Get_the_highest_DPS_(number_of_digits)_you_can;_but_on_a_warrior.","Get_the_highest_DPS_(number_of_digits)_you_can;_but_on_a_archer.","Get_the_highest_DPS_(number_of_digits)_you_can;_but_on_a_mage.","Get_the_highest_Accuracy_stat_you_can.","Get_the_highest_Defence_stat._Tank_mains;_it's_your_moment!","Get_the_highest_Movement_Speed_you_can.","Get_the_highest_Critical_Chance_%_you_can.","Spawn_as_many_Giant_Mobs_this_week_as_you_can.","Get_the_highest_Max_HP_as_possible.","Get_the_highest_Max_MP_as_possible.","Get_as_many_individual_hits_on_the_DPS_Dummy_as_you_can_within_the_timer.","Get_as_much_Mining_Efficiency_(number_of_digits)_as_you_can.","Get_as_much_Choppin_Efficiency_(number_of_digits)_as_you_can.","Get_as_much_Fishing_Efficiency_(number_of_digits)_as_you_can.","Get_as_much_Catching_Efficiency_(number_of_digits)_as_you_can.","Claim_as_much_Guild_GP_this_week_as_you_can."],Z=[{effect:"+{,Base_STR",divider:12},{effect:"+{,Base_AGI",divider:12},{effect:"+{,Base_WIS",divider:12},{effect:"+{,Base_LUK",divider:10},{effect:"+{%,Total_DMG",divider:3},{effect:"+{%,Class_EXP",divider:4},{effect:"+{%,Skill_Eff",divider:5}],ee=[{effect:"1_in_100000_chance_for_Trophy_per_hr_of_Nothing_AFK",cost:24},{effect:"1.25x_Dungeon_Credits_and_Flurbos_gained",cost:200},{effect:"-30%_Kitchen_Upgrade_Costs",cost:750},{effect:"1.20x_Chance_to_find_Sailing_Artifacts",cost:2500},{effect:"Dirty_Shovel_digs_up_+25%_more_Gold_Nuggets",cost:1e4},{effect:"+100_Star_Talent_Pts",cost:2e4},{effect:"All_Ninja_Twins_get_+2%_Stealth_per_Sneaking_LV",cost:4e4},{effect:"World_7_Bonus..._I_wonder_what_it_will_be...",cost:6e4}],et=(e,t)=>{let a,n=(e?.accountOptions?.[169]||"")?.split(""),l=e?.accountOptions?.[169]?.length,s={0:0,1:8,2:32,3:80,4:200,5:500},o={0:0,1:15,2:45,3:100,4:200,5:500},r=[{name:"Trash",description:"Trade_garbage_that_washs_up_each_day_for_items",preUnlockCost:4,baseCost:10},{name:"Rando",description:"Guaranteed_Random_Event_once_a_week",preUnlockCost:12,baseCost:12},{name:"Crystal",description:"Fight_daily_giant_crystal_mobs_that_drop_candy",preUnlockCost:20,baseCost:15},{name:"Seasalt",description:"Catch_legendary_fish_for_crafting_World_6_equips",preUnlockCost:28,baseCost:50},{name:"Shimmer",description:"Do_Weekly_Challenges_for_Shimmer_Upgrades",preUnlockCost:40,baseCost:25},{name:"Fractal",description:"Dump_your_time_candy_here_for..._nothing...?",preUnlockCost:52,baseCost:70}].map((a,r)=>({...a,unlocked:n?.indexOf(c.number2letter?.[r])!==-1,cost:0===l?a.preUnlockCost+s?.[l]:a.baseCost+o?.[l],...ea(e,t,r)})),i=e?.accountOptions?.[162],u=(0,z.getBribeBonus)(e?.bribes,"Bottle_Service"),m=30*!!(0,F.isBundlePurchased)(e?.bundles,"bun_p"),d=e?.quests?.["Yum-Yum_Desert"]?.find(({name:e})=>"Omar_Da_Ogar"===e)?.npcQuests?.reduce((e,{completed:t})=>e+ +(t?.length>0),0),p=Math.floor(4*(1+(u+(10*e?.accountOptions?.[164]+10*d+m))/100)),g=e.accountOptions?.[160],h=e.accountOptions?.[163];a=14>g?.25+g:Math.pow(8*g,.5);let f=0===g?0:Math.round(3*a*Math.floor(1.01+(.5+(Math.min(g,70)/100+h/5))));return{islandsUnlocked:l,bottles:i,bottlesPerDay:p,trashPerDay:Math.round(3.75*Math.floor(1.01+(.5+(.01+h/5)))),trashPerDaysAfk:f,numberOfDaysAfk:g,allShimmerBonus:Math.max(1,Math.min(4,1+100*((0,D.isArtifactAcquired)(e?.sailing?.artifacts,"The_Shim_Lantern")?.bonus??0)/100)),list:r}},ea=(e,t,a)=>{let n={};if(0===a){let a=e?.accountOptions?.[161],l=[{icon:"data/StampB47",name:"Skelefish Stamp",acquired:(0,M.getStampBonus)(e,"skills","StampB47")},{icon:"data/StampB32",name:"Amplestample Stamp",acquired:(0,M.getStampBonus)(e,"skills","StampB32")},{icon:"data/StampA38",name:"Golden Sixes Stamp",acquired:(0,M.getStampBonus)(e,"combat","StampA38")},{icon:"data/StampA39",name:"Stat Wallstreet Stamp",acquired:(0,M.getStampBonus)(e,"combat","StampA39")},{icon:"etc/Trash_Currency",name:"+20% Garbage Gain",acquired:void 0},{icon:"etc/Bribe",name:"Unlock New Bribe Set",acquired:(0,z.getBribeBonus)(e?.bribes,"The_Art_of_the_Bail")},{icon:"data/Island1",name:"10% Message Bottle Gain",acquired:void 0},{icon:"data/TalentBook1",name:"Filthy Damage Special Talent Book",acquired:t?.some(e=>e?.starTalents?.orderedTalents?.some(({maxLevel:e,name:t})=>"FILTHY_DAMAGE"===t&&e>0))},{icon:"data/EquipmentNametag6b",name:"Trash Tuna Nametag",acquired:e?.looty?.slabItems?.find(({rawName:e,obtained:t})=>"EquipmentNametag6b"===e&&t)}];n={trash:a,learnMore:!0,shop:[20,40,80,300,7*Math.pow(1.4,e?.accountOptions?.[163]),135,25*Math.pow(1.5,e?.accountOptions?.[164]),450,1500].map((t,a)=>{let n=4===a?e?.accountOptions?.[163]:6===a?e?.accountOptions?.[164]:null;return{cost:Math.round(t),...l?.[a],effect:l?.[a]?.icon,upgrades:n}})}}else if(1===a)n={learnMore:!0,shop:[{effect:`5% Loot (${e?.accountOptions?.[166]})`,cost:Math.round(10*Math.pow(1.5,e?.accountOptions?.[166]))},{effect:`3% Double boss (${e?.accountOptions?.[167]})`,cost:Math.round(6*Math.pow(1.4,e?.accountOptions?.[167]))},{effect:"Star book",cost:200}]};else if(4===a){let t=e?.accountOptions?.[183],a=(0,c.notateNumber)(e?.accountOptions?.[172]),l=e?.accountOptions?.[173];n={shop:Z?.map(({effect:t,divider:a},n)=>{let l=e?.accountOptions?.[174+n];return{effect:t?.replace("{",l)?.replace(","," "),bonus:l,cost:1+Math.floor(l/a)}}),currentTrial:Q[t],bestDpsEver:a,shimmerCurrency:l,learnMore:!0}}else if(5===a){let t=e?.accountOptions?.[184];n={hoursAfk:t,shop:ee?.map(e=>({...e,unlocked:t>=e?.cost})),learnMore:!0}}return n},en=(e,t)=>e?.islands?.list?.find(({name:e})=>e===t);var el=e.i(39188);function es(e){return e}function eo(e){return e}let er={General:(e,t,a,n,l)=>{let s={};if(t?.tasks?.checked){let{tasks:t}=a?.tasks,n=e?.tasksDescriptions?.reduce((e,a,n)=>{let l=a?.[8];return l?.level===0&&t?.props?.value?.[n+1]?[...e,n]:e},[]);n?.length>0&&(s.tasks=n)}if(t?.materialTracker?.checked){let t=(0,c.tryToParse)(localStorage.getItem("material-tracker"));if(Object.keys(t||{}).length>0){let a=(0,B.getAllItems)(n,e),l=Object.values(t||{})?.reduce((e,{item:t,lowerBound:n,upperBound:l,includeNearly:s,note:o})=>{let{amount:r}=(0,B.findQuantityOwned)(a,t?.displayName),i=function(e,t,a,n,l,s){let o=l?"(nearly) ":"",r=.05*a,i=.05*n;return a&&!n&&(l?Math.abs(t-a)<=Math.abs(r):t<a)?`Your amount of ${e} (${(0,c.notateNumber)(t)}) is ${o}below the bound (${(0,c.notateNumber)(a)})`:!a&&n&&(l?Math.abs(t-n)<=Math.abs(i):t>n)?`Your amount of ${e} (${(0,c.notateNumber)(t)}) is ${o}above the bound (${(0,c.notateNumber)(n)})`:a&&n&&a<n&&(l?t<=a+5*a/100||t>=n+5*n/100:t<=a||t>=n)?`Your amount of ${e} (${(0,c.notateNumber)(t)}) is ${o}outside of the configured range (${(0,c.notateNumber)(a)} - ${(0,c.notateNumber)(n)})`:null}((0,c.cleanUnderscore)(t?.displayName),r,n,l,s,5);return(n||l||(i=`You have ${(0,c.notateNumber)(r)} ${(0,c.cleanUnderscore)(t?.displayName)}`),i)?[...e,{item:t,quantityOwned:r,text:i,note:o}]:e},[]);l.length>0&&(s.materialTracker=l)}}if(t?.guild?.checked&&e?.accountOptions?.[37]){let{daily:t,weekly:n}=a?.guild||{};if(t?.checked){let t=e?.guild?.guildTasks?.daily?.filter(({requirement:e,progress:t})=>t<e)?.length;t&&(s.guild={daily:t})}if(n?.checked){let t=e?.guild?.guildTasks?.weekly?.filter(({requirement:e,progress:t})=>t<e)?.length;t&&(s.guild={...s.guild||{},weekly:t})}}if(t?.shops?.checked){let t=e?.shopStock?.reduce((t,n,l)=>{if((2===l||3===l)&&!e?.finishedWorlds?.World1||4===l&&!e?.finishedWorlds?.World2)return[...t,[]];if(5===l&&!e?.finishedWorlds?.World3)return[...t,[]];if(6===l&&!e?.finishedWorlds?.World4)return[...t,[]];if(7===l&&!e?.finishedWorlds?.World5)return[...t,[]];return[...t,n?.filter(({rawName:e})=>a?.shops?.shops?.props?.value?.[e])]},[]);t?.flat()?.length>0&&(s.shops={items:t})}if(t?.etc?.checked){let t={};if(a?.etc?.dungeonTraits?.checked){let a=e?.dungeons?.rank,n=e?.dungeons?.statBoosts?.reduce((e,{section:t,levelReq:n,bonuses:l})=>{let s=l?.every(({isActive:e})=>!e);return a>n&&s?[...e,t]:e},[]);n?.length>0&&(t.dungeonTraits=n)}if(a?.etc?.randomEvents?.checked){let a=e?.accountOptions?.[137]===0;a&&(t.randomEvents=a)}if(a?.etc?.keys?.checked){var o;let a,n,l=(o=e,a=o?.currencies?.KeysAll,n=o?.currencies?.ColosseumTickets?.allTickets,[...a?.filter(({daysSincePickup:e,totalAmount:t})=>e>=3&&t>0)||[],...n?.filter(({daysSincePickup:e},t)=>(0===t||o?.finishedWorlds?.[`World${t}`])&&e>=3)||[]]);l.length>0&&(t.keys=l)}if(a?.etc?.miniBosses?.checked){let n=(0,F.getMiniBossesData)(e).filter(({current:e})=>e>=a?.etc?.miniBosses?.props?.value);n.length>0&&(t.miniBosses=n)}if(a?.etc?.newCharacters?.checked){let e=n?.length,a=n?.reduce((e,{level:t})=>e+t,0),l=0;5===e&&a>=300&&l++,6===e&&a>=500&&l++,7===e&&a>=750&&l++,8===e&&a>=1100&&l++,9===e&&a>=1500&&l++,l>0&&(t.newCharacters=l)}if(a?.etc?.gemsFromBosses?.checked){let t=Math.max(0,(600-e?.accountOptions?.[195])/4);t&&(s.gemsFromBosses=t)}if(a?.etc?.familyObols?.checked){let n=e?.obols?.list?.filter(({displayName:t,levelReq:a})=>!t&&e?.accountLevel>=a);n?.length>0&&(t.familyObols=n?.length);let l=new Date().getTime()+Math.max(0,594e6-(1e3*e?.timeAway?.GlobalTime-e?.companions?.lastFreeClaim));a?.etc?.freeCompanion?.checked&&(0,X.isPast)(l)&&(t.freeCompanion=!0)}Object.keys(t).length>0&&(s.etc=t)}return s},"World 1":(e,t,a)=>{let n={};if(t?.stamps?.checked&&(0,f.isRiftBonusUnlocked)(e?.rift,"Stamp_Mastery")){let t={};a?.stamps?.gildedStamps?.checked&&e?.accountOptions?.[154]>0&&(!a?.stamps?.showGildedWhenNoAtomDiscount?.checked||e?.atoms?.stampReducer<=0)&&(t.gildedStamps=e?.accountOptions?.[154]),Object.keys(t).length>0&&(n.stamps=t)}if(t?.owl?.checked&&e?.accountOptions?.[253]>0){let t={},{nextLvReq:l,feathers:s,upgrades:o}=e?.owl,r=o?.[4],i=o?.[8],u=(0===l||r?.nextLvReq<l)&&s>=r?.cost,c=0===l&&s>=i?.cost;a?.owl?.featherRestart?.checked&&u&&(t.featherRestart=!0),a?.owl?.megaFeatherRestart?.checked&&c&&(t.megaFeatherRestart=!0),Object.keys(t).length>0&&(n.owl=t)}let l=e?.forge?.list?.filter(({ore:e})=>!e?.name);if(t?.forge?.checked){let e={};a?.forge?.emptySlots?.checked&&l?.length&&(e.emptySlots=l?.length),Object.keys(e).length>0&&(n.forge=e)}return n},"World 2":(e,t,a,n)=>{let l={};if(!e?.finishedWorlds?.World1)return l;if(t?.alchemy?.checked){let t={};if(a?.alchemy?.bargainTag?.checked){let{x1:a,x2:n,index:l}=v.liquidsShop?.find(({name:e})=>"BARGAIN_TAG"===e)||{},s=Math.round(a*Math.pow(n,e?.alchemy?.multiplierArray?.[l]));1===s&&(t.bargainTag=1===s)}if(a?.alchemy?.gems?.checked){let{x1:a,x2:n,index:l}=v.liquidsShop?.find(({name:e})=>"A_PAIR_OF_GEMS"===e)||{},s=Math.round(a*Math.pow(n,e?.alchemy?.multiplierArray?.[l]));5===s&&(t.gems=5===s)}if(a?.alchemy?.liquids?.checked){let n=e?.alchemy?.liquids,l=a?.alchemy?.liquids?.props?.value/100,s=e?.alchemy?.liquidCauldrons?.map((e,t)=>({current:n?.[t],max:e,index:t})).filter(({current:e,max:t})=>t&&e>=t*l-5);s.length>0&&(t.liquids=s)}if(a?.alchemy?.sigils?.checked){let a=(0,j.isJadeBonusUnlocked)(e,"Ionized_Sigils"),n=e?.alchemy?.p2w?.sigils?.filter(({characters:e,progress:t,boostCost:n,jadeCost:l})=>e.length>0&&(a?t>=l:t>=n));n.length>0&&(t.sigils=n)}if(a?.alchemy?.vials?.checked){let{subtractGreenStacks:n}=a?.alchemy||{},l=e?.alchemy?.vials?.filter(({level:t,itemReq:a})=>{if(t<=0||t>=g.MAX_VIAL_LEVEL)return!1;let l=g.vialCostsArray?.[t],s=e?.storage?.list?.find(({name:e})=>e===a?.[0]?.name)?.amount||0;n?.checked&&(s-=1e7);let o=parseInt(a?.[1]?.name.split("d")?.[1]||0),r=e?.alchemy?.liquids?.[o-1];return s>l&&r>3*t});l.length>0&&(t.vials=l)}if(a?.alchemy?.vialsAttempts?.checked){let{current:a}=e?.alchemy?.p2w?.vialsAttempts,l=(0,B.getAllItems)(n,e),s=(e?.alchemy?.vials?.filter(({level:e})=>0===e)).filter(({itemReq:e})=>{let t=e?.[0]?.name;return Object.keys((0,B.findItemInInventory)(l,t)).length>0});a>0&&s.length>0&&(t.vialsAttempts=a>0)}a?.alchemy?.alternateParticles?.checked&&e?.accountOptions?.[135]>0&&(t.alternateParticles=e?.accountOptions?.[135]),Object.keys(t).length>0&&(l.alchemy=t)}if(t?.islands?.checked){let t={};a?.islands?.unclaimedDays?.checked&&e?.islands?.numberOfDaysAfk>=a?.islands?.unclaimedDays?.props?.value&&(t.unclaimedDays=e?.islands?.numberOfDaysAfk),a?.islands?.shimmerIsland?.checked&&e?.accountOptions?.[182]===0&&(t.shimmerIsland=e?.accountOptions?.[182]===0);let n=en(e,"Trash");a?.islands?.garbageUpgrade?.checked&&n?.trash>=n?.shop?.[4]?.cost&&(t.garbageUpgrade=!0),Object.keys(t).length>0&&(l.islands=t)}if(t?.postOffice?.checked){let{showAlertOnlyWhen0Shields:t,postOffice:n,dailyShipments:s}=a?.postOffice,o={};if(n?.checked){let t=e?.postOfficeShipments?.filter(({streak:e},t)=>n?.props?.value?.[t+1]&&e<=0);t.length>0&&(o.shipments=t)}if(s?.checked){let a=e?.postOfficeShipments?.filter(({shields:e,completedAnOrder:a},n)=>(!t?.checked||0===e)&&s?.props?.value?.[n+1]&&!a);a?.length>0&&(o.dailyShipments=a)}Object.keys(o).length>0&&(l.postOffice=o)}if(t?.arcade?.checked){let t={};if(a?.arcade?.balls?.checked){let a=Math.floor(Math.min(e?.timeAway?.GlobalTime-e?.timeAway?.Arcade,(0,d.getMaxClaimTime)(e))/Math.max((0,d.getSecPerBall)(e),1800)),n=5*e?.arcade?.maxBalls/100,l=a>=e?.arcade?.maxBalls-n;l&&(t.balls=l)}Object.keys(t).length>0&&(l.arcade=t)}if(t?.weeklyBosses?.checked&&e?.accountOptions?.[190]===0&&(l.weeklyBosses=e?.accountOptions?.[190]===0),t?.killRoy?.checked){let t={};if(a?.killRoy?.general?.checked&&(e?.accountOptions?.[113]===0||e?.accountOptions?.[113]<(e?.killroy?.rooms===3?321:21)&&e?.finishedWorlds?.World3)&&(t.general=!0),a?.killRoy?.underHundredKills?.checked){let a=(0,F.getKillroySchedule)(e,n,e?.serverVars)?.[0],l=a?.monsters?.filter(t=>{let a=e?.killroy?.list?.find(e=>e?.name===t?.Name);return(a?.killRoyKills??0)<100});l?.length>0&&(t.underHundredKills=l)}Object.keys(t).length>0&&(l.killRoy=t)}if(t?.kangaroo?.checked&&e?.accountOptions?.[267]>0){let t={};a?.kangaroo?.shinyThreshold?.checked&&e?.kangaroo?.shinyProgress>a?.kangaroo?.shinyThreshold?.props?.value&&(t.shinyThreshold=a?.kangaroo?.shinyThreshold?.props?.value);let n=e?.kangaroo?.upgrades?.find(({unlocked:e,name:t})=>"Fisheroo_Reset"===t&&e);a?.kangaroo?.fisherooReset?.checked&&n&&e?.kangaroo?.fish>=n?.cost&&(t.fisherooReset=!0);let s=e?.kangaroo?.upgrades?.find(({unlocked:e,name:t})=>"Greatest_Catch"===t&&e);a?.kangaroo?.greatestCatch?.checked&&s&&e?.kangaroo?.fish>=s?.cost&&(t.greatestCatch=!0),Object.keys(t).length>0&&(l.kangaroo=t)}return l},"World 3":(e,t,a)=>{let n={};if(!e?.finishedWorlds?.World2)return n;if(t?.printer?.checked){let t={},{includeResource:l,showAlertWhenFull:s}=a?.printer||{},o=H(e,s),r=["atom",...Object.keys(l?.props?.value).filter(e=>!l?.props?.value[e])].toSimpleObject(),i=Object.entries(o||{}).filter(([e,{atoms:t}])=>!r?.[e]&&t).map(([e,t])=>({name:v.items?.[e]?.displayName,rawName:e,...t}));i.length>0&&(t.atoms=i),Object.keys(t).length>0&&(n.printer=t)}if(t?.construction?.checked){let t={},{materials:l,rankUp:s,flags:o,buildings:r}=a?.construction||{};if(o?.checked){let a=e?.construction?.board?.filter(({flagPlaced:e,currentAmount:t,requiredAmount:a})=>e&&t===a);a.length>0&&(t.flags=a)}if(r?.checked){let a=e?.towers?.data?.filter(t=>{let a=(0,p.getBuildCost)(e?.towers,t?.level,t?.bonusInc,t?.index);return t?.progress>=a});a.length>0&&(t.buildings=a)}if(l?.checked){let a=e?.refinery?.salts?.reduce((t,{rank:a,cost:n,rawName:l},s)=>{let o=s>0?s-1:null,r=e?.refinery?.salts?.[o],i=A(s,a,n,e),u=A(o,r?.rank,r?.cost,e);return i?.length===1&&i?.[0]?.rawName?.includes("Refinery")&&r?.autoRefinePercentage>0||r?.active&&u?.length>0||i?.length>0&&(t=[...t,{rawName:l,missingMats:i}]),t},[]);a.length>0&&(t.materials=a)}if(s?.checked){let a=e?.refinery?.salts?.filter(({refined:e,powerCap:t,rank:a})=>e>=t-(Math.floor(Math.pow(a,1.3))-1));a.length>0&&(t.rankUp=a)}Object.keys(t).length>0&&(n.construction=t)}if(t?.equinox?.checked){let t=e?.equinox,l=t?.upgrades[9],{bar:s,challenges:o,foodLust:r}=a?.equinox,i={};if(s?.checked){let e=t?.currentCharge>=t?.chargeRequired&&t?.upgrades.filter(e=>e.unlocked).some(e=>e.lvl<e.maxLvl);e&&(i.bar=e)}if(o?.checked){let e=t?.challenges.filter(e=>e.active&&e.current>=e.goal)?.length;e>0&&(i.challenges=e)}if(r?.checked){let e=l?.lvl>0&&l?.bonus>=l?.lvl;e&&(i.foodLust=e)}Object.keys(i).length>0&&(n.equinox=i)}if(t?.atomCollider?.checked){let t={},l=e?.atoms?.stampReducer>=a?.atomCollider?.stampReducer?.props?.value,s=a?.atomCollider?.stampReducer?.props?.value;l&&(t.stampReducer=l,t.stampReducerValue=s),Object.keys(t).length>0&&(n.atomCollider=t)}if(t?.library?.checked){let t={},{books:l}=a?.library||{};l?.checked&&e?.libraryTimes?.bookCount>=20&&(t.books=e?.libraryTimes?.bookCount),Object.keys(t).length>0&&(n.library=t)}if(t?.traps?.checked){let t={},{trapsOverdue:l}=a?.traps||{},s=e?.traps?.flat().filter(e=>(0,X.isPast)(e?.timeLeft)).length;l?.checked&&s&&(t.overdue=s),Object.keys(t).length>0&&(n.traps=t)}return n},"World 4":(e,t,a)=>{let n={};if(!e?.finishedWorlds?.World3)return n;if(t?.breeding?.checked){let t={},{shinies:l,eggs:s,eggsRarity:o,breedability:r}=a?.breeding||{};if(l?.checked){let a=e?.breeding?.pets?.reduce((t,a)=>[...t,...a?.filter(({monsterRawName:t,shinyLevel:a})=>e?.breeding?.fencePetsObject?.[t]?.shiny>0&&a>=l?.props?.value)],[]),n={pets:a,threshold:l?.props?.value};a.length>0&&(t.shinies=n)}if(r?.checked){let a=e?.breeding?.pets?.reduce((t,a)=>[...t,...a?.filter(({monsterRawName:t,breedingLevel:a})=>e?.breeding?.fencePetsObject?.[t]?.breedability>0&&a>=r?.props?.value)],[]),n={pets:a,threshold:r?.props?.value};a.length>0&&(t.breedability=n)}if(s?.checked){let a=e?.breeding?.eggs.slice(0,15).every(e=>e>0);a&&(t.eggs=a)}o?.checked&&e?.breeding?.eggs?.some(e=>parseInt(o?.props?.value)<=e)&&(t.eggsRarity=parseInt(o?.props?.value)>9?9:o?.props?.value),Object.keys(t).length>0&&(n.breeding=t)}if(t?.cooking?.checked){let t={};if(a?.cooking?.meals?.checked){let n=e?.cooking?.kitchens.reduce((e,{meal:t})=>({...e,[t.name]:!0}),{}),l=e?.cooking?.meals?.filter(({name:t,levelCost:l,amount:s,level:o})=>(!a?.cooking?.alertOnlyCookedMeal?.checked||!!n?.[t])&&s>=l&&o<e?.cooking?.mealMaxLevel);l?.length>0&&(t.meals=l)}if(a?.cooking?.spices?.checked){let a=h.maxNumberOfSpiceClicks-e?.cooking?.spices?.numberOfClaims;a>0&&(t.spices=a)}if(a?.cooking?.ribbons?.checked){let n=a?.cooking?.ribbons?.props?.value,l=e?.grimoire?.ribbons?.slice(0,28)?.filter(e=>!e);l?.length<=n&&(t.ribbons=l?.length)}Object.keys(t).length>0&&(n.cooking=t)}if(t?.laboratory?.checked){let t={},l=(0,h.getChipsAndJewels)(e,1)?.at(0)?.items||[],s=(l=l?.map((t,a)=>({...t,claimed:t?.index===e?.lab?.currentRotation?.[a],requirementsMet:t?.requirements?.reduce((t,a)=>t&&(0,K.getRequirementAmount)(a?.name,a?.rawName,e)>a?.amount,!0)}))).slice(0,2),o=l.slice(2);a?.laboratory?.chipsRotation?.checked&&s.some(({claimed:e,requirementsMet:t})=>!e&&t)&&(t.chipsRotation=s),a?.laboratory?.jewelsRotation?.checked&&o.some(({claimed:e,requirementsMet:t,acquired:a})=>!e&&!a&&t)&&(t.jewelsRotation=o),Object.keys(t).length>0&&(n.laboratory=t)}return n},"World 5":(e,t,a)=>{let n={};if(!e?.finishedWorlds?.World4)return n;if(t?.gaming?.checked){let t={},{shovel:l,sprouts:s,squirrel:o}=a?.gaming||{};s?.checked&&e?.gaming?.availableSprouts>=e?.gaming?.sproutsCapacity&&(t.sprouts=e?.gaming?.availableSprouts),s?.checked&&e?.gaming?.availableDrops>=e?.gaming?.sproutsCapacity&&(t.drops=e?.gaming?.availableDrops);let r=e?.gaming?.imports?.find(({name:e,acquired:t})=>"Dirty_Shovel"===e&&t);if(l?.checked&&r&&l&&e?.gaming?.lastShovelClicked>=0){let a=new Date().getTime()-e?.gaming?.lastShovelClicked*1e3;(0,c.totalHoursBetweenDates)(new Date().getTime(),a)>=l?.props?.value&&(t.shovel=(0,c.totalHoursBetweenDates)(new Date().getTime(),a))}let i=e?.gaming?.imports?.find(({name:e,acquired:t})=>"Autumn_Squirrel"===e&&t);if(o?.checked&&i&&o&&e?.gaming?.lastAcornClicked>=0){let a=new Date().getTime()-e?.gaming?.lastAcornClicked*1e3;(0,c.totalHoursBetweenDates)(new Date().getTime(),a)>=o?.props?.value&&(t.squirrel=(0,c.totalHoursBetweenDates)(new Date().getTime(),a))}Object.keys(t).length>0&&(n.gaming=t)}if(t?.sailing?.checked){let t={},{captains:l,chests:s}=a?.sailing||{};if(l?.checked){let{captains:a,shopCaptains:n}=e?.sailing||{},l=a?.length>0&&a?.every(e=>e?.captainType===6),s=n?.reduce((e,t)=>{let{captainType:n,firstBonusIndex:s,secondBonusIndex:o,firstBonusValue:r,secondBonusValue:i,firstBonusDescription:u,secondBonusDescription:c}=t,m=a?.filter(e=>{let t=e?.firstBonusIndex===s&&e?.secondBonusIndex===o,a=e?.secondBonusIndex===s&&e?.firstBonusIndex===o,n=e?.firstBonusIndex===s||e?.firstBonusIndex===o;if(t||a)if(s===o)return r+i>e?.firstBonusValue+e?.secondBonusValue;else{let t=r>e?.firstBonusValue&&i>e?.secondBonusValue,a=r>e?.secondBonusValue&&i>e?.firstBonusValue;return t||a}if(n&&e?.firstBonusIndex===e?.secondBonusIndex){if(s===e?.firstBonusIndex)return r>e?.firstBonusValue+e?.secondBonusValue;else if(o===e?.firstBonusIndex)return i>e?.firstBonusValue+e?.secondBonusValue}return!1});if(m?.length>0&&-1!==n||6===n&&(!l||m?.length>0)){let a=s===o;return[...e,{captain:t,isSameValue:a,enderCaptain:6===n,badCaptains:m.map(({captainIndex:e,firstBonusDescription:t,secondBonusDescription:n,firstBonusValue:l,secondBonusValue:s})=>({captainIndex:e,firstBonusValue:l,secondBonusValue:s,bonus:a?t.substring(t.indexOf("%")).replace("%",l+s+"%"):[t.substring(t.indexOf("%")).replace("%",l+"%"),n.substring(n.indexOf("%")).replace("%",s+"%")]}))?.sort((e,t)=>t?.firstBonusValue+t?.secondBonusValue-(e?.firstBonusValue+e?.secondBonusValue)),bonus:a?u?.substring(u?.indexOf("%")).replace("%",r+i+"%"):[u?.substring(u?.indexOf("%")).replace("%",r+"%"),c?.substring(c?.indexOf("%")).replace("%",i+"%")]}]}return e},[]);s.length>0&&(t.captains=s)}if(s?.checked){let a=259200<e?.accountOptions?.[124]?Math.floor(e?.accountOptions?.[124]/8640)/10:Math.floor(e?.accountOptions?.[124]/3600),{maxChests:n,timeToFullChests:l}=e?.sailing,{hours:s}=(0,c.getDuration)(new Date().getTime(),l),o=a>s&&n>0;o>0&&(t.chests=o)}Object.keys(t).length>0&&(n.sailing=t)}if(t?.hole?.checked){let t={};if(!e?.finishedWorlds?.World4)return n;let{buckets:l,motherlode:s,bravery:o,justice:r,wisdom:i,theBell:u,theHarp:c,theHive:m,grotto:d,villagersLevelUp:p,jars:g,studyLevelUp:h}=a?.hole||{},f=e?.hole?.caverns?.theWell?.expandWhenFull,[,...v]=e?.hole?.caverns?.theWell?.sediments,B=v?.filter(({current:e,max:t})=>e>=0&&e>=(l?.props?.value||t)),_=e?.accountOptions?.[318];l?.checked&&!f&&B.length>0&&(t.buckets=!0);let M=e?.hole?.caverns?.motherlode?.ores?.maxed;s?.checked&&_<5&&M&&(t.motherlodeMaxed=M);let b=e?.hole?.caverns?.theHive?.bugs?.maxed;m?.checked&&_<5&&b&&(t.hiveMaxed=b),o?.checked&&e?.hole?.caverns?.bravery?.rewardMulti>=o?.props?.value&&(t.bravery=!0),r?.checked&&e?.hole?.caverns?.justice?.rewardMulti>=r?.props?.value&&(t.justice=!0),i?.checked&&e?.hole?.caverns?.wisdom?.rewardMulti>=i?.props?.value&&(t.wisdom=!0);let S=e?.hole?.caverns?.theBell?.bells?.filter(({exp:e,expReq:t})=>e>=t);u?.checked&&S?.length>0&&(t.theWell=!0);let y=e?.hole?.caverns?.theHarp?.power>=c?.props?.value;c?.checked&&y&&(t.theHarp=y),d?.checked&&e?.hole?.caverns?.grotto?.mushroomKillsLeft<=0&&(t.grotto=!0);let k=e?.hole?.villagers?.filter(({readyToLevel:e})=>e);p?.checked&&k.length>0&&(t.villagersLevelUp=k),g?.checked&&e?.hole?.caverns?.theJars?.totalJars>=g?.props?.value&&(t.jars=e?.hole?.caverns?.theJars?.totalJars);let x=e?.hole?.studies?.studies?.filter(({readyToLevel:e})=>e);h?.checked&&x.length>0&&(t.studyLevelUp=x),Object.keys(t).length>0&&(n.hole=t)}return n},"World 6":(e,t,a)=>{let n={};if(!e?.finishedWorlds?.World5)return n;if(t?.sneaking?.checked){let t={},{lastLooted:l}=a?.sneaking||{};e?.sneaking?.lastLooted/60>=l?.props?.value&&(t.lastLooted=!0),Object.keys(t).length>0&&(n.sneaking=t)}if(t?.farming?.checked){let t={},{plots:l,totalCrops:s,missingPlots:o,beanTrade:r}=a?.farming||{};if(l?.checked){let a=e?.farming?.plot?.filter(({currentOG:e})=>l?.props?.value>0?e>=l?.props?.value:e>0).map(e=>({...e,threshold:l?.props?.value}));a.length>0&&(t.plots=a)}if(s?.checked){let a=e?.farming?.plot?.reduce((t,{cropQuantity:a,ogMulti:n,rank:l})=>{let{productDoubler:s}=(0,J.getProductDoubler)(e?.farming?.market),o=(0,J.getLandRank)(e?.farming?.ranks,1);return t+a*n*Math.min(100,Math.round(Math.max(1,Math.floor(1+s/100))*(1+(0,J.getRanksTotalBonus)(e?.farming?.ranks,1)/100)*(1+o*(l??0)/100)))},0),n=a>=s?.props?.value?a:0;n>0&&(t.totalCrops=n)}if(o?.checked){let a=e?.farming?.plot?.filter(({seedType:e})=>-1===e);a?.length>0&&(t.missingPlots=a)}r?.checked&&e?.farming?.beanTrade>=r?.props?.value&&(t.beanTrade=e?.farming?.beanTrade),Object.keys(t).length>0&&(n.farming=t)}if(t?.summoning?.checked){let t={},{familiar:l,battleAttempts:s}=a?.summoning,{level:o,maxLvl:r}=e?.summoning?.upgrades?.[0]?.[2]||{};l?.checked&&o<r&&o<l?.props?.value&&(t.familiar={level:o,maxLvl:r});let{summoningStuff:i}=e?.summoning;s?.checked&&i?.[0]>0&&(t.battleAttempts=i?.[0]),Object.keys(t).length>0&&(n.summoning=t)}if(t?.etc?.checked){let t={},{emperor:l}=a?.etc;l?.checked&&e?.emperor?.attempts>=l?.props?.value&&(t.emperorAttempts=e?.emperor?.attempts),Object.keys(t).length>0&&(n.etc=t)}return n},"World 7":(e,t,a,n)=>{let l={};if(!e?.finishedWorlds?.World6)return l;let s=(0,B.addEquippedItems)(n,!0),o=(0,B.getAllItems)(n,e),r=(0,B.mergeItemsByOwner)([...o||[],...s||[]]),i={};if(t?.gallery?.checked){if(a?.gallery?.trophiesMissing?.checked){let t=new Set((e?.gallery?.trophiesUsed||[]).filter(e=>!e?.isEmpty&&e?.rawName).map(e=>e.rawName)),a=r?.filter(({rawName:e})=>e?.includes("Trophy")),n=new Set((e?.gallery?.inventoryTrophies||[]).filter(e=>e?.rawName).map(e=>e.rawName)),l=a?.filter(({rawName:e,Type:a})=>e&&!t.has(e)&&!n.has(e)&&"REPLICA_TROPHY"!==a);l?.length>0&&(i.missingTrophies=l.map(({displayName:e,name:t,owner:a,rawName:n})=>({itemName:e||t,owner:a,rawName:n})))}if(a?.gallery?.nametagsMissing?.checked){let t=new Set((e?.gallery?.nametagsUsed||[]).filter(e=>e?.rawName).map(e=>e.rawName)),a=r?.filter(({rawName:e})=>e?.includes("Nametag")),n=a?.filter(({rawName:e,Type:a})=>e&&!t.has(e)&&"REPLICA_NAMETAG"!==a);n?.length>0&&(i.missingNametags=n.map(({displayName:e,name:t,owner:a,rawName:n})=>({itemName:e||t,owner:a,rawName:n})))}}if(Object.keys(i).length>0&&(l.gallery=i),t?.spelunking?.checked){let t={};if(a?.spelunking?.pageReads?.checked){let a=e?.accountOptions?.[410]??0,n=e?.spelunking?.maxDailyPageReads??0;a<n&&(t.pageReads={current:a,max:n,available:n-a})}if(a?.spelunking?.fullStaminaCharacters?.checked){let n=a?.spelunking?.fullStaminaCharacters?.props?.value??1,l=(e?.spelunking?.charactersStamina??[]).filter(({characterStamina:e,currentStamina:t})=>t>=e).length;l>=n&&(t.fullStaminaCharacters={count:l,threshold:n})}if(a?.spelunking?.overstimLevel?.checked){let n=a?.spelunking?.overstimLevel?.props?.value??1,l=e?.spelunking?.overstimLevel??0;l>=n&&(t.overstimLevel={current:l,threshold:n})}Object.keys(t).length>0&&(l.spelunking=t)}if(t?.legendTalents?.checked){let t={};if(a?.legendTalents?.legendPointsLeftToSpend?.checked){let a=e?.legendTalents?.pointsLeftToSpend??0;a>0&&(t.legendPointsLeftToSpend=a)}Object.keys(t).length>0&&(l.legendTalents=t)}if(t?.zenithMarket?.checked){let t={};if(a?.zenithMarket?.doubleCluster?.checked){let a=e?.zenith?.market?.find(e=>e?.name==="DOUBLE_CLUSTER"),n=e?.zenith?.clusters??0;a&&(!a?.x3||(a?.level||0)<a?.x3)&&n>=a?.cost&&(t.doubleCluster=!0)}Object.keys(t).length>0&&(l.zenithMarket=t)}if(t?.construction?.checked){let t={},{jeweledCogs:n}=a?.construction||{};if(n?.checked){let a=(0,el.isSuperbitUnlocked)(e,"Jewel_Cogs"),n=e?.accountOptions?.[414]??0,l=Math.round(1+((0,C.getLegendTalentBonus)(e,18)??0));n<l&&a&&(t.jeweledCogs={current:n,max:l,available:l-n})}Object.keys(t).length>0&&(l.construction=t)}return l}},ei=e=>{let n,l,s,o,i,u,d,p,g,h=(0,a.c)(28),{title:f,iconPath:v,vial:B,atom:_,breedability:M,style:b,imgStyle:S,onError:y,extra:k}=e;h[0]!==b?(n=void 0===b?{}:b,h[0]=b,h[1]=n):n=h[1];let x=n;h[2]!==S?(l=void 0===S?{}:S,h[2]=S,h[3]=l):l=h[3];let C=l,T=void 0===y?eg:y;h[4]!==x?(s={position:"relative",...x},h[4]=x,h[5]=s):s=h[5],h[6]!==C?(o={...C},h[6]=C,h[7]=o):o=h[7];let w=`${c.prefix}${v}.png`;return h[8]!==T||h[9]!==o||h[10]!==w||h[11]!==B?(i=(0,t.jsx)(ed,{onError:T,style:o,vial:B,src:w,alt:""}),h[8]=T,h[9]=o,h[10]=w,h[11]=B,h[12]=i):i=h[12],h[13]!==_||h[14]!==M||h[15]!==B?(u=_||M?(0,t.jsx)(em,{vial:B,src:`${c.prefix}etc/${_?"Particle":M?"PetHeart":""}.png`,alt:""}):null,h[13]=_,h[14]=M,h[15]=B,h[16]=u):u=h[16],h[17]!==B?(d=B?(0,t.jsx)("img",{onError:eh,src:`${c.prefix}data/aVials${B?.level===0?"1":B?.level}.png`,style:{opacity:B?.level===0?.5:1,width:35,height:40},alt:"vial image missing"},`${B?.name}`):null,h[17]=B,h[18]=d):d=h[18],h[19]!==k||h[20]!==u||h[21]!==d||h[22]!==s||h[23]!==i?(p=(0,t.jsxs)(r.Stack,{sx:s,children:[i,u,d,k]}),h[19]=k,h[20]=u,h[21]=d,h[22]=s,h[23]=i,h[24]=p):p=h[24],h[25]!==p||h[26]!==f?(g=(0,t.jsx)(m.default,{title:f,children:p}),h[25]=p,h[26]=f,h[27]=g):g=h[27],g},eu=e=>{let n,l,s=(0,a.c)(4),{missingMats:o}=e;return s[0]!==o?(n=o.map(ef),s[0]=o,s[1]=n):n=s[1],s[2]!==n?(l=(0,t.jsxs)(r.Stack,{alignItems:"center",children:["Missing materials",(0,t.jsx)(r.Stack,{direction:"row",children:n})]}),s[2]=n,s[3]=l):l=s[3],l},ec=e=>{let n,l,s=(0,a.c)(4),{shop:o}=e;return s[0]!==o?(n=o?.map(ev),s[0]=o,s[1]=n):n=s[1],s[2]!==n?(l=(0,t.jsx)(r.Stack,{direction:"row",gap:2,flexWrap:"wrap",children:n}),s[2]=n,s[3]=l):l=s[3],l},em=u.default.img`
  width: 15px;
  height: 15px;
  position: absolute;
  left: -5px;
  bottom: 30%;
`,ed=u.default.img`
  width: ${({vial:e})=>e?"20px":"30px"};
  height: ${({vial:e})=>e?"20px":"30px"};
  object-fit: contain;
  ${({vial:e})=>e?"top: 50%;left: 50%;transform:translate(-60%, -70%);":""}
  position: ${({vial:e})=>e?"absolute":"relative"};
`,ep=({account:e,characters:u,trackers:m,lastUpdated:d})=>{let{alerts:p,emptyAlertRows:g}=(e=>{let t,l,s,o,r=(0,a.c)(13),{alertsMap:i,data:u,extraData:c,trackers:m,lastUpdated:d}=e,[p,g]=(0,n.useState)();r[0]===Symbol.for("react.memo_cache_sentinel")?(t={},r[0]=t):t=r[0];let[h,f]=(0,n.useState)(t);return r[1]!==i||r[2]!==u||r[3]!==c||r[4]!==d||r[5]!==m?(l=()=>{if(m&&Object.values(m).some(es)){let e={},t=Object.entries(m||{}).reduce((t,a)=>{let[n,l]=a,s=Object.values(l||{}).reduce((e,t)=>{if(t?.checked&&i?.[n]){let t=Object.entries(l)?.reduce((e,[t,a])=>{let n=a?.options?.reduce((e,t)=>({...e,[t?.name]:t}),{});return{...e,[t]:n}},{}),a=i?.[n]?.(u,l,t,c,d)||{};return{...e,...a}}return e},{}),o=0===Object.keys(s).length;return e[n]=Object.entries(l)?.reduce((e,[,t])=>e&&!t?.checked,!0)||o,{...t,[n]:s}},{}),a=Object.values(e).every(eo);f(e),g(a?null:t)}else g(null)},r[1]=i,r[2]=u,r[3]=c,r[4]=d,r[5]=m,r[6]=l):l=r[6],r[7]!==u||r[8]!==m?(s=[u,m],r[7]=u,r[8]=m,r[9]=s):s=r[9],(0,n.useEffect)(l,s),r[10]!==p||r[11]!==h?(o={alerts:p,emptyAlertRows:h},r[10]=p,r[11]=h,r[12]=o):o=r[12],o})({alertsMap:er,data:e,extraData:u,trackers:m,lastUpdated:d});return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(l.Card,{sx:{width:"fit-content"},children:(0,t.jsx)(s.CardContent,{children:p?(0,t.jsxs)(r.Stack,{divider:(0,t.jsx)(o.Divider,{}),gap:1.5,children:[g?.General?null:(0,t.jsxs)(r.Stack,{direction:"row",gap:4,children:[(0,t.jsx)(i.Typography,{sx:{flexShrink:0},color:"text.secondary",children:"General"}),(0,t.jsxs)(r.Stack,{direction:"row",gap:2,flexWrap:"wrap",children:[p?.General?.etc?.familyObols?(0,t.jsx)(ei,{title:`You have ${p?.General?.etc?.familyObols} empty family obol slots`,iconPath:"data/ObolEmpty1"}):null,p?.General?.gemsFromBosses?(0,t.jsx)(ei,{title:`You can kill ${p?.General?.gemsFromBosses} more bosses for gems`,iconPath:"data/PremiumGem"}):null,p?.General?.etc?.freeCompanion?(0,t.jsx)(ei,{title:"You can claim a free companion",iconPath:"afk_targets/Dog"}):null,p?.General?.etc?.newCharacters?(0,t.jsx)(ei,{title:`You can create ${p?.General?.etc?.newCharacters} new character${p?.General?.etc?.newCharacters>1?"s":""}`,iconPath:"etc/CharFam0"}):null,p?.General?.etc?.randomEvents?(0,t.jsx)(ei,{title:"You haven't done a random event today",iconPath:"etc/Mega_Grumblo"}):null,p?.General?.etc?.miniBosses?.length>0?p?.General?.etc?.miniBosses?.map(({rawName:e,name:a,current:n})=>(0,t.jsx)(ei,{title:`You can kill ${n} ${(0,c.cleanUnderscore)(a)}s`,iconPath:`etc/${e}`},e)):null,p?.General?.tasks?.length>0?p?.General?.tasks?.map(e=>(0,t.jsx)(ei,{title:`Daily task in world ${e+1} not done yet`,iconPath:`etc/Merit_${e}`},"task"+e)):null,p?.General?.etc?.keys?.length>0?p?.General?.etc?.keys?.map(({rawName:e,totalAmount:a},n)=>(0,t.jsx)(ei,{title:`${a} of ${(0,c.cleanUnderscore)((0,c.pascalCase)(name))} ${e.includes("Tix")?"tickets":"keys"} are ready`,iconPath:`data/${e}`},e+""+n)):null,p?.General?.materialTracker?.length>0?p?.General?.materialTracker?.map(({item:e,quantityOwned:a,text:n,note:l},s)=>(0,t.jsx)(ei,{title:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.Typography,{variant:"subtitle2",children:n}),l?(0,t.jsxs)(i.Typography,{fontWeight:500,variant:"caption",children:["Note: ",l]}):null]}),iconPath:`data/${e?.rawName}`},e?.rawName+""+s)):null,p?.General?.etc?.dungeonTraits?.length>0?p?.General?.etc?.dungeonTraits?.map((e,a)=>(0,t.jsx)(ei,{title:`You haven't selected a trait for ${e}`,iconPath:"data/DungTraitB0"},"dungeonTraits"+a)):null,p?.General?.shops?.items?.length>0?p?.General?.shops?.items?.map((e,a)=>e?.length>0?(0,t.jsx)(ei,{title:(0,t.jsx)(ec,{shop:e}),iconPath:8===a?`etc/ShopEZ${a}`:`data/ShopEZ${a}`},"shop"+a+e?.[0]?.rawName):null):null,p?.General?.guild?.daily?(0,t.jsx)(ei,{title:`You have ${p?.General?.guild?.daily} uncompleted daily tasks`,iconPath:"etc/GP",imgStyle:{filter:"sepia(1) hue-rotate(46deg) saturate(1)"}}):null,p?.General?.guild?.weekly?(0,t.jsx)(ei,{title:`You have ${p?.General?.guild?.weekly} uncompleted weekly tasks`,iconPath:"etc/GP",imgStyle:{filter:"sepia(1) hue-rotate(140deg) saturate(1)"}}):null]})]}),g?.["World 1"]?null:(0,t.jsxs)(r.Stack,{direction:"row",gap:4,children:[(0,t.jsx)(i.Typography,{sx:{flexShrink:0},color:"text.secondary",children:"World 1"}),(0,t.jsxs)(r.Stack,{direction:"row",gap:2,flexWrap:"wrap",children:[p?.["World 1"]?.stamps?.gildedStamps>0?(0,t.jsx)(ei,{title:`You have ${p?.["World 1"]?.stamps?.gildedStamps} available gilded stamps`,iconPath:"data/GildedStamp"}):null,p?.["World 1"]?.owl?.featherRestart?(0,t.jsx)(ei,{title:"Feather restart can be upgraded",iconPath:"etc/Owl_4"}):null,p?.["World 1"]?.owl?.megaFeatherRestart?(0,t.jsx)(ei,{title:"Mega feather restart can be upgraded",iconPath:"etc/Owl_8"}):null,p?.["World 1"]?.forge?.emptySlots?(0,t.jsx)(ei,{title:"You have empty forge slots",iconPath:"data/ForgeA"}):null]})]}),g?.["World 2"]?null:(0,t.jsxs)(r.Stack,{direction:"row",gap:4,children:[(0,t.jsx)(i.Typography,{sx:{flexShrink:0},color:"text.secondary",children:"World 2"}),(0,t.jsxs)(r.Stack,{direction:"row",gap:2,flexWrap:"wrap",children:[p?.["World 2"]?.kangaroo?.shinyThreshold?(0,t.jsx)(ei,{title:`You have reached your shiny % threshold of ${p?.["World 2"]?.kangaroo?.shinyThreshold}% (${Math.round(e?.kangaroo?.shinyProgress)}%)`,iconPath:"etc/KShiny"}):null,p?.["World 2"]?.kangaroo?.fisherooReset?(0,t.jsx)(ei,{title:"Fisheroo Reset can be upgraded",iconPath:"etc/KUpga_6"}):null,p?.["World 2"]?.kangaroo?.greatestCatch?(0,t.jsx)(ei,{title:"Greatest Catch can be upgraded",iconPath:"etc/KUpga_11"}):null,p?.["World 2"]?.islands?.unclaimedDays?(0,t.jsx)(ei,{title:`You haven't claimed your islands' content in ${p?.["World 2"]?.islands?.unclaimedDays} days`,iconPath:"data/Island1"}):null,p?.["World 2"]?.islands?.shimmerIsland?(0,t.jsx)(ei,{title:"You haven't claimed your shimmer's trial reward this week",iconPath:"etc/Shimmer_Currency"}):null,p?.["World 2"]?.islands?.garbageUpgrade?(0,t.jsx)(ei,{title:"You have enough garbage to buy a 'Garbage Gain' upgrade in trash island",iconPath:"etc/Trash_Currency"}):null,p?.["World 2"]?.alchemy?.bargainTag?(0,t.jsx)(ei,{title:"You haven't use bargain tag even once today",iconPath:"data/aShopItems10"}):null,p?.["World 2"]?.alchemy?.gems?(0,t.jsx)(ei,{title:"You haven't bought alchemy gems even once today",iconPath:"data/PremiumGem"}):null,p?.["World 2"]?.alchemy?.alternateParticles?(0,t.jsx)(ei,{title:`You have ${p?.["World 2"]?.alchemy?.alternateParticles} alternate particles upgrades available`,iconPath:"etc/Particle"}):null,p?.["World 2"]?.weeklyBosses?(0,t.jsx)(ei,{title:"You haven't done a weekly (W2) boss fight this week",iconPath:"data/Trophie"}):null,p?.["World 2"]?.killRoy?.general?(0,t.jsx)(ei,{title:p?.["World 2"]?.killRoy?.general?`You haven't done a killroy this week (${e?.killroy?.killRoyClasses.join(", ")})`:p?.["World 2"]?.killRoy>0&&e?.accountOptions?.[113]<(e?.killroy?.rooms===3?321:21)&&e?.finishedWorlds?.World3?`You haven't done a killroy this week (${e?.killroy?.killRoyClasses.join(", ")})`:"",iconPath:"etc/Killroy"}):null,p?.["World 2"]?.killRoy?.underHundredKills?(0,t.jsx)(ei,{title:`Killroy includes a monster with less than 100 kills (${p?.["World 2"]?.killRoy?.underHundredKills?.map(e=>(0,c.cleanUnderscore)(e?.Name)).join(", ")})`,iconPath:"etc/KillroyPrime"}):null,p?.["World 2"]?.arcade?.balls?(0,t.jsx)(ei,{title:"Max ball capacity has been reached",iconPath:"data/PachiBall0"}):null,p?.["World 2"]?.alchemy?.sigils?.length>0?p?.["World 2"]?.alchemy?.sigils?.map(({name:e,index:a})=>(0,t.jsx)(ei,{title:`${(0,c.cleanUnderscore)((0,c.pascalCase)(e))} is already unlocked`,iconPath:`data/aSiga${a}`},e)):null,p?.["World 2"]?.alchemy?.liquids?.length>0?p?.["World 2"]?.alchemy?.liquids?.map(({index:e})=>(0,t.jsx)(ei,{title:`${(0,c.getNumberWithOrdinal)(e+1)} liquid is full`,iconPath:`data/Liquid${e+1}_x1`},"liq"+e)):null,p?.["World 2"]?.postOffice?.dailyShipments?.length>0?p?.["World 2"]?.postOffice?.dailyShipments?.map(({index:e})=>(0,t.jsx)(ei,{title:`You haven't completed an order for shipment #${e+1} today`,iconPath:"data/UIlilbox"},"shipment"+e)):null,p?.["World 2"]?.alchemy?.vialsAttempts?(0,t.jsx)(ei,{title:"You have available vial attempts",iconPath:"data/aVials1"},"vialsAttempts"):null,p?.["World 2"]?.alchemy?.vials?.length>0?p?.["World 2"]?.alchemy?.vials?.map(e=>(0,t.jsx)(ei,{vial:e,title:`You have enough materials to upgrade ${(0,c.cleanUnderscore)(e?.name)} vial`,iconPath:`data/${e?.mainItem}`},e?.mainItem)):null]})]}),g?.["World 3"]?null:(0,t.jsxs)(r.Stack,{direction:"row",gap:4,children:[(0,t.jsx)(i.Typography,{sx:{flexShrink:0},color:"text.secondary",children:"World 3"}),(0,t.jsxs)(r.Stack,{direction:"row",gap:2,flexWrap:"wrap",children:[p?.["World 3"]?.library?.books?(0,t.jsx)(ei,{title:`Library has ${e?.libraryTimes?.bookCount} books ready`,iconPath:"data/Libz"}):null,p?.["World 3"]?.atomCollider?.stampReducer?(0,t.jsx)(ei,{title:`Stamp reducer has reached your threshold (${p?.["World 3"]?.atomCollider?.stampReducerValue}%)`,iconPath:"data/Atom0"}):null,p?.["World 3"]?.construction?.flags?.length>0?(0,t.jsx)(ei,{title:`There are ${p?.["World 3"]?.construction?.flags?.length} flags finished in construction board`,iconPath:"data/CogFLflag"}):null,p?.["World 3"]?.equinox?.bar?(0,t.jsx)(ei,{title:"Your Equinox bar is full",iconPath:"data/Quest78"}):null,p?.["World 3"]?.equinox?.challenges>0?(0,t.jsx)(ei,{title:`You have ${p?.["World 3"]?.equinox?.challenges} challenges to validate`,iconPath:"data/Quest78"}):null,p?.["World 3"]?.equinox?.foodLust?(0,t.jsx)(ei,{title:"Food Lust is maxed",iconPath:"etc/Dream_Upgrade_10"}):null,p?.["World 3"]?.construction?.materials?.length>0?p?.["World 3"]?.construction?.materials?.map(({rawName:e,missingMats:a})=>(0,t.jsx)(ei,{title:(0,t.jsx)(eu,{missingMats:a}),imgStyle:{border:"1px solid",borderColor:"#833b3b"},iconPath:`data/${e}`},e)):null,p?.["World 3"]?.construction?.rankUp?.length>0?p?.["World 3"]?.construction?.rankUp?.map(({rawName:e,saltName:a})=>(0,t.jsx)(ei,{title:`${(0,c.cleanUnderscore)(a)} is ready to rank up`,iconPath:`data/${e}`},e)):null,p?.["World 3"]?.construction?.buildings?.length>0?p?.["World 3"]?.construction?.buildings?.map(({name:e,index:a})=>(0,t.jsx)(ei,{title:`${(0,c.cleanUnderscore)((0,c.pascalCase)(e))} is ready to be built`,iconPath:`data/ConTower${a}`},e)):null,p?.["World 3"]?.printer?.atoms?.length>0?p?.["World 3"]?.printer?.atoms?.map(({name:e,rawName:a})=>(0,t.jsx)(ei,{title:`Printing is at maximum (storage) capacity for ${(0,c.cleanUnderscore)(e)}`,atom:!0,iconPath:`data/${a}`},"printer-atoms-"+a)):null,p?.["World 3"]?.traps?.overdue>0?(0,t.jsx)(ei,{title:`${p?.["World 3"]?.traps?.overdue} traps are overdue`,iconPath:"data/TrapBoxSet1"}):null]})]}),g?.["World 4"]?null:(0,t.jsxs)(r.Stack,{direction:"row",gap:4,children:[(0,t.jsx)(i.Typography,{sx:{flexShrink:0},color:"text.secondary",children:"World 4"}),(0,t.jsxs)(r.Stack,{direction:"row",gap:2,flexWrap:"wrap",children:[p?.["World 4"]?.cooking?.meals?.length>0?p?.["World 4"]?.cooking?.meals?.map(({rawName:e,name:a})=>(0,t.jsx)(ei,{title:`${(0,c.cleanUnderscore)(a)} is ready to be leveled up`,iconPath:`data/${e}`},e)):null,p?.["World 4"]?.laboratory?.chipsRotation?.length>0?p?.["World 4"]?.laboratory?.chipsRotation?.map(({rawName:e,name:a},n)=>(0,t.jsx)(ei,{title:`You can claim ${(0,c.cleanUnderscore)(a)} in chip repository`,iconPath:`data/${e}`},e+n)):null,p?.["World 4"]?.laboratory?.jewelsRotation?.length>0?p?.["World 4"]?.laboratory?.jewelsRotation?.map(({rawName:e,name:a},n)=>(0,t.jsx)(ei,{title:`You can claim ${(0,c.cleanUnderscore)(a)} in jewel repository`,iconPath:`data/${e}`},e+n)):null,p?.["World 4"]?.cooking?.spices>0?(0,t.jsx)(ei,{title:`You have ${p?.["World 4"]?.cooking?.spices} spice clicks left`,iconPath:"data/CookingSpice0"}):null,p?.["World 4"]?.cooking?.ribbons?(0,t.jsx)(ei,{title:`You have reached your threshold of ${p?.["World 4"]?.cooking?.ribbons} empty ribbon slots`,iconPath:"data/Ribbon0"}):null,p?.["World 4"]?.breeding?.eggs?(0,t.jsx)(ei,{title:"Eggs are at full capacity",iconPath:"data/PetEgg1"},"breeding-eggs"):null,p?.["World 4"]?.breeding?.eggsRarity?(0,t.jsx)(ei,{title:`You have reached your desired rarity level of ${p?.["World 4"]?.breeding?.eggsRarity} with at least one egg`,iconPath:`data/PetEgg${p?.["World 4"]?.breeding?.eggsRarity}`},"breeding-eggsRarity"):null,p?.["World 4"]?.breeding?.shinies?.pets?.length>0?p?.["World 4"]?.breeding?.shinies?.pets?.map(({monsterName:e,shinyLevel:a},n)=>(0,t.jsx)(ei,{imgStyle:{filter:`hue-rotate(${(0,c.randomFloatBetween)(45,180)}deg)`},title:`${(0,c.cleanUnderscore)(e)} has reached ${20===a?"level 20 (max)":`the shiny threshold (${p?.["World 4"]?.breeding?.shinies?.threshold})`}`,iconPath:`afk_targets/${e}`},e+n)):null,p?.["World 4"]?.breeding?.breedability?.pets?.length>0?p?.["World 4"]?.breeding?.breedability?.pets?.map(({monsterName:e,icon:a},n)=>(0,t.jsx)(ei,{breedability:!0,title:`${(0,c.cleanUnderscore)(e)} has surpassed the breedability level threshold (${p?.["World 4"]?.breeding?.breedability?.threshold})`,iconPath:`afk_targets/${e}`},e+n)):null]})]}),g?.["World 5"]?null:(0,t.jsxs)(r.Stack,{direction:"row",gap:4,children:[(0,t.jsx)(i.Typography,{sx:{flexShrink:0},color:"text.secondary",children:"World 5"}),(0,t.jsxs)(r.Stack,{direction:"row",gap:2,flexWrap:"wrap",children:[p?.["World 5"]?.gaming?.sprouts?(0,t.jsx)(ei,{title:`Max sprouts capacity has reached (${p?.["World 5"]?.gaming?.sprouts})`,imgStyle:{objectFit:"none"},iconPath:"etc/Sprouts"}):null,p?.["World 5"]?.gaming?.drops?(0,t.jsx)(ei,{title:`Sprinkler drops has reached it's capacity (${p?.["World 5"]?.gaming?.drops})`,iconPath:"data/GamingItem0b"}):null,p?.["World 5"]?.gaming?.squirrel>=1?(0,t.jsx)(ei,{title:`${p?.["World 5"]?.gaming?.squirrel} hours has passed since you've clicked the squirrel`,iconPath:"data/GamingItem2"}):null,p?.["World 5"]?.gaming?.shovel>=1?(0,t.jsx)(ei,{title:`${p?.["World 5"]?.gaming?.shovel} hours has passed since you've clicked the shovel`,iconPath:"data/GamingItem1"}):null,p?.["World 5"]?.sailing?.chests>0?(0,t.jsx)(ei,{title:"You've reached the maximum capacity of chests",iconPath:"npcs/Chesty"},"sailing-chest-alert"):null,p?.["World 5"]?.sailing?.captains?.length>0?p?.["World 5"]?.sailing?.captains?.map(({captain:e,bonus:a,badCaptains:n,enderCaptain:l})=>(0,t.jsx)(ei,{title:(0,t.jsxs)(r.Stack,{children:[(0,t.jsxs)(i.Typography,{sx:{mb:1},children:["Captain ",(0,t.jsx)(i.Typography,{component:"span",sx:{fontWeight:"bold"},children:e?.captainIndex})," with ",(0,c.cleanUnderscore)(a)," from the shop is ",l?"an ender captain (hidden +25% loot and artifact)":`better 
                        than ${n.length} of
                        your captains`]}),(0,t.jsx)(r.Stack,{children:n?.map(({captainIndex:e,bonus:a})=>(0,t.jsxs)(i.Typography,{children:[(0,t.jsx)(i.Typography,{component:"span",sx:{fontWeight:"bold"},children:e}),": ",(0,c.cleanUnderscore)(a)]},`cap-${e}`))})]}),iconPath:`etc/Captain_${e?.captainType}`},"captain"+e?.captainIndex)):null,p?.["World 5"]?.hole?.buckets?(0,t.jsx)(ei,{title:"One of your sediments has reached the threshold",imgStyle:{objectFit:"cover"},iconPath:"data/HoleWellBucket0"}):null,p?.["World 5"]?.hole?.motherlodeMaxed?(0,t.jsx)(ei,{title:"You can break a layer in the motherlode cavern",imgStyle:{objectFit:"none"},iconPath:"data/Motherlode_x1"}):null,p?.["World 5"]?.hole?.bravery?(0,t.jsx)(ei,{title:"You can hear a story in the bravery cavern",imgStyle:{objectFit:"none"},iconPath:"etc/Bravery_Statue"}):null,p?.["World 5"]?.hole?.justice?(0,t.jsx)(ei,{title:"You can hear a story in the justice cavern",imgStyle:{objectFit:"none"},iconPath:"data/Justice_Monument_x1"}):null,p?.["World 5"]?.hole?.wisdom?(0,t.jsx)(ei,{title:"You can play a memory game in the wisdom cavern",imgStyle:{objectFit:"none"},iconPath:"data/Wisdom_Monument_x1"}):null,p?.["World 5"]?.hole?.theBell?(0,t.jsx)(ei,{title:"One of your cavern bells is ready",iconPath:"etc/TheBell"}):null,p?.["World 5"]?.hole?.theHarp?(0,t.jsx)(ei,{title:"Harp power has reached the threshold",iconPath:"etc/TheHarp"}):null,p?.["World 5"]?.hole?.hiveMaxed?(0,t.jsx)(ei,{title:"You can break a layer in the hive cavern",iconPath:"etc/TheHive"}):null,p?.["World 5"]?.hole?.grotto?(0,t.jsx)(ei,{title:"You can kill the monarch",iconPath:"etc/Grotto"}):null,p?.["World 5"]?.hole?.jars>=0?(0,t.jsx)(ei,{title:`You can break ${p?.["World 5"]?.hole?.jars} jars in the jars cavern`,iconPath:"etc/Jar_0"}):null,p?.["World 5"]?.hole?.villagersLevelUp?.length>0?p?.["World 5"]?.hole?.villagersLevelUp?.map(({name:e,index:a})=>(0,t.jsx)(ei,{title:`${e} is ready to level up`,iconPath:`etc/Villager_${a}`},e)):null,p?.["World 5"]?.hole?.studyLevelUp?.length>0?p?.["World 5"]?.hole?.studyLevelUp?.map(({name:e,index:a,location:n})=>(0,t.jsx)(ei,{title:`${(0,c.cleanUnderscore)(e)} study is ready to level up`,iconPath:"etc/Study_Rate"},e+a)):null]})]}),g?.["World 6"]?null:(0,t.jsxs)(r.Stack,{direction:"row",gap:4,children:[(0,t.jsx)(i.Typography,{sx:{flexShrink:0},color:"text.secondary",children:"World 6"}),(0,t.jsxs)(r.Stack,{direction:"row",gap:2,flexWrap:"wrap",children:[p?.["World 6"]?.sneaking?.lastLooted?(0,t.jsx)(ei,{title:`You haven't looted rewards from sneaking for ${Math.floor(e?.sneaking?.lastLooted/60)} minutes`,iconPath:"data/NjUpgI14"}):null,p?.["World 6"]?.summoning?.familiar?(0,t.jsx)(ei,{title:`Summoning familiar bonus isn't maxed (${p?.["World 6"]?.summoning?.familiar.level}/${p?.["World 6"]?.summoning?.familiar.maxLvl})`,iconPath:"data/SumUpgIc2"}):null,p?.["World 6"]?.summoning?.battleAttempts?(0,t.jsx)(ei,{title:`You have ${p?.["World 6"]?.summoning?.battleAttempts} summoning battle attempts`,iconPath:"data/Heart"}):null,p?.["World 6"]?.farming?.missingPlots?.length>0?(0,t.jsx)(ei,{title:`You have ${p?.["World 6"]?.farming?.missingPlots?.length} seeds available to be planted`,iconPath:"data/FarmPlant1"}):null,p?.["World 6"]?.farming?.plots?.length>0?(0,t.jsx)(ei,{title:`${p?.["World 6"]?.farming?.plots?.length} plots reached the threshold of ${p?.["World 6"]?.farming?.plots?.[0]?.threshold} OGs (x${Math.min(1e9,Math.max(1,Math.pow(2,p?.["World 6"]?.farming?.plots?.[0]?.threshold)))})`,iconPath:"data/ClassIcons57"}):null,p?.["World 6"]?.farming?.totalCrops>0?(0,t.jsx)(ei,{title:`You have ${(0,c.commaNotation)(p?.["World 6"]?.farming?.totalCrops)} crops ready to be collected`,iconPath:"data/FarmPlant6"}):null,p?.["World 6"]?.farming?.beanTrade>0?(0,t.jsx)(ei,{title:`Your bean trade has reached ${(0,c.numberWithCommas)(Math.floor(p?.["World 6"]?.farming?.beanTrade))}`,iconPath:"data/Quest80_x1"}):null,p?.["World 6"]?.etc?.emperorAttempts>0?(0,t.jsx)(ei,{title:`You have reached ${p?.["World 6"]?.etc?.emperorAttempts} emperor attempts`,iconPath:"data/Boss6"}):null]})]}),g?.["World 7"]?null:(0,t.jsxs)(r.Stack,{direction:"row",gap:4,children:[(0,t.jsx)(i.Typography,{sx:{flexShrink:0},color:"text.secondary",children:"World 7"}),(0,t.jsxs)(r.Stack,{direction:"row",gap:2,flexWrap:"wrap",children:[p?.["World 7"]?.gallery?.missingTrophies?.length>0?p?.["World 7"]?.gallery?.missingTrophies?.map(({itemName:e,owner:a,rawName:n},l)=>(0,t.jsx)(ei,{title:`${(0,c.cleanUnderscore)(e)} is missing from gallery (${a})`,iconPath:`data/${n}`},`missing-trophy-${n}-${l}`)):null,p?.["World 7"]?.gallery?.missingNametags?.length>0?p?.["World 7"]?.gallery?.missingNametags?.map(({itemName:e,owner:a,rawName:n},l)=>(0,t.jsx)(ei,{title:`${(0,c.cleanUnderscore)(e)} is missing from gallery (${a})`,iconPath:`data/${n}`},`missing-nametag-${n}-${l}`)):null,p?.["World 7"]?.spelunking?.pageReads?.available>0?(0,t.jsx)(ei,{title:`You have ${p?.["World 7"]?.spelunking?.pageReads?.available} page read${p?.["World 7"]?.spelunking?.pageReads?.available===1?"":"s"} available (${p?.["World 7"]?.spelunking?.pageReads?.current}/${p?.["World 7"]?.spelunking?.pageReads?.max})`,iconPath:"data/Spelunking0"}):null,p?.["World 7"]?.spelunking?.fullStaminaCharacters?.count>=p?.["World 7"]?.spelunking?.fullStaminaCharacters?.threshold?(0,t.jsx)(ei,{title:`${p?.["World 7"]?.spelunking?.fullStaminaCharacters?.count} character${p?.["World 7"]?.spelunking?.fullStaminaCharacters?.count===1?"":"s"} ${p?.["World 7"]?.spelunking?.fullStaminaCharacters?.count===1?"has":"have"} full stamina`,iconPath:"data/CaveShopUpg4"}):null,p?.["World 7"]?.spelunking?.overstimLevel?.current>=p?.["World 7"]?.spelunking?.overstimLevel?.threshold?(0,t.jsx)(ei,{title:`Overstim level has reached ${p?.["World 7"]?.spelunking?.overstimLevel?.current} (threshold: ${p?.["World 7"]?.spelunking?.overstimLevel?.threshold})`,iconPath:"data/CaveShopUpg6"}):null,p?.["World 7"]?.legendTalents?.legendPointsLeftToSpend>0?(0,t.jsx)(ei,{title:`You have ${p?.["World 7"]?.legendTalents?.legendPointsLeftToSpend} unspent legend talent point${p?.["World 7"]?.legendTalents?.legendPointsLeftToSpend===1?"":"s"}`,iconPath:"data/LegendTalentIcon0"}):null,p?.["World 7"]?.zenithMarket?.doubleCluster?(0,t.jsx)(ei,{title:"You can afford Double Clusters upgrade",iconPath:"etc/Cluster"}):null,p?.["World 7"]?.construction?.jeweledCogs?(0,t.jsx)(ei,{title:`You have ${p?.["World 7"]?.construction?.jeweledCogs?.available} jeweled cog pull${p?.["World 7"]?.construction?.jeweledCogs?.available>1?"s":""} left (${p?.["World 7"]?.construction?.jeweledCogs?.current}/${p?.["World 7"]?.construction?.jeweledCogs?.max})`,iconPath:"data/CogCry0"}):null]})]})]}):(0,t.jsx)(i.Typography,{children:"There are no account alerts to display"})})})})};function eg(){}function eh(e){e.target.src=`${c.prefix}data/aVials12.png`,e.target.style="opacity: 0;"}function ef(e){let{rawName:a}=e;return(0,t.jsx)(ed,{src:`${c.prefix}data/${a}.png`,alt:""},a)}function ev(e,a){let{amount:n,rawName:l}=e;return(0,t.jsxs)(r.Stack,{alignItems:"center",children:[(0,t.jsx)(ed,{src:`${c.prefix}data/${l}.png`},"shop"+l),(0,t.jsx)(i.Typography,{children:(0,c.notateNumber)(n)})]},l+a)}},304782,733884,193701,712738,e=>{"use strict";e.s(["allProwess",()=>I,"getAllBaseSkillEff",()=>N,"getAllEff",()=>R,"getMiningEff",()=>D],304782);var t=e.i(172833),a=e.i(109304),n=e.i(775003),l=e.i(805861),s=e.i(173024),o=e.i(210270),r=e.i(942144),i=e.i(82748),u=e.i(971176),c=e.i(262887),m=e.i(618332);e.s(["calcPrayerCost",()=>v,"calcTotalPrayersLevel",()=>B,"getPrayerBonusAndCurse",()=>f,"getPrayers",()=>g],733884);var d=e.i(608580),p=e.i(39188);let g=(e,t)=>h(e?.PrayersUnlocked||(0,d.tryToParse)(e?.PrayOwned),t),h=(e,t)=>e?.reduce((e,a,n)=>{let l=i.prayers?.[n]?.soul,s=(0,u.calculateItemTotalAmount)(t,i.items?.[l]?.displayName,!0);return n<19?[...e,{...i.prayers?.[n],prayerIndex:n,totalAmount:s,level:a}]:e},[]),f=(e,t,a,n=!1)=>{let l,s=(0,p.isSuperbitUnlocked)(a,"No_more_Praying")&&(!e||e?.length===0);if(s?l=a?.prayers?.find(({name:e})=>e===t):(l=e?.find(({name:e})=>e===t))||!n||(l=a?.prayers?.find(({name:e})=>e===t)),!l)return{bonus:0,curse:0};let o=l.x1+l.x1*(l.level-1)/10,r=l.x2+l.x2*(l.level-1)/10,i=n&&!e?.find(({name:e})=>e===t);return{bonus:Math.round(s?o/5:o),curse:Math.round(s||i?0:r)}},v=e=>{let{level:t,costMulti:a,prayerIndex:n}=e;return t<6?Math.round(a*(1+(4+n/25)*t)):Math.round(Math.min(2e9,a*(1+(1+n/20)*t)*Math.pow(9===n?1.3:1.12,t-5)))},B=e=>e?.reduce((e,{level:t})=>e+t,0);var _=e.i(372110);let M={PICKAXE:0,HATCHET:1,ROD:2,NET:3,TRAP:4,SKULL:5};e.s(["CONTENT_PERCENT_SIZE",0,"85%","TOOLS",0,M],193701);var b=e.i(276924),S=e.i(685849),y=e.i(198659);let k=["STR","AGI","WIS","LUK","Weapon_Power","Defence","UQ1txt","UQ2txt"],x=(e,t)=>e.reduce((e,a,n)=>{let{rawName:l}=a;if("Blank"===l)return[...e,a];let s=(0,u.addStoneDataToEquip)(i.items?.[l],t?.[n]),o=Object.values(t?.[n]||{}).some(e=>!isNaN(e)&&e>0);return l?[...e,{..."Blank"===l?{}:{...a,...i.items?.[l],...s},rerolled:o}]:e},[]),C=e=>{let t=e.toLowerCase();return t?t.includes("obolbronzeworship")?"Worship Power":t.includes("obolbronzetrapping")?"Trapping Power":t.includes("mining")?"Mining Power":t.includes("fishin")?"Fishing Power":t.includes("choppin")?"Choppin Power":t.includes("catch")?"Catching Power":"Weapon Power":"Weapon Power"},T=(e,t)=>{let a=t?"familyBonus":"personalBonus";return e?.reduce((e,t)=>(Object.entries(t).forEach(([n,l])=>{if(!k.includes(n))return;let s=n;if("Weapon_Power"===n&&l>0&&(s=C(t?.UQ1txt||t?.rawName).replace(/ /,"_")),e[s]?.[a]||e[l]?.[a])if("UQ1txt"===s||"UQ2txt"===s){if(0===l)return;let n=s.match(/\d/g)?.[0];e[l]={[a]:(e?.[l]?.[a]??0)+t?.[`UQ${n}val`]||0}}else e[s]={[a]:(e?.[s]?.[a]??0)+l};else if("UQ1txt"===s||"UQ2txt"===s){if(0===l)return;let n=s.match(/\d/g)?.[0];e[l]={[a]:(e?.[l]?.[a]??0)+t?.[`UQ${n}val`]||0}}else e[s]={[a]:l}}),e),{})},w=e=>{switch(e){case 12:return 13;case 13:return 14;case 14:return 12;case 17:return 15;case 15:return 17;case 16:return 19;case 18:return 16;case 19:return 18;default:return e}},E=(e,t)=>{let{personalBonus:a=0,familyBonus:n=0}=e?.stats?.[t]||{};return a||n?(a??0)+(n??0):0};e.s(["getObols",0,(e,t=!0)=>{var a,n,l,s;let o,r,u,c=(0,d.tryToParse)(e?.ObolEqO1)||(t?e?.ObolEquippedOrder?.[1]:e?.ObolEquippedOrder),m=(0,d.tryToParse)(e?.ObolEqMAPz1)||(t?e?.ObolEquippedMap?.[1]:e?.ObolEquippedMap);return a=c,n=m,l=(0,d.tryToParse)(e?.ObolInvOr),o=(s=t)?i.obols.family:i.obols.character,(r=x(a?.map((e,t)=>({displayName:i.items?.[e]?.displayName,rawName:e,...!s?{index:w(t)}:{},...o?.[t]?o[t]:{}})),n)).sort((e,t)=>e.index-t.index),u=T(r,s),{inventory:(0,d.createArrayOfArrays)(l)||[],list:r,stats:u}},"getObolsBonus",0,E,"getPowerType",0,C,"mergeCharacterAndAccountObols",0,(e,t)=>Array.from(new Set([...Object.keys(e.stats),...Object.keys(t.stats)])).reduce((a,n)=>{let{personalBonus:l}=e.stats?.[n]??0,{familyBonus:s}=t.stats?.[n]??0;return a[n]={personalBonus:l,familyBonus:s},a},{})],712738);var A=e.i(24174),O=e.i(398241),P=e.i(694186),L=e.i(264046);let I=(e,l)=>{let o=s.mainStatMap?.[e?.class];return Math.max(0,Math.min(.1,((0,t.getBubbleBonus)(l,"PROWESESSARY",!1,o)-1)/10+(.001*(0,a.getStarSignBonus)(e,l,"All_Skill_Prowess")+5e-4*(0,n.getMealsBonusByEffectOrStat)(l,null,"Sprow"))))},N=(e,a,n,o)=>{let r=(0,y.getShinyBonus)(a?.breeding?.pets,"Base_Efficiency_for_All_Skills"),i=(0,S.getStampsBonusByEffect)(a,"All_Skill_Efficiency",e),u=((e,a,n,l)=>{let o=s.mainStatMap?.[e?.class],{strength:r,wisdom:i,agility:u}=e?.stats||{},c=(0,t.getBubbleBonus)(a,"HEARTY_DIGGY",!1,o),m=(0,t.getBubbleBonus)(a,"HOCUS_CHOPPUS",!1,o),p=Math.max(1,R(e,n,a)+Math.pow((c*(0,d.lavaLog)(l?.maxHp)+m*(0,d.lavaLog)(l?.maxMp))/100,2)+Math.pow((r+(i+u))/3,.5)/7),g=a?.divinity?.deities?.[2];return(g?.level??0)*(g?.blessingMultiplier??0)*Math.min(1.8,Math.max(.1,4*Math.pow((p+1e4)/Math.max(10*p+10,1)*.01,2)))})(e,a,n,o),m=(0,l.getPostOfficeBonus)(e?.postOffice,"Myriad_Crate",1),p=a?.lab?.playersChips?.[e?.playerId].find(e=>11===e.index)?.baseVal??0,g=(0,s.getTalentBonus)(e?.flatStarTalents,"SUPERSOURCE"),h=(0,c.getLabBonus)(a?.lab?.labBonuses,8);return r+i+u+m+p+(g+(0,c.getJewelBonus)(a?.lab.jewels,12,h)*(a.lab.jewels?.slice(11,16)?.every(({active:e})=>e)?2:1))},R=(e,a,l)=>{let c=(0,o.getHighestLevelOfClass)(l?.charactersLevels,s.CLASSES.Wind_Walker),d=(0,r.getFamilyBonusBonus)(i.classFamilyBonuses,"EFFICIENCY_FOR_ALL_SKILLS",c),p=(0,t.getVialsBonusByStat)(l?.alchemy?.vials,"6SkillEff"),g=(0,u.getStatsFromGear)(e,48,l),h=E(e?.obols,i.bonuses?.etcBonuses?.[48]),v=(0,A.isArtifactAcquired)(l?.sailing?.artifacts,"Frost_Relic")?.bonus??0,B=(0,s.getTalentBonus)(e?.flatStarTalents,"STUDIOUS_QUESTER"),M=(0,n.getMealsBonusByEffectOrStat)(l,null,"Seff"),b=l?.tome?.bonuses?.[1]?.bonus??0,S=l?.lab?.playersChips?.[e?.playerId]?.find(e=>11===e.index)?.baseVal??0,y=l?.cards?.Crystal_Capybara?.stars?l?.cards?.Crystal_Capybara?.stars+1:0,k=(0,o.getSkillMasteryBonusByIndex)(l?.totalSkillsLevels,l?.rift,2),x=(0,P.getSchematicBonus)({holesObject:l?.hole?.holesObject,t:49,i:15}),C=(0,m.getEquippedCardBonus)(e?.cards,"Boss4B"),T=(0,o.isCompanionBonusActive)(l,5)?l?.companions?.list?.at(5)?.bonus:0,w=(0,L.getWinnerBonus)(l,"<x Skill Effncy."),O=e?.cards?.cardSet?.rawName==="CardSet2"?e?.cards?.cardSet?.bonus:0,I=f(e?.activePrayers,"Skilled_Dimwit",l)?.bonus,N=f(e?.activePrayers,"Balance_of_Proficiency",l)?.curse,R=(0,s.getTalentBonusIfActive)(e?.activeBuffs,"MAESTRO_TRANSFUSION"),D=0;return l?.guild?.guildBonuses?.length>0&&(D=(0,_.getGuildBonusBonus)(l?.guild?.guildBonuses,6)),(1+(d+(g+h+p+(v+Math.min(.1*e?.questCompleted,B))))/100)*(1+(M+b+(S+3*y)+(k+x+(l?.accountOptions?.[180]??0)*l?.islands?.allShimmerBonus))/100)*(1+(C+T)/100)*(1+w/100)*(1+(D+(O+I))/100)*Math.max(1-(R+N)/100,.01)},D=(e,n,r,c)=>{let p=s.mainStatMap?.[e?.class],g=e?.tools?.[M.PICKAXE]?.Weapon_Power||0,h=g,f=(0,s.getTalentBonus)(e?.flatTalents,"TOOL_PROFICIENCY"),v=(0,t.getBubbleBonus)(r,"STRONK_TOOLS",!1,p),B=e?.skillsInfo?.mining?.level;h=h*(1+f*(e?.skillsInfo?.mining?.level/10)/100)*(1+v/100)+4+(g+(0,b.getStatueBonus)(r,2,e?.flatTalents)+(0,t.getBubbleBonus)(r,"SLABI_OREFISH",!1,p)*Math.floor(r?.looty?.rawLootedItems/100));let _=(0,s.getTalentBonus)(e?.flatTalents,"SKILL_STRENGTHEN"),y=(0,S.getStampsBonusByEffect)(r,"Base_Mining",e),k=N(e,r,n,c),x=(0,l.getPostOfficeBonus)(e?.postOffice,"Dwarven_Supplies",0),C=(0,s.getMaestroHand)(e,"mining",n,r,"RIGHT_HAND_OF_ACTION"),T=(0,o.getGoldenFoodBonus)("Golden_Peanut",e,r,n)||1,w=(0,s.getTalentBonus)(e?.flatTalents,"BRUTE_EFFICIENCY"),A=(0,u.getStatsFromGear)(e,10,r,!0),P=E(e?.obols,i.bonuses?.etcBonuses?.[10]),L=(0,o.isMasteryBonusUnlocked)(r?.rift,r?.totalSkillsLevels?.mining?.rank,1),I=(0,m.getCardBonusByEffect)(e?.cards?.equippedCards,"Total_Mining_Efficiency"),D=(0,a.getStarSignBonus)(e,r,"Mining_Efficency"),F=(0,t.getVialsBonusByStat)(r?.alchemy?.vials,"MinEff"),G=(0,t.getBubbleBonus)(r,"HEARTY_DIGGY",!1,p),j=(0,s.getTalentBonus)(e?.flatTalents,"COPPER_COLLECTOR"),W=(0,O.getAtomBonus)(r,"Helium_-_Talent_Power_Stacker"),U=(0,u.calculateItemTotalAmount)(r?.storage?.list,"Copper_Ore",!0),q=R(e,n,r);return 12+(Math.pow(h,1.3)+(Math.pow(e?.stats?.strength+1,.6)*(1+_/100)+(y+k)))*(1+B/200)*(1+(x+C)/100)*(1+Math.pow(e?.stats?.strength/100,.35)*(1+_/100))*T*(1+(w+(A+P+10*L))/100)*(1+(I+(D+F))/100)*(1+h/100)*1*(1+G*(0,d.lavaLog)(c?.maxHp)/100)*(1+j*(W+(0,d.lavaLog)(U))/100)*q}},775003,e=>{"use strict";e.s(["applyMealsMulti",()=>R,"calcMealTime",()=>H,"calcTimeToNextLevel",()=>K,"calcTotalMeals",()=>Q,"getChipsAndJewels",()=>z,"getCooking",()=>P,"getCookingEff",()=>D,"getCookingProwess",()=>F,"getKitchens",()=>U,"getMealLevelCost",()=>Y,"getMealsBonusByEffectOrStat",()=>j,"getRibbonBonus",()=>W,"getTotalKitchenLevels",()=>J,"maxNumberOfSpiceClicks",()=>X,"parseKitchens",()=>q,"spicesNames",()=>O]);var t=e.i(82748),a=e.i(685849),n=e.i(971176),l=e.i(608580),s=e.i(805861),o=e.i(262887),r=e.i(172833),i=e.i(210270),u=e.i(161866),c=e.i(24174),m=e.i(198659),d=e.i(39188),p=e.i(173024),g=e.i(470242),h=e.i(980753);e.i(76487);var f=e.i(304782),v=e.i(618332),B=e.i(279522),_=e.i(264046),M=e.i(71791),b=e.i(109304),S=e.i(949500),y=e.i(441132),k=e.i(734002),x=e.i(694186),C=e.i(801902),T=e.i(476219),w=e.i(521637),E=e.i(384308),A=e.i(712738);let O=["Grasslands","Jungle","Encroaching Forest","Tree Interior","Stinky Sewers","Desert Oasis","Beach Docks","Coarse Mountains","Twilight Desert","The Crypt","Frosty Peaks","Tundra Outback","Crystal Caverns","Pristalle Lake","Nebulon Mantle","Starfield Skies","Shores of Eternity","Molten Bay","Smokey Lake","Wurm Catacombs","Spirit Fields","Bamboo Forest","Lullaby Airway","Dharma Mesa"],P=(e,t)=>{let a=(0,l.tryToParse)(e?.Cooking)||e?.Cooking;return L((0,l.tryToParse)(e?.Meals)||e?.Meals,(0,l.tryToParse)(e?.Territory)||e?.Territory,a,t)},L=(e,t,a,n)=>{let l=N(e,n);return{meals:l,spices:I(e,t,n),mealMaxLevel:$(n)}},I=(e,t,a)=>{let n=t?.reduce((e,t,a)=>{let[n,,,l,s]=t;return[...e,{progress:n,amount:s,rawName:l,name:O[a]}]},[]),l=e?.[3]?.filter(e=>e>0).map((e,t)=>({amount:e,toClaim:n?.[t]?.amount,rawName:`CookingSpice${t}`,name:O[t]}));return{toClaim:n,available:l,numberOfClaims:a?.accountOptions?.[100]}},N=(e,a)=>{let n=e?.[0],l=e?.[2],s=(0,m.getShinyBonus)(a?.breeding?.pets,"Bonuses_from_All_Meals");return n?.map((e,n)=>{if(!t.cookingMenu?.[n])return null;let o=Y(e,a?.achievements,a);return{index:n,level:e,amount:parseFloat(l?.[n]),shinyMulti:s,levelCost:o,...t.cookingMenu?.[n]||{}}}).filter(e=>e)},R=(e,t)=>e?.map(e=>({...e,multiplier:1+t/100})),D=(e,l,o,r)=>{let u=(0,f.getAllEff)(e,l,o),c=(0,p.getTalentBonus)(e?.flatTalents,"APOCALYPSE_CHOW"),m=e?.chow?.finished?.[0]??1,d=(0,p.getTalentBonus)(e?.flatTalents,"BRUTE_EFFICIENCY"),g=(0,n.getStatsFromGear)(e,67,o),h=(0,A.getObolsBonus)(e?.obols,t.bonuses?.etcBonuses?.[67]),v=(0,p.getTalentBonus)(e?.flatTalents,"SKILL_STRENGTHEN"),B=(0,a.getStampsBonusByEffect)(o,"Cooking_Efficiency",e),_=(0,n.getStatsFromGear)(e,62,o),M=(0,A.getObolsBonus)(e?.obols,t.bonuses?.etcBonuses?.[62]),b=(0,i.isMasteryBonusUnlocked)(o?.rift,o?.totalSkillsLevels?.cooking?.rank,0),S=(0,s.getPostOfficeBonus)(e?.postOffice,"Chefs_Essentials",0),y=(0,f.getAllBaseSkillEff)(e,o,l,r);return u*(1+(c*m+(d+(g+h)))/100)*(250+(Math.pow(e?.stats?.strength,.6)*(1+v/100)+(B+(_+M+10*b+S))+y))},F=(e,t)=>(0,f.allProwess)(e,t),G=e=>(e+1+Math.floor(Math.max(0,e-10)/2)+Math.pow(Math.max(0,e-30),1.2))*Math.pow(1.02,Math.max(0,e-60)),j=(e,t,a)=>{let n=(0,o.getJewelBonus)(e?.lab?.jewels,16)??0,l=(0,m.getShinyBonus)(e?.breeding?.pets,"Bonuses_from_All_Meals"),s=(0,_.getWinnerBonus)(e,"<x Meal Bonuses");return e?.cooking?.meals?.reduce((o,r,i)=>{let{level:u,baseStat:c,effect:m,stat:d}=r;if(t){if(!m.includes(t))return o}else if(d!==a)return o;return"PxLine"===a?o+((u*c)??0):o+(((1+(n+l)/100)*(1+s/100)*W(e,e?.grimoire?.ribbons?.[28+i])*u*c)??0)},0)??0},W=(e,t)=>1+(Math.floor(5*t+Math.floor(t/2)*(4+6.5*Math.floor(t/5)))+(0,E.getArmorSetBonus)(e,"EMPEROR_SET")/4*Math.floor(t/4))/100,U=(e,t,a)=>q((0,l.tryToParse)(e?.Cooking)||e?.Cooking,(0,l.tryToParse)(e?.Atoms)||e?.Atoms,t,a),q=(e,n,l,s,m)=>{let{characterIndex:g,enableNanoChip:h}=m||{},f=s?.accountOptions?.[89],S=t.randomList?.[53],w=e?.reduce((e,t)=>{let[a,n,l]=t.slice(6,9);return e+a+n+l},0),E=s?.cooking?.meals?.reduce((e,{level:t})=>t>=11?e+1:e,0),A=s?.cooking?.meals?.reduce((e,{level:t})=>t>=30?e+1:e,0),O=s?.cooking?.meals?.reduce((e,{level:t})=>e+t,0);return e?.map((e,m)=>{let P,[L,I,N,R,D,F,W,U,q,,H]=e;if(L<=0)return null;let $=Math.floor(w/25)*((0,o.getJewelBonus)(s?.lab?.jewels,14)||0),Y=(0,a.getStampsBonusByEffect)(s,"Meal_Cooking_Speed"),K=(0,r.getVialsBonusByStat)(s?.alchemy?.vials,"MealCook"),J=(0,r.getVialsBonusByStat)(s?.alchemy?.vials,"6turtle"),X=(0,r.getVialsBonusByStat)(s?.alchemy?.vials,"6CookSpd"),z=j(s,null,"Mcook"),Q=(0,r.getBubbleBonus)(s,"DIAMOND_CHEF",!1),Z=j(s,null,"KitchenEff"),ee=s?.cards?.Massive_Troll,et=ee?.stars??0,ea=0===et?0:et+1,en=s?.lab?.jewels?.slice(0,3)?.every(({active:e})=>e)?2:1,el=(0,o.getJewelBonus)(s?.lab?.jewels,0)*en,es=m<s?.gemShopPurchases?.find((e,t)=>120===t),eo=(0,c.isArtifactAcquired)(s?.sailing?.artifacts,"Triagulon")?.bonus??0,er=Math.pow(Q,E),ei=(0,u.getAchievementStatus)(s?.achievements,225),eu=(0,u.getAchievementStatus)(s?.achievements,224),ec=j(s,null,"zMealFarm"),em=(0,v.getCardBonusByEffect)(s?.cards,"Cooking_Spd_Multi_(Passive)"),ed=(0,B.getArcadeBonus)(s?.arcade?.shop,"Cook_SPD_multi")?.bonus??0,ep=(0,_.getWinnerBonus)(s,"<x Cooking SPD"),eg=(0,i.getHighestCharacterSkill)(l,"farming");P=l?.[g]?(0,b.getStarSignBonus)(l?.[g],s,"Cooking_SPD",h):l?.reduce((e,t)=>{let a=(0,b.getStarSignBonus)(t,s,"Cooking_SPD")??0;return a>e?a:e},0);let eh=(0,d.isSuperbitUnlocked)(s,"MSA_Mealing"),ef=0;eh&&(ef=eh?.bonus);let ev=(0,p.getHighestTalentByClass)(l,p.CLASSES.Voidwalker,"ENHANCEMENT_ECLIPSE"),eB=Math.pow(Math.min(1.012,1+(0,p.getHighestTalentByClass)(l,p.CLASSES.Voidwalker,"BLOOD_MARROW")/100),O),e_=Math.max(1,(0,p.getVoidWalkerTalentEnhancements)(l,s,ev,146)),eM=t.atomsInfo.findIndex(({name:e})=>"Fluoride_-_Void_Plate_Chef"===e),eb=0,eS=n?.[eM];eS&&(eb=Math.pow(1+t.atomsInfo?.[eM]?.baseBonus*eS/100,A));let ey=(0,y.getVoteBonus)(s,13),ek=s?.hole?.holesObject,ex=(0,k.getMonumentBonus)({holesObject:ek,t:0,i:2}),eC=(0,x.getSchematicBonus)({holesObject:ek,t:56,i:0}),eT=(0,C.getLampBonus)({holesObject:ek,t:0,i:0,account:s}),ew=(0,T.getUpgradeVaultBonus)(s?.upgradeVault?.upgrades,54),eE=10*(1+eB/100)*Math.max(1,s?.farming?.cropDepot?.cookingSpeed?.value)*Math.max(1,e_)*(1+2*!!es)*(1+ey/100)*(1+ew/100)*(1+ec*Math.ceil((eg+1)/50)/100)*Math.max(1,er)*Math.max(1,eb)*(1+ef/100)*(1+W/10)*(1+eo/100)*(1+ed/100)*(1+J/100)*(1+K/100)*(1+(Y+Math.max(0,$))/100)*(1+z/100)*(1+P/100)*(1+ep/100)*(1+ex/100)*Math.max(1,eC)*(1+em/100)*(1+eT/100)*(1+X/100)*Math.max(1,el)*(1+Math.min(6*ea+(20*ei+10*eu),100)/100)*(1+Z*Math.floor((W+(U+q))/10)/100),eA=5*(1+ +!!es)*(1+ey/100)*Math.max(1,er)*Math.max(1,eb)*(1+ef/100)*(1+U/10)*(1+(0,r.getVialsBonusByEffect)(s?.alchemy?.vials,"Recipe_Cooking_Speed")/100)*(1+(0,a.getStampsBonusByEffect)(s,"New_Recipe_Cooking_Speed")/100)*(1+j(s,null,"Rcook")/100)*(1+Math.min(6*ea,50)/100)*(1+Z*Math.floor((W+(U+q))/10)/100),eO=1+Math.pow(5*q,.85)/100,eP=(0,r.getVialsBonusByEffect)(s?.alchemy?.vials,null,"Kcosts"),eL=j(s,null,"KitchC"),eI=(0,i.isArenaBonusActive)(f,S,7),eN=(0,r.getSigilBonus)(s?.alchemy?.p2w?.sigils,"GARLIC_GLOVE"),eR=(0,M.getIsland)(s,"Fractal"),eD=1/((1+(eP+eN)/100)*(1+30*!!eR?.shop?.find(({effect:e,unlocked:t})=>e.includes("Kitchen_Upgrade_Costs")&&t)/100)*(1+eL/100)*(1+40*!!es/100)*(1+.5*!!eI)),eF=1+eD*G(W),eG=1+eD*G(U),ej=1+eD*G(q),eW=[N,R,D,F].filter(e=>-1!==e),eU=eW.map(e=>parseInt(t.randomList[49]?.split(" ")[e])),eq=V(t.randomList[49],eU).filter(e=>e>0).map(e=>({index:e,rawName:t.cookingMenu?.[e]?.rawName,cookReq:t.cookingMenu?.[e]?.cookReq}));return{status:L,meal:{...t.cookingMenu?.[I]||{},...s?.cooking?.meals?.[I]||{}},luckLv:q,fireLv:U,speedLv:W,currentProgress:H,mealSpeed:eE,mealLuck:eO,fireSpeed:eA,speedCost:eF,fireCost:eG,luckCost:ej,...3===L?{spices:eW}:{},...3===L?{possibleMeals:eq}:{}}}).filter(e=>e)},V=(e,t)=>{let a=[];t.forEach(e=>{a.includes(e)||a.push(e)});let n=e.split(" ").map(e=>parseFloat(e)),l=t.reduce((e,t)=>e+n.indexOf(t),0);return e.includes(l)||a.push(l),!(t.length>2)||a.includes(l-1)||n.includes(l-1)||a.push(l-1),!(t.length>1)||a.includes(l+1)||n.includes(l+1)||a.push(l+1),a.sort((e,t)=>e<t?-1:1)},H=(e,t,a,n,l,s)=>{let{amount:o,level:r,cookReq:i}=t;if(r>=e)return 0;let u=0;for(let t=r;t<e;t++)u+=Y(t,n,s,l);return(u-=o)<0?0:K(u,i,a)},$=e=>{let t=(0,c.isArtifactAcquired)(e?.sailing?.artifacts,"Causticolumn"),a=(0,S.isJadeBonusUnlocked)(e,"Papa_Blob's_Quality_Guarantee"),n=(0,S.isJadeBonusUnlocked)(e,"Chef_Geustloaf's_Cutting_Edge_Philosophy"),l=(0,w.getGrimoireBonus)(e?.grimoire?.upgrades,26),s=+!!e?.spelunking?.loreBosses?.[6]?.defeated;return 30+Math.min(20,l)+(t?.bonus??0)+10*!!a+10*!!n+30*s},Y=(e,t,a,n)=>{let l=+!!a?.equinox?.challenges.find(e=>-1===e.current&&e.reward.includes("'Food_Lust'_Equinox_Upg_now_reduces_cost_by_-42%_per_stack"));return Math.pow(10,22*Math.floor((e+1e3)/1111))*(1/Math.min(5,Math.max(1,1+10*(0,u.getAchievementStatus)(t,233)/100)))*Math.max(.001,Math.pow(Math.max(.58,.8-.22*l),Math.min(a?.accountOptions?.[193],(0,g.getEquinoxBonus)(n||a?.equinox?.upgrades,"Food_Lust"))))*(10+(e+Math.pow(e,2)))*Math.pow(1.2+.05*e,e)*Math.pow(1+.4*Math.floor((e+1e3)/1111),e)},K=(e,t,a)=>e*t/a,J=e=>e?.reduce((e,{speedLv:t,luckLv:a,fireLv:n})=>e+t+a+n,0),X=100,z=(e,t=10)=>{if(!e)return[];let{serverVars:a,timeAway:n,lab:l}=e||{},s=l?.chips,o=l?.jewels,r=Math.floor(n?.GlobalTime/604800),i=[];for(let n=0;n<t;n++){let t=[],l=Math.floor(1e3*new h.default(Math.round(r+n)).rand());t.push(Math.round(l-Math.floor(l/(s.length-10))*(s.length-10)));let u=Math.floor(1e3*new h.default(Math.round(r+n+500)).rand());t.push(Math.round(u-Math.floor(u/s.length)*s.length));let c=Math.floor(1e3*new h.default(Math.round(r+n+1e3)).rand());t.push(Math.round(c-Math.floor(c/o.length)*o.length));for(let e=0;3>e;e++){let a=[];for(let t=0;2>t;t++){let l=Math.floor(1e3*new h.default(Math.round(r+n+500*e+(-1+2*t))).rand()),i=2===e?Math.round(l-Math.floor(l/o.length)*o.length):Math.round(l-Math.floor(l/(s.length-10*(1-e)))*(s.length-Math.round(10*(1-e))));a.push(i)}if(a[0]===t[e])for(let l=0;100>l;l++){let i=Math.floor(1e3*new h.default(Math.round(r+n+500*e+765*(l+1))).rand()),u=2===e?Math.round(i-Math.floor(i/o.length)*o.length):Math.round(i-Math.floor(i/(s.length-10*(1-e)))*(s.length-Math.round(10*(1-e))));if(a[0]!==u&&a[1]!==u){t[e]=u;break}}}for(let n=0;3>n;n++){-1!==a.ChipRepo?.[n]&&(t[n]=a.ChipRepo?.[n]);let l=(0,S.isJadeBonusUnlocked)(e,"Laboratory_Bling");(t[n]>=21&&t[n]<=23||t[n]>=18&&t[n]<=20&&!l)&&(t[n]=Math.max(1,t[n]-10))}let m=Math.floor((r+n)*6048e5);t=t.map((e,t)=>2===t?o[e]:s[e]),i.push({items:t,date:new Date(m)})}return i},Q=e=>e?.reduce((e,{level:t})=>e+t,0)},267350,262887,e=>{"use strict";e.s(["applyGodCost",()=>D,"getDeityLinkedIndex",()=>W,"getDivStylePerHour",()=>R,"getDivinity",()=>I,"getGodBlessingBonus",()=>G,"getGodByIndex",()=>j,"getMinorDivinityBonus",()=>U],267350),e.s(["getJewelBonus",()=>B,"getLab",()=>p,"getLabBonus",()=>_,"getLabEfficiency",()=>w,"getPlayerLabChipBonus",()=>C,"getRequirementAmount",()=>T,"isGodEnabledBySorcerer",()=>f,"isLabEnabledBySorcererRaw",()=>h],262887);var t=e.i(608580),a=e.i(82748),n=e.i(775003),l=e.i(618332),s=e.i(210270),o=e.i(198659),r=e.i(173024),i=e.i(470242),u=e.i(264046),c=e.i(971176),m=e.i(304782);e.i(712738),e.i(685849);var d=e.i(805861);let p=(e,a,n,l)=>g((0,t.tryToParse)(e?.Lab)||e?.Lab,a,n,l),g=(e,t,n,l)=>{if(!e)return{};let o=n?.accountOptions?.[89],r=a.randomList?.[53],[c]=e,m=e[15],d=e[14],p=e[13],g=e?.slice(1,t?.length+1),f=[];for(let e=0;e<c.length;e+=2){let[n,l]=c.slice(e,e+2);f=[...f,{x:Math.round(n),y:Math.round(l),playerId:e/2,playerName:t?.[e/2]?.name,class:a.classes[t?.[e/2]?.CharacterClass]}]}f=f?.filter(e=>e?.playerName);let M=n?.lab?.jewels||d?.map((e,t)=>({...a.jewels?.[t]||{},acquired:1===e,rawName:`ConsoleJwl${t}`})).filter(({name:e})=>e),S=g?.map(e=>e.map(e=>a.chips?.[e]?{...a.chips?.[e],chipIndex:e}:e)),C=(n?.gemShopPurchases?.find((e,t)=>123===t)??0)*2,T=n?.hole?.godsLinks?.find(({index:e})=>1===e),w=[...t].filter((e,t)=>(0,s.isCompanionBonusActive)(n,0)||T||e?.AFKtarget==="Laboratory"||h(e,1)||n?.divinity?.linkedDeities?.[t]===1).map(e=>({...e,x:f?.[e?.playerId]?.x,y:f?.[e?.playerId]?.y})),E=structuredClone(a.chips);m?.map((e,t)=>{if(t<a.chips.length){let a=S.flatMap(e=>e).reduce((e,a)=>e+ +(a.index===E[t].index),0);E[t].repoAmount=e-a,E[t].amount=a}});let A=(n?.tasks?.[2]?.[3]?.[4]??0)*a.merits?.[3]?.[4]?.bonusPerLevel,O=t.filter(({CharacterClass:e})=>36===e),P=O?.reduce((e,t)=>e?.SkillLevels[536]>t?.SkillLevels[536]?e:t,O?.[0]);P&&(P={...P,...f?.[P?.playerId]});let L=(0,i.getEquinoxBonus)(n?.equinox?.upgrades,"Laboratory_Fuse"),I=(0,u.getWinnerBonus)(n,"+{ Lab Con Range"),N=!0,R=structuredClone(a.labBonuses),D=[];for(;N;){if(N=!1,(w=b(w,R,M,S,n,n?.cards,n?.gemShopPurchases,o,r,P,t,l)).length>0&&0===D.length){let e=y(w);e&&D.push(e)}for(let e=0;e<w.length;e++){let a,s;if(e<D.length){(a=k(w,D,D?.[e]))&&!D.find(e=>e.playerId===a.playerId)&&(s=!0,D=[...D,a]);let i=_(R,8),u=B(M,9,i),c=_(R,13),m=x(R,u,c,A,L,I,D?.[e],!1);R=m.resArr;let d=x(M,u,c,A,L,I,D?.[e],!0);M=d.resArr,M?.[16]?.acquired&&!M?.[16]?.active&&(M[16].active=!0,w=b(w,R,M,S,n,n?.cards,n?.gemShopPurchases,o,r,P,t,l),M[16].active=!1),R=(m=x(R,u,c,A,L,I,D?.[e],!1)).resArr,M=(d=x(M,u,c,A,L,I,D?.[e],!0)).resArr,N=N||s||d?.newConnection||m?.newConnection}}}let F=B(M,19),G=_(R,8),j=B(M=M.map((e,t)=>({...e,multiplier:19===t?1:G+(M?.[19]?.active?F:0)/100})),18);R=R.map((e,t)=>{if(15!==t)return e;let a=e?.bonusOn+j;return{...e,bonusOn:a,description:e?.description?.replace("1.25",`1.${a}`)}});let W=n?.breeding.speciesUnlocks.reduce((e,t)=>e+t,0),U=M?.[1]?.active;R=v(R,W*(U?1.75:1),0,U?1.75:1);let q=n?.storage?.list?.filter(e=>e.amount>=1e7).length,V=1.5*!!M?.[17]?.active;R=v(R,q*(2+V),11,2+V);let H=Math.floor(n?.deathNote?.[0]?.mobs?.[0].kills/1e6),$=R?.[13]?.active?1.6*H:0,Y=H*R?.[9]?.bonusOn;return R=v(R,Y+$,9),{playersCords:f=f?.map((e,t)=>{let a=w?.find(({playerId:e})=>e===t);return{...e,lineWidth:a?.lineWidth||e?.lineWidth||0,soupedUp:t<C}}),playersChips:S??[],connectedPlayers:D,jewels:M,chips:E,labBonuses:R,totalRawChips:m.reduce((e,t)=>e+Math.max(0,t),0),currentRotation:p}},h=(e,t)=>{if(a.classes?.[e?.CharacterClass]===r.CLASSES.Elemental_Sorcerer)return e?.SkillLevels?.[505]%10===t},f=(e,t)=>{if((0,r.checkCharClass)(e?.class,r.CLASSES.Elemental_Sorcerer)){let a=e.flatTalents?.find(({talentId:e})=>505===e);return a?.level%10===t}},v=(e,t,a,n="")=>e?.map((e,l)=>l===a?{...e,bonusOn:t,extraData:n,bonusDesc:t}:e),B=(e,t,a=1)=>{let n=e?.find(e=>e.index===t)||{};return n?.active?n?.bonus*(n?.multiplier||a):0},_=(e,t)=>{let a=e?.find(e=>e.index===t)||{};return(a?.active?a?.bonusOn:a?.bonusOff)??0},M=(e,t,a,n)=>.9604339*Math.max(Math.abs(e-a),Math.abs(t-n))+.397824735*Math.min(Math.abs(e-a),Math.abs(t-n)),b=(e,t,a,n,l,o,r,i,u,c,m,d)=>e?.map(e=>{let p=(r?.find((e,t)=>123===t)??0)*2,g=20*!!(0,s.isArenaBonusActive)(i,u,13),h=m?.find(({name:t})=>t===e?.name)?.playerId,f=S(e,e?.Lv0?.[12],p>0&&h<=p,t,a,n?.[e?.playerId],l,o,g,c,d);return{...e,lineWidth:f}}),S=(e,s,i,u,c,m,d,p,g,h,f)=>{let v=_(u,8),b=50+2*(s??0),{acquired:S,x:y,y:k}=c[5];S&&150>M(y,k,e.x,e.y)&&(b*=1.25);let x=m?.reduce((e,t)=>6===t.index?e+t.baseVal:e,0),C=B(c,16,v),T=(0,n.getMealsBonusByEffectOrStat)(d,null,"PxLine",C),w=(0,n.getMealsBonusByEffectOrStat)(d,null,"LinePct",C),E=(0,l.getCardBonusByEffect)(p,"Line_Width_(Passive)"),A=(0,o.getShinyBonus)(d?.breeding?.pets,"Line_Width_in_Lab"),O=0;if(e?.x>=h?.x){let e=h.SkillLevels[536]||0,n=a.talents?.[r.CLASSES.Bubonic_Conjuror]?.PURPLE_TUBE||{};O=f?(0,r.getHighestTalentByClass)(f,r.CLASSES.Bubonic_Conjuror,"PURPLE_TUBE",!1,!0):(0,t.growth)(n?.funcX,e,n?.x1,n?.x2,!1)??0}return Math.floor((b+T+Math.min(E,50))*(1+(O+w+(x+20*g+A+30*!!i))/100))},y=e=>{for(let t=0;t<e.length;t++){let{x:a,y:n,lineWidth:l}=e[t];if(M(43,229,a,n)<l)return e[t]}return null},k=(e,t,a)=>{for(let n=0;n<e.length;n++){let{x:l,y:s,lineWidth:o}=e[n],r=M(a.x,a.y,l,s)<o;if(!t.find(t=>t.playerId===e[n].playerId)&&r)return e[n]}return null},x=(e,t,a,n,l,s,o,r)=>e?.reduce((e,i,u)=>{let c=!1,m=!r&&(13===u||8===u)||9===u&&r||19===u&&r?80:r&&(21===u||22===u||23===u)?100:80*(1+(t+a)/100)+n+l+s;return M(o.x,o.y,i.x,i.y)<m&&!i.active&&(!r||r&&i.acquired)&&(i.active=!0,c=!0),{resArr:[...e.resArr,i],newConnection:c}},{resArr:[],newConnection:!1}),C=(e,t,a)=>t?.lab?.playersChips?.[e?.playerId]?.reduce((e,t)=>t?.index===a?e+t?.baseVal:e,0)??0,T=(e,t,a)=>{let n;if(t.includes("Spice")){let e=a?.cooking?.spices?.available?.find(({rawName:e})=>e===t);n=e?.amount||0}else if(t.includes("CookingM")){let t=a?.cooking?.meals?.find(({name:t})=>t===e);n=t?.amount||0}else n=(0,c.calculateItemTotalAmount)(a?.storage?.list,t,!0,!0);return n},w=(e,t,a,n)=>{let l=(0,m.getAllEff)(e,t,a),o=(0,r.getTalentBonus)(e?.flatTalents,"SKILL_WIZ"),i=(0,r.getTalentBonus)(e?.flatTalents,"UPLOAD_SQUARED"),u=(0,r.getTalentBonus)(e?.flatTalents,"SMART_EFFICIENCY"),p=(0,c.getStatsFromGear)(e,63,a),g=(0,c.getStatsFromGear)(e,66,a),h=(0,s.isMasteryBonusUnlocked)(a?.rift,a?.totalSkillsLevels?.laboratory?.rank,0),f=(0,d.getPostOfficeBonus)(e?.postOffice,"Science_Spare_Parts",0),v=(0,m.getAllBaseSkillEff)(e,a,t,n);return l*(200+(Math.pow(e?.stats?.wisdom,.6)*(1+o/100)+(p+(v+f))))*(1+(i+(g+10*h))/100)*(1+u/100)};var E=e.i(172833),A=e.i(949500),O=e.i(628188);let{tryToParse:P}=e.r(608580),{gods:L}=e.r(82748),I=(e,t,a)=>{let n=P(e?.Divinity)||e?.Divinity;return n?N(n,t,a):null},N=(e,t,a)=>{let n=t?.length,l=e?.slice(12,12+n),s=e?.slice(28,28+L?.length+1),o=e?.slice(0,t?.length+1),r=e?.[25],i=r-10;return{linkedDeities:l,linkedStyles:o,deities:L?.map((e,t)=>{let n=s?.[t],l=1;(0,A.isJadeBonusUnlocked)(a,"True_Godly_Blessings")&&(l=1+.05*Math.max(0,i));let o=n*e?.blessingMultiplier*l;return 2===t&&(o=Math.min(o,500)),{...e,rawName:`DivGod${t}`,level:n,blessingBonus:o,unlocked:t<r}}),blessingLevels:s,unlockedDeities:r,godRank:i<0?0:i}},R=e=>0===e?1:1===e?2:2===e||3===e?1:4===e?7:5===e?3:6===e?8:7===e&&10,D=e=>e?.divinity?.deities?.map((t,a)=>({...t,cost:F(t,a,e)})),F=({name:e,level:t,x4:a,x5:n}={},l,s)=>{if(t<100){let e=a*Math.pow(n,t),o=a*Math.pow(n,t+1),r=((e,t,a,n=100)=>{let l=0;for(let s=e;s<n;s++)l+=t*Math.pow(a,s);return l})(t,a,n);return 0===l||8===l||4===l||2===l?{type:"bits",cost:e,nextLevelCost:o,costToMax:r,currency:s?.gaming?.bits}:1===l?{type:"sailingGold",cost:e,nextLevelCost:o,costToMax:r,currency:s?.sailing?.lootPile?.[0]}:3===l||6===l?{type:"coins",cost:e,nextLevelCost:o,costToMax:r,currency:s?.currencies?.rawMoney}:{type:"particles",cost:e,nextLevelCost:o,costToMax:r,currency:s?.atomCollider?.particles}}return{cost:"MAX"}},G=(e,t)=>e?.find(({name:e})=>e===t)?.blessingBonus??0,j=(e,t,a)=>{let n=t?.find((t,n)=>e?.[n]===a);return n?.deityMinorBonus},W=(e,t,a)=>{let n=e?.hole?.godsLinks?.find(({index:e})=>e===a),l=e?.divinity?.linkedDeities?.map((t,n)=>a===t||(0,s.isCompanionBonusActive)(e,0)&&e?.finishedWorlds?.World4?n:-1),o=t.map((t,n)=>f(t,a)||(0,s.isCompanionBonusActive)(e,0)&&e?.finishedWorlds?.World4?n:-1);return l?.map((e,t)=>n?t:-1===e&&o?.[t]!==-1?o?.[t]:e).filter(e=>-1!==e)||[]},U=(e,t,a,n)=>{let l=n?.find(e=>e.equippedBubbles?.find(({bubbleName:e})=>"BIG_P"===e)),s=(0,E.getActiveBubbleBonus)((l||e||n?.[0])?.equippedBubbles,"BIG_P",t),o=(e||l||n?.[0])?.skillsInfo?.divinity?.level,r=a??t?.divinity?.linkedDeities?.[e.playerId],i=L?.[r]?.godIndex,u=L?.[i]?.minorBonusMultiplier;return Math.max(1,s)*(1+(0,O.getCoralKidUpgBonus)(t,3)/100)*(o/(60+o))*u}},173024,e=>{"use strict";e.s(["CLASSES",()=>C,"applyTalentAddedLevels",()=>D,"calcTalentMaxLevel",()=>V,"calcTotalStarTalent",()=>H,"checkCharClass",()=>W,"createTalentPage",()=>O,"getActiveBuffs",()=>P,"getBaseClass",()=>w,"getBubonicGreenTube",()=>U,"getCharacterByHighestTalent",()=>I,"getCrystalCountdownSkills",()=>$,"getFamilyBonusValue",()=>G,"getHighestMaxLevelTalentByClass",()=>N,"getHighestTalentByClass",()=>L,"getMaestroHand",()=>Y,"getTalentAddedLevels",()=>R,"getTalentBonus",()=>k,"getTalentBonusIfActive",()=>x,"getVoidWalkerTalentEnhancements",()=>j,"mainStatMap",()=>E,"relevantTalents",()=>q,"starTalentsPages",()=>A,"talentPagesMap",()=>T]);var t=e.i(608580),a=e.i(82748),n=e.i(161866),l=e.i(210270),s=e.i(267350),o=e.i(470242),r=e.i(942144),i=e.i(685849),u=e.i(372110),c=e.i(10051),m=e.i(618332),d=e.i(172833),p=e.i(198659),g=e.i(787031),h=e.i(71791),f=e.i(521637),v=e.i(476219),B=e.i(781357),_=e.i(384308),M=e.i(878012),b=e.i(39188),S=e.i(11138),y=e.i(276924);let k=(e=[],a,n,l,s,o,r=!1)=>{if(!e||!Array.isArray(e))return 0;let i=e?.find(({name:e})=>e===a);if(!i)return 0;let u=i?.level;return((i?.level>0||r)&&(u=l?i?.maxLevel:i?.level,u=o&&(r||i?.level>i?.maxLevel)?i?.maxLevel+s:s?u-s:u),n)?(0,t.growth)(i?.funcY,u,i?.y1,i?.y2,!1)??0:(0,t.growth)(i?.funcX,u,i?.x1,i?.x2,!1)??0},x=(e,a,n="x")=>e?.reduce((e,{name:l,funcX:s,level:o,x1:r,x2:i,funcY:u,y1:c,y2:m}={})=>l===a?"x"===n?(0,t.growth)(s,o,r,i,!1):(0,t.growth)(u,o,c,m,!1):e,0)??0,C={Beginner:"Beginner",Journeyman:"Journeyman",Maestro:"Maestro",Voidwalker:"Voidwalker",Warrior:"Warrior",Barbarian:"Barbarian",Blood_Berserker:"Blood_Berserker",Death_Bringer:"Death_Bringer",Squire:"Squire",Divine_Knight:"Divine_Knight",Archer:"Archer",Bowman:"Bowman",Siege_Breaker:"Siege_Breaker",Hunter:"Hunter",Beast_Master:"Beast_Master",Wind_Walker:"Wind_Walker",Mage:"Mage",Shaman:"Shaman",Bubonic_Conjuror:"Bubonic_Conjuror",Arcane_Cultist:"Arcane_Cultist",Wizard:"Wizard",Elemental_Sorcerer:"Elemental_Sorcerer"},T={[C.Beginner]:[C.Beginner],[C.Journeyman]:[C.Beginner,C.Journeyman],[C.Maestro]:[C.Beginner,C.Journeyman,C.Maestro],[C.Voidwalker]:[C.Beginner,C.Journeyman,C.Maestro,C.Voidwalker],[C.Warrior]:["Rage_Basics",C.Warrior],[C.Barbarian]:["Rage_Basics",C.Warrior,C.Barbarian],[C.Blood_Berserker]:["Rage_Basics",C.Warrior,C.Barbarian,C.Blood_Berserker],[C.Death_Bringer]:["Rage_Basics",C.Warrior,C.Barbarian,C.Blood_Berserker,C.Death_Bringer],[C.Squire]:["Rage_Basics",C.Warrior,C.Squire],[C.Divine_Knight]:["Rage_Basics",C.Warrior,C.Squire,C.Divine_Knight],[C.Archer]:["Calm_Basics",C.Archer],[C.Bowman]:["Calm_Basics",C.Archer,C.Bowman],[C.Siege_Breaker]:["Calm_Basics",C.Archer,C.Bowman,C.Siege_Breaker],[C.Hunter]:["Calm_Basics",C.Archer,C.Hunter],[C.Beast_Master]:["Calm_Basics",C.Archer,C.Hunter,C.Beast_Master],[C.Wind_Walker]:["Calm_Basics",C.Archer,C.Hunter,C.Beast_Master,C.Wind_Walker],[C.Mage]:["Savvy_Basics",C.Mage],[C.Shaman]:["Savvy_Basics",C.Mage,C.Shaman],[C.Bubonic_Conjuror]:["Savvy_Basics",C.Mage,C.Shaman,C.Bubonic_Conjuror],[C.Arcane_Cultist]:["Savvy_Basics",C.Mage,C.Shaman,C.Bubonic_Conjuror,C.Arcane_Cultist],[C.Wizard]:["Savvy_Basics",C.Mage,C.Wizard],[C.Elemental_Sorcerer]:["Savvy_Basics",C.Mage,C.Wizard,C.Elemental_Sorcerer]};function w(e){let t=T[e];return t?e===C.Beginner||t[0]===C.Beginner?C.Beginner:t[1]:null}let E={[C.Beginner]:"luck",[C.Journeyman]:"luck",[C.Maestro]:"luck",[C.Voidwalker]:"luck",[C.Warrior]:"strength",[C.Barbarian]:"strength",[C.Blood_Berserker]:"strength",[C.Death_Bringer]:"strength",[C.Squire]:"strength",[C.Divine_Knight]:"strength",[C.Archer]:"agility",[C.Bowman]:"agility",[C.Siege_Breaker]:"agility",[C.Hunter]:"agility",[C.Beast_Master]:"agility",[C.Wind_Walker]:"agility",[C.Mage]:"wisdom",[C.Shaman]:"wisdom",[C.Bubonic_Conjuror]:"wisdom",[C.Arcane_Cultist]:"wisdom",[C.Wizard]:"wisdom",[C.Elemental_Sorcerer]:"wisdom"},A=["Special Talent 1","Special Talent 2","Special Talent 3","Special Talent 4","Special Talent 5"],O=(e,t,n,l,s)=>t?t.reduce((e,t,o)=>{let r=Object.entries(a.talents?.[t]||{})?.map(([,e])=>({talentId:e.skillIndex,...e,level:n[e.skillIndex]||0,maxLevel:l[e.skillIndex]||-1}));return s?{...e,talents:{...e?.talents,orderedTalents:[...e?.talents?.orderedTalents||[],...r]},flat:[...e?.flat||[],...r]}:{...e,flat:[...e?.flat||[],...r],talents:{...e?.talents,[o]:{name:t,id:a.classes?.indexOf(t),orderedTalents:r}}}},{flat:[],talents:{}}):{flat:[],talents:{}},P=(e,t)=>e?.map(([e])=>t?.find(({talentId:t})=>e===t))?.filter(e=>e),L=(e,t,a,n,l,s=!1)=>{let o=e?.filter(e=>W(e?.class,t));return o?.reduce((e,{flatTalents:t,addedLevels:o})=>{let r=k(t,a,n,l,!!s&&o+1);return r>e?r:e},0)},I=(e,t,a,n,l)=>{let s=e?.filter(e=>W(e?.class,t));return s?.reduce((e,t)=>{let{flatTalents:s}=t;return k(s,a,n,l)>e?t:e},0)},N=(e,t,a)=>{let n=e?.filter(e=>W(e?.class,t));return n?.reduce((e,{flatTalents:t})=>{let n=t?.find(({name:e})=>e===a);return n?.maxLevel>e?.maxLevel?n:e},{maxLevel:0})},R=(e,a,r,i,u,c,m,d,p)=>{let g=0,h,v=Math.round(50+(0,S.getLegendTalentBonus)(d,7)+(0,y.getZenithBonus)(d,5)),B={talents:[],bonus:0},k=d?.spelunking?.talentSpelunkArrays;if(p?.playerId!==void 0&&k&&Array.isArray(k)){let e=k[Math.round(p.playerId+12*!!a)];Array.isArray(e)&&e.length>0&&(B.talents=e.filter(e=>null!=e&&-1!==e).map(e=>({talentIndex:e,isPreset:!!a})),B.talents.length>0&&(B.bonus=v))}let x=d?.hole?.godsLinks?.find(({index:e})=>1===e);(0,l.isCompanionBonusActive)(d,0)||x?g+=Math.ceil((0,s.getMinorDivinityBonus)(p,d,1)):1===r?g+=Math.ceil(u):1===i&&(g+=Math.ceil(c)),h=[{name:"God Bonus",value:Math.ceil(g)}];let C=e?.[3]?.orderedTalents?.find(({name:e})=>e.includes("SYMBOLS_OF_BEYOND_")),T=0;C&&C?.level>0&&(g+=T=(0,t.growth)(C?.funcX,C?.level,C?.x1,C?.x2,!1)??0),(0,n.getAchievementStatus)(d?.achievements,291)&&(g+=1),m&&(g+=Math.floor(m)),(0,l.isCompanionBonusActive)(d,1)&&(g+=d?.companions?.list?.at(1)?.bonus),d.accountOptions?.[232]>=3&&(g+=5),g+=(0,o.getEquinoxBonus)(d?.equinox?.upgrades,"Equinox_Symbols"),g+=(0,f.getGrimoireBonus)(d?.grimoire?.upgrades,39),g+=(0,_.getArmorSetBonus)(d,"KATTLEKRUK_SET"),g+=Math.min(5,(0,M.getTesseractBonus)(d,57));let w=+!!(0,b.isSuperbitUnlocked)(d,"Timmy_Talented"),E=Math.max(0,Math.floor((p?.level-500)/100*w));return{value:g+=E,breakdown:h=[{title:"Additive"},{name:""},...h,{name:"Symbol of Beyond",value:T},{name:"Family",value:Math.floor(m)},{name:"Achievement",value:+!!(0,n.getAchievementStatus)(d?.achievements,291)},{name:"Companion",value:(0,l.isCompanionBonusActive)(d,1)?d?.companions?.list?.at(1)?.bonus:0},{name:"Equinox",value:(0,o.getEquinoxBonus)(d?.equinox?.upgrades,"Equinox_Symbols")},{name:"Grimoire",value:(0,f.getGrimoireBonus)(d?.grimoire?.upgrades,39)},{name:"Kattlekruk set",value:(0,_.getArmorSetBonus)(d,"KATTLEKRUK_SET")},{name:"Tesseract",value:Math.min(5,(0,M.getTesseractBonus)(d,57))},{name:"Ninja mastery",value:5*(d.accountOptions?.[232]>=3)},{name:"Superbit",value:E},{name:"Super talent (per talent)",value:B.bonus}],superTalentsInfo:B}},D=(e,t,a,n,l=!1)=>t?t.map(e=>{let t=n.talents.find(({talentIndex:t})=>t===e?.skillIndex),s=t?.isPreset===l?n.bonus:0;return{...e,level:e.level>=1&&!F(e?.skillIndex)?Math.floor(e.level+a+s):e.level,baseLevel:e.level,isSuperTalent:!!t}}):Object.entries(e).reduce((e,[t,s])=>{let{orderedTalents:o}=s,r=o?.map(e=>{let t=n.talents.find(({talentIndex:t})=>t===e?.skillIndex),s=t?.isPreset===l?n.bonus:0;return{...e,level:e.level>=1&&!F(e?.skillIndex)?Math.floor(e.level+a+s):e.level,baseLevel:e.level,isSuperTalent:!!t}});return{...e,[t]:{...s,orderedTalents:r}}},{}),F=e=>49<=e&&59>=e||149===e||374===e||539===e||505===e||614<e,G=function(e,t,a,n){return 10>e&&-1!==t.indexOf("decay")?Math.round(100*e)/100:1>e||"add"===t&&1>n&&100>e||25>e&&"decay"===t?Math.round(10*e)/10:Math.round(e)},j=(e,t,a,n,l)=>{let s=[];if(a>=25&&s.push(42),a>=50&&s.push(318),a>=75&&s.push(497),a>=100&&s.push(79),a>=125&&s.push(146),a>=150&&s.push(362),a>=175&&s.push(43),a>=200&&s.push(536),a>=225&&s.push(165),a>=250&&s.push(35),-1!==s.indexOf(n)){if(42===n||79===n)return!0;if(146===n){let t=(e?.filter(e=>W(e?.class,C.Blood_Berserker))).at(-1);return t?Math.pow(1.1,t?.chow.finished?.[1]??0):1}if(536===n)return 1;if(35===n){let{stats:e}=l||{};return(e?.luck<1e3?(Math.pow(e?.luck+1,.37)-1)/30:(e?.luck-1e3)/(e?.luck+2500)*.8+.3963)*(1+k(l?.flatTalents,"LUCKY_CHARMS")/100)/1.8}}return 0},W=(e,t)=>T[e]?.includes(t),U=(e,t,a)=>{let n=a?.lab?.playersCords?.[e?.playerId],l=a?.lab?.playersCords?.filter(({class:e})=>W(e,C.Bubonic_Conjuror));return n&&l?.length!==0&&l?.some(({x:e})=>e>n?.x)?L(t,C.Bubonic_Conjuror,"GREEN_TUBE"):0},q={32:!0,130:!0,490:!0,25:!0,45:!0,370:!0,145:!0},V=e=>Object.values(e.reduce((e,{flatTalents:t,flatStarTalents:a})=>([...t||[],...a||[]].forEach(({skillIndex:t,maxLevel:a})=>{(!e?.[t]||a>e?.[t])&&(e[t]=a)}),e),{})).reduce((e,t)=>e+t,0),H=(e,t)=>Math.max(...Object.values(e.reduce((e,s)=>{let o=s?.skillsInfoArray?.reduce((e,{level:t},a)=>a>0&&a<=9?e+t:e,-3),f=k(s?.flatTalents,"STAR_PLAYER"),B=k(s?.flatStarTalents,"STONKS!"),_=k(s?.flatTalents,"SUPERNOVA_PLAYER"),M=(0,l.getHighestLevelOfClass)(t?.charactersLevels,C.Elemental_Sorcerer,!0),b=(0,r.getFamilyBonusBonus)(a.classFamilyBonuses,"_STAR_TAB_TALENT_POINTS",M);if(W(s?.class,C.Elemental_Sorcerer)){b*=1+k(s?.flatTalents,"THE_FAMILY_GUY")/100;let e=(0,r.getFamilyBonus)(a.classFamilyBonuses,"_STAR_TAB_TALENT_POINTS");b=G(b,e?.func,e?.x1,e?.x2)}let S=(0,i.getStampsBonusByEffect)(t,"Talent_Points_for_Star_Tab"),y=(0,u.getGuildBonusBonus)(t?.guild?.guildBonuses,11),x=(0,c.getDungeonFlurboStatBonus)(t?.dungeons?.upgrades,"Talent_Pts"),T=(0,m.getCardBonusByEffect)(t?.cards,"Star_Talent_Pts_(Passive)"),w=(0,d.getSigilBonus)(t?.alchemy?.p2w?.sigils,"TWO_STARZ"),E=(0,n.getAchievementStatus)(t?.achievements,212),A=(0,n.getAchievementStatus)(t?.achievements,289),O=(0,n.getAchievementStatus)(t?.achievements,305),P=(0,p.getShinyBonus)(t?.breeding?.pets,"Star_Talent_Pts"),L=(0,g.getBribeBonus)(t?.bribes,"Star_Scraper"),I=(0,h.getIsland)(t,"Fractal"),N=I?.shop?.find(({effect:e,unlocked:t})=>e.includes("Star_Talent_Pts")&&t),R=(0,v.getUpgradeVaultBonus)(t?.upgradeVault?.upgrades,53),D=(0,l.isCompanionBonusActive)(t,20)?t?.companions?.list?.at(20)?.bonus:0,F=Math.floor(s?.level-1+(o+f+(t?.talentPoints?.[5]+b+(B+(S+(_+(Math.floor(y)+(x+(T+(w+(10*E+(20*A+(20*O+(P+(L+100*!!N+R+D)))))))))))))));return{...e,[s.name]:F}},{}))),$=()=>Object.values(B.skillIndexMap).filter((e,t)=>t>0&&t<=9).reduce((e,{icon:t})=>({...e,[t]:!0}),{}),Y=(e,t,a,n,l)=>{let s=a?.filter(e=>W(e?.class,C.Maestro))?.at(-1),o=k(s?.flatTalents,l,!1,!0),r=j(a,n,k(s?.flatTalents,"ENHANCEMENT_ECLIPSE"),42);return W(e?.class,C.Maestro)&&r&&(o*=2),e?.skillsInfo?.[t]?.level>s?.skillsInfo?.[t]?.level&&(o=0),o}},433568,e=>{"use strict";e.s(["calcShrineLevels",()=>f,"getShrineBonus",()=>h,"getShrineExpBonus",()=>p,"getShrines",()=>m]);var t=e.i(608580),a=e.i(82748),n=e.i(618332),l=e.i(24174),s=e.i(39188),o=e.i(210270),r=e.i(805861),i=e.i(173024),u=e.i(172833),c=e.i(441132);let m=(e,a)=>d(e?.ShrineInfo||(0,t.tryToParse)(e?.Shrine),e?.TowerInfo||(0,t.tryToParse)(e?.Tower),a),d=(e,t,l)=>{let s=l?.lab?.labBonuses?.find(e=>"Shrine_World_Tour"===e.name)?.active,o=e?.map((e,t)=>{let[,,,s]=e,{baseBonus:o,bonusPerLevel:r}=a.shrines[18+t];return(1+(0,n.getCardBonusByEffect)(l?.cards,"Shrine_Effects_(Passive)")/100)*((s-1)*r+o)});return e?.reduce((r,i,u)=>{let c=18+u,[m,,,d,p]=i,{shrineName:g,desc:h,baseBonus:f,bonusPerLevel:v}=a.shrines[c],B=(0,n.getCardBonusByEffect)(l?.cards,"Shrine_Effects_(Passive)"),_=e?.[2]?.[0]===m?o?.[2]:0;return"Unknown"!==g?[...r,{mapId:m,shrineLevel:d,name:g,rawName:`ConTowerB${c}`,bonus:(1+B/100)*((d-1)*v+f),progress:p,desc:h,worldTour:s,crystalShrineBonus:_,shrineTowerValue:t?.[18+u]}]:r},[])},p=(e,t)=>{let a=Array(9).fill(0),n={};return e?.forEach(m=>{m?.mapIndex;let d=+!!(0,s.isSuperbitUnlocked)(t,"Shrine_Speed"),p=(0,l.isArtifactAcquired)(t?.sailing?.artifacts,"Moai_Head"),h=0;p&&(h+=p?.acquired===3?p?.eldritchMultiplier:p?.acquired===2?p?.ancientMultiplier*2:p?.baseBonus);let f=(0,o.isMasteryBonusUnlocked)(t?.rift,t?.totalSkillsLevels?.construction?.rank,1)||0,v=(0,r.getPostOfficeBonus)(m?.postOffice,"Construction_Container",1),B=(0,o.getGoldenFoodBonus)("Golden_Cheese",m,t,e),_=(0,i.getTalentBonus)(m?.flatStarTalents,"SHRINE_ARCHITECT"),M=(0,u.getVialsBonusByEffect)(t?.alchemy?.vials,null,"ShrineSpd"),b=(0,c.getVoteBonus)(t,19);t?.shrines?.forEach((e,t)=>{let{shrineTowerValue:l,crystalShrineBonus:s}=e,o={name:m?.name,value:0};if(!g(e,m?.mapIndex))return o;let r=(1+50*d/100)*(1+(h+15*f)/100)*(1+b/100)*(1+10*l/100)*(1+(s+(v+(B+(_+M))))/100);a[t]+=r,n={...n,[t]:[...n?.[t]||[],{name:m?.name,value:r}]}})}),{total:a,breakdown:n}},g=(e,t)=>{let a=Math.floor(t/50),n=Math.floor(e?.mapId/50),l=e?.mapId%50==0;return e?.worldTour&&l&&a===n||t===e?.mapId},h=(e,t,a,n,s)=>{let o=e?.[t];if(!o)return 0;let r=!0===s||Array.isArray(s)&&(0,l.isArtifactAcquired)(s,"Moai_Head"),i=Math.floor(a/50),u=Math.floor(o?.mapId/50),c=o?.mapId%50==0,m=a!==o?.mapId,d=o?.worldTour&&c&&i===u||!!r;return o?.shrineLevel===0||m&&!d?0:o?.bonus},f=e=>e?Object.values(e)?.reduce((e,{shrineLevel:t})=>e+t,0):0},210270,e=>{"use strict";e.s(["calcTotalQuestCompleted",()=>eE,"calculateAfkTime",()=>$,"calculateLeaderboard",()=>ee,"calculateTotalSkillsLevel",()=>et,"enhanceColoTickets",()=>G,"enhanceKeysObject",()=>W,"getAdviceFish",()=>w,"getAdviceFishBonus",()=>E,"getBundles",()=>q,"getCharacterByHighestSkillLevel",()=>z,"getCompanions",()=>eM,"getCurrencies",()=>F,"getEventShopBonus",()=>eP,"getExpReq",()=>eo,"getFoodBonus",()=>ev,"getGiantMobChance",()=>er,"getGoldenFoodBonus",()=>eu,"getGoldenFoodMulti",()=>ei,"getGuaranteedCrystalMobs",()=>A,"getHealthFoodBonus",()=>eB,"getHighestCapacityCharacter",()=>eg,"getHighestCharacterSkill",()=>Z,"getHighestLevelCharacter",()=>Q,"getHighestLevelOf",()=>J,"getHighestLevelOfClass",()=>X,"getItemCapacity",()=>eh,"getKillRoy",()=>eC,"getKillRoyShopBonus",()=>ew,"getKillroyBonus",()=>eT,"getKillroySchedule",()=>eA,"getLibraryBookTimes",()=>P,"getMasterclassCostReduction",()=>O,"getMaterialCapacity",()=>Y,"getMiniBossesData",()=>ex,"getMinigameScore",()=>e_,"getRandomEventItems",()=>eS,"getRandomEvents",()=>ec,"getSkillMasteryBonusByIndex",()=>es,"getSkillRankColor",()=>ea,"getSlab",()=>D,"getSpeedBonusFromAgility",()=>K,"getTypeGen",()=>ef,"hasItemDropped",()=>R,"isArenaBonusActive",()=>H,"isBundlePurchased",()=>V,"isCompanionBonusActive",()=>eb,"isMasteryBonusUnlocked",()=>el]);var t=e.i(608580),a=e.i(781357),n=e.i(82748),l=e.i(173024),s=e.i(775003),o=e.i(172833),r=e.i(685849),i=e.i(161866),u=e.i(398241),c=e.i(733884),m=e.i(433568),d=e.i(39188),p=e.i(942144),g=e.i(971176),h=e.i(980753),f=e.i(532600),v=e.i(372110),B=e.i(109304),_=e.i(931),M=e.i(949500),b=e.i(787031),S=e.i(441132),y=e.i(476219),k=e.i(384308),x=e.i(712738),C=e.i(11138),T=e.i(618332);let w=e=>{let a=(0,t.tryToParse)(e?.Spelunk)||[];return{upgrades:(n.generalSpelunky?.[18]?.split(" ")||[]).map((e,t)=>{let[n,l,s,o,r]=e.split(","),i=a?.[11]?.[t]??0;return{level:i,cost:Math.pow(1.15,i)*Math.pow(10.01,o),bonus:i/(100+i)*parseFloat(s),name:n,description:l,x2:parseFloat(s),x3:parseFloat(o),filler:r}})}},E=(e,t)=>e?.adviceFish?.upgrades?.[t]?.bonus??0,A=e=>Math.ceil((1+(0,S.getMeritocracyBonus)(e,15)/100)*(1+(0,C.getLegendTalentBonus)(e,37)/100)*((0,o.getSigilBonus)(e?.alchemy?.p2w?.sigils,"SHINY_BEACON")+(e?.tasks?.[2]?.[3]?.[0]+4*(0,i.getAchievementStatus)(e?.achievements,285)))),O=e=>e?.accountOptions?.[480]<(0,C.getLegendTalentBonus)(e,23)?.2:1,P=(e,t,a)=>{let{bookCount:n,libTime:l,breakdown:s}=L(a,t,e),o=a?.timeAway,r=[16,18,20].map(l=>({breakpoint:l,time:I(n,l,a,t,e)-o?.BookLib}));return r=[...r,{breakpoint:0,time:I(0,20,a,t,e)}],{bookCount:n,next:N(n,a,t,e)?.value-l,breakdown:s,breakpoints:r}},L=(e,t,a)=>{let n=e?.accountOptions?.[55],l=e?.timeAway,s=l?.BookLib,o=(new Date).getTime()/1e3-l.GlobalTime,r=n;o>300&&(s+=o);let{breakdown:i}=N(r,e,t,a);for(;s>N(r,e,t,a)?.value;)s-=N(r,e,t,a)?.value,r+=1;return{bookCount:r,libTime:s,breakdown:i}},I=(e,t,a,n,l)=>{let s=0;for(let o=e;o<t;o++)s+=N(o,a,n,l)?.value;return s},N=(e,a,n,l)=>{let c=(0,t.tryToParse)(l?.Tower)||l?.Tower,m=(0,s.getMealsBonusByEffectOrStat)(a,"Library_checkout_Speed",null),p=(0,o.getBubbleBonus)(a,"IGNORE_OVERDUES",!1),g=(0,o.getVialsBonusByEffect)(a?.alchemy?.vials,"Talent_Book_Library"),h=(0,r.getStampsBonusByEffect)(a,"Talent_Book_Library_Refresh_Speed"),f=c?.[1],v=(0,u.getAtomBonus)(a,"Oxygen_-_Library_Booker"),B=(0,d.isSuperbitUnlocked)(a,"Library_Checkouts"),_=0;return B&&(_=B?.totalBonus),{value:Math.round(4*(3600/((1+m/100)*(1+v/100)*(1+(5*f+p+(g+(h+Math.min(30,Math.max(0,30*(0,i.getAchievementStatus)(a?.achievements,145)))+_)))/100)))*(1+10*Math.pow(e,1.4)/100)),breakdown:[{title:"Multiplicative"},{name:""},{name:"Meal Bonus",value:m},{name:"Atom Bonus",value:v},{name:"Tower Bonus",value:5*f},{name:"Bubble Bonus",value:p},{name:"Vial Bonus",value:g},{name:"Stamp Bonus",value:h},{name:"Superbit Bonus",value:_},{name:"Achievement Bonus",value:Math.min(30,Math.max(0,30*(0,i.getAchievementStatus)(a?.achievements,145)))}]}},R=(e,t)=>e?.looty?.lootyRaw?.includes(t),D=e=>{let l=e?.Cards?.[1]||(0,t.tryToParse)(e?.Cards1),s=structuredClone(n.items),o={Motherlode:"Motherlode_x1",Island0:"Island0_x1",Dust0:"Dust0_x1",Dust1:"Dust1_x1",Dust2:"Dust2_x1",Dust3:"Dust3_x1",Dust4:"Dust4_x1",Dust5:"Dust5_x1"},r=n.slab?.map(e=>({name:s?.[e]?.displayName,rawName:o?.[e]||e,obtained:l?.includes(e),onRotation:a.filteredGemShopItems?.[e],unobtainable:a.filteredLootyItems?.[e]})),i=r?.filter(({obtained:e,unobtainable:t})=>!e&&!t)?.length;return{slabItems:r,lootyRaw:l,lootedItems:l?.length,missingItems:i,totalItems:n.slab?.length,rawLootedItems:l?.length}},F=(e,t,a)=>{let n=t?.CurrenciesOwned?.KeysAll||t?.CYKeysAll;if(t?.CurrenciesOwned)return{...t?.CurrenciesOwned,KeysAll:j(n)};let l={"1_HR_Time_Candy":1,"2_HR_Time_Candy":2,"4_HR_Time_Candy":4,"12_HR_Time_Candy":12,"24_HR_Time_Candy":24,"72_HR_Time_Candy":72},s={Steamy_Time_Candy:{min:1/6,max:24},Spooky_Time_Candy:{min:1/3,max:12},Cosmic_Time_Candy:{min:5,max:500}},o=[...e?.storage?.list,...(a?.charactersData||[])?.map(({inventory:e})=>e)?.flat()],r=o?.filter(({Type:e}={})=>"TIME_CANDY"===e);return{candies:{guaranteed:r?.reduce((e,{displayName:t,amount:a})=>s[t]?e:e+l[t]*a,0),special:r?.reduce((e,{displayName:t,amount:a})=>{let n=s[t];return n?{min:e?.min+n?.min*a,max:e?.max+n?.max*a}:e},{min:0,max:0})},WorldTeleports:t?.CYWorldTeleports,KeysAll:j(n),ColosseumTickets:t?.CYColosseumTickets,ObolFragments:t?.CYObolFragments,SilverPens:t?.CYSilverPens,GoldPens:t?.CYGoldPens,DeliveryBoxComplete:t?.CYDeliveryBoxComplete,DeliveryBoxStreak:t?.CYDeliveryBoxStreak,DeliveryBoxMisc:t?.CYDeliveryBoxMisc,minigamePlays:e?.accountOptions?.[33]??0}},G=(e,t,a)=>({allTickets:Object.entries({0:{name:"Typhoon",dialogThreshold:3,daysSinceIndex:15},1:{name:"Centurion",dialogThreshold:4,daysSinceIndex:35},2:{name:"Lonely_Hunter",dialogThreshold:6,daysSinceIndex:56}}).reduce((t,[,n],l)=>{let s=a?.accountOptions?.[n?.daysSinceIndex];return[...t,{rawName:`TixEZ${l}`,amountPerDay:1,daysSincePickup:s,amount:e,totalAmount:Math.min(s,3)}]},[]),totalAmount:e}),j=e=>e.reduce((e,t,n)=>n<5?[...e,{amount:t,...a.keysMap[n]}]:e,[]),W=(e,t,a)=>{let n={0:{name:"Dog_Bone",dialogThreshold:5,daysSinceIndex:16},1:{name:"Djonnut",dialogThreshold:6,daysSinceIndex:31},2:{name:"Bellows",dialogThreshold:8.5,daysSinceIndex:80},3:{}};return e.map((e,l)=>{let s=U(n?.[l],t),o=a?.accountOptions?.[n?.[l]?.daysSinceIndex];return{...e,amountPerDay:s,daysSincePickup:o,totalAmount:Math.min(o,3)*s}})},U=({name:e,dialogThreshold:t}={},a)=>a.reduce((a,{npcDialog:n})=>void 0===t?a:n?.[e]>t?a+1:a,0),q=e=>{let a=(0,t.tryToParse)(e?.BundlesReceived)||e?.BundlesReceived;return a?Object.entries(a)?.reduce((e,[t,a])=>a?[...e,{name:t,owned:!!a}]:e,[]).sort((e,t)=>e?.name?.match(/_[a-z]/i)?.[0].localeCompare(t?.name?.match(/_[a-z]/i)?.[0])):[]},V=(e,t)=>e?.find(({name:e})=>e===t),H=(e,t,a)=>{let n=t.split(" ");return!(a>n.length)&&e>=n[a]},$=e=>1e3*parseFloat(e),Y=(e,t)=>{let{allCapacity:a,mattyBagStampBonus:n,gemShopCarryBonus:l,masonJarStampBonus:s,extraBagsTalentBonus:o,starSignExtraCap:r}=t;return Math.floor(e?.capacity*(1+n/100)*(1+25*l/100)*(1+(s+r)/100)*(1+o/100)*a)},K=(e=0)=>{let t=(Math.pow(e+1,.37)-1)/40;return e>1e3&&(t=(e-1e3)/(e+2500)*.5+.297),2*t+1},J=(e,t)=>{let a=e?.filter(e=>(0,l.checkCharClass)(e?.class,t));return a?.reduce((e,{level:t})=>t>e?t:e,0)},X=(e,t,a)=>{let n=e?.reduce((e,{level:t,class:a})=>(e?.[a]?e[a]=Math.max(e?.[a],t):e[a]=t,e),{}),s=l.talentPagesMap?.[t];a&&(s=s.filter(e=>e===t));let o=s?.find(e=>n?.[e]);return n?.[o]||0},z=(e,t,a)=>{let n;if(!e)return null;if(t){let a=l.talentPagesMap?.[t];n=e.filter(e=>a.includes(e.class))}else n=e;return n.reduce((e,t)=>t?.skillsInfo?.[a]?.level>e?.skillsInfo?.[a]?.level?t:e,n[0])},Q=e=>Math.max(...e?.map(({level:e})=>e??0)),Z=(e=[],t)=>Math.max(...e?.map(({skillsInfo:e})=>e?.[t]?.level??0)),ee=e=>{let t=e.reduce((e,{name:t,skillsInfo:a})=>{if(!a)return e;for(let[n,l]of Object.entries(a))if(e[n]){let a={...e[n],[t]:l},s=Object.keys(a).length;e[n]=Object.entries(a).sort(([,{level:e,exp:t}],[,{level:a,exp:n}])=>a-e||n-t).reduceRight((e,[t,a])=>({...e,[t]:{...a,rank:s--}}),{})}else e[n]={...e[n],[t]:l};return e},{});return Object.entries(t)?.reduce((e,[t,a])=>Object.entries(Object.entries(a).reduce((e,[a,n])=>({...e,[a]:{[t]:n}}),{})).reduce((t,[a,n])=>({...t,[a]:{...e[a]||{},...n}}),{}),{})},et=e=>{let t=e?.reduce((e,{skillsInfo:t})=>{if(!t)return e;for(let[a,n]of Object.entries(t))e?.[a]?e[a]={...e[a],level:(e[a].level+n?.level)??0}:e[a]={level:n?.level,index:n?.index-1,icon:n?.icon};return e},{});return Object.entries(t)?.reduce((e,[t,{level:a}])=>{let n=en(a);return{...e,[t]:{...e?.[t],rank:n,color:ea(a)}}},t)},ea=e=>e<300?"white":e>=300&&e<400?"#ffc277":e>=400&&e<600?"#cadadb":e>=600&&e<1e3?"gold":"#56ccff",en=e=>150>e?0:200>e?1:300>e?2:400>e?3:500>e?4:750>e?5:1e3>e?6:7,el=(e,t,a)=>e?.currentRift<15?0:+(t>a),es=(e,t,a)=>Array(18).fill(1).reduce((n,l,s)=>{let o=((e,t)=>{for(let[,a]of Object.entries(e))if(a?.level>0&&a?.index===t)return a?.rank;return null})(e,s);return 1===a?n+=10*el(t,o,Math.round(a+2)):3===a?n+=el(t,o,Math.round(a+2)):4===a?n+=25*el(t,o,Math.round(a+2)):0!==s&&2!==s&&3!==s&&5!==s&&6!==s&&8!==s&&(n+=5*el(t,o,Math.round(a+2))),n},7),eo=(e,t)=>0===e?(15+Math.pow(t,1.9)+11*t)*Math.pow(1.208-Math.min(.164,.215*t/(t+100)),t)-15:2===e?(15+Math.pow(t,2)+13*t)*Math.pow(1.225-Math.min(.114,.135*t/(t+50)),t)-26:8===e?71>t?((10+Math.pow(t,2.81)+4*t)*Math.pow(1.117-.135*t/(t+5),t)-6)*(1+Math.pow(t,1.72)/300):((10+Math.pow(t,2.81)+4*t)*Math.pow(1.003,t)-6)/2.35*(1+Math.pow(t,1.72)/300):9===e?(15+Math.pow(t,1.3)+6*t)*Math.pow(1.17-Math.min(.07,.135*t/(t+50)),t)-26:(15+Math.pow(t,2)+15*t)*Math.pow(1.225-Math.min(.18,.135*t/(t+50)),t)-30,er=(e,t)=>{let a=t?.accountOptions?.[57],n=(0,c.getPrayerBonusAndCurse)(e?.activePrayers,"Glitterbug",t)?.curse,l=(0,m.getShrineBonus)(t?.shrines,6,e?.mapIndex,t?.cards,t?.sailing?.artifacts),s=(0,o.getVialsBonusByStat)(t?.alchemy?.vials,"GiantMob");return{chance:a<5?1/((100+50*Math.pow(a+1,2))*(1+n/100))*(1+(l+s)/100):1/(2*Math.pow(a+1,1.95)*(1+n/100)*Math.pow(a+1,1.5+a/15))*(1+(l+s)/100),crescentShrineBonus:l,giantMobVial:s,glitterbugPrayer:n}},ei=(e,t,a)=>{let u=X(t?.charactersLevels,l.CLASSES.Bubonic_Conjuror)??X(t?.charactersLevels,l.CLASSES.Shaman)??0,c=(0,l.getTalentBonus)(e?.flatTalents,"THE_FAMILY_GUY"),m=(0,p.getFamilyBonusBonus)(n.classFamilyBonuses,"GOLDEN_FOODS",u),d=(0,l.checkCharClass)(e?.class,l.CLASSES.Shaman),h=(0,g.getStatsFromGear)(e,8,t),f=(0,g.getStatsFromGear)(e,8,t,!0),v=(0,x.getObolsBonus)(e?.obols,n.bonuses?.etcBonuses?.[47]),_=(0,l.getTalentBonus)(e?.flatTalents,"HAUNGRY_FOR_GOLD"),y=(0,r.getStampsBonusByEffect)(t,"Effect_from_Golden_Food._Sparkle_sparkle!"),w=(0,i.getAchievementStatus)(t?.achievements,37),E=(0,o.getBubbleBonus)(t,"SHIMMERON",!1,l.mainStatMap?.[e?.class]==="strength"),A=(0,o.getSigilBonus)(t?.alchemy?.p2w?.sigils,"EMOJI_VEGGIE"),O=(0,M.getCharmBonus)(t,"Gumm_Stick"),P=(0,s.getMealsBonusByEffectOrStat)(t,null,"zGoldFood"),L=(0,B.getStarSignBonus)(e,t,"Golden_Food"),I=(0,b.getBribeBonus)(t?.bribes,"Gold_from_Lead"),N=(0,i.getAchievementStatus)(t?.achievements,380),R=(0,i.getAchievementStatus)(t?.achievements,383),D=(0,S.getVoteBonus)(t,26),F=eb(t,48)?t?.companions?.list?.at(48)?.bonus:0,G=(0,C.getLegendTalentBonus)(t,25),j=(0,T.getCardBonusByEffect)(t?.cards,"Gold_Food_Effect_(Passive)"),W=a?.find(e=>(0,l.checkCharClass)(e?.class,l.CLASSES.Death_Bringer)),U=(0,l.getTalentBonus)(W?.flatTalents,"APOCALYPSE_WOW"),q=W?.wow?.finished?.at(0)||0;return{value:(1+(0,k.getArmorSetBonus)(t,"SECRET_SET")/100)*(Math.max(d?m*(c>0?1+c/100:1)||0:m,1)+(h+f+v+(_+(y+(w+(E+A)+P+L+I+O+(2*N+3*R+D+U*q+F+G+j)))))/100),expression:`(1 + armorSetBonus / 100)
* (Math.max(isShaman ? amplifiedFamilyBonus : familyBonus, 1)
+ (equipmentGoldFoodBonus
+ (hungryForGoldTalentBonus
+ (goldenAppleStamp
+ (goldenFoodAchievement
+ (goldenFoodBubbleBonus
+ goldenFoodSigilBonus) 
+ mealBonus 
+ starSignBonus
+ bribeBonus 
+ charmBonus
+ (2 * achievementBonus + 3 * secondAchievementBonus
+ voteBonus
+ apocalypseWow * apocalypses))))) / 100)`}},eu=(e,a,l,s)=>{if(!a)return 0;let o=a?.food?.find(({name:t})=>t===e),r=ei(a,l,s),i=o?.Amount&&o?.amount?o?.Amount*r?.value*.05*(0,t.lavaLog)(1+o?.amount)*(1+(0,t.lavaLog)(1+o?.amount)/2.14):0;if((0,M.isJadeBonusUnlocked)(l,"Gold_Food_Beanstalk")){let a=l?.sneaking?.beanstalkData,s=n.ninjaExtraInfo[29].split(" ").filter(e=>isNaN(e)).map((e,t)=>({...n.items?.[e]||{},active:a?.[t]>0,index:t})),o=s?.find(({displayName:t,active:a})=>t===e&a);return o?i+o?.Amount*r?.value*.05*(0,t.lavaLog)(1+1e3*Math.pow(10,a?.[o?.index]))*(1+(0,t.lavaLog)(1+1e3*Math.pow(10,a?.[o?.index]))/2.14):i}return i},ec=e=>{if(!e)return[];let{serverVars:t,timeAway:a}=e||{},l=[],s=Math.round(Math.floor(a?.GlobalTime/3600));for(let e=0;e<100;e++){let a=s+e+t?.RandEvntHr,o=ep(new h.default(a).rand()),r=new h.default(a+1).rand(),i=em(o);if(0===i.length)continue;let u=Math.min(Math.floor(r*i.length),i.length-1),c=n.rawMapNames?.indexOf(i?.[u]);if(-1===c)continue;let m=n.mapNames?.[c],d=ed(o),p=(s+e+1)*36e5;(0,f.isPast)(p)||(new Date(p).isDstObserved()&&(p-=36e5),l.push({mapName:m,eventName:d,date:p}))}return l},em=e=>{let[t,a,l]=n.randomList.slice(68,71),s=[];return(0===e||1===e||3===e||4===e)&&(s=s.concat(t.split(" "))),(0===e||1===e||3===e)&&(s=s.concat(a.split(" "))),(0===e||2===e)&&(s=s.concat(l.split(" "))),s},ed=e=>({0:"Meteorite",1:"Mega_Grumblo",2:"Glacial_Guild",3:"Snake_Swarm",4:"Angry_Frogs"})[e]??"",ep=e=>.045>e?0:.087>e?1:.129>e?2:.171>e?3:.213>e?4:-1,eg=(e,t,a,n)=>t?.reduce((t,l)=>{let s=e?.itemType==="Equip"?1:eh(e?.typeGen,l,a,n)?.value,o=l?.inventorySlots*s;return o>t?.maxCapacity&&(t={capacityPerSlot:s,maxCapacity:o,character:l?.name,skillsInfoArray:l?.skillsInfoArray}),t},{capacityPerSlot:0,maxCapacity:0,character:""}),eh=(e="",t,a,n)=>{let s,o,i,u,d,p,g,h=a?.gemShopPurchases?.find((e,t)=>58===t),f=a?.lab?.playersChips.flat().concat(a?.lab?.chips).find(({name:e})=>"Silkrode_Nanochip"===e),_=(0,B.getStarSignBonus)(t,a,"Carry_Cap",n&&f,n),M=(0,r.getStampsBonusByEffect)(a,"Carrying_Capacity_for_Mining_Items",t),b=(0,r.getStampsBonusByEffect)(a,"Carrying_Capacity_for_Choppin'_Items",t),S=(0,r.getStampsBonusByEffect)(a,"Carry_Capacity_for_Fishing_Items",t),k=(0,r.getStampsBonusByEffect)(a,"Carry_Capacity_for_Catching_Items",t),x=(0,r.getStampsBonusByEffect)(a,"Carrying_Capacity_for_Material_Items",t),C=(0,r.getStampsBonusByEffect)(a,"Carry_Capacity_for_ALL_item_types!"),T=(0,l.getTalentBonus)(t?.flatTalents,"EXTRA_BAGS",!1,!1,t?.addedLevels,!0,n),w=(0,y.getUpgradeVaultBonus)(a?.upgradeVault?.upgrades,17),E=(s=(0,v.getGuildBonusBonus)(a?.guild?.guildBonuses,2),o=(0,l.getTalentBonus)(t?.flatStarTalents,"TELEKINETIC_STORAGE"),i=(0,m.getShrineBonus)(a?.shrines,3,t?.mapIndex,a?.cards,a?.sailing?.artifacts),u=n?0:(0,c.getPrayerBonusAndCurse)(t?.activePrayers,"Zerg_Rushogen",a)?.curse,d=(0,c.getPrayerBonusAndCurse)(t?.activePrayers,"Ruck_Sack",a,n)?.bonus,p=a?.bribes?.[23]?.done?a?.bribes?.[23]?.value:0,{value:(1+(s+o)/100)*(1+(g=eb(a,18)?a?.companions?.list?.at(18)?.bonus:0)/100)*(1+i/100)*Math.max(1-u/100,.4)*(1+(d+p)/100),breakdown:[{value:s,name:"Guild"},{value:o,name:"Talent"},{value:i,name:"Shrine"},{value:d+-u,name:"Prayer"},{value:p,name:"Bribe"},{value:g,name:"Companion"}]}),A,O=[{title:"Base"},{name:""},...E?.breakdown,{value:w,name:"Upgrade Vault"},{name:""}];return"bOre"===e||"bBar"===e||"cOil"===e?(A=Math.floor((w+t?.maxCarryCap?.Mining)*(1+M/100)*(1+25*h/100)*(1+(C+_)/100)*E?.value),O=[...O,{title:"Mining"},{name:""},{value:t?.maxCarryCap?.Mining,name:"Base Bag"},{value:M,name:"Stamps"},{value:h,name:"Gemshop"},{value:C,name:"All Stamps"},{value:_,name:"Star Sign"}]):"dFish"===e?(A=Math.floor((w+t?.maxCarryCap?.Fishing)*(1+25*h/100)*(1+S/100)*(1+(C+_)/100)*E?.value),O=[...O,{title:"Fishing"},{name:""},{value:t?.maxCarryCap?.Fishing,name:"Base Bag"},{value:S,name:"Stamps"},{value:h,name:"Gemshop"},{value:C,name:"All Stamps"},{value:_,name:"Star Sign"}]):"dBugs"===e?(A=Math.floor((w+t?.maxCarryCap?.Bugs)*(1+25*h/100)*(1+k/100)*(1+(C+_)/100)*E?.value),O=[...O,{title:"Catching"},{name:""},{value:t?.maxCarryCap?.Bugs,name:"Base Bag"},{value:k,name:"Stamps"},{value:h,name:"Gemshop"},{value:C,name:"All Stamps"},{value:_,name:"Star Sign"}]):"bLog"===e||"bLeaf"===e?(A=Math.floor((w+t?.maxCarryCap?.Chopping)*(1+b/100)*(1+25*h/100)*(1+(C+_)/100)*E?.value),O=[...O,{title:"Chopping"},{name:""},{value:t?.maxCarryCap?.Chopping,name:"Base Bag"},{value:b,name:"Stamps"},{value:h,name:"Gemshop"},{value:C,name:"All Stamps"},{value:_,name:"Star Sign"}]):"cFood"===e?(A=Math.floor((w+t?.maxCarryCap?.Foods)*(1+25*h/100)*(1+(C+_)/100)*E?.value),O=[...O,{title:"Food"},{name:""},{value:t?.maxCarryCap?.Foods,name:"Base Bag"},{value:h,name:"Gemshop"},{value:C,name:"All Stamps"},{value:_,name:"Star Sign"}]):"dCritters"===e?(A=Math.floor((w+t?.maxCarryCap?.Critters)*(1+25*h/100)*(1+(C+_)/100)*E?.value),O=[...O,{title:"Critters"},{name:""},{value:t?.maxCarryCap?.Critters,name:"Base Bag"},{value:h,name:"Gemshop"},{value:C,name:"All Stamps"},{value:_,name:"Star Sign"}]):"dSouls"===e?(A=Math.floor((w+t?.maxCarryCap?.Souls)*(1+25*h/100)*(1+(C+_)/100)*E?.value),O=[...O,{title:"Souls"},{name:""},{value:t?.maxCarryCap?.Souls,name:"Base Bag"},{value:h,name:"Gemshop"},{value:C,name:"All Stamps"},{value:_,name:"Star Sign"}]):"dCurrency"===e||"dQuest"===e||"dStatueStone"===e?A=999999:"bCraft"===e?(A=Math.floor((w+t?.maxCarryCap?.bCraft)*(1+x/100)*(1+25*h/100)*(1+(C+_)/100)*(1+T/100)*E?.value),O=[...O,{title:"Materials"},{name:""},{value:t?.maxCarryCap?.bCraft,name:"Base Bag"},{value:x,name:"Stamps"},{value:h,name:"Gemshop"},{value:C,name:"All Stamps"},{value:T,name:"Talent"},{value:_,name:"Star Sign"}]):A="dExpOrb"===e||"dStone"===e||"dFishToolkit"===e?999999:"fillerz"===e?t?.maxCarryCap?.fillerz:"d"===e.charAt(0)?999999:2,{value:A,breakdown:O}},ef=e=>({bCraft:"bCraft",Foods:"cFood",Mining:"bOre",Quests:"dQuest",Statues:"dStatueStone",Chopping:"bLog",Fishing:"dFish",Bugs:"dBugs",Critters:"dCritters",Souls:"dSouls"})[e],ev=(e,t,a,n=!1)=>{let l=(0,_.getPlayerFoodBonus)(e,t);return e?.food?.reduce((e,{Amount:t,Effect:s})=>e+(s===a?t*(n?1:l):0),0)},eB=(e,t,a)=>{let n=(0,_.getPlayerFoodBonus)(e,t,!0);return e?.food?.reduce((e,{Trigger:t,Amount:l,Cooldown:s,Effect:o})=>e+(t>0&&o===a?l*n/Math.max(s,1)*3600:0),0)},e_=(e,t)=>e?.highscores?.minigameHighscores?.find(({minigame:e})=>e===t)?.score||0,eM=(e={})=>{let[t]=e?.e?.split(",")||[],a=n.companions?.[t],l=e?.l?.reduce((e,t)=>{let[a,n]=t?.split(","),l=e[a]||{count:0,tradableCount:0,nonTradableCount:0},s="1"===n;return{...e,[a]:{count:l.count+1,tradableCount:l.tradableCount+ +!!s,nonTradableCount:l.nonTradableCount+ +!s}}},{}),s=n.companions?.map((e,t)=>({...e,acquired:(l?.[t]?.count||0)>0,copies:l?.[t]?.count??0,tradableCount:l?.[t]?.tradableCount??0,nonTradableCount:l?.[t]?.nonTradableCount??0}));return{totalBoxesOpened:e?.x,currentCompanion:a,list:s,lastFreeClaim:e?.t,petCrystals:e?.s,maxStorage:40}},eb=(e,t)=>e?.companions?.list?.at(t)?.acquired,eS=e=>{let t=n.randomList.slice(82,87).flat(),a=new Set(e?.looty?.lootyRaw);return t.reduce((e,t)=>a.has(t)?e+1:e,0)},ey=(e,t)=>({mini3b:Math.min(10,Math.floor(Math.pow((t<3?3:t)-3,.55))),mini4b:Math.min(8,Math.floor(Math.pow((t<3?3:t)-3,.5))),mini5a:Math.min(6,Math.floor(Math.pow((t<3?3:t)-3,.5))),mini6a:Math.min(6,Math.floor(Math.pow((t<3?3:t)-3,.5)))})[e],ek=(e,a,n)=>(0,t.createRange)(1,100).find(t=>{if(ey(e,a+t)>n)return t}),ex=e=>{let t=e?.accountOptions?.[96]??0,a=e?.accountOptions?.[98]??0,n=e?.accountOptions?.[225]??0,l=e?.accountOptions?.[226]??0,s=[ey("mini3b",t),ey("mini4b",a),ey("mini5a",n),ey("mini6a",l)];return[{current:s[0],maxed:s[0]>=10,rawName:"mini3b",name:"Dilapidated_Slush",unlocked:e?.finishedWorlds?.World3,daysTillNext:ek("mini3b",t,s[0])},{current:s[1],maxed:s[1]>=8,rawName:"mini4b",name:"Mutated_Mush",unlocked:e?.finishedWorlds?.World2,daysTillNext:ek("mini4b",a,s[1])},{current:s[2],maxed:s[2]>=6,rawName:"mini5a",name:"Domeo_Magmus",unlocked:e?.finishedWorlds?.World4,daysTillNext:ek("mini5a",n,s[2])},{current:s[3],maxed:s[3]>=6,rawName:"mini6a",name:"Demented_Spiritlord",unlocked:e?.finishedWorlds?.World5,daysTillNext:ek("mini6a",l,s[3])}].filter(({unlocked:e})=>e)},eC=(e,a,l,s)=>{let o=l?.accountOptions?.[105],r=(0,t.tryToParse)(e?.KRbest),i=Object.values(r||{}).reduce((e,t)=>e+t,0),u=1+Math.floor(Math.pow(i,.4))/100,c=l?.accountOptions?.[227]===1?3:2,m=eO(c,l,s),d=[{level:l?.accountOptions?.[106],description:"Increases your maximum time in room. Base time is 100 seconds.",upgrade:"+1 Second Timer"},{level:l?.accountOptions?.[107],description:"Increases chance for Talent Point drop, depends on how many Talent Point drops already got",upgrade:"+ Talent Drops"},{level:l?.accountOptions?.[108],description:"Increases chance of dropping skulls by mobs",upgrade:"+1% Bonus Skulls"},{level:l?.accountOptions?.[109],description:"Faster Respawn"},{level:l?.accountOptions?.[110],description:"Mobs can drop Dungeon Credits now",upgrade:"Dungeon Drops"},{level:l?.accountOptions?.[111],description:"Mobs can drop Pearls now",upgrade:"Pearl Drops"}],p=n.killRoySkullShop?.slice(10)?.map((e,t)=>{let a=ew(l,0===t||1===t?0:2===t||3===t?1:4===t?2:3);return{...e,level:0===t?l?.accountOptions?.[227]:1===t?l?.accountOptions?.[228]:2===t?0:3===t?l?.accountOptions?.[229]:4===t?l?.accountOptions?.[230]:1,bonus:a,description:e?.description?.replace("{",Math.floor(100*a)/100)}});return{list:n.deathNote.map(e=>{let t={...e,icon:`Mface${n.monsters?.[e.rawName].MonsterFace}`,name:n.monsters?.[e.rawName]?.Name};return r?.[e.rawName]?{...t,killRoyKills:r?.[e.rawName]??0}:t}),permanentUpgrades:p,totalKills:i,totalDamageMulti:u,rooms:c,killRoyClasses:m,upgrades:d,skulls:o}},eT=(e,t)=>e?.killroy?.permanentUpgrades?.[t]?.bonus,ew=(e,t)=>0===t?1+e?.accountOptions?.[228]/(300+e?.accountOptions?.[228]):1===t?1+e?.accountOptions?.[229]/(300+e?.accountOptions?.[229])*9:2===t?1+e?.accountOptions?.[230]/(300+e?.accountOptions?.[230])*2:3===t?e?.accountOptions?.[467]/(200+e?.accountOptions?.[467])*10:4===t?1+e?.accountOptions?.[468]/(200+e?.accountOptions?.[468])*1.3:5===t?1+e?.accountOptions?.[469]/(150+e?.accountOptions?.[469])*.8:6===t?e?.accountOptions?.[470]/(250+e?.accountOptions?.[470])*25:7===t?1+e?.accountOptions?.[471]/(200+e?.accountOptions?.[471])*2:1,eE=e=>Object.values(e.reduce((e,{questComplete:t})=>(Object.entries(t||{})?.forEach(([t,a])=>{e[t]||1!==a||(e[t]=1)},0),e),{})).reduce((e,t)=>e+t,0),eA=(e,t,a)=>{let n=e?.accountOptions?.[227]===1?3:2,l=[];for(let s=0;s<20;s++)l.push(eO(n,e,a,!0,s,t));return l},eO=(e,t,a,s=!1,o=0,r)=>{let i=[],u=[],c=t?.accountOptions?.[113],m={1:[0],21:[0,1],321:[0,1,2]},d=r?.some(({kills:e})=>e?.[200]>=0),p=Math.floor((t?.timeAway?.GlobalTime+Math.round(t?.timeAway?.ShopRestock+86400*t?.accountOptions?.[39]))/604800);for(let t=0;t<e;t++){if(!s&&m[c]&&m[c].includes(t))continue;let e=Math.round(p+o+(50*t+a.KillroySwap)),n=Math.max(0,Math.min(3,Math.ceil(3*new h.default(e).rand()-Math.floor(t/2))));i.push(n)}for(let l=0;l<e;l++){let e=Math.round(p+o+(50*l+a.KillroySwap)),s=Math.floor(1e3*new h.default(e).rand());if(s<300||0===l){let e=n.randomList[Math.round(68+l)].split(" "),t=Math.floor(s/e.length),a=Math.round(s-t*e.length);u.push(e[a])}else if(s<400&&d){let e=n.randomList[72].split(" "),t=Math.floor(s/e.length),a=Math.round(s-t*e.length);u.push(e[a])}else if(s<500&&t?.summoning?.summoningStuff?.[2]>=4){let e=n.randomList[99].split(" "),t=Math.floor(s/e.length),a=Math.round(s-t*e.length);u.push(e[a])}else{let e=n.randomList[Math.round(69+l)].split(" "),t=Math.floor(s/e.length),a=Math.round(s-t*e.length);u.push(e[a])}}return s?{monsters:u.map(e=>n.monsters[n.mapEnemiesArray[n.rawMapNames.indexOf(e)]]),classes:i.map(e=>({className:0===e?l.CLASSES.Beginner:1===e?l.CLASSES.Warrior:2===e?l.CLASSES.Archer:l.CLASSES.Mage,classIndex:0===e?1:1===e?6:2===e?18:30})),date:Math.floor((p+o-1)*6048e5)}:i.map(e=>0===e?l.CLASSES.Beginner:1===e?l.CLASSES.Warrior:2===e?l.CLASSES.Archer:l.CLASSES.Mage)},eP=(e,a)=>!!e?.accountOptions?.[311]&&-1!==(e?.accountOptions?.[311]).indexOf(t.number2letter[a])},523285,65057,e=>{"use strict";e.s(["calcTotalItemInStorage",()=>c,"getInventoryList",()=>u,"getStorage",()=>o],523285);var t=e.i(608580),a=e.i(82748),n=e.i(971176),l=e.i(210270),s=e.i(476219);let o=(e,a="storage",n)=>r((0,t.tryToParse)(e?.ChestOrder),(0,t.tryToParse)(e?.ChestQuantity),a,(0,t.tryToParse)(e?.CMm),(0,t.tryToParse)(e.InvStorageUsed),n),r=(e,t,n,l,s,o)=>{let r=u(e,t,n,l),c=Object.entries(a.invStorage).map(([e,t])=>({rawName:e,...t,amount:parseFloat(s?.[t?.ID]??0),unlocked:Object.prototype.hasOwnProperty.call(s??{},t?.ID)}));return{list:r,slots:i(c,o),storageChests:c}},i=(e,t)=>{let a=2*t?.towers?.data?.[4]?.level,n=8*!!(0,l.isBundlePurchased)(t?.bundles,"bun_i"),o=16*!!(0,l.isBundlePurchased)(t?.bundles,"bun_c"),r=20*!!(0,l.isBundlePurchased)(t?.bundles,"bon_a"),i=e.reduce((e,{unlocked:t,amount:a})=>t?e+a:e,0),u=9*(t?.gemShopPurchases?.find((e,t)=>109===t)??0);return{value:54+a+i+n+o+r+u+Math.round(12*(0,l.getEventShopBonus)(t,10)+16*(0,l.getEventShopBonus)(t,11)+(0,s.getUpgradeVaultBonus)(t?.upgradeVault?.upgrades,33)),breakdown:[{name:"Base",value:54},{title:"Bundles"},{name:"AutoLoot",value:`${n} / 8`},{name:"Starter Pack",value:`${o} / 16`},{name:"Storage Ram",value:`${r} / 20`},{title:"Event shop"},{name:"Storage Chest",value:`${12*(0,l.getEventShopBonus)(t,10)} / 12`},{name:"Storage Vault",value:`${16*(0,l.getEventShopBonus)(t,11)} / 16`},{title:"Gem shop"},{name:"More Storage Space",value:`${u} / 90`},{title:"Other"},{name:"Tower Storage",value:`${a} / 50`},{name:"Chests",value:`${i} / 336`},{name:"Upgrade Vault",value:`${(0,s.getUpgradeVaultBonus)(t?.upgradeVault?.upgrades,33)} / 24`}]}},u=(e,l,s,o)=>e.reduce((e,r,i)=>{let u=(0,n.addStoneDataToEquip)(a.items?.[r],o?.[i]),c=[1,2,3,4,5,6,7,8].reduce((e,t)=>a.items?.[r]?.[`desc_line${t}`]?e+`${a.items?.[r]?.[`desc_line${t}`]} `:e,""),m=Math.max(u?.Upgrade_Slots_Left,a.items?.[r]?.Upgrade_Slots_Left),d={...a.items?.[r],...u,maxUpgradeSlots:m},p="";return d?.UQ1txt&&(p+=d?.UQ1txt),d?.UQ2txt&&(p+=` ${d?.UQ2txt}`),"LockedInvSpace"!==r&&"Blank"!==r?[...e,{...d,owner:s,name:d?.displayName,type:d?.itemType,subType:d?.Type,rawName:r,amount:parseInt(l?.[i]),misc:(0,t.cleanUnderscore)(p.trim()),description:(0,t.cleanUnderscore)(c.trim())}]:e},[]),c=(e,t)=>e?.reduce((e,{rawName:a,amount:n})=>a===t?e+n:e,0);e.s(["calcAnvilExp",()=>y,"calcTotals",()=>x,"getAnvil",()=>b,"getPlayerAnvil",()=>S,"getTimeTillCap",()=>k],65057);var m=e.i(172833),d=e.i(173024),p=e.i(109304),g=e.i(618332),h=e.i(685849),f=e.i(276924),v=e.i(805861),B=e.i(931);let _=(e,t)=>Math.round((Math.pow(e+1,1.5)+e)*Math.max(.1,1-t/100)),M=(e,t)=>Math.round((Math.pow(e,3)+50)*(1+e/100)*Math.max(.1,1-t/100)),b=(e,t)=>{let a=e?.AnvilPA,n=(0,d.getTalentBonus)(t?.flatTalents,"ACME_ANVIL"),l=0;n&&(l=e?.SkillLevels?.[281]+n*Math.floor(t?.skillsInfo?.smithing?.level/10));let[s,o,r,i,u,c]=e?.AnvilPAstats;return{anvilProduction:a,anvilStats:{availablePoints:s,pointsFromCoins:o,pointsFromMats:r,pointsFromAcme:l,xpPoints:i,speedPoints:u,capPoints:c},anvilSelected:e?.AnvilPAselect}},S=(e,t,n)=>{let o,r,i,{anvil:u}=e,{anvilProduction:c,anvilStats:g,anvilSelected:b}=u||{},{availablePoints:S,pointsFromCoins:y,pointsFromMats:k,pointsFromAcme:x,xpPoints:C,speedPoints:T,capPoints:w}=g||{};Array.isArray(b)||(b=[b]);let E=c?.reduce((e,t,n)=>{let[l,s,o,r]=t;return[...e,{currentAmount:l,currentXP:s,currentProgress:parseFloat(o),totalProduced:r,...a.anvilProducts[n]||{},displayName:a.items?.[a.anvilProducts?.[n]?.rawName]?.displayName,hammers:b?.filter(e=>e===n)?.length}]},[]),A={availablePoints:S,pointsFromCoins:y,pointsFromMats:k,pointsFromAcme:x,xpPoints:C,speedPoints:T,capPoints:w},O=(0,m.getBubbleBonus)(n,"ANVILNOMICS")*((0,d.checkCharClass)(e?.class,d.CLASSES.Archer)?(0,m.getBubbleBonus)(n,"ARCHER_OR_BUST"):1),P=(o=a.anvilUpgradeCost.findIndex(({costThreshold:e},t)=>k<e||t===a.anvilUpgradeCost?.length-1),r=a.anvilUpgradeCost?.[o],i=0===o?1:k<r?.costThreshold?a.anvilUpgradeCost?.[o-1]?.costThreshold:r?.costThreshold,r?{...r,startingIndex:i}:{costThreshold:null,itemName:null});A.anvilCost={...P,totalMats:(({costThreshold:e,startingIndex:t}={},a,n)=>{if(!e)return 0;let l=0;for(let e=t;e<a;e++)l+=_(e,n);return l})(P,k,O),nextMatUpgrade:_(k,O),totalCoins:((e,t)=>{let a=0;for(let n=0;n<e;n++)a+=M(n,t);return a})(y,O),nextCoinUpgrade:M(y,O,!0),coinsToMax:((e,t)=>{let a=0;for(let n=e;n<600;n++)a+=M(n,t,!0);return a??0})(y,O)},A.baseAnvilExp=(0,B.getAllSkillsExp)(e,t,n)?.value;let L=(0,h.getStampBonus)(n,"skills","StampB3",e),I=(0,v.getPostOfficeBonus)(e?.postOffice,"Blacksmith_Box",1),N=(0,m.getActiveBubbleBonus)(e?.equippedBubbles,"HAMMER_HAMMER",n),R=(0,f.getStatueBonus)(n,11,e?.flatTalents),D=(0,p.getStarSignBonus)(e,n,"Speed_in_Town"),F=(0,d.getTalentBonus)(e?.flatTalents,"BROKEN_TIME"),G=(0,s.getUpgradeVaultBonus)(n?.upgradeVault?.upgrades,24);A.anvilSpeed=3600*((e=0,t,a=0,n=0,s=0,o=0,r=0,i=0,u=0)=>(1+(a+2*t)/100)*(1+(n+o+u)/100)*(1+s/100)*(0,l.getSpeedBonusFromAgility)(e)*(1+(r+i)/100))(e?.stats?.agility,T,L,I,N,R,D,F,G);let j=e?.carryCapBags?.find(({Class:e})=>"bCraft"===e);A.anvilCapacity=Math.round(j?.capacityPerSlot*(2+.1*w));let W=b.sort((e,t)=>e-t).map(e=>a.anvilProducts[e]);return{guild:n?.guild?.guildBonuses?.length>0,stats:A,production:E,selected:W}},y=(e,t,a,n,s)=>{let o,r=(0,d.getTalentBonus)(e?.flatTalents,"FOCUSED_SOUL"),i=(0,d.getTalentBonus)(e?.flatTalents,"HAPPY_DUDE"),u=(0,g.getCardBonusByEffect)(a?.cards,"Smithing_EXP_(Passive)"),c=(0,v.getPostOfficeBonus)(e?.postOffice,"Blacksmith_Box",0);return 100*(((o=(1+3*s/100)*Math.max(.1,(1+(r+((0,h.getStampsBonusByEffect)(a,"SmithExp",e)+(i+25*(0,l.isMasteryBonusUnlocked)(a?.rift,a?.totalSkillsLevels?.smithing?.rank,0))))/100)*(1+u/100)*(1+c/100)+(n+(0,d.getMaestroHand)(e,"smithing",t,a,"LEFT_HAND_OF_LEARNING"))/100))<20?o:Math.min(20+(o-20)/(o-20+70)*50,75))-1)},k=({hammers:e,currentAmount:t=0,currentProgress:a=0,requiredAmount:n,afkTime:l,stats:s,fromZero:o=!1})=>{let r=s?.anvilSpeed/3600/n*(e??0);if(o)return s?.anvilCapacity/r;let i=Math.min(Math.round(t+(a+(Date.now()-l)/1e3*s?.anvilSpeed/3600)/n*(e??0)),s?.anvilCapacity);return(s?.anvilCapacity-i)/r},x=(e,t)=>e?.anvil?.reduce((a,n,l)=>{let{stats:s,production:o}=S(t?.[l],t,e),r=o?.filter(({hammers:e})=>e>0);return r?.forEach(e=>{let{hammers:t,rawName:n,requiredAmount:l}=e,o=Math.min(s?.anvilSpeed*t/l,s?.anvilCapacity);a?.[n]?a[n]+=o:a[n]=o}),a},{})},931,781967,6002,620636,809191,e=>{"use strict";e.s(["getAfkGain",()=>eN,"getAllSkillsExp",()=>ek,"getCashMulti",()=>eE,"getCharacters",()=>eb,"getClassExpMulti",()=>eT,"getDropRate",()=>ew,"getPlayerConstructionExpPerHour",()=>eG,"getPlayerConstructionSpeed",()=>eF,"getPlayerFoodBonus",()=>eL,"getPlayerSpeedBonus",()=>eI,"getRespawnRate",()=>eC,"getSkillExpMulti",()=>ey,"initializeCharacter",()=>eS],931);var t=e.i(82748),a=e.i(210270),n=e.i(971176),l=e.i(523285),s=e.i(781357),o=e.i(173024),r=e.i(618332),i=e.i(685849),u=e.i(805861),c=e.i(172833),m=e.i(276924),d=e.i(109304),p=e.i(65057),g=e.i(733884),h=e.i(372110),f=e.i(433568),v=e.i(942144),B=e.i(435327),_=e.i(10051),M=e.i(775003),b=e.i(712738);e.s(["getChargeWithSyphon",()=>A,"getClosestWorshiper",()=>E,"getPlayerWorship",()=>w,"getSoulsReward",()=>T,"getTotalizerBonuses",()=>C,"getTotems",()=>x],781967);var S=e.i(608580),y=e.i(949500),k=e.i(39188);let x=e=>{let a=(0,S.tryToParse)(e?.TotemInfo)||e?.TotemInfo,n=t.randomList?.[10]?.split(" "),l=[26,63,30,107,155,208,259];return n?.map((e,n)=>{let s=a?.[0]?.[n]??0,o=0===s?0:Math.pow((5+s)/10,2.6),r=Math.floor(15*Math.pow(n+1,2)*Math.pow(o,.9))||0,i=t.mapNames?.[l?.[n]];return{...t.totems?.[n],name:e,maxWave:s,waveMulti:o,expReward:r,map:i}})},C=e=>{let t=(0,k.isSuperbitUnlocked)(e,"MSA_Totalizer"),a=Math.floor(e?.towers?.totalWaves/10);return{damage:{name:"DMG",value:t&&t?.bonus||0},sailing:{name:"SPD",value:t&&(0,k.isSuperbitUnlocked)(e,"MSA_Sailing")?.bonus||0},classExp:{name:"Class XP",value:t&&(0,k.isSuperbitUnlocked)(e,"MSA_Class_EXP")?.bonus||0},cookingSpeed:{name:"Meal Spd",value:t&&(0,k.isSuperbitUnlocked)(e,"MSA_Mealing")?.bonus||0},bit:{name:"Bit",value:t&&(0,k.isSuperbitUnlocked)(e,"MSA_Big_Bits")?.bonus||0},skillExp:{name:"Skill XP",value:t&&(0,k.isSuperbitUnlocked)(e,"MSA_Skill_EXP")?.bonus||0},farmingExp:{name:"Farming XP",value:t&&(0,y.isJadeBonusUnlocked)(e,"MSA_Expander_I")?a:0},jadeCoin:{name:"Jade Coin",value:t&&(0,y.isJadeBonusUnlocked)(e,"MSA_Expander_II")?a:0},essence:{name:"Essence",value:t&&(0,y.isJadeBonusUnlocked)(e,"MSA_Expander_III")?a:0},spelunkingPow:{name:"Spelunking Pow",value:t&&(0,k.isSuperbitUnlocked)(e,"MSA_Spelunking")?.bonus||0}}},T=({waveMulti:e,minEfficiency:t,efficiency:a,foodEffect:n})=>Math.floor(5*(1+(a>=t?Math.floor(100*Math.pow(a/(10*t),.25)):0)/100)*e*(1+n/100)),w=(e,t,a)=>{let n,l,s,m,d,p,g,h,f,v,B,_,M,b=(n=o.mainStatMap?.[e?.class],l=(0,r.getCardBonusByEffect)(t?.cards,"Max_Charge"),s=(0,u.getPostOfficeBonus)(e?.postOffice,"Crate_of_the_Creator",1),m=(0,o.getTalentBonusIfActive)(e?.activeBuffs,"CHARGE_SYPHON","y"),d=(0,i.getStampsBonusByEffect)(t,"Max_Charge",e),p=(0,c.getBubbleBonus)(t,"GOSPEL_LEADER",!1,"wisdom"===n),g=(0,c.getActiveBubbleBonus)(e?.equippedBubbles,"CALL_ME_POPE",t),h=e?.tools?.[5]?.rawName!=="Blank"?e?.tools?.[5]?.lvReqToCraft:0,Math.floor(Math.max(50,l+s+(m+(d+p*Math.floor(e?.skillsInfo?.worship?.level/10))+Math.round(h)*Math.max(g,1))))),y=(f=e?.tools?.[5]?.rawName!=="Blank"?e?.tools?.[5]?.Speed:0,v=(0,r.getCardBonusByEffect)(t?.cards,"Charge_Rate"),B=(0,i.getStampsBonusByEffect)(t,"Charge_Rate_per_Hour",e),_=(0,o.getTalentBonus)(e?.flatTalents,"NEARBY_OUTLET"),M=(0,c.getActiveBubbleBonus)(e?.equippedBubbles,"CALL_ME_POPE",t),f<3?6/Math.max(5.7+Math.pow(4-f,2.2)-(.9*Math.pow(e?.skillsInfo?.worship?.level,.5)/(Math.pow(e?.skillsInfo?.worship?.level,.5)+250)+.6*e?.skillsInfo?.worship?.level/(e?.skillsInfo?.worship?.level+40)),.57)*Math.max(M,1)*(1+(v+B)/100)*Math.max(_,1):6/Math.max(5.7-(.2*Math.pow(f,1.3)+(.9*Math.pow(e?.skillsInfo?.worship?.level,.5)/(Math.pow(e?.skillsInfo?.worship?.level,.5)+250)+.6*e?.skillsInfo?.worship?.level/(e?.skillsInfo?.worship?.level+40))),.57)*Math.max(M,1)*(1+(v+B)/100)*Math.max(_,1)),k=new Date().getTime()-e.afkTime,x=Math.min(parseInt(a)+k/1e3/3600*y,b);return{maxCharge:(0,S.round)(b),chargeRate:(0,S.round)(y),currentCharge:(0,S.round)(x)}},E=e=>e?.reduce((e,t)=>{let a=(t?.worship?.maxCharge-t?.worship?.currentCharge)/t?.worship?.chargeRate*36e5;return 0!==a&&a<e?.timeLeft?{character:t?.name,timeLeft:a}:e},{character:null,timeLeft:1/0}),A=e=>{let t=e?.reduce((e,{worship:t})=>e+(t?.currentCharge||0),0),a=e?.reduce((e,{worship:t})=>e+(t?.chargeRate||0),0),n=(0,o.getHighestTalentByClass)(e,o.CLASSES.Wizard,"CHARGE_SYPHON","y")||0,l=(0,o.getCharacterByHighestTalent)(e,o.CLASSES.Wizard,"CHARGE_SYPHON","y");return{bestWizard:l,totalCharge:t,bestChargeSyphon:n,totalChargeRate:a,timeToOverCharge:new Date().getTime()+((l?.worship?.maxCharge||0)+n-t)/a*36e5}},O=e=>Object.keys(e).reduce((t,a)=>{let[n,l]=a.split(/([0-9]+)/);return a.includes("Fishpaste")&&(n="Fishpaste97"),{...t,[n]:{...t?.[n]||{},[l]:e[a]}}},{}),P={Scripticus:{world:"Blunder_Hills",index:0},Glumlee:{world:"Blunder_Hills",index:1},Krunk:{world:"Blunder_Hills",index:2},Mutton:{world:"Blunder_Hills",index:3},Woodsman:{world:"Blunder_Hills",index:4},Hamish:{world:"Blunder_Hills",index:5},Toadstall:{world:"Blunder_Hills",index:5},Picnic_Stowaway:{world:"Blunder_Hills",index:6},Promotheus:{world:"Blunder_Hills",index:6},Typhoon:{world:"Blunder_Hills",index:7},Sprout:{world:"Blunder_Hills",index:8},Dazey:{world:"Blunder_Hills",index:9},Telescope:{world:"Blunder_Hills",index:10},Stiltzcho:{world:"Blunder_Hills",index:11},Funguy:{world:"Blunder_Hills",index:12},Tiki_Chief:{world:"Blunder_Hills",index:13},Dog_Bone:{world:"Blunder_Hills",index:14},Papua_Piggea:{world:"Blunder_Hills",index:15},TP_Pete:{world:"Blunder_Hills",index:16},Meel:{world:"Blunder_Hills",index:17},Town_Marble:{world:""},Mr_Pigibank:{world:""},Secretkeeper:{world:""},Bushlyte:{world:""},Rocklyte:{world:""},Cowbo_Jones:{world:"Yum_Yum_Desert",index:0},Fishpaste97:{world:"Yum_Yum_Desert",index:1},Scubidew:{world:"Yum_Yum_Desert",index:2},Whattso:{world:"Yum_Yum_Desert",index:3},Bandit_Bob:{world:"Yum_Yum_Desert",index:4},Carpetiem:{world:"Yum_Yum_Desert",index:5},Centurion:{world:"Yum_Yum_Desert",index:6},Goldric:{world:"Yum_Yum_Desert",index:7},Snake_Jar:{world:"Yum_Yum_Desert",index:8},Speccius:{world:"Yum_Yum_Desert",index:9},XxX_Cattleprod_XxX:{world:"Yum_Yum_Desert",index:10},Loominadi:{world:"Yum_Yum_Desert",index:11},Wellington:{world:"Yum_Yum_Desert",index:12},Djonnut:{world:"Yum_Yum_Desert",index:13},Walupiggy:{world:"Yum_Yum_Desert",index:14},Gangster_Gus:{world:"Yum_Yum_Desert",index:15},Omar_Da_Ogar:{world:"Yum_Yum_Desert",index:16},Builder_Bird:{world:""},Postboy_Pablob:{world:""},Desert_Davey:{world:""},Giftmas_Blobulyte:{world:""},Loveulyte:{world:""},Constructor_Crow:{world:""},Iceland_Irwin:{world:""},Egggulyte:{world:""},Hoggindaz:{world:"Frostbite_Tundra",index:0},Worldo:{world:"Frostbite_Tundra",index:0},Lord_of_the_Hunt:{world:"Frostbite_Tundra",index:1},Lonely_Hunter:{world:"Frostbite_Tundra",index:2},Snouts:{world:"Frostbite_Tundra",index:3},Shuvelle:{world:"Frostbite_Tundra",index:4},Yondergreen:{world:"Frostbite_Tundra",index:5},Crystalswine:{world:"Frostbite_Tundra",index:6},Bill_Brr:{world:"Frostbite_Tundra",index:7},Bellows:{world:"Frostbite_Tundra",index:8},Cactolyte:{world:""},Coastiolyte:{world:""},Gobo:{world:"Hyperion_Nebula",index:0},Oinkin:{world:"Hyperion_Nebula",index:1},Eliteus:{world:"Hyperion_Nebula",index:2},Capital_P:{world:"Hyperion_Nebula",index:3},Blobbo:{world:"Hyperion_Nebula",index:4},Royal_Worm:{world:"Hyperion_Nebula",index:5},Monolith:{world:"Hyperion_Nebula",index:6},Rift_Ripper:{world:"Hyperion_Nebula",index:7},Muhmuguh:{world:"Smolderin'_Plateau",index:1},Slargon:{world:"Smolderin'_Plateau",index:2},Pirate_Porkchop:{world:"Smolderin'_Plateau",index:3},Poigu:{world:"Smolderin'_Plateau",index:4},Tired_Mole:{world:"Smolderin'_Plateau",index:5},Lafu_Shi:{world:"Spirited_Valley",index:1},Hoov:{world:"Spirited_Valley",index:2},Masterius:{world:"Spirited_Valley",index:4},Woodlin_Elder:{world:"Spirited_Valley",index:5},Tribal_Shaman:{world:"Spirited_Valley",index:6},Legumulyte:{world:"Spirited_Valley",index:7},Sussy_Gene:{world:"Spirited_Valley",index:8},Potti:{world:"Spirited_Valley",index:9},Sad_Urie:{world:"Shimmerfin_Deep",index:0},Snootie:{world:"Shimmerfin_Deep",index:1},Bloo_Radley:{world:"Shimmerfin_Deep",index:2},Toobus_Goobus:{world:"Shimmerfin_Deep",index:3}};e.s(["getPlayerQuests",0,O,"getQuests",0,e=>{let a=Object.keys(t.quests),n=a?.reduce((a,n)=>{let l=(0,S.cloneObject)(t.quests[n]),s=P?.[n]?.world,o=P?.[n]?.index;if(!s)return a;for(let t=0;t<e?.length;t++){let a=(0,S.cloneObject)(e?.[t]?.quests?.[n])||{},s=Object.keys(a),o=!1;for(let e=0;e<s?.length;e++){let n=s[e],r=a[n];l[n]&&(l?.[n-1]&&(!o&&(0===r||-1===r)||1===r)&&(l[n-1].progress=l[n-1]?.progress?.filter(({charIndex:e})=>e!==t)),1===r?(l[n].completed=[...l[n]?.completed||[],{charIndex:t,status:r}],l[n].progress=[...l[n]?.progress||[],{charIndex:t,status:r}]):o||0!==r&&-1!==r||(l[n].progress=[...l[n]?.progress||[],{charIndex:t,status:r}],o=!0))}}return{...a,[s]:[...a?.[s]||[],{name:n,index:o,npcQuests:Object.values(l)}]}},{});for(let e in n){let t=n[e];t?.sort((e,t)=>e?.index-t?.index)}return n},"isWorldFinished",0,(e,t,a)=>{let n={1:"Builder_Bird",2:"Constructor_Crow",3:"Carpenter_Cardinal",4:"Muhmuguh",5:"Lafu_Shi",6:t?.accountOptions?.[408]};return e?.some(({npcDialog:e})=>!isNaN(n?.[a])&&parseFloat(n?.[a])>0||e?.[n?.[a]])}],6002);var L=e.i(262887),I=e.i(161866),N=e.i(279522),R=e.i(24174),D=e.i(198659),F=e.i(267350),G=e.i(470242),j=e.i(764964),W=e.i(398241),U=e.i(264046);e.s(["getOwl",()=>H,"getOwlBonus",()=>J],620636);var q=e.i(476219),V=e.i(626071);let H=(e,t)=>Y(t),$=["Multiplies_all_Feather_generation_by_10x._Multiplicative,_so_extra_powerful!","Boosts_all_of_Orion's_Bonuses_by_double_their_base_amount.","All_upgrades_cost_1%_less_feathers_per_LV_of_Feather_Generation.","Instead_of_double,_all_of_Orion's_Bonuses_are_now_triple.","The_Feather_Cheapener_upgrades_now_give_+2_and_+4_Feathers/sec_each_LV,_respectively.","Forget_triple,_Orion's_Bonuses_are_now_quadruple!","The_upgrade_Feather_Restart_now_gives_a_5x_feather_bonus_instead_of_the_previous_3x.","Quadruple?_Pfft_more_like_Noobruple,_Orion's_Bonuses_are_now_Quintuple_at_big,_that's_5x!","The_cost_of_Feather_Generation_upgrade_now_goes_up_25%_slower.","Orion's_bonuses_are_now_{x_higher_than_they_were_at_first."],Y=e=>{let a=e?.accountOptions?.[253],n=e?.accountOptions?.[263],l=t.owlData.map((a,l)=>{let s=1/(1+10*e?.accountOptions?.[257]/100)*(1/(1+20*e?.accountOptions?.[261]/100))*(1/(1+K(e,2)*e?.accountOptions?.[254]/100))*a?.x1,o=0===l?s*e?.accountOptions?.[254+l]*Math.pow(Math.max(1.05,a?.x2-.025*K(e,8)),e?.accountOptions?.[254+l]):s*Math.pow(a?.x2,e?.accountOptions?.[254+l]),r=a?.desc,i=Math.pow(Math.round(3+2*(K(e,6)||0)),(e.accountOptions[258]||0)+1),u=e.accountOptions[254+l]||0,c=parseInt("1 0 5 10 0 5 1 20 0".split(" ")[l])||0,m=Math.floor(1e4*(1-1/(1+10*u/100)))/100;if(r=r.replace("{",""+i).replace("}",""+c*u).replace("@",""+m),0===l&&1===K(e,2)){let t=e.accountOptions[254]||0;r+=", and lowers all costs by "+Math.floor(1e4*(1-1/(1+K(e,2)*t/100)))/100+"%"}let d=e?.accountOptions?.[254+l],p=t.owlData?.[l+1]?.x3;return{...a,desc:r,cost:o,level:d,nextLvReq:p,unlocked:n>a?.x3}}),s=l?.findIndex(({level:e,x3:t})=>n<t),o=t.owlData?.[s]?.x3||0,r=(0,q.getUpgradeVaultBonus)(e?.upgradeVault?.upgrades,21),i=(1+9*K(e,0))*(1+r/100)*(1+(0,V.getGambitBonus)(e,8)/100)*(e?.accountOptions?.[254]+(5*e?.accountOptions?.[259]+(2*K(e,4)*e?.accountOptions?.[257]+4*K(e,4)*e?.accountOptions?.[261])))*(1+5*e?.accountOptions?.[256]/100)*Math.pow(3+2*K(e,6),e?.accountOptions?.[258])*(1+e?.accountOptions?.[264]*e?.accountOptions?.[260]/100)+e?.accountOptions?.[264],u=100*K(e,1)+(100*K(e,3)+(100*K(e,5)+(100*K(e,7)+(100*Math.min(1,K(e,9))+50*Math.max(0,K(e,9)-1)))));return{upgrades:l,bonuses:[{name:"Feather/sec",bonus:i},{name:"Class XP",bonus:5*(1+u/100)*Math.max(0,Math.ceil(e?.accountOptions?.[255]/6)),percentage:!0},{name:"Base DMG",bonus:10*(1+u/100)*Math.max(0,Math.ceil((e?.accountOptions?.[255]-1)/6))},{name:"Total DMG",bonus:2*(1+u/100)*Math.max(0,Math.ceil((e?.accountOptions?.[255]-2)/6)),percentage:!0},{name:"Skill XP",bonus:4*(1+u/100)*Math.max(0,Math.ceil((e?.accountOptions?.[255]-3)/6)),percentage:!0},{name:"Drop Rate",bonus:(1+u/100)*Math.max(0,Math.ceil((e?.accountOptions?.[255]-4)/6)),percentage:!0},{name:"All Stats",bonus:2*(1+u/100)*Math.max(0,Math.ceil((e?.accountOptions?.[255]-5)/6))},{name:"Shiny Feather",bonus:e?.accountOptions?.[264]}],feathers:a,progress:n,nextLvReq:o,megaFeathers:$.map((t,a)=>({description:t,unlocked:a+1<=e?.accountOptions?.[262],...9===a?{amount:e?.accountOptions?.[262]-10,totalBonus:1+u/100}:{}})),featherRate:i,restartMulti:Math.pow(3+2*K(e,6),e?.accountOptions?.[258]+1)}},K=(e,t)=>e?.accountOptions?.[262]>t?9===t?e?.accountOptions?.[262]-9:1:0,J=(e,t)=>e?.find(({name:e})=>e===t)?.bonus;var X=e.i(420497),z=e.i(441132);e.s(["getKangaroo",()=>Z,"getKangarooBonus",()=>er],809191);var Q=e.i(11138);let Z=(e,t)=>ea(t),ee=["Unlocks_the_first_3_upgrades_in_the_Tar_Pit,_visit_through_top_left_corner","Boosts_all_of_Poppy's_Bonuses_by_1.5x_their_base_amount","Adds_two_more_Reset_Spirals_to_upgrade,_and_gives_+5_Pts_when_Fisheroo_Resetting","Boosts_all_of_Poppy's_Bonuses_by_2x_their_base_amount.","Unlocks_another_3_upgrades_in_the_Tar_Pit,_and_boosts_Tartar_Fish_gain_by_3x","The_Fishing_Buddy_upgrade_now_gives_+50%_Bluefin_caught_and_+50%_Shiny_Speed_per_Lv_past_Lv.5!","Boosts_all_of_Poppy's_Bonuses_by_2.5x_their_base_amount","Unlocks_the_final_2_upgrades_in_the_Tar_Pit,_and_boosts_Tartar_Fish_gain_by_another_3x","Boosts_all_of_Poppy's_Bonuses_by_3x_their_base_amount","Shiny_fishing_is_1%_faster_per_upgrade_LV_of_the_Tasty_Fishbait_upgrade","All_upgrades,_including_Tar_Pit_upgrades,_are_5%_cheaper_per_LV_of_King_Worm_upgrade","Poppy's_bonuses_are_now_{x_higher_than_they_were_at_first"],et=["{x_bluefin_fish_caught","{x_shiny_fishing_speed_and_luck","All_upgrades_are_{x_cheaper","Other_Reset_bonuses_are_{x_higher","{x_Tartar_fish_caught"],ea=e=>{let a=e?.accountOptions?.[267],n=e?.accountOptions?.[280],l=t.poppyBonuses.map((a,l)=>{let s=(0===l?1+e?.accountOptions?.[268]:1)*(1/(1+10*e?.accountOptions?.[272]/100))*(1/(1+15*e?.accountOptions?.[300]/100))*(1/(1+5*el(e,10)*e?.accountOptions?.[304]/100))*(1/Math.max(1,eo(e,2)))*a?.x1*Math.pow(a?.x2,e?.accountOptions?.[268+l]),o=e?.accountOptions?.[268+l],r=t.poppyBonuses?.[l+1]?.x3,i=en(e,o,a?.desc,0,l,t.poppyBonuses);return{...a,cost:s,level:o,nextLvReq:r,desc:i,unlocked:n>a?.x3||0===l}}),s=l?.findIndex(({level:e,x3:t})=>n<t),o=t.poppyBonuses?.[s]?.x3,r=(0,q.getUpgradeVaultBonus)(e?.upgradeVault?.upgrades,45),i=(1+Math.min(5,e?.accountOptions?.[275]))*Math.max(1,1+.5*(e?.accountOptions?.[275]-5)*el(e,5))*eo(e,0)*(1+r/100)*(1+(0,V.getGambitBonus)(e,8)/100)*(10*e?.accountOptions?.[268]+(100*e?.accountOptions?.[297]+1e3*e?.accountOptions?.[304])+(50*e?.accountOptions?.[273]+200*e?.accountOptions?.[278]))*es(e,-1)*(1+8*e?.accountOptions?.[299]/100),u=60/(30/(1+5*e?.accountOptions?.[269]/100))*i,c=Math.min(8,Math.round(3*el(e,0)+(3*el(e,4)+2*el(e,7)))),m=e?.accountOptions?.[296],d=1/(1+.05*e?.accountOptions?.[301])*1800*(1/Math.max(1,eo(e,4)))*(1/(1+2*el(e,4)))*(1/(1+2*el(e,7))),p=t.poppyTarBonuses.map((a,n)=>{let l=1/(1+5*el(e,10)*e?.accountOptions?.[304]/100),s=e?.accountOptions?.[297+n]+l*a?.x1*Math.pow(a?.x2,e?.accountOptions?.[297+n]),o=e?.accountOptions?.[297+n],r=en(e,o,a?.desc,1,n,t.poppyTarBonuses);return{...a,cost:s,level:o,desc:r,unlocked:n<c}}),g=.05*(eo(e,1)*e?.accountOptions?.[270]*(1+el(e,9)*e?.accountOptions?.[268]/100)*Math.max(1,1+.5*(e?.accountOptions?.[275]-5)*el(e,5)))*1200,h=7200/(1+4*e?.accountOptions?.[276]/100),f=100*Math.max(0,g/h),v=100*Math.max(0,e?.accountOptions?.[289]/h),B=(0,Q.getLegendTalentBonus)(e,26),_=50*el(e,1)+(50*el(e,3)+(50*el(e,6)+(50*el(e,8)+(50*Math.min(1,el(e,11))+25*Math.max(0,el(e,11)-1))))),M=[{name:"Fish/minute",bonus:u},{name:"Fishing Eff",bonus:3*(1+_/100)*Math.max(0,Math.ceil(e?.accountOptions?.[271]/7))*(1+B/100),percentage:!0},{name:"Defence",bonus:3*(1+_/100)*Math.max(0,Math.ceil((e?.accountOptions?.[271]-1)/7))*(1+B/100),percentage:!1},{name:"Fishing XP",bonus:5*(1+_/100)*Math.max(0,Math.ceil((e?.accountOptions?.[271]-2)/7))*(1+B/100),percentage:!0},{name:"Accuracy",bonus:2*(1+_/100)*Math.max(0,Math.ceil((e?.accountOptions?.[271]-3)/7))*(1+B/100),percentage:!0},{name:"Total DMG",bonus:2*(1+_/100)*Math.max(0,Math.ceil((e?.accountOptions?.[271]-4)/7))*(1+B/100),percentage:!0},{name:"AFK Gains",bonus:.5*(1+_/100)*Math.max(0,Math.ceil((e?.accountOptions?.[271]-5)/7))*(1+B/100),percentage:!0},{name:"Cash",bonus:3*(1+_/100)*Math.max(0,Math.ceil((e?.accountOptions?.[271]-6)/7))*(1+B/100),percentage:!0}],b=ee.map((t,a)=>({description:t,unlocked:a+1<=e?.accountOptions?.[279],...11===a?{amount:e?.accountOptions?.[279]-12,totalBonus:1+_/100}:{}})),y=et.map((t,a)=>({desc:t.replace("{",Math.round(100*eo(e,a))/100),level:e?.accountOptions?.[291+a]})),k=es(e,-1);return{resetBonuses:y,upgrades:l,bonuses:M,fish:a,progress:n,nextLvReq:o,megaFish:b,fishRate:u,tarFishRate:d,tarFishOwned:m,totalMulti:k=1e3>es(e,-1)?(0,S.notateNumber)(k,"MultiplierInfo"):1e7>es(e,-1)?(0,S.commaNotation)(k):(0,S.notateNumber)(k,"MultiplierInfo"),allMultipliers:[0,1,2,3,4,5].map(t=>{let a=e?.accountOptions?.[281+t],n=es(e,t);return{multi:(10>n?(0,S.notateNumber)(n,"MultiplierInfo"):100>n?""+Math.floor(10*n)/10:""+Math.floor(n)).replace(".00",""),amount:1e4>a?""+Math.round(a):""+(0,S.notateNumber)(a,"Big")}}),tarUpgrades:p,shinyProgress:v,shinyRate:g,shinyRatePercent:f}},en=(e,t,a,n,l,s)=>{let o=Math.round(268+29*n+l),r=a;return(r=(r=(r=r.replace("{",""+(0,S.commaNotation)(e?.accountOptions?.[o]*s[l]?.x6))).replace("]",""+Math.round(100+t*s[l]?.x6)/100)).replace("~",""+(0,S.notateNumber)(100*(1-1/(1+t*s[l]?.x6/100)),"Small"))).replace("?",""+(0,S.notateNumber)(s[l]?.x6*(t/(40+t)),"Small"))},el=(e,t)=>e?.accountOptions?.[279]>t?11===t?e?.accountOptions?.[279]-11:1:0,es=(e,t)=>{let a=1;return t<0?a*=es(e,0)*es(e,1)*es(e,2)*es(e,3)*es(e,4)*es(e,5):(0===t&&(a=30),1===t&&(a=50),2===t&&(a=100),3===t&&(a=150),4===t&&(a=250),5===t&&(a=500),1+a*Math.log(Math.max(1,e?.accountOptions?.[Math.round(281+t)]))/100)},eo=(e,t)=>(0===t?1+.4*e?.accountOptions?.[291]:1===t?1+.3*e?.accountOptions?.[292]:2===t?1+.15*e?.accountOptions?.[293]:3===t?1+.04*e?.accountOptions?.[294]:1+.2*e?.accountOptions?.[295])*(3!==t&&0<e?.accountOptions?.[291+t]?1+.04*e?.accountOptions?.[294]:1),er=(e,t)=>e?.find(({name:e})=>e===t)?.bonus;var ei=e.i(694186),eu=e.i(521637),ec=e.i(695906),em=e.i(734002),ed=e.i(723748),ep=e.i(384308),eg=e.i(669203),eh=e.i(787031),ef=e.i(304782),ev=e.i(801902);let{tryToParse:eB,createIndexedArray:e_,createArrayOfArrays:eM}=e.r(608580),eb=(e,t)=>(t||[0,1,2,3,4,5,6,7,8])?.map((t,a)=>{let n=Object.entries(e)?.reduce((e,[t,n])=>{if(RegExp(`_${a}`,"g").test(t)){let a=eB(n),l=t,s=[];switch(!0){case t.includes("EquipOrder"):l="EquipmentOrder",n=eM(n);break;case t.includes("EquipQTY"):l="EquipmentQuantity",n=eM(n);break;case t.includes("AnvilPA_"):l="AnvilPA",a=eM(n);break;case t.includes("EMm0"):{l="EquipmentMap",s=e?.[l];let t=e_(a);s?s.splice(0,0,t):s=[t];break}case t.includes("IMm_"):l="InventoryMap",a=eB(n);break;case t.includes("EMm1"):{l="EquipmentMap",s=e?.[l];let t=e_(a);s?s.splice(1,0,t):s=[t];break}case t.includes("BuffsActive"):l="BuffsActive",s=eM(a);break;case t.includes("ItemQTY"):l="ItemQuantity";break;case t.includes("PVStatList"):l="PersonalValuesMap",a={...e?.[l]||{},StatList:eB(n)};break;case t.includes("PVtStarSign"):l="PersonalValuesMap",a={...e?.[l]||{},StarSign:eB(n)};break;case t.includes("PVFishingToolkit"):l="PersonalValuesMap",a={...e?.[l]||{},FishingToolkit:eB(n)};break;case t.includes("ObolEqO0"):l="ObolEquippedOrder";break;case t.includes("ObolEqMAP"):l="ObolEquippedMap";break;case t.includes("SL_"):l="SkillLevels";break;case t.includes("SLpre_"):l="SkillPreset";break;case t.includes("SM_"):l="SkillLevelsMAX";break;case t.includes("KLA_"):l="KillsLeft2Advance";break;case t.includes("AtkCD_"):l="AttackCooldowns";break;case t.includes("POu_"):l="PostOfficeInfo";break;case t.includes("PTimeAway"):l="PlayerAwayTime",a*=1e3;break;default:l=t?.split("_")?.[0]}return{...e,[l]:s?.length?s:a}}return{...e}},{});return{name:t,playerId:a,...n}}),eS=(e,i,m,d)=>{let g,h={};if(h.playerId=e.playerId,h.name=e.name,!e?.CharacterClass)return h;h.classIndex=e?.CharacterClass,h.class=t.classes?.[e?.CharacterClass],h.afkTime=(0,a.calculateAfkTime)(e?.PlayerAwayTime,m?.timeAway?.GlobalTime),h.afkTarget=t.monsters?.[e?.AFKtarget]?.Name,h.afkType=t.monsters?.[e?.AFKtarget]?.AFKtype,h.targetMonster=e?.AFKtarget;let f=e?.CurrentMap;h.mapIndex=f,h.currentMap=t.mapNames?.[f],h.money=parseFloat(e?.Money),h.cooldowns=e?.AttackCooldowns;let[B,_]=e?.PersonalValuesMap?.FishingToolkit;h.fishingKit={bait:t.fishingKits?.fishingBaits?.[B],line:t.fishingKits?.fishingLines?.[_]};let M={0:"strength",1:"agility",2:"wisdom",3:"luck",4:"level"};h.stats=e?.PersonalValuesMap?.StatList?.reduce((e,t,a)=>M[a]?{...e,[M[a]]:t}:e,{}),h.level=e?.Lv0?.[0]||0;let S=Object.keys(e?.InvBagsUsed);h.invBagsUsed=Object.entries(t.invBags).map(([e,t])=>{let a=e.match(/[0-9]+/g)[0];return(a=100>parseInt(a)?a-1:a,S.includes(String(a)))?{...t,rawName:e,acquired:!0}:{...t,rawName:e}});let y=e?.MaxCarryCap||[];h.maxCarryCap=y,h.carryCapBags=Object.keys(y).sort(function(e,t){return e.localeCompare(t)}).map(e=>{if("Quests"!==e&&"fillerz"!==e&&"Statues"!==e)return t.carryBags?.[e]?.[y[e]]||{rawName:"MaxCapBagNone",displayName:e,Class:e,capacity:y[e],Type:"CARRY"}}).filter(e=>e),h.statues=e?.StatueLevels;let k={0:"armor",1:"tools",2:"food"},x=e?.EquipmentOrder?.reduce((e,t,a)=>({...e,[k?.[a]]:t}),{}),C=e.EquipmentQuantity?.reduce((e,t,a)=>({...e,[k?.[a]]:t}),{}),T=e.EquipmentMap?.[0];h.equipment=(0,n.createItemsWithUpgrades)(x.armor,T,h.name);let E=e.EquipmentMap?.[1];h.tools=(0,n.createItemsWithUpgrades)(x.tools,E,h.name),h.food=Array.from(Object.values(x.food)).reduce((e,a,n)=>a?[...e,{name:t.items?.[a]?.displayName,rawName:a,owner:h.name,amount:parseInt(C.food[n]||C.food[n]),...t.items?.[a]||{}}]:e,[]);let A=e.InventoryOrder,P=e.ItemQuantity,I=e.InventoryMap;h.inventory=(0,l.getInventoryList)(A,P,h.name,I),h.inventorySlots=A?.reduce((e,t)=>e+ +("LockedInvSpace"!==t),0),h.starSigns=(e?.PersonalValuesMap?.StarSign||"").split(",").map(e=>e&&"_"!==e?t.starSignByIndexMap?.[e]:null).filter(e=>e),h.equippedBubbles=m?.equippedBubbles?.[e?.playerId];let N=e?.Exp0,R=e?.ExpReq0;h.skillsInfo=(e?.Lv0||[]).reduce((e,t,a)=>a<20?{...e,[s.skillIndexMap[a]?.name]:{level:-1!==t?t:0,exp:parseFloat(N[a]),expReq:parseFloat(R[a]),icon:s.skillIndexMap[a]?.icon,index:a}}:e,{}),h.skillsInfoArray=Object.entries(h.skillsInfo||{}).reduce((e,[t,a])=>[...e,{...a,skillName:t}],[]).sort((e,t)=>e.index-t.index);let[,D,G]=e?.PlayerStuff||[];h.selectedTalentPreset=D;let j=(0,Q.getSuperTalentLeftToSpend)(h.level,h.playerId,D,m);h.superTalentLeftToSpend=j;let W=e?.SkillLevels,U=e?.SkillPreset,q=e?.SkillLevelsMAX,{talents:V,flatTalents:H,starTalents:$,flatStarTalents:Y}=ex(h?.class,W,q);U&&(h.talentPreset=ex(h?.class,U,q)),h.talents=V,h.flatTalents=H,h.starTalents=$,h.flatStarTalents=Y;let K=e?.BuffsActive;h.activeBuffs=(0,o.getActiveBuffs)(K,[...H||[],...Y||[]]),h.activePrayers=e?.Prayers?.filter(e=>-1!==e).map(e=>m?.prayers?.[e])?.filter(e=>e),h.postOffice=(0,u.getPlayerPostOffice)(e?.PostOfficeInfo,m),h.selectedCardPreset=G,h.cardPresets=e?.CardPreset?.map(e=>(0,r.getEquippedCardsData)(e,m)),h.cards=(0,r.getPlayerCards)(e,m);let J=m?.lab?.playersChips?.[e?.playerId]?.find(e=>20===e.index),X=m?.lab?.playersChips?.[e?.playerId]?.find(e=>21===e.index);h.cards.equippedCards=h?.cards?.equippedCards?.map((e,t)=>0===t&&J||7===t&&X?{...e,chipBoost:2}:e);let z=(0,b.getObols)(e,!1);h.obols={...z,stats:(0,b.mergeCharacterAndAccountObols)(z,m.obols)},h.worship=w(h,m,e?.PlayerStuff?.[0]),h.quests=O(e?.QuestComplete),h.crystalSpawnChance=eP(h,m,d),h.nonConsumeChance=eD(h,m);let Z=e?.KillsLeft2Advance;h.kills=Z?.reduce((e,a,n)=>[...e,parseFloat(t.mapPortals?.[n]?.[0])-parseFloat(a?.[0])],[]);let ee=s.skillsMaps.mining?.[f],et=s.skillsMaps.fishing?.[f],ea=0,en;ee?(ea=h.skillsInfo?.mining?.level,en="ClassIconsM"):et?(ea=h.skillsInfo?.fishing?.level,en="ClassIcons45"):(ea=(parseFloat(t.mapPortals?.[f]?.[0])-parseFloat(Z?.[f]))??0,en="ClassIconsF"),h.nextPortal={goal:t.mapPortals?.[f]?.[0]??0,current:ea,currentIcon:en},h.zow=eO(Z,[1e5]),h.chow=eO(Z,[1e6,1e8]),h.wow=eO(Z,[1e9]);let el=(0,c.getActiveBubbleBonus)(h.equippedBubbles,"BIG_P",m),es=h.skillsInfo?.divinity?.level,eo=m?.divinity?.linkedDeities?.[h.playerId];if(h.linkedDeity=eo,-1!==eo&&(h.deityMinorBonus=(0,F.getMinorDivinityBonus)(h,m)),(0,o.checkCharClass)(h?.class,o.CLASSES.Elemental_Sorcerer)){let a=e?.SkillLevels?.[505]%10,n=t.gods?.[a];if(n&&n?.godIndex!==eo){g=n?.godIndex;let e=t.gods?.[g]?.minorBonusMultiplier;h.secondLinkedDeityIndex=a,h.secondDeityMinorBonus=es/(60+es)*Math.max(1,el)*e}}let er=m?.divinity?.linkedStyles?.[h?.playerId],ei=(0,F.getDivStylePerHour)(er);h.divStyle={...t.divStyles?.[er],index:er,divPerHour:ei},h.isDivinityConnected=m?.divinity?.linkedDeities?.[h?.playerId]===4||(0,L.isGodEnabledBySorcerer)(h,4);let eu=(0,v.getUpdatedFamilyBonus)(h,i),ec=(0,o.getTalentAddedLevels)(V,null,eo,h.secondLinkedDeityIndex,h.deityMinorBonus,h.secondDeityMinorBonus,eu,m,h),em=0;for(;em<3;){let e=Object.assign({},h);e.talents=(0,o.applyTalentAddedLevels)(V,null,ec?.value||0,ec?.superTalentsInfo),eu=(0,v.getUpdatedFamilyBonus)(e,i),ec=(0,o.getTalentAddedLevels)(V,null,eo,h.secondLinkedDeityIndex,h.deityMinorBonus,h.secondDeityMinorBonus,eu,m,h),em++}if(h.addedLevelsBreakdown=ec?.breakdown,h.addedLevels=ec?.value,h.talents=(0,o.applyTalentAddedLevels)(V,null,h.addedLevels,ec?.superTalentsInfo),h.flatTalents=(0,o.applyTalentAddedLevels)(V,H,h.addedLevels,ec?.superTalentsInfo),U){let e=(0,o.getTalentAddedLevels)(h?.talentPreset?.talents,!0,eo,h.secondLinkedDeityIndex,h.deityMinorBonus,h.secondDeityMinorBonus,eu,m,h);h.talentPreset={...h.talentPreset,talents:(0,o.applyTalentAddedLevels)(h?.talentPreset?.talents,null,e?.value,e?.superTalentsInfo,!0),flatTalents:(0,o.applyTalentAddedLevels)(h?.talentPreset?.talents,null,e?.value,e?.superTalentsInfo,!0),addedLevels:e?.value,addedLevelsBreakdown:e?.breakdown}}return h.activeBuffs=h.activeBuffs?.map(({name:e})=>h.flatTalents?.find(({name:t})=>t===e)),h.talentsLoadout=e?.AttackLoadout?.flat()?.filter(e=>"Null"!==e)?.map(e=>h.flatTalents?.find(({skillIndex:t})=>e===t)||h.flatStarTalents?.find(({skillIndex:t})=>e===t)),h.npcDialog=e?.NPCdialogue,h.questComplete=e?.QuestComplete,h.questCompleted=Object.entries(e?.QuestComplete||{})?.reduce((e,[t,a])=>e+ +(1===a),0),h.printerSample=eA(h,m,i),h.anvil=(0,p.getAnvil)(e,h),h},ey=(e,l,s,p,g)=>{let f=o.mainStatMap?.[l?.class],v=ek(l,s,p),B=(0,o.getTalentBonus)(l?.flatTalents,"HAPPY_DUDE"),_=l?.skillsInfo?.fishing?.level,b=l?.skillsInfo?.mining?.level;if("mining"===e){let e,t=(0,c.getBubbleBonus)(p,"REELY_SMART",!1,"strength"===f);e=_>b?2*t:t;let u=(0,o.getTalentBonus)(l?.flatTalents,"TEMPESTUOUS_EMOTIONS"),m=(0,i.getStampsBonusByEffect)(p,"Mining_Exp_Gain"),d=(0,a.isMasteryBonusUnlocked)(p?.rift,p?.totalSkillsLevels?.mining?.rank,0),g=(0,a.isMasteryBonusUnlocked)(p?.rift,p?.totalSkillsLevels?.mining?.rank,2)?(0,r.getCardBonusByEffect)(p?.cards,"Mining_EXP"):(0,r.getCardBonusByEffect)(l?.cards?.equippedCards,"Mining_EXP"),h=(0,N.getArcadeBonus)(p?.arcade?.shop,"Mining_EXP_gain")?.bonus,M=(0,I.getAchievementStatus)(p?.achievements,27),S=(0,n.getStatsFromGear)(l,55,p),y=(0,z.getVoteBonus)(p,13),k=(0,o.getMaestroHand)(l,"mining",s,p,"LEFT_HAND_OF_LEARNING");return{value:Math.max(.1,1+(u+m+g+e+B+h+M+S+25*d+y)/100+(v?.value+k)/100),breakdown:[{name:"All skill exp",value:v?.value/100},{name:"Talent",value:(u+B)/100},{name:"Stamps",value:m/100},{name:"Cards",value:g/100},{name:"Bubble",value:e/100},{name:"Arcade",value:h/100},{name:"Achievement",value:M/100},{name:"Equipment",value:S/100},{name:"Skill Mastery",value:25*d/100},{name:"Vote",value:y/100},{name:"Left Hand",value:k/100}]}}if("chopping"===e){let e=(0,a.isMasteryBonusUnlocked)(p?.rift,p?.totalSkillsLevels?.chopping?.rank,2),t=(0,o.getTalentBonus)(l?.flatTalents,"INNER_PEACE"),n=(0,i.getStampsBonusByEffect)(p,"Choppin_Exp_Gain"),u=(0,c.getBubbleBonus)(p,"NOODUBBLE",!1,"wisdom"===f),m=e?(0,r.getCardBonusByEffect)(p?.cards,"Choppin_EXP"):(0,r.getCardBonusByEffect)(l?.cards?.equippedCards,"Choppin_EXP"),d=(0,o.getMaestroHand)(l,"chopping",s,p,"LEFT_HAND_OF_LEARNING"),g=(0,I.getAchievementStatus)(p?.achievements,4),h=(0,a.isMasteryBonusUnlocked)(p?.rift,p?.totalSkillsLevels?.chopping?.rank,0),_=(0,z.getVoteBonus)(p,9);return{value:1+(t+(n+(u+(m+B+(g+(25*h+_))))))/100+(v?.value+d)/100,breakdown:[{name:"All skill exp",value:v?.value/100},{name:"Talent",value:(t+B)/100},{name:"Stamps",value:n/100},{name:"Cards",value:m/100},{name:"Bubble",value:u/100},{name:"Achievement",value:g/100},{name:"Skill Mastery",value:25*h/100},{name:"Vote",value:_/100},{name:"Left Hand",value:d/100}]}}if("smithing"===e){let e=(0,o.getTalentBonus)(l?.flatTalents,"FOCUSED_SOUL"),t=(0,r.getCardBonusByEffect)(p?.cards,"Smithing_EXP_(Passive)"),n=(0,u.getPostOfficeBonus)(l?.postOffice,"Blacksmith_Box",0),c=(0,i.getStampsBonusByEffect)(p,"SmithExp",l),m=(0,a.isMasteryBonusUnlocked)(p?.rift,p?.totalSkillsLevels?.smithing?.rank,0),d=(0,o.getMaestroHand)(l,"smithing",s,p,"LEFT_HAND_OF_LEARNING");return{value:Math.max(.1,(1+(e+(c+(B+25*m)))/100)*(1+t/100)*(1+n/100)+(v?.value+d)/100),breakdown:[{name:"All skill exp",value:v?.value/100},{name:"Talent",value:(e+B)/100},{name:"Stamps",value:c/100},{name:"Cards",value:t/100},{name:"Post office",value:n/100},{name:"Skill Mastery",value:25*m/100},{name:"Left Hand",value:d/100}]}}if("fishing"===e){let e,t=(0,c.getBubbleBonus)(p,"REELY_SMART",!1,"strength"===f);e=b>_?2*t:t;let u=(0,o.getTalentBonus)(l?.flatTalents,"ALL_FISH_DIET"),m=(0,o.getTalentBonus)(l?.flatTalents,"TEMPESTUOUS_EMOTIONS"),d=(0,i.getStampsBonusByEffect)(p,"Fishing_Exp_Gain"),g=(0,N.getArcadeBonus)(p?.arcade?.shop,"Fishing_EXP_gain")?.bonus,h=(0,I.getAchievementStatus)(p?.achievements,117),M=(0,n.getStatsFromGear)(l,49,p),S=(0,eh.getBribeBonus)(p?.bribes,"Fishermaster"),y=er(p?.kangaroo?.bonuses,"Fishing XP"),k=(0,z.getVoteBonus)(p,8),x=(0,q.getUpgradeVaultBonus)(p?.upgradeVault?.upgrades,30),C=(0,o.getMaestroHand)(l,"fishing",s,p,"LEFT_HAND_OF_LEARNING"),T=(0,a.isMasteryBonusUnlocked)(p?.rift,p?.totalSkillsLevels?.fishing?.rank,0),w=(0,a.isMasteryBonusUnlocked)(p?.rift,p?.totalSkillsLevels?.fishing?.rank,2)?(0,r.getCardBonusByEffect)(p?.cards,"Fishing_EXP"):(0,r.getCardBonusByEffect)(l?.cards?.equippedCards,"Fishing_EXP"),E=l?.fishingKit?.bait?.exp+l?.fishingKit?.line?.exp;return{value:Math.max(.1,1+(E+u+m+e+w+d+B+g+h+M+25*T+25*S+y+k+x)/100+(v?.value+C)/100),breakdown:[{name:"All skill exp",value:v?.value/100},{name:"Fishing kit",value:E/100},{name:"Talent",value:(u+m+B)/100},{name:"Stamps",value:d/100},{name:"Cards",value:w/100},{name:"Bubble",value:e/100},{name:"Arcade",value:g/100},{name:"Achievement",value:h/100},{name:"Equipment",value:M/100},{name:"Skill Mastery",value:25*T/100},{name:"Bribe",value:25*S/100},{name:"Kangaroo",value:y/100},{name:"Vote",value:k/100},{name:"Vault",value:x/100},{name:"Left Hand",value:C/100}]}}if("alchemy"===e){let e=(0,i.getStampsBonusByEffect)(p,"Alchemy_Exp_Gain"),t=(0,u.getPostOfficeBonus)(l?.postOffice,"Potion_Package",1),n=(0,m.getStatueBonus)(p,12,l?.flatTalents),s=(0,o.getTalentBonus)(l?.flatTalents,"BUBBLE_BREAKTHROUGH"),r=(0,o.getTalentBonus)(l?.flatTalents,"SHARING_SOME_SMARTS"),d=(0,a.isMasteryBonusUnlocked)(p?.rift,p?.totalSkillsLevels?.alchemy?.rank,0),g=(0,c.getBubbleBonus)(p,"NOODUBBLE",!1,"wisdom"===f),h=(0,c.getActiveBubbleBonus)(l?.equippedBubbles,"COOKIN_ROADKILL",p),_=(0,q.getUpgradeVaultBonus)(p?.upgradeVault?.upgrades,28);return{value:1+v?.value/100+(p?.alchemy?.p2w?.player?.extraExp+(e+(B+(t+n)))+(s+(r+25*d))+(g+(h+_)))/100,breakdown:[{name:"Talent",value:s/100},{name:"Task",value:10*p?.tasks?.[2]?.[4]?.[4]/100},{name:"Skill mastery",value:25*d/100}]}}else if("catching"===e){let e=(0,o.getTalentBonus)(l?.flatTalents,"FOCUSED_SOUL"),t=(0,o.getTalentBonus)(l?.flatTalents,"BUG_ENTHUSIAST"),n=(0,i.getStampsBonusByEffect)(p,"Catching_Exp_Gain"),u=(0,N.getArcadeBonus)(p?.arcade?.shop,"Catching_EXP_gain")?.bonus,c=(0,I.getAchievementStatus)(p?.achievements,107),m=(0,z.getVoteBonus)(p,10),d=(0,q.getUpgradeVaultBonus)(p?.upgradeVault?.upgrades,29),g=(0,o.getMaestroHand)(l,"catching",s,p,"LEFT_HAND_OF_LEARNING"),h=(0,a.isMasteryBonusUnlocked)(p?.rift,p?.totalSkillsLevels?.catching?.rank,0),f=(0,a.isMasteryBonusUnlocked)(p?.rift,p?.totalSkillsLevels?.catching?.rank,2)?(0,r.getCardBonusByEffect)(p?.cards,"Catching_EXP"):(0,r.getCardBonusByEffect)(l?.cards?.equippedCards,"Catching_EXP");return{value:Math.max(.1,1+(e+t+f+n+B+u+c+25*h+m+d)/100+(v?.value+g)/100),breakdown:[{name:"All skill exp",value:v?.value/100},{name:"Talent",value:(e+t+B)/100},{name:"Stamps",value:n/100},{name:"Cards",value:f/100},{name:"Arcade",value:u/100},{name:"Achievement",value:c/100},{name:"Skill Mastery",value:25*h/100},{name:"Vote",value:m/100},{name:"Vault",value:d/100},{name:"Left Hand",value:g/100}]}}else if("trapping"===e){let e=(0,o.getTalentBonus)(l?.flatTalents,"SHROOM_BAIT"),t=(0,o.getTalentBonus)(l?.flatTalents,"FOCUSED_SOUL"),n=(0,i.getStampsBonusByEffect)(p,"Trapping_Exp_Gain"),c=(0,a.isMasteryBonusUnlocked)(p?.rift,p?.totalSkillsLevels?.trapping?.rank,2)?(0,r.getCardBonusByEffect)(p?.cards,"Trapping_EXP"):(0,r.getCardBonusByEffect)(l?.cards?.equippedCards,"Trapping_EXP"),m=(0,o.getMaestroHand)(l,"trapping",s,p,"LEFT_HAND_OF_LEARNING"),d=(0,a.isMasteryBonusUnlocked)(p?.rift,p?.totalSkillsLevels?.trapping?.rank,0),g=(0,z.getVoteBonus)(p,30),h=(0,u.getPostOfficeBonus)(l?.postOffice,"Trapping_Lockbox",1),f=eR("TrapMGbonus",0,p),_=eR("TrapMGbonus",3,p),M=(0,N.getArcadeBonus)(p?.arcade?.shop,"Trapping_EXP")?.bonus;return{value:Math.max(.1,1+(e+(n+(t+(c+(B+(h+(f+(_+(M+(25*d+g))))))))))/100+(v?.value+m)/100),breakdown:[{name:"All skill exp",value:v?.value/100},{name:"Talent",value:(e+t+B)/100},{name:"Stamps",value:n/100},{name:"Cards",value:c/100},{name:"Post office",value:h/100},{name:"Trapping",value:(f+_)/100},{name:"Skill Mastery",value:25*d/100},{name:"Arcade",value:M/100},{name:"Vote",value:g/100},{name:"Left Hand",value:m/100}]}}else if("construction"===e){let e=(0,c.getActiveBubbleBonus)(l?.equippedBubbles,"CALL_ME_BOB",p),t=(0,i.getStampsBonusByEffect)(p,"Construction_Exp_Gain"),a=(0,z.getVoteBonus)(p,18),n=(0,m.getStatueBonus)(p,18,l?.flatTalents);return{value:1+(e+(t+(a+n)))/100,breakdown:[{name:"Bubble",value:e/100},{name:"Stamps",value:t/100},{name:"Vote",value:a/100},{name:"Statue",value:n/100}]}}else if("worship"===e){let e=(0,o.getTalentBonus)(l?.flatTalents,"BLESS_UP"),t=(0,o.getTalentBonus)(l?.flatTalents,"INNER_PEACE"),n=(0,d.getStarSignBonus)(l,p,"Worship_EXP"),r=(0,a.isMasteryBonusUnlocked)(p?.rift,p?.totalSkillsLevels?.worship?.rank,0),i=(0,z.getVoteBonus)(p,30),u=(0,o.getMaestroHand)(l,"worship",s,p,"LEFT_HAND_OF_LEARNING");return{value:Math.max(.1,1+(l?.skillsInfo?.worship?.level/3+(e+(t+(B+(n+(25*r+i))))))/100+(v?.value+u)/100),breakdown:[{name:"All skill exp",value:v?.value/100},{name:"Skill level",value:l?.skillsInfo?.worship?.level/3/100},{name:"Talent",value:(e+t+B)/100},{name:"Star sign",value:n/100},{name:"Skill Mastery",value:25*r/100},{name:"Vote",value:i/100},{name:"Left Hand",value:u/100}]}}else if("cooking"===e){let e=(0,M.getCookingEff)(l,s,p,g),n=(0,q.getUpgradeVaultBonus)(p?.upgradeVault?.upgrades,60),i=(0,o.getMaestroHand)(l,"cooking",s,p,"LEFT_HAND_OF_LEARNING"),c=(0,M.getMealsBonusByEffectOrStat)(p,null,"CookExp"),d=(0,u.getPostOfficeBonus)(l?.postOffice,"Cooking_EXP_gain",1),h=(0,o.getTalentBonus)(l?.flatTalents,"APOCALYPSE_CHOW"),f=l?.chow?.finished?.[0]??1,B=(0,r.getCardBonusByEffect)(p?.cards,"Cooking_EXP_gain"),_=(0,o.getTalentBonus)(l?.flatTalents,"TEMPESTUOUS_EMOTIONS"),b=(0,m.getStatueBonus)(p,20,l?.flatTalents),S=(0,a.isMasteryBonusUnlocked)(p?.rift,p?.totalSkillsLevels?.cooking?.rank,0),y=(0,z.getVoteBonus)(p,13);return{value:Math.max(.1,(1+n/100)*(Math.min(Math.pow(e/(10*t.monsters?.Cooking?.Defence),.25+(0,M.getCookingProwess)(l,p)),1)+(v?.value+(i+(c+(d+(B+(h*f+(_+(b+(25*S+y)))))))))/100)),breakdown:[{name:"All skill exp",value:v?.value/100},{name:"Upgrade vault",value:n/100},{name:"Cooking Eff",value:e/100},{name:"Prowess",value:.25+(0,M.getCookingProwess)(l,p)/100},{name:"Left hand",value:i/100},{name:"Meal",value:c/100},{name:"Post office",value:d/100},{name:"Card",value:B/100},{name:"Talent",value:h*f+_/100},{name:"Statue",value:b/100},{name:"Skill mastery",value:25*S/100},{name:"Vote",value:y/100}]}}else if("breeding"===e){let e=(0,o.getHighestTalentByClass)(s,o.CLASSES.Beast_Master,"SHINING_BEACON_OF_EGG"),t=(0,L.getJewelBonus)(p?.lab?.jewels,5),n=(0,M.getMealsBonusByEffectOrStat)(p,null,"BrExp"),u=(0,r.getCardBonusByEffect)(p?.cards,"Breeding_EXP"),d=(0,i.getStampsBonusByEffect)(p,"Breeding_EXP_Gain"),g=(0,c.getVialsBonusByStat)(p?.alchemy?.vials,"BreedXP"),h=(0,m.getStatueBonus)(p,21,l?.flatTalents),f=(0,a.isMasteryBonusUnlocked)(p?.rift,p?.totalSkillsLevels?.breeding?.rank,0),v=(0,z.getVoteBonus)(p,16),B=(0,q.getUpgradeVaultBonus)(p?.upgradeVault?.upgrades,59);return{value:Math.max(.1,1+(e+t+(n+(2*p?.breeding?.petUpgrades?.[0]?.level+(Math.min(u,50)+(d+(g+(h+(25*f+(v+B)))))))))/100),breakdown:[{name:"Talent",value:e/100},{name:"Jewel",value:t/100},{name:"Meal",value:n/100},{name:"Pet upgrade",value:2*p?.breeding?.petUpgrades?.[2]?.level/100},{name:"Card",value:Math.min(u,50)/100},{name:"Stamp",value:d/100},{name:"Vial",value:g/100},{name:"Statue",value:h/100},{name:"Skill mastery",value:25*f/100},{name:"Vote",value:v/100},{name:"Vault",value:B/100}]}}else if("laboratory"===e){let e=(0,L.getLabEfficiency)(l,s,p,g),m=t.monsters?.Laboratory?.Defence,h=(0,ef.allProwess)(l,p),f=(0,u.getPostOfficeBonus)(l?.postOffice,"Science_Spare_Parts",1),v=(0,a.isCompanionBonusActive)(p,16)?p?.companions?.list?.at(16)?.bonus:0,B=(0,r.getCardBonusByEffect)(l?.cards?.equippedCards,t.cardBonuses[79]),_=(0,L.getPlayerLabChipBonus)(l,p,5),b=(0,o.getBubonicGreenTube)(l,s,p),S=(0,o.getTalentBonus)(l?.flatTalents,"UPLOAD_SQUARED"),y=(0,L.getJewelBonus)(p?.lab?.jewels,2),k=(0,M.getMealsBonusByEffectOrStat)(p,null,"Lexp"),x=(0,i.getStampsBonusByEffect)(p,"Lab_Exp_Gain"),C=(0,c.getVialsBonusByEffect)(p?.alchemy?.vials,null,"LabXP"),T=(0,c.getActiveBubbleBonus)(l?.equippedBubbles,"MATRIX_EVOLVED",p),w=(0,n.getStatsFromGear)(l,65,p),E=(0,c.getSigilBonus)(p?.alchemy?.p2w?.sigils,"LAB_TESSTUBE"),A=(0,a.isMasteryBonusUnlocked)(p?.rift,p?.totalSkillsLevels?.laboratory?.rank,0),O=(0,d.getStarSignBonus)(l,p,"Lab_EXP_Gain"),P=(0,N.getArcadeBonus)(p?.arcade?.shop,"Lab_EXP_gain")?.bonus,I=(0,z.getVoteBonus)(p,31),R=(0,ev.getLampBonus)({holesObject:p?.hole?.holesObject,t:0,i:2,account:p}),D=(0,q.getUpgradeVaultBonus)(p?.upgradeVault?.upgrades,55),F=(0,ep.getArmorSetBonus)(p,"MAGMA_SET"),G=30*!!p?.lab?.playersCords?.find(({playerId:e})=>l?.playerId===e)?.soupedUp,j=(0,o.getTalentBonus)(l?.flatTalents,"INNER_PEACE"),W=1>Math.pow(e/(10*m),.25+h)?Math.max(.1,Math.pow(h/(10*m),.25)*(1+v)*(1+(f+B+_+b+S+y+k+x+C+T+Math.min(100,4*G)+w+E+25*A+O+P+I+R+D+F))/100):Math.max(.1,Math.pow(e/(10*m),.25)*(1+v)*(1+(f+B+_+b+S+j+y+k+x+C+T+Math.min(100,4*G)+w+E+25*A+O+P+I+R+D+F))/100);return{value:(1+v)*(1+(f+B+(_+b+(S+j)+(y+(k+(x+(C+(T+(Math.min(100,4*G)+(w+(E+(O+(P+(I+(R+(D+F)))))))))))))))/100),real:W,breakdown:[{name:"Lab eff",value:e},{name:"Prowess",value:.25+h},{name:"Companion",value:v/100},{name:"Post Office",value:f/100},{name:"Card",value:B/100},{name:"Chip",value:_/100},{name:"Bubonic Green",value:b/100},{name:"Talent",value:(S+j)/100},{name:"Jewel",value:y/100},{name:"Meal",value:k/100},{name:"Stamp",value:x/100},{name:"Vial",value:C/100},{name:"Bubble",value:T/100},{name:"Souped Player",value:Math.min(100,G)/100},{name:"Equipment",value:w/100},{name:"Sigil",value:E/100},{name:"Skill mastery",value:25*A/100},{name:"Star Sign",value:O/100},{name:"Arcade",value:P/100},{name:"Vote",value:I/100},{name:"Lamp",value:R/100},{name:"Vault Upgrade",value:D/100},{name:"Armor Set",value:F/100}]}}else if("sailing"===e){let e=(0,o.getHighestTalentByClass)(s,o.CLASSES.Siege_Breaker,"EXPERTLY_SAILED"),t=(0,c.getVialsBonusByStat)(p?.alchemy?.vials,"SailXP"),n=(0,a.isMasteryBonusUnlocked)(p?.rift,p?.totalSkillsLevels?.sailing?.rank,0),l=(0,h.getGuildBonusBonus)(p?.guild?.guildBonuses,14);return{value:1+(e+(t+(10*p?.tasks?.[2]?.[4]?.[4]+(25*n+l))))/100,breakdown:[{name:"Talent",value:e/100},{name:"Vial",value:t/100},{name:"Task",value:10*p?.tasks?.[2]?.[4]?.[4]/100},{name:"Skill mastery",value:25*n/100},{name:"Guild",value:l/100}]}}else if("divinity"===e){let e=p?.gemShopPurchases?.find((e,t)=>130===t)??0,t=s?.find(({linkedDeity:e})=>6===e),g=(0,a.isCompanionBonusActive)(p,16)?p?.companions?.list?.at(16)?.bonus:0,f=(0,o.getHighestTalentByClass)(s,o.CLASSES.Elemental_Sorcerer,"SHARED_BELIEFS"),v=p?.divinity?.unlockedDeities??0,B=(0,u.getPostOfficeBonus)(l?.postOffice,"Box_of_Gosh",0),_=(0,c.getSigilBonus)(p?.alchemy?.p2w?.sigils,"DIV_SPIRAL"),b=(0,r.getCardBonusByEffect)(p?.cards,"Divinity_EXP"),S=(0,i.getStampsBonusByEffect)(p,"Divinity_EXP_Gain"),y=(0,c.getActiveBubbleBonus)(l?.equippedBubbles,"PIOUS_AT_HEART",p),k=(0,m.getStatueBonus)(p,23,l?.flatTalents),x=(0,M.getMealsBonusByEffectOrStat)(p,null,"DivExp"),C=(0,c.getVialsBonusByStat)(p?.alchemy?.vials,"DivXP"),T=(0,o.getTalentBonus)(l?.flatTalents,"INNER_PEACE"),w=(0,d.getStarSignBonus)(l,p,"Divinity_EXP"),E=(0,h.getGuildBonusBonus)(p?.guild?.guildBonuses,14),A=(0,a.isMasteryBonusUnlocked)(p?.rift,p?.totalSkillsLevels?.divinity?.rank,0),O=(0,N.getArcadeBonus)(p?.arcade?.shop,"Divinity_EXP")?.bonus,P=(0,n.getStatsFromGear)(l,74,p),L=(0,z.getVoteBonus)(p,23),I=(0,ep.getArmorSetBonus)(p,"MAGMA_SET");return{value:l?.divStyle?.divPerHour*(1+e/4)*Math.max(1,1+ +!!t)*(1+f/100)*(1+g)*(1+(10*Math.max(0,v-10)+(B+(_+(b+(S+(y+(k+(x+(C+(T+(10*p?.tasks?.[2]?.[4]?.[4]+(25*A+(w+(E+(O+(P+(L+I)))))))))))))))))/100),breakdown:[{name:"Div style",value:l?.divStyle?.divPerHour/100},{name:"Gem shop",value:e/100},{name:"Major",value:!!t/100},{name:"Talent",value:(f+T)/100},{name:"Companion",value:g/100},{name:"Div rank",value:10*Math.max(0,v-10)/100},{name:"Postoffice",value:B/100},{name:"Sigil",value:_/100},{name:"Card",value:b/100},{name:"Stamp",value:S/100},{name:"Active bubble",value:y/100},{name:"Statue",value:k/100},{name:"Meal",value:x/100},{name:"Vial",value:C/100},{name:"Task",value:10*p?.tasks?.[2]?.[4]?.[4]/100},{name:"Skill mastery",value:25*A/100},{name:"Starsign",value:w/100},{name:"Guild",value:E/100},{name:"Arcade",value:O/100},{name:"Equip",value:P/100},{name:"Vote",value:L/100},{name:"Armor set",value:I/100}]}}else if("gaming"===e){let e=(0,i.getStampsBonusByEffect)(p,"Gaming_EXP_Gain"),t=(0,M.getMealsBonusByEffectOrStat)(p,null,"BrExp"),n=(0,o.getHighestTalentByClass)(s,o.CLASSES.Divine_Knight,"1000_HOURS_PLAYED"),r=(0,o.getTalentBonus)(l?.flatTalents,"TEMPESTUOUS_EMOTIONS"),u=(0,c.getVialsBonusByStat)(p?.alchemy?.vials,"GameXP"),m=(0,a.isMasteryBonusUnlocked)(p?.rift,p?.totalSkillsLevels?.gaming?.rank,0),d=(0,h.getGuildBonusBonus)(p?.guild?.guildBonuses,14);return{value:e+(t+(u+(n+(r+(10*p?.tasks?.[2]?.[4]?.[4]+(25*m+d)))))),breakdown:[{name:"Stamp",value:e/100},{name:"Meal",value:t/100},{name:"Vial",value:u/100},{name:"Talent",value:(n+r)/100},{name:"Task",value:10*p?.tasks?.[2]?.[4]?.[4]/100},{name:"Skill mastery",value:25*m/100},{name:"Guild",value:d/100}]}}else if("farming"===e){let e,t=(0,X.getMarketBonus)(p?.farming?.market,"EXP_GMO","value"),n=(0,X.getMarketBonus)(p?.farming?.market,"SMARTER_SEEDS"),i=p?.msaTotalizer?.farmingExp?.value,u=(0,a.isMasteryBonusUnlocked)(p?.rift,p?.totalSkillsLevels?.farming?.rank,0),g=(0,M.getMealsBonusByEffectOrStat)(p,null,"zFarmExp"),f=(0,N.getArcadeBonus)(p?.arcade?.shop,"Farming_EXP")?.bonus,v=(0,U.getWinnerBonus)(p,"<x Farming EXP"),B=(0,c.getVialsBonusByEffect)(p?.alchemy?.vials,null,"6FarmEXP"),_=(0,m.getStatueBonus)(p,25,l?.flatTalents),b=(0,r.getCardBonusByEffect)(p?.cards,"Farming_EXP_(Passive)"),k=(0,y.getCharmBonus)(p,"Rock_Candy"),x=(0,L.getLabBonus)(p?.lab.labBonuses,16),C=(0,d.getStarSignBonus)(l,p,"Farming_EXP"),T=(0,h.getGuildBonusBonus)(p?.guild?.guildBonuses,14),w=(0,I.getAchievementStatus)(p?.achievements,360),E=(0,I.getAchievementStatus)(p?.achievements,356),A=(0,z.getVoteBonus)(p,29),O=(0,D.getShinyBonus)(p?.breeding?.pets,"Farming_EXP_gain"),P=(0,X.getLandRankTotalBonus)(p,4),R=(0,o.getHighestTalentByClass)(s,o.CLASSES.Death_Bringer,"AGRICULTURAL_'PRECIATION"),F=Math.max(1,t)*(1+(n+(i+25*u+(g+f)))/100)*(1+v/100)*(1+(B+(_+(b+k))+(x+(C+(T+(10*w+(15*E+A))))))/100)*(1+(O+2*p?.tasks?.[2]?.[5]?.[2])/100)*(1+P/100)*(1+R/100);return e=F>1e8?Math.round(F/1e6)+"M":F>1e4?Math.round(F):(0,S.notateNumber)(F,"MultiplierInfo"),{value:F,formattedValue:e,breakdown:[{name:"Market",value:(t+n)/100},{name:"Msa",value:i/100},{name:"Skill mastery",value:25*u/100},{name:"Summoning",value:v/100},{name:"Vial",value:B/100},{name:"Statue",value:_/100},{name:"Card",value:b/100},{name:"Charm",value:k/100},{name:"Lab",value:x/100},{name:"Starsign",value:C/100},{name:"Guild",value:T/100},{name:"Achievement",value:(10*w+15*E)/100},{name:"Task",value:10*p?.tasks?.[2]?.[5]?.[2]/100},{name:"Vote",value:A/100},{name:"Shiny",value:O/100},{name:"Land rank",value:P/100},{name:"Talent",value:R/100}]}}else if("sneaking"===e){let e=p?.sneaking?.players?.[l?.playerId]?.floor,n=t.ninjaExtraInfo[11]?.split(" ")[e],u=(0,y.getNinjaUpgradeBonus)(p,"Respect_for_the_Art"),m=(0,N.getArcadeBonus)(p?.arcade?.shop,"Sneaking_XP_multi")?.bonus,g=(0,y.getInventoryNinjaItem)(p,"Gold_Eye"),f=(0,ed.getCompassBonus)(p,51),v=p?.sneaking?.gemStones?.[4]?.bonus,B=(0,c.getVialsBonusByEffect)(p?.alchemy?.vials,null,"6SneakEXP"),_=(0,M.getMealsBonusByEffectOrStat)(p,null,"zSneakExp"),b=(0,a.isMasteryBonusUnlocked)(p?.rift,p?.totalSkillsLevels?.sneaking?.rank,0),S=(0,y.getCharmBonus)(p,"Sour_Wowzer"),k=(0,r.getCardBonusByEffect)(p?.cards,"Sneaking_EXP_(Passive)"),x=(0,L.getLabBonus)(p?.lab.labBonuses,16),C=(0,i.getStampsBonusByEffect)(p,"Sneaking_EXP_Gain"),T=(0,d.getStarSignBonus)(l,p,"Sneaking_EXP"),w=(0,h.getGuildBonusBonus)(p?.guild?.guildBonuses,14),E=(0,o.getHighestTalentByClass)(s,o.CLASSES.Wind_Walker,"SNEAKY_SKILLING"),A=(0,I.getAchievementStatus)(p?.achievements,370),O=(0,z.getVoteBonus)(p,25);return{value:n*(1+u/100)*(1+m/100)*(1+g/100)*(1+f/100)*(1+v/100)*(1+(B+_+25*b+S+k+x+C+T+w+E+10*A+O)/100)*1*Math.max(0,1-0*(1+(0,U.getWinnerBonus)(p,"<x Sneak EXP")/100)*Math.max(1,E)),breakdown:[{name:"Ninja upgrade",value:u/100},{name:"Arcade",value:m/100},{name:"Gold item",value:g/100},{name:"Ninja equip",value:0},{name:"Compass",value:f/100},{name:"Gemstone",value:v/100},{name:"Vial",value:B/100},{name:"Meal",value:_/100},{name:"Skill mastery",value:25*b/100},{name:"Charm",value:S/100},{name:"Card",value:k/100},{name:"Lab",value:x/100},{name:"Stamp",value:C/100},{name:"Starsign",value:T/100},{name:"Guild",value:w/100},{name:"Talent",value:E/100},{name:"Achievement",value:10*A/100},{name:"Vote",value:O/100}]}}else if("summoning"===e){let e=(0,o.getHighestTalentByClass)(s,o.CLASSES.Arcane_Cultist,"PASSION_OF_THE_SUMMON"),t=(0,c.getVialsBonusByStat)(p?.alchemy?.vials,"6SummEXP"),n=(0,r.getCardBonusByEffect)(p?.cards,"Summoning_EXP_(Passive)"),u=(0,M.getMealsBonusByEffectOrStat)(p,null,"zSummonExp"),m=(0,L.getLabBonus)(p?.lab.labBonuses,16),g=(0,N.getArcadeBonus)(p?.arcade?.shop,"Summon_XP_multi")?.bonus,f=(0,D.getShinyBonus)(p?.breeding?.pets,"Summoning_EXP_gain"),v=(0,a.isMasteryBonusUnlocked)(p?.rift,p?.totalSkillsLevels?.summoning?.rank,0),B=(0,i.getStampsBonusByEffect)(p,"Summoning_EXP_Gain"),_=(0,d.getStarSignBonus)(l,p,"Summoning_EXP"),b=(0,h.getGuildBonusBonus)(p?.guild?.guildBonuses,14),S=(0,z.getVoteBonus)(p,28);return{value:Math.max(1,e)*(1+(t+(n+(u+m)))/100)*(1+g/100)*(1+(f+25*v+(B+(_+(b+S))))/100),breakdown:[{name:"Talent",value:e/100},{name:"Vial",value:t/100},{name:"Card",value:n/100},{name:"Meal",value:u/100},{name:"Lab",value:m/100},{name:"Arcade",value:g/100},{name:"Shiny",value:f/100},{name:"Skill mastery",value:25*v/100},{name:"Stamp",value:B/100},{name:"Starsign",value:_/100},{name:"Guild",value:b/100},{name:"Vote",value:S/100}]}}},ek=(e,t,l)=>{let s=(0,d.getStarSignBonus)(e,l,"Skill_EXP_gain"),i=(0,r.getEquippedCardBonus)(e?.cards,"Z7"),c=(0,r.getCardBonusByEffect)(l?.cards,"Skill_EXP_(Passive)"),p=(0,N.getArcadeBonus)(l?.arcade?.shop,"Skill_EXP_gain")?.bonus,v=(0,a.getGoldenFoodBonus)("Golden_Ham",e,l,t),M=e?.cards?.cardSet?.rawName==="CardSet3"?e?.cards?.cardSet?.bonus:0,b=(0,o.getHighestTalentByClass)(t,o.CLASSES.Voidwalker,"ENHANCEMENT_ECLIPSE"),S=(0,o.getVoidWalkerTalentEnhancements)(t,l,b,536),y=(0,o.getVoidWalkerTalentEnhancements)(t,l,b,35,e),x=(0,o.getBubonicGreenTube)(e,t,l),C=(0,f.getShrineBonus)(l?.shrines,5,e?.mapIndex,l.cards,l?.sailing?.artifacts),T=(0,m.getStatueBonus)(l,17,e?.flatTalents),w=(0,g.getPrayerBonusAndCurse)(e?.activePrayers,"Unending_Energy",l)?.bonus,E=(0,g.getPrayerBonusAndCurse)(e?.activePrayers,"Balance_of_Proficiency",l)?.bonus,A=(0,g.getPrayerBonusAndCurse)(e?.activePrayers,"Skilled_Dimwit",l)?.curse,O=(0,g.getPrayerBonusAndCurse)(e?.activePrayers,"The_Royal_Sampler",l)?.curse,P=(0,n.getStatsFromGear)(e,27,l),L=(0,o.getTalentBonusIfActive)(e?.activeBuffs,"MAESTRO_TRANSFUSION"),R=(0,B.getSaltLickBonus)(l?.saltLick,3),G=(0,_.getDungeonStatBonus)(l?.dungeons?.upgrades,"Class_Exp"),j=(0,u.getPostOfficeBonus)(e?.postOffice,"Myriad_Crate",2),W=(0,I.getAchievementStatus)(l?.achievements,283),q=(0,I.getAchievementStatus)(l?.achievements,284),V=(0,I.getAchievementStatus)(l?.achievements,294),H=(0,I.getAchievementStatus)(l?.achievements,359),$=(0,a.getSkillMasteryBonusByIndex)(l?.totalSkillsLevels,l?.rift,1),Y=(0,a.getSkillMasteryBonusByIndex)(l?.totalSkillsLevels,l?.rift,4),K=(0,D.getShinyBonus)(l?.breeding?.pets,"Skill_EXP"),X=(0,k.isSuperbitUnlocked)(l,"MSA_Skill_EXP")?.bonus??0,z=(0,U.getWinnerBonus)(l,"+{% Skill EXP"),Q=20*!!(0,a.isCompanionBonusActive)(l,9),Z=(0,ei.getSchematicBonus)({holesObject:l?.hole?.holesObject,t:49,i:10}),ee=0,et=(0,F.getDeityLinkedIndex)(l,t,7);et?.[e?.playerId]!==-1&&(ee=(0,F.getGodByIndex)(l?.divinity?.linkedDeities,t,7)||0);let ea=(0,h.getGuildBonusBonus)(l?.guild?.guildBonuses,14),en=J(l?.owl?.bonuses,"Skill XP"),el=(0,ep.getArmorSetBonus)(l,"CHIZOAR_SET");return{value:s+(i+p+v+x*Math.min(1,S?x:0)+(M+c+(Math.min(150,100*((0,o.checkCharClass)(e?.class,o.CLASSES.Maestro)?y:0))+C)+T+w+E-A-O+(P+(L+(R+(G+(j+(ee+(10*W+(25*q+(10*V+15*H+($+(Y+(K+X)+Q+z+ea+en+el+Z))))))))))))),breakdown:[{name:"",value:1}]}},ex=(e,t,a)=>{let n=o.talentPagesMap?.[e],{flat:l,talents:s}=(0,o.createTalentPage)(e,n,t,a),{flat:r,talents:i}=(0,o.createTalentPage)(e,o.starTalentsPages,t,a,!0);return{talents:s,flatTalents:l,starTalents:i,flatStarTalents:r}},eC=(e,a)=>{let{targetMonster:l}=e,s=t.monsters?.[l],o=`monsterRespawnTime / (1 + (shrineBonus
  + chipBonus
  + (equipmentBonus + obolsBonus)
  + achievementBonus
  + starSignBonus
  + meritBonus) / 100);`;if(!s||s?.AFKtype==="Nothing")return{respawnRate:0,expression:o,breakdown:[{name:"Not fighting",value:"TOWN"}]};let r="riftAll"===l,{RespawnTime:i,worldIndex:u}=s,c=(0,f.getShrineBonus)(a?.shrines,7,e?.mapIndex,a?.cards,a?.sailing?.artifacts),m=(0,L.getPlayerLabChipBonus)(e,a,10),p=(0,n.getStatsFromGear)(e,47,a),g=(0,b.getObolsBonus)(e?.obols,t.bonuses?.etcBonuses?.[47]),h=(0,d.getStarSignBonus)(e,a,"Mob_Respawn_rate"),v=(0,I.getAchievementStatus)(a?.achievements,44),B=a?.tasks?.[2]?.[0]?.[1],_=a?.meritsDescriptions?.[0]?.[1]?.bonusPerLevel,M=(0,I.getAchievementStatus)(a?.achievements,109),S=a?.tasks?.[2]?.[1]?.[1],y=a?.meritsDescriptions?.[1]?.[1]?.bonusPerLevel,k=a?.tasks?.[2]?.[1]?.[1],x=a?.meritsDescriptions?.[1]?.[1]?.bonusPerLevel,C=a?.tasks?.[2]?.[3]?.[1],T=a?.meritsDescriptions?.[3]?.[1]?.bonusPerLevel,w=(0,I.getAchievementStatus)(a?.achievements,308),E=a?.tasks?.[2]?.[4]?.[1],A=a?.meritsDescriptions?.[4]?.[1]?.bonusPerLevel,O=a?.tasks?.[2]?.[5]?.[1],P=a?.meritsDescriptions?.[5]?.[1]?.bonusPerLevel,N=1===u||r?B*_:2===u?S*y:3===u?k*x:4===u?C*T:5===u?E*A:6===u?O*P:0,R=1===u||r?v:2===u?M:5===u?2*w:0,D=r?45:i;return{respawnRate:D/(1+(c+m+(p+g)+R+h+N)/100),breakdown:[{title:"Additive"},{name:""},{name:"Base",value:D},{name:"Achievement",value:R/100},{name:"Chip",value:m/100},{name:"Equipment",value:p/100},{name:"Merit",value:N/100},{name:"Shrine",value:c/100},{name:"Starsigns",value:h/100}],expression:o}},eT=(e,l,s)=>{let i,p,{luck:h}=e?.stats||{};i=h<1e3?(Math.pow(h+1,.37)-1)/30:(h-1e3)/(h+2500)*.8+.3963;let v=s?.reduce((e,{level:t})=>t<e?t:e,1/0),b=e?.level===v,y=(0,q.getUpgradeVaultBonus)(l?.upgradeVault?.upgrades,12),x=l?.tasks?.[2]?.[0]?.[2]*3,C=50*!!(0,k.isSuperbitUnlocked)(l,"Noobie_Gains")?.unlocked,T=0,w=0;b&&(T=x+y,w+=C,p=!0),e?.level<50&&(T+=e?.cards?.cardSet?.rawName==="CardSet0"?e?.cards?.cardSet?.bonus:0),e?.level<120&&(T+=(0,M.getMealsBonusByEffectOrStat)(l,null,"Clexp"));let E=Math.min(150,l?.weeklyBossesRaw?.c||0);l?.weeklyBossesRaw?.c&&(T+=E),e?.level<10?T+=150:e?.level<30?T+=100:e?.level<50&&(T+=50);let A=(0,F.getDeityLinkedIndex)(l,s,5),O=(0,F.getMinorDivinityBonus)(e,l,5,s);A.includes(e?.playerId)&&(T+=O);let P=e?.cards?.cardSet?.rawName==="CardSet26"?e?.cards?.cardSet?.bonus:0;T+=P;let L=(0,a.isBundlePurchased)(l?.bundles,"bun_q");L&&(w+=20*!!L);let R=(0,ed.getCompassBonus)(l,51),G=(0,ei.getSchematicBonus)({holesObject:l?.hole?.holesObject,t:47,i:0}),j=(0,U.getWinnerBonus)(l,"+{% Class EXP"),W=(0,eu.getGrimoireBonus)(l?.grimoire?.upgrades,24),V=(0,q.getUpgradeVaultBonus)(l?.upgradeVault?.upgrades,3),H=(0,q.getUpgradeVaultBonus)(l?.upgradeVault?.upgrades,35),$=(0,ei.getSchematicBonus)({holesObject:l?.hole?.holesObject,t:83,i:40}),Y=R+(G+(j+(W+(V+(H*(0,S.lavaLog)(l?.accountOptions?.[345])+$))))),K=l?.compass?.medallions?.find(({Name:t})=>t===e?.afkTarget),X=(0,o.getHighestTalentByClass)(s,o.CLASSES.Wind_Walker,"SHINY_MEDALLIONS"),Q=(0,o.getHighestTalentByClass)(s,o.CLASSES.Wind_Walker,"SLAYER_ABOMINATOR"),Z=(0,n.getStatsFromGear)(e,84,l),ee=(K?.acquired?X:1)*(1+Z/100)*Math.pow(Math.max(1,Q),l?.compass?.totalKilledAbominations),et=1+(0,o.getHighestTalentByClass)(s,o.CLASSES.Siege_Breaker,"ARCHLORD_OF_THE_PIRATES")*(0,S.lavaLog)(l?.accountOptions?.[139]??0)/100,ea=(0,o.getTalentBonus)(e?.flatTalents,"LUCKY_CHARMS"),en=(0,n.getStatsFromGear)(e,78,l),el=(0,n.getStatsFromGear)(e,4,l),es=(0,u.getPostOfficeBonus)(e?.postOffice,"Box_of_Unwanted_Stats",2),eo=(0,a.getFoodBonus)(e,l,"ClassEXP",!0),er=(0,d.getStarSignBonus)(e,l,"Class_EXP_Gain"),ec=(0,c.getVialsBonusByStat)(l?.alchemy?.vials,"MonsterEXP"),eg=(0,c.getBubbleBonus)(l,"GRIND_TIME",!1),eh=(0,r.getCardBonusByEffect)(e?.cards?.equippedCards,t.cardBonuses[44]),ef=(0,m.getStatueBonus)(l,10,e?.flatTalents),ev=(0,o.getTalentBonus)(e?.flatStarTalents,"JUST_EXP"),eB=(0,f.getShrineBonus)(l?.shrines,5,e?.mapIndex,l.cards,l?.sailing?.artifacts),e_=(0,B.getSaltLickBonus)(l?.saltLick,3),eM=(0,g.getPrayerBonusAndCurse)(e?.prayers,"Big_Brain_Time")?.bonus,eb=(0,g.getPrayerBonusAndCurse)(e?.prayers,"Unending_Energy")?.bonus,eS=(0,g.getPrayerBonusAndCurse)(e?.prayers,"The_Royal_Sampler")?.curse,ey=(0,_.getDungeonFlurboStatBonus)(l?.dungeons?.upgrades,"Class_Exp"),ek=(0,I.getAchievementStatus)(l?.achievements,57),ex=(0,I.getAchievementStatus)(l?.achievements,357),eC=(0,I.getAchievementStatus)(l?.achievements,61),eT=(0,I.getAchievementStatus)(l?.achievements,124),ew=(0,I.getAchievementStatus)(l?.achievements,188),eE=(0,N.getArcadeBonus)(l?.arcade?.shop,"Class_EXP_gain")?.bonus,eA=(0,c.getSigilBonus)(l?.alchemy?.p2w?.sigils,"METAL_EXTERIOR"),eO=(0,I.getAchievementStatus)(l?.achievements,286),eP=(0,D.getShinyBonus)(l?.breeding?.pets,"Class_EXP"),eL=l?.msaTotalizer?.classExp?.value??0,eI=(0,o.getHighestTalentByClass)(s,o.CLASSES.Voidwalker,"EXP_CULTIVATION"),eN=(0,r.getCardBonusByEffect)(l?.cards,"Class_EXP_(Passive)"),eR=(0,a.isCompanionBonusActive)(l,3)?l?.companions?.list?.at(3)?.bonus:0,eD=(0,a.getGoldenFoodBonus)("Golden_Nigiri",e,l,s),eF=J(l?.owl?.bonuses,"Class XP"),eG=(0,z.getVoteBonus)(l,15)||0,ej=(0,em.getMonumentBonus)({holesObject:l?.hole?.holesObject,t:1,i:6}),eW=(0,ep.getArmorSetBonus)(l,"IRON_SET");return(0,m.getZenithBonus)(l,9),(0,a.isCompanionBonusActive)(l,33)&&l?.companions?.list?.at(33)?.bonus,(0,a.isCompanionBonusActive)(l,37)&&l?.companions?.list?.at(37)?.bonus,{value:et*(1+w/100)*ee*(1+en/100)*(i*(1+ea/100)/1.8+(el+(es+(eo+er+(ec+(eg+(eh+(T+(ef+(ev+(eB+(e_+(eM+(eb-eS+ey+(ek+20*ex+(3*eC+(2*eT+(5*ew+(eE+(eA+(25*eO+(eP+(eL+(eI+(eN+(eR+l?.accountOptions?.[179]*l?.islands?.allShimmerBonus+(eD+(eF+(eG+(ej+Y+eW))))))))))))))))))))))))))))))/100+1,breakdown:[{title:"Additive Bonuses"},{name:""},{name:"Achievements",value:(ek+20*ex+3*eC+2*eT+5*ew+25*eO)/100},{name:"Arcade",value:eE/100},{name:"Bubble",value:eg/100},{name:"Card Set",value:P/100},{name:"Cards",value:eh/100},{name:"Compass",value:R/100},{name:"Companion",value:eR/100},{name:"Dungeon (Flurbo)",value:ey/100},{name:"Equipment",value:el/100},{name:"Food",value:eo/100},{name:"God",value:O/100},{name:"Golden Food",value:eD/100},{name:"Grimoire",value:W/100},{name:"Island Bonus",value:(l?.accountOptions?.[179]??0)*(l?.islands?.allShimmerBonus??0)/100},{name:"Luck",value:i},{name:"Monument",value:ej/100},{name:"MSA",value:eL/100},{name:"Owl",value:eF/100},{name:"Passive Card Bonus",value:eN/100},{name:"Post Office",value:es/100},{name:"Prayers",value:eM+eb-eS/100},{name:"Salt Lick",value:e_/100},{name:"Schematic",value:(G+$)/100},{name:"Shiny",value:eP/100},{name:"Sigil",value:eA/100},{name:"Star Sign",value:er/100},{name:"Star Talent",value:ev/100},{name:"Statue",value:ef/100},{name:"Talent",value:ea/100},{name:"Upgrade Vault",value:((b?y:0)+V+H*(0,S.lavaLog)(l?.accountOptions?.[345]))/100},{name:"Vote",value:eG/100},{name:"Iron set",value:eW/100},{name:"Weekly Boss",value:E},{name:"Summoning",value:j/100},{name:"Vials",value:ec/100},{name:"Superbit",value:(b?C:0)/100},{name:"EXP Cultivation",value:eI/100},{name:""},{title:"Multiplicative Bonuses"},{name:""},{name:"Wind Walker",value:ee},{name:"Bundle",value:L?w/100:0},{name:"Equipment (Exp Multi)",value:en/100},{name:"Siege Breaker",value:et}],expression:`siegeBreakerBonus
* (1 + (
    ${p?"superbit + ":""}${L?"bundleBonus":""}
) / 100)
* shinyMedallionTalentBonus
* (1 + bonusClassExpEquip / 100)
* Math.pow(
    Math.max(1, slayerAbominationTalentBonus),
    account?.compass?.totalKilledAbominations
)
* (1 + classExpMultiEquip / 100)
* (
    luckMulti * (1 + luckyCharmTalentBonus / 100) / 1.8
    + (
        xpFromMonstersEquip
        + postOfficeBonus
        + foodBonus
        + starSignBonus
        + vialBonus
        + bubbleBonus
        + cardBonus
        + omniphauGodBonus
        + expCardSet
        + statueBonus
        + starTalent
        + shrineBonus
        + saltLickBonus
        + prayerBonus1
        + (prayerBonus2 - prayerBonus3)
        + flurboBonus
        + achievement1
        + 20 * achievement2
        + (3 * achievement3)
        + (2 * achievement4)
        + (5 * achievement5)
        + arcadeBonus
        + sigilBonus
        + 25 * achievement6
        + shinyBonus
        + msaBonus
        + talentBonus4
        + passiveCardBonus
        + companionBonus
        + account?.accountOptions?.[179] * account?.islands?.allShimmerBonus
        + goldenFoodBonus
        + owlBonus
        + voteBonus
        + monumentBonus
        + compassBonus
        + gloomieExpSchematic
        + winnerBonus
        + grimoireBonus
        + wickedSmartVault
        + schoolinTheFishVault * lavaLog(fishCaught)
        + sanctumOfExpSchematic
        + armorSetBonus
    ) / 100 + 1
)`}},ew=(e,l,s)=>{let m,{luck:p}=e?.stats||{};m=p<1e3?(Math.pow(p+1,.37)-1)/40:(p-1e3)/(p+2500)*.5+.297;let v=(0,u.getPostOfficeBonus)(e?.postOffice,"Non_Predatory_Loot_Box",0),B=(0,o.getTalentBonus)(e?.flatTalents,"ROBBINGHOOD"),_=(0,o.getTalentBonus)(e?.flatTalents,"CURSE_OF_MR_LOOTY_BOOTY"),M=(0,o.getTalentBonus)(e?.flatStarTalents,"BOSS_BATTLE_SPILLOVER"),k=(0,n.getStatsFromGear)(e,2,l),x=(0,n.getStatsFromGear)(e,91,l),C=(0,n.getStatsFromGear)(e,2,l,!0),T=(0,b.getObolsBonus)(e?.obols,t.bonuses?.etcBonuses?.[2]),w=(0,c.getBubbleBonus)(l,"DROPPIN_LOADS",!1),E=(0,r.getCardBonusByEffect)(e?.cards?.equippedCards,"Total_Drop_Rate"),A=(0,h.getGuildBonusBonus)(l?.guild?.guildBonuses,10),O=e?.cards?.cardSet?.rawName==="CardSet26"||e?.cards?.cardSet?.rawName==="CardSet25"?e?.cards?.cardSet?.bonus:0,P=(0,f.getShrineBonus)(l?.shrines,4,e?.mapIndex,l?.cards,l?.sailing?.artifacts),R=(0,g.getPrayerBonusAndCurse)(e?.activePrayers,"Midas_Minded",l)?.bonus,F=(0,c.getSigilBonus)(l?.alchemy?.p2w?.sigils,"TROVE"),j=(0,D.getShinyBonus)(l?.breeding?.pets,"Drop_Rate"),W=(0,d.getStarSignBonus)(e,l,"Drop_Rate"),V=(0,d.getStarSignBonus)(e,l,"Drop_Rarity"),H=(0,i.getStampsBonusByEffect)(l,"+{%_Drop_Rate"),$=1+(0,o.getHighestTalentByClass)(s,o.CLASSES.Siege_Breaker,"ARCHLORD_OF_THE_PIRATES")*(0,S.lavaLog)(l?.accountOptions?.[139]??0)/100,Y=(0,a.isCompanionBonusActive)(l,3)?l?.companions?.list?.at(3)?.bonus:0,K=(0,a.isCompanionBonusActive)(l,22)?l?.companions?.list?.at(22)?.bonus:0,Z=(0,N.getArcadeBonus)(l?.arcade?.shop,"Drop_Rate")?.bonus,ee=(0,G.getEquinoxBonus)(l?.equinox?.upgrades,"Faux_Jewels"),et=(0,L.getPlayerLabChipBonus)(e,l,3),ea=(0,U.getWinnerBonus)(l,"+{% Drop Rate"),en=(0,I.getAchievementStatus)(l?.achievements,377),el=(0,I.getAchievementStatus)(l?.achievements,381),es=(0,a.getGoldenFoodBonus)("Golden_Cake",e,l,s),eo=(0,r.getCardBonusByEffect)(l?.cards,"Drop_Rate_(Passive)"),er=l?.tome?.bonuses?.[2]?.bonus??0,ed=J(l?.owl?.bonuses,"Drop Rate"),eh=(0,X.getLandRank)(l?.farming?.ranks,9),ef=(0,z.getVoteBonus)(l,27),ev=(0,ei.getSchematicBonus)({holesObject:l?.hole?.holesObject,t:46,i:0}),eB=(0,ei.getSchematicBonus)({holesObject:l?.hole?.holesObject,t:82,i:20}),e_=(0,eu.getGrimoireBonus)(l?.grimoire?.upgrades,44),eM=(0,q.getUpgradeVaultBonus)(l?.upgradeVault?.upgrades,18),eb=l?.farming?.cropDepot?.dropRate?.value,eS=(0,ec.getMeasurementBonus)({holesObject:l?.hole?.holesObject,accountData:l,t:15}),ey=(0,em.getMonumentBonus)({holesObject:l?.hole?.holesObject,t:2,i:6}),ek=(0,eg.getEmperorBonus)(l,11),ex=(0,ep.getArmorSetBonus)(l,"EFAUNT_SET"),eC=(0,X.getExoticMarketBonus)(l,59),eT=(0,Q.getLegendTalentBonus)(l,1),ew=1.4*m+(B+v+(k+T+C)+w+E+_+W+V+A+O+P+R+F+j+Z+Y+H+M*(l?.accountOptions?.[189]??0)+ee+ea+er+eo+es+(6*en+4*el)+ed+eh+ef+ev+eb+e_+eM+eS+K+eB+ey+ek+ex+eC+eT)/100+1;ew<5&&et>0&&(ew=Math.min(5,ew+et/100));let eE=ew,eA=(0,a.isBundlePurchased)(l?.bundles,"bun_v");eA&&(eE+=2),eE*=$;let eO=l?.accountOptions?.[232]>=1;eO&&(eE+=.3);let eP=(0,a.isBundlePurchased)(l?.bundles,"bun_p");eP&&(eE*=1.2);let eL=(0,y.getCharmBonus)(l,"Cotton_Candy");eE*=(1+eL/100)*(1+x/100);let eI=(0,a.isCompanionBonusActive)(l,26)?l?.companions?.list?.at(26)?.bonus:0;return eI&&(eE*=Math.max(1,Math.min(1.3,1+eI))),{dropRate:eE,breakdown:[{title:"Additive"},{name:""},{name:"Base",value:1},{name:"Luck",value:1.4*m},{name:"Talents",value:(B+_+M*l?.accountOptions?.[189])/100},{name:"Post Office",value:v/100},{name:"Equipment",value:(k+C)/100},{name:"Obols",value:T/100},{name:"Bubble",value:w/100},{name:"Cards",value:(E+O+eo)/100},{name:"Shrine",value:P/100},{name:"Prayers",value:R/100},{name:"Sigil",value:F/100},{name:"Shiny",value:j/100},{name:"Arcade",value:Z/100},{name:"Starsign",value:(W+V)/100},{name:"Guild",value:A/100},{name:"Companion+",value:(Y+K)/100},{name:"Equinox",value:ee/100},{name:"Stamps",value:H/100},{name:"Tome",value:er/100},{name:"Owl",value:ed/100},{name:"Summoning",value:ea/100},{name:"Golden food",value:es/100},{name:"Achievements",value:(6*en+4*el)/100},{name:"Land rank",value:eh/100},{name:"Vote",value:ef},{name:"Schematics",value:(ev+eB)/100},{name:"Grimoire",value:e_/100},{name:"Upgrade vault",value:eM/100},{name:"Crop Depot",value:eb/100},{name:"Monument",value:ey/100},{name:"Measurement",value:eS/100},{name:"Emperor",value:ek/100},{name:"Efaunt set",value:ex/100},{name:"Exotic market",value:eC/100},{name:"Legend talent",value:eT/100},{name:"Gem Bundle2",value:2*!!eA},{name:"Ninja Mastery",value:.3*!!eO},{name:""},{title:"Multiplicative"},{name:""},{name:"Equipment",value:x/100},{name:"Pristine Charm",value:eL/100},{name:"Companion",value:eI},{name:"Gem Bundle",value:1.2*!!eP},{name:"Siege Breaker*",value:$}],expression:`let dropRate = 1.4 * luckMulti
  + (
    robbingHoodTalentBonus
    + postOfficeBonus
    + dropChanceEquip
    + dropChanceObols
    + dropChanceTools
    + bubbleBonus
    + cardBonus
    + lootyCurseTalentBonus
    + starSignBonus
    + starSignRarityBonus
    + guildBonus
    + cardSetBonus
    + shrineBonus
    + prayerBonus
    + sigilBonus
    + shinyBonus
    + arcadeBonus
    + companionDropRate
    + stampBonus
    + (bossBattleTalentBonus * account?.accountOptions?.[189])
    + equinoxDropRateBonus
    + summoningBonus
    + tomeBonus
    + passiveCardBonus
    + goldenFoodBonus
    + (6 * achievementBonus + 4 * secondAchievementBonus)
    + owlBonus
    + landRankBonus
    + voteBonus
    + schematicBonus
    + cropDepotBonus
    + grimoireBonus
    + upgradeVaultBonus
    + measurementBonus
    + secondCompanionDropRate
    + secondSchematicBonus
    + monumentBonus
    + emperorBonus
    + armorSetBonus
    + exoticMarketBonus
    + legendTalentBonus
  ) / 100 + 1;

if (dropRate < 5 && chipBonus > 0) {
  dropRate = Math.min(5, dropRate + chipBonus / 100);
}

let final = dropRate;

if (hasAnotherDrBundle) {
  final += 2;
}

final *= extraDropRate;

if (ninjaMasteryDropRate) {
  final += 0.3;
}

if (hasDrBundle) {
  final *= 1.2;
}

final *= (1 + charmBonus / 100);
final *= (1 + equipmentDrMulti / 100);

if (thirdCompanionDropRate) {
  final *= Math.max(1, Math.min(1.3, 1 + thirdCompanionDropRate));
}`}},eE=(e,l,s)=>{let{strength:i,agility:d,wisdom:p}=e?.stats||{},f=(0,c.getBubbleBonus)(l,"PENNY_OF_STRENGTH",!1,o.mainStatMap?.[e?.class]==="strength"),v=(0,c.getBubbleBonus)(l,"DOLLAR_OF_AGILITY",!1,o.mainStatMap?.[e?.class]==="agility"),B=(0,c.getBubbleBonus)(l,"NICKEL_OF_WISDOM",!1,o.mainStatMap?.[e?.class]==="wisdom"),k=(0,M.getMealsBonusByEffectOrStat)(l,null,"Cash"),x=(0,R.isArtifactAcquired)(l?.sailing?.artifacts,"Maneki_Kat")?.bonus??0,C=l?.accountOptions?.[89],T=t.randomList?.[53],w=+(0,a.isArenaBonusActive)(C,T,5),E=+(0,a.isArenaBonusActive)(C,T,14),A=(0,m.getStatueBonus)(l,19,e?.flatTalents),O=(0,L.getLabBonus)(l?.lab.labBonuses,9),P=(0,g.getPrayerBonusAndCurse)(e?.activePrayers,"Jawbreaker",l)?.bonus,N=(0,F.getDeityLinkedIndex)(l,s,3),D=s?.reduce((e,t,a)=>N?.includes(a)?e+(0,F.getMinorDivinityBonus)(t,l,3,s):t?.linkedDeity===3?e+t?.deityMinorBonus:e,0),G=(0,c.getVialsBonusByEffect)(l?.alchemy?.vials,null,"MonsterCash"),j=(0,n.getStatsFromGear)(e,3,l),W=(0,n.getStatsFromGear)(e,3,l,!0),U=(0,b.getObolsBonus)(e?.obols,t.bonuses?.etcBonuses?.[3]),H=(0,r.getCardBonusByEffect)(l?.cards,"Money_from_mobs_(Passive)"),$=(0,r.getCardBonusByEffect)(e?.cards?.equippedCards,"Money_from_Monsters"),Y=(0,o.getTalentBonus)(e?.flatTalents,"CHACHING!"),K=(0,_.getDungeonFlurboStatBonus)(l?.dungeons?.upgrades,"Monster_Cash"),J=l?.arcade?.shop?.[10]?.bonus,X=l?.arcade?.shop?.[11]?.bonus,Q=(0,u.getPostOfficeBonus)(e?.postOffice,"Utilitarian_Capsule",2),Z=(0,h.getGuildBonusBonus)(l?.guild?.guildBonuses,8),ee=+(0,o.getTalentBonus)(e?.flatStarTalents,"COINS_FOR_CHARON"),et=e?.skillsInfo?.cooking?.level/10*(0,o.getTalentBonus)(e?.flatStarTalents,"AMERICAN_TIPPER"),ea=(0,a.getGoldenFoodBonus)("Golden_Bread",e,l,s),en=(0,I.getAchievementStatus)(l?.achievements,235),el=(0,I.getAchievementStatus)(l?.achievements,350),es=(0,I.getAchievementStatus)(l?.achievements,376),{dropRate:eo}=ew(e,l,s),ei=(eo<2?eo:Math.floor(eo<5?eo:eo+1))*100,eu=(0,z.getVoteBonus)(l,34),ec=er(l?.kangaroo?.bonuses,"Cash"),em=(0,a.getEventShopBonus)(l,9),ed=(0,a.getEventShopBonus)(l,20),eg=(0,n.getStatsFromGear)(e,77,l),eh=(0,n.getStatsFromGear)(e,77,l,!0),ef=(0,b.getObolsBonus)(e?.obols,t.bonuses?.etcBonuses?.[77]),ev=+!!(0,a.isBundlePurchased)(l?.bundles,"bun_y"),eB=(0,q.getUpgradeVaultBonus)(l?.upgradeVault?.upgrades,34),e_=(0,q.getUpgradeVaultBonus)(l?.upgradeVault?.upgrades,37),eM=(0,y.getCharmBonus)(l,"Gumball_Necklace"),eb=(0,o.getTalentBonus)(e?.flatStarTalents,"CASH_MONEY"),eS=(0,q.getUpgradeVaultBonus)(l?.upgradeVault?.upgrades,11),ey=(0,q.getUpgradeVaultBonus)(l?.upgradeVault?.upgrades,2),ek=(0,q.getUpgradeVaultBonus)(l?.upgradeVault?.upgrades,14),ex=Math.floor((0,S.lavaLog)(l?.deathNote?.[0]?.mobs?.[3]?.kills)||0),eC=(0,q.getUpgradeVaultBonus)(l?.upgradeVault?.upgrades,31),eT=Math.floor((0,S.lavaLog)(l?.deathNote?.[0]?.mobs?.[10]?.kills||0)),eE=(0,ep.getArmorSetBonus)(l,"GOLD_SET"),eA=(0,a.isCompanionBonusActive)(l,24)?l?.companions?.list?.at(24)?.bonus:0,eO=(0,V.getGambitBonus)(l,7),eP=(0,o.getHighestTalentByClass)(s,"Winder_Walker","DUSTWALKER"),eL=f*Math.floor(i/250)+(v*Math.floor(d/250)+B*Math.floor(p/250));return{cashMulti:(1+eL/100)*(1+Math.min(4,eA))*(1+.5*em)*(1+.6*ed)*(1+(ef+eg+eh)/100)*(1+eE/100)*(1+eO/100)*(1+250*ev/100)*(1+Math.max(1,eP)*(0,S.lavaLog)(l?.accountOptions[362])/100)*(1+(k+x+(ec+eu))/100)*(1+(.5*w+(E+A/100)))*(1+(O+(eB*l?.unlockedRecipes+e_*l?.alchemy?.totalBubbleLevelsTill100))/100)*(1+eM/100)*(1+P/100)*(1+(D+l?.farming?.cropDepot?.cash?.value)/100)*(1+(eb+G+(j+U+W+($+H+(Y+(K+(J+X)+(Q+(Z*(1+Math.floor(e?.mapIndex/50))+(ee+(et+(ea+eS*(0,S.lavaLog)(l?.accountOptions?.[340])+(5*en+(10*el+(20*es+(ey+(ek*ex+eC*eT)))))))))))))))/100),breakdown:[{title:"Multiplicative"},{name:""},{name:"Achievements",value:5*en+10*el+20*es},{name:"Arcade",value:J+X},{name:"Artifact",value:x},{name:"Bubbles",value:eL},{name:"Bundle",value:250*ev},{name:"Cards",value:$+H},{name:"Charm",value:eM},{name:"Companion",value:eA},{name:"Crop Depot",value:l?.farming?.cropDepot?.cash?.value},{name:"Divinity",value:D},{name:"Dungeons",value:K},{name:"Drop Rate",value:ei},{name:"Dust Walker",value:Math.max(1,eP)*(0,S.lavaLog)(l?.accountOptions[362])},{name:"Equipment",value:eg+ef+j+U+W+eh},{name:"Event shop",value:.5*em},{name:"Event shop2",value:.6*ed},{name:"Food",value:ea},{name:"Golden Food",value:ea},{name:"Gold set",value:eE},{name:"Guild",value:Z*(1+Math.floor(e?.mapIndex/50))},{name:"Kangaroo",value:ec},{name:"Lab",value:O},{name:"Meal",value:k},{name:"Obols",value:U},{name:"Pet Arena",value:100*(.5*w+E)},{name:"Post Office",value:Q},{name:"Prayers",value:P},{name:"Star talent",value:eb+et},{name:"Statues",value:A},{name:"Talents",value:ee+Y},{name:"Vault Bored Beans",value:ek*ex},{name:"Vault Bubble",value:e_*l?.alchemy?.totalBubbleLevelsTill100},{name:"Vault Ores",value:eS*(0,S.lavaLog)(l?.accountOptions?.[340])},{name:"Vault Poop",value:eC*eT},{name:"Vault Recipe",value:eB*l?.unlockedRecipes},{name:"Vault Tax",value:ey},{name:"Vials",value:G},{name:"Vote",value:eu}],expression:`(1 + (
    cashStrBubble * Math.floor(strength / 250) +
    cashAgiBubble * Math.floor(agility / 250) +
    cashWisBubble * Math.floor(wisdom / 250)
) / 100)
* (1 + Math.min(4, companionBonus))
* (1 + 0.5 * eventBonus)
* (1 + 0.6 * eventBonus2)
* (1 + (obolsBonusMoney + equipmentBonusMoney + bonusMoneyTools) / 100)
* (1 + armorSetBonus / 100)
* (1 + gambitBonus / 100)
* (1 + (250 * hasCashBundle) / 100)
* (1 + (Math.max(1, dustWalker) * lavaLog(account?.accountOptions[362])) / 100)
* (1 + (mealBonus
    mealBonus +
    artifactBonus +
    kangarooBonus +
    voteBonus
) / 100)
* (1 + (0.5 * arenaBonusUnlock + secondArenaBonusUnlock + statueBonus / 100))
* (1 + (
    labBonus +
    recipeForProfitVaultBonus * account?.unlockedRecipes +
    bubbleMoneyVaultBonus * account?.alchemy?.totalBubbleLevelsTill100
) / 100)
* (1 + charmBonus / 100)
* (1 + prayerBonus / 100)
* (1 + (divinityMinorBonus + account?.farming?.cropDepot?.cash?.value) / 100)
* (1 + (
    starTalent +
    vialBonus +
    cashFromEquipment +
    cashFromObols +
    equippedCardBonus +
    passiveCardBonus +
    talentBonus +
    flurboBonus +
    arcadeBonus +
    secondArcadeBonus +
    postOfficeBonus +
    guildBonus * (1 + Math.floor(character?.mapIndex / 50)) +
    coinsForCharonBonus +
    americanTipperBonus +
    goldFoodBonus +
    miningPaydayVaultBonus * lavaLog(oresMined) +
    5 * achievementBonus +
    10 * secondAchievementBonus +
    20 * thirdAchievementBonus +
    monsterTaxVaultBonus +
    boredToDeathVaultBonus * boredBeansKills +
    sixthVaultUpgradeBonus * poopKills
) / 100)`}},eA=(e,l,s)=>{let r=(0,o.getTalentBonus)(e?.flatStarTalents,"PRINTER_SAMPLING"),m=(0,B.getSaltLickBonus)(l?.saltLick,0),d=(0,n.getStatsFromGear)(e,60,l),p=(0,c.getBubbleBonus)(l,"SAMPLE_IT",!1),h=(0,o.getTalentBonus)(e?.flatStarTalents,"SUPER_SAMPLES"),f=(0,I.getAchievementStatus)(l?.achievements,158),_=(0,c.getVialsBonusByEffect)(l?.alchemy?.vials,"Printer_sample"),M=(0,g.getPrayerBonusAndCurse)(e?.activePrayers,"The_Royal_Sampler",l)?.bonus,b=(0,i.getStampsBonusByEffect)(l,"3D_Printer_Sampling_Size"),S=l?.tasks?.[2]?.[2]?.[4],y=(0,a.getHighestLevelOfClass)(s,o.CLASSES.Voidwalker);return Math.floor(1e3*((r+(m+d)+(p+(h+Math.min(1,f)))+_+M+b+Math.min(5,.5*S)+Math.min(5,(0,v.getFamilyBonusBonus)(t.classFamilyBonuses,"PRINTER_SAMPLE_SIZE",y)||0)+((0,N.getArcadeBonus)(l?.arcade?.shop,"Sample_Size")?.bonus+(0,u.getPostOfficeBonus)(e?.postOffice,"Utilitarian_Capsule",0)))/100))/10},eO=(e,a)=>{let n=["Nothing","Z","Copper","Iron","Starfire","Plat","Void","Filler","JungleZ","Grandfrog's_Gazebo","Grandfrog's_Backyard","Gravel_Tomb","Heaty_Hole","Igloo's_Basement","Inside_the_Igloo","End_Of_The_Road","Efaunt's_Tomb","Eycicles's_Nest","Enclave_a_la_Troll","Chizoar's_Cavern","KattleKruk's_Volcano","Castle_Interior","Emperor's_Castle"].toSimpleObject(),l=Object.values(t.mapNames).map((n,l)=>{let s=t.mapEnemiesArray?.[l],{MonsterFace:o,Name:r,AFKtype:i}=t.monsters?.[s]||{},u=Math.abs(e?.[l]?.[0]-t.mapDetails?.[l]?.[0]?.[0]);return{mapName:n,afkTarget:s,kills:u,monsterFace:o,name:r,afkType:i,done:a?.map(e=>u>=e)}}).filter(({mapName:e,afkType:t})=>"FIGHTING"===t&&!n[e]&&!t.includes("Fish")&&!t.includes("Bug")&&!e.includes("Colosseum"));return{finished:l?.reduce((e,{done:t})=>[t?.[0]?e?.[0]+1:e?.[0],t?.[1]?e?.[1]+1:e?.[1]],[0,0]),list:l}},eP=(e,t,a)=>{let n=eB(a?.Sailing)||a?.Sailing,l=n?.[3],s=l?.[0]>0,c=(0,f.getShrineBonus)(t?.shrines,6,e.mapIndex,t.cards,s),m=(0,i.getStampBonus)(t,"misc","StampC3",e),d=e?.cards?.equippedCards?.find(({cardIndex:e})=>"A10"===e),p=d?(0,r.calcCardBonus)(d):0,g=e?.cards?.equippedCards?.find(({cardIndex:e})=>"G4"===e),h=g?(0,r.calcCardBonus)(g):0,v=(0,o.getTalentBonus)(e?.flatStarTalents,"CRYSTALS_4_DAYYS"),B=(0,o.getTalentBonus)(e?.flatTalents,"CMON_OUT_CRYSTALS"),_=(0,u.getPostOfficeBonus)(e?.postOffice,"Non_Predatory_Loot_Box",2),M=[{name:"Cmon Out Crystals",value:B},{name:"Crystal Shrine Crescent",value:c},{name:"Post Office",value:_},{name:"Crystals 4 Days",value:v},{name:"Crystallin Stamp",value:m},{name:"Poop Card",value:p},{name:"Demon Genie Card",value:h}];return M.sort((e,t)=>e?.name.localeCompare(t?.name,"en")),{breakdown:M,value:5e-4*(1+B/100)*(1+(_+c)/100)*(1+v/100)*(1+m/100)*(1+(p+h)/100),expression:`0.0005
 * (1 + cmonOutCrystalsBonus / 100)
 * (1 + (nonPredatoryBoxBonus + crystalShrineBonus) / 100)
 * (1 + crystals4DaysBonus / 100)
 * (1 + crystallinStampBonus / 100)
 * (1 + (poopCardBonus + demonGenieBonus) / 100)`}},eL=(e,t,a)=>{let l=(0,u.getPostOfficeBonus)(e?.postOffice,"Carepack_From_Mum",2),s=(0,m.getStatueBonus)(t,3,e?.flatTalents),c=(0,n.getStatsFromGear)(e,9,t),p=(0,i.getStampsBonusByEffect)(t,"Effect_from_Boost_Food",e),g=(0,d.getStarSignBonus)(e,t,"All_Food_Effect"),h=(0,r.getEquippedCardBonus)(e?.cards,"Y5"),f=e?.cards?.cardSet?.rawName==="CardSet1"?e?.cards?.cardSet?.bonus:0,v=(0,o.getTalentBonus)(e?.flatStarTalents,"FROTHY_MALK");return a?1+((0,u.getPostOfficeBonus)(e?.postOffice,"Carepack_From_Mum",1)+(s+(c+((0,i.getStampsBonusByEffect)(t,"Boost_Health_Effect",e)+(g+f)))))/100:1+(l+(s+(c+(p+(g+(h+(f+v)))))))/100},eI=(e,t,l)=>{let s,u,p=(0,o.getTalentBonus)(e?.flatTalents,"FEATHERWEIGHT"),g=(0,o.getTalentBonus)(e?.flatTalents,"FEATHER_FLIGHT"),h=(0,i.getStampsBonusByEffect)(l,"Movement_Speed",e),f=(0,o.getTalentBonusIfActive)(e?.activeBuffs,"STRAFE"),v=(0,a.getFoodBonus)(e,l,"MoveSpdBoosts");u=e.stats?.agility<1e3?(Math.pow(e.stats?.agility+1,.4)-1)/40:(e.stats?.agility-1e3)/(e.stats?.agility+2500)*.5+.371,s=1+((s=(v+p+h+f+((0,m.getStatueBonus)(l,1,e?.flatTalents)+((0,d.getStarSignBonus)(e,l,"Movement_Speed")+((0,n.getStatsFromGear)(e,1,l)+((0,r.getCardBonusByEffect)(e?.cards?.equippedCards,"Move_Spd")+g)))))/100)+u/2.2);let _=(0,o.getTalentBonus)(e?.flatStarTalents,"TIPTOE_QUICKNESS");return Math.round(100*(s=s>2?Math.floor(100*s)/100:s>1.75?Math.min(2,Math.floor(100*(s+_/100))/100):Math.min(1.75,Math.floor(100*(s+((0,B.getSaltLickBonus)(l?.saltLick,7)+(l?.lab?.playersChips?.[e?.playerId]?.find(e=>15===e.index)?.baseVal??0)+(_+(0,c.getSigilBonus)(l?.alchemy?.p2w?.sigils,"TUFT_OF_HAIR")))/100))/100)))},eN=(e,l,s)=>{let i=[],m=0,{afkType:p}=e,{guild:B,bribes:M,shrines:S,charactersLevels:y,tasks:k}=s,x=2*(k?.[2]?.[1]?.[2]>e?.playerId),C=(0,a.getHighestLevelOf)(l,o.CLASSES.Beast_Master),T=(0,v.getFamilyBonusBonus)(t.classFamilyBonuses,"ALL_SKILL_AFK_GAINS",C),w=(0,r.getCardBonusByEffect)(e?.cards?.equippedCards,"Skill_AFK_gain_rate"),E=0;B?.guildBonuses?.length>0&&(E=(0,h.getGuildBonusBonus)(B?.guildBonuses,7));let A=e?.cards?.cardSet?.rawName==="CardSet5"?e?.cards?.cardSet?.bonus:0,O=(0,o.getHighestTalentByClass)(l,o.CLASSES.Voidwalker,"ENHANCEMENT_ECLIPSE"),P=(0,o.getVoidWalkerTalentEnhancements)(l,s,O,79)?(0,o.getTalentBonus)(e?.flatTalents,"SLEEPIN'_ON_THE_JOB"):0,I=(0,c.getSigilBonus)(s?.alchemy?.p2w?.sigils,"DREAM_CATCHER"),R=(0,L.getPlayerLabChipBonus)(e,s,8),D=(0,n.getStatsFromGear)(e,59,s),G=(0,b.getObolsBonus)(e?.obols,t.bonuses?.etcBonuses?.[59]),j=(0,n.getStatsFromGear)(e,24,s),W=(0,b.getObolsBonus)(e?.obols,t.bonuses?.etcBonuses?.[24]),U=(0,g.getPrayerBonusAndCurse)(e?.activePrayers,"Zerg_Rushogen",s)?.bonus,q=(0,g.getPrayerBonusAndCurse)(e?.activePrayers,"Ruck_Sack",s)?.curse;(0,a.getEventShopBonus)(s,5);let V=x+(T+(2+w)+(E+A+(P+(I+R)+(j+W+(D+G)+(U-q))))),H=(0,N.getArcadeBonus)(s?.arcade?.shop,"AFK_Gains_Rate")?.bonus,$=(0,_.getDungeonFlurboStatBonus)(s?.dungeons?.upgrades,"AFK_Gains"),Y=(0,a.isCompanionBonusActive)(s,0)||e?.linkedDeity===0||e?.secondLinkedDeityIndex===0?1:0,K=l?.reduce((e,t)=>(0,a.isCompanionBonusActive)(s,0)?e+(0,F.getMinorDivinityBonus)(t,s,4,l):t?.linkedDeity===4?t?.deityMinorBonus>e?t?.deityMinorBonus:e:t?.secondLinkedDeityIndex===4&&t?.secondDeityMinorBonus>e?t?.secondDeityMinorBonus:e,0),J=(0,a.isCompanionBonusActive)(s,6)&&5,X=(0,a.getRandomEventItems)(s),z=(0,o.getTalentBonus)(e?.flatStarTalents,"RANDO_EVENT_LOOTY"),Q=+(H+($+(30*Y+(K+(J+z*X))))),Z=V+Q;i=[{title:"Base"},{name:""},{name:"Tasks",value:x},{name:"Family",value:T},{name:"Cards",value:w},{name:"Guild",value:E},{name:"Card Set",value:A},{name:"Sleepin On The Job (VW Eclipse)",value:P},{name:"Sigil",value:I},{name:"Chips",value:R},{name:"Equipment",value:D+j},{name:"Obols",value:G+W},{name:"Prayers",value:U-q},{name:"Arcade",value:H},{name:"Dungeons",value:$},{name:"Divinity Major",value:30*Y},{name:"Divinity Minor",value:K},{name:"Companion",value:J},{name:"Rando Event Looty",value:z*X},{name:""}];let ee=M?.[24]?.done?M?.[24]?.value:0,et=(0,f.getShrineBonus)(S,8,e?.mapIndex,s.cards,s?.sailing?.artifacts),ea=(0,o.getTalentBonus)(e?.flatStarTalents,"TICK_TOCK"),en=(0,o.getTalentBonus)(e?.flatTalents,"IDLE_SKILLING"),el=(0,o.getTalentBonus)(e?.flatTalents,"ACTIVE_AFK'ER"),es=(0,o.getTalentBonus)(e?.flatTalents,"CATCHING_SOME_ZZZ'S"),eo=eR("TrapMGbonus",8,s),er=(0,d.getStarSignBonus)(e,s,"Skill_AFK_Gain");if("FIGHTING"===p){let l=(0,a.getHighestLevelOfClass)(y,o.CLASSES.Voidwalker),c=(0,v.getFamilyBonusBonus)(t.classFamilyBonuses,"FIGHTING_AFK_GAINS",l),p=(0,u.getPostOfficeBonus)(e?.postOffice,"Civil_War_Memory_Box",1),g=(0,o.getTalentBonus)(e?.flatTalents,"IDLE_BRAWLING"),f=(0,o.getTalentBonus)(e?.flatTalents,"IDLE_CASTING"),_=(0,o.getTalentBonus)(e?.flatTalents,"IDLE_SHOOTING"),S=(0,o.getTalentBonus)(e?.flatTalents,"SLEEPIN'_ON_THE_JOB"),k=M?.[3]?.done?M?.[3]?.value:0,C=e?.cards?.cardSet?.rawName==="CardSet8"?e?.cards?.cardSet?.bonus:0,T=(0,r.getCardBonusByEffect)(e?.cards?.equippedCards,t.cardBonuses[43]),w=(0,n.getStatsFromGear)(e,20,s),E=(0,b.getObolsBonus)(e?.obols,t.bonuses?.etcBonuses?.[20]),A=(0,d.getStarSignBonus)(e,s,"Fight_AFK_Gain"),O=0;B?.guildBonuses?.length>0&&(O=(0,h.getGuildBonusBonus)(B?.guildBonuses,4));let P=s?.lab?.playersChips?.[e?.playerId]?.find(e=>7===e.index)?.baseVal??0;m=.2+(c+p+g+k+(_+C+(f+(ea+(x+Q+(T+(S+(w+E+(D+G)+(A+(O+(U-q+P)))))))))))/100,i=[...i,{title:"Fighting"},{name:""},{name:"Family",value:c},{name:"Post Office",value:p},{name:"Talents",value:g+f+_+S},{name:"Bribe",value:k},{name:"Card Set",value:C},{name:"Cards",value:T},{name:"Equipment",value:w+D},{name:"Obols",value:E+G},{name:"Prayers",value:U-q},{name:"Chips",value:P},{name:"Guild",value:O},{name:"Starsign",value:A}]}else if("COOKING"===p){let t=(0,o.getTalentBonus)(e?.flatTalents,"WAITING_TO_COOL");m=.25+(en+ea+(Z+(eo+(er+(ee+t)))))/100,i=[...i,{title:"Cooking"},{name:""},{name:"Talents",value:en+t+ea},{name:"Starsign",value:er},{name:"Trapping Bonus",value:eo},{name:"Bribe",value:ee}]}else if("MINING"===p){let t=(0,u.getPostOfficeBonus)(e?.postOffice,"Dwarven_Supplies",2),n=(0,a.isMasteryBonusUnlocked)(s?.rift,s?.totalSkillsLevels?.mining?.rank,2)?(0,r.getCardBonusByEffect)(s?.cards,"Mining_Away_Gains"):(0,r.getCardBonusByEffect)(e?.cards?.equippedCards,"Mining_Away_Gains"),l=o.mainStatMap?.[e?.class],d=(0,c.getBubbleBonus)(s,"DREAM_OF_IRONFISH",!1,"strength"===l);m=.25+(en+(t+(eo+ea+(Z+(n+(er+(ee+d)))))))/100,i=[...i,{title:"Mining"},{name:""},{name:"Talents",value:en+ea},{name:"Starsign",value:er},{name:"Trapping Bonus",value:eo},{name:"Bribe",value:ee},{name:"Card",value:n},{name:"Post Office",value:t},{name:"Bubble",value:d}]}else if("CHOPPIN"===p){let n=(0,u.getPostOfficeBonus)(e?.postOffice,"Taped_Up_Timber",2),l=(0,a.isMasteryBonusUnlocked)(s?.rift,s?.totalSkillsLevels?.chopping?.rank,2)?(0,r.getCardBonusByEffect)(s?.cards,t.cardBonuses[36]):(0,r.getCardBonusByEffect)(e?.cards?.equippedCards,t.cardBonuses[36]),d=o.mainStatMap?.[e?.class],p=(0,c.getBubbleBonus)(s,"TREE_SLEEPER",!1,"wisdom"===d);m=.25+(el+(n+(eo+ea+(Z+(l+(er+(ee+p)))))))/100,i=[...i,{title:"Choppin"},{name:""},{name:"Talents",value:el+ea},{name:"Starsign",value:er},{name:"Trapping Bonus",value:eo},{name:"Bribe",value:ee},{name:"Card",value:l},{name:"Post Office",value:n},{name:"Bubble",value:p}]}else if("FISHING"===p){let l=(0,u.getPostOfficeBonus)(e?.postOffice,"Sealed_Fishheads",2),d=(0,a.isMasteryBonusUnlocked)(s?.rift,s?.totalSkillsLevels?.fishing?.rank,2)?(0,r.getCardBonusByEffect)(s?.cards,t.cardBonuses[39]):(0,r.getCardBonusByEffect)(e?.cards?.equippedCards,t.cardBonuses[39]),p=o.mainStatMap?.[e?.class],g=(0,c.getBubbleBonus)(s,"DREAM_OF_IRONFISH",!1,"strength"===p),h=(0,n.getStatsFromGear)(e,64,s),f=(0,n.getStatsFromGear)(e,64,s,!0),v=(0,b.getObolsBonus)(e?.obols,t.bonuses?.etcBonuses?.[64]);m=.25+(en+(es+(eo+l+(ea+(Z+(d+(er+(ee+(g+(h+v+f))))))))))/100,i=[...i,{title:"Fishing"},{name:""},{name:"Talents",value:en+es+ea},{name:"Starsign",value:er},{name:"Trapping Bonus",value:eo},{name:"Bribe",value:ee},{name:"Card",value:d},{name:"Post Office",value:l},{name:"Bubble",value:g},{name:"Equipment",value:h},{name:"Obols",value:v},{name:"Tools",value:f}]}else if("CATCHING"===p){let n=(0,u.getPostOfficeBonus)(e?.postOffice,"Bug_Hunting_Supplies",2),l=(0,o.getTalentBonus)(e?.flatTalents,"SUNSET_ON_THE_HIVES"),d=(0,a.isMasteryBonusUnlocked)(s?.rift,s?.totalSkillsLevels?.catching?.rank,2)?(0,r.getCardBonusByEffect)(s?.cards,t.cardBonuses[41]):(0,r.getCardBonusByEffect)(e?.cards?.equippedCards,t.cardBonuses[41]),p=o.mainStatMap?.[e?.class],g=(0,c.getBubbleBonus)(s,"FLY_IN_MIND",!1,"agility"===p);m=.25+(l+(eo+n+(ea+(Z+(d+(er+(ee+g)))))))/100,i=[...i,{title:"Catching"},{name:""},{name:"Talents",value:l+ea},{name:"Starsign",value:er},{name:"Trapping Bonus",value:eo},{name:"Bribe",value:ee},{name:"Card",value:d},{name:"Post Office",value:n},{name:"Bubble",value:g}]}else"LABORATORY"===p&&(m=.25+(ea+(Z+(eo+(er+ee))))/100,i=[...i,{title:"Laboratory"},{name:""},{name:"Talents",value:ea},{name:"Starsign",value:er},{name:"Trapping Bonus",value:eo},{name:"Bribe",value:ee}]);let ei=m;return m<1.5&&(ei=Math.min(1.5,m+et/100)),{afkGains:Math.max(.01,ei),breakdown:i=[...i,{name:"Shrine (< 150)",value:m<1.5?et:0}]}},eR=(e,a,n)=>{if("TrapMGbonus"===e){if(n?.accountOptions?.[99]>=25*(a+1)){let e=t.randomList?.[59]?.split(" ")?.map(e=>parseFloat(e));return e?.[a]}return 0}return 1},eD=(e,t)=>{let{starSigns:a,cards:n,postOffice:l,talents:s,flatTalents:i,equippedBubbles:m}=e,{lab:p}=t,g=(0,L.getLabBonus)(p?.labBonuses,8),h=(0,L.getJewelBonus)(p?.jewels,8,g),f=(0,c.getActiveBubbleBonus)(m,"BITE_BUT_NOT_CHEW",t);return Math.min(Math.min(90+5*h,98+Math.min(f,1)),Math.max(1,h)*((0,o.getTalentBonus)(i,"FREE_MEAL")+((0,u.getPostOfficeBonus)(l,"Carepack_From_Mum",0)+((0,r.getEquippedCardBonus)(n?.equippedCards,"B3")+(0,d.getStarSignByEffect)(a,t,"chance_to_not")+f))))},eF=(e,a)=>{let l=e?.skillsInfo?.construction?.level,s=3*Math.pow(l/2+.7,1.6),r=o.mainStatMap?.[e?.class],m=(0,c.getBubbleBonus)(a,"CARPENTER",!1,"strength"===r),d=1+((0,i.getStampsBonusByEffect)(a,"Building_Speed",e)+.25*(0,u.getPostOfficeBoxLevel)(e?.postOffice,"Construction_Container")+((0,h.getGuildBonusBonus)(a?.guild?.guildBonuses,5)+((0,n.getStatsFromGear)(e,30,a)+(0,b.getObolsBonus)(e?.obols,t.bonuses?.etcBonuses?.[30]))+Math.min(5,5*(0,I.getAchievementStatus)(a?.achievements,153))+(0,j.getConstructMastery)(a?.towers?.totalLevels,"Build Spd")+(0,c.getVialsBonusByEffect)(a?.alchemy?.vials,null,"Contspd")))/100,p=(0,o.getTalentBonus)(e?.flatTalents,"REDOX_RATES",!1,!0),g=(0,W.getAtomBonus)(a,"Helium_-_Talent_Power_Stacker"),f=(0,n.calculateItemTotalAmount)([...a?.storage?.list,...a?.refinery?.refineryStorage||[]],"Refinery1",!0,!0);return Math.floor(s*(1+l*m/100)*d*(1+p*(g+(0,S.lavaLog)(f))/100))},eG=(e,t)=>{let a=e?.constructionSpeed,n=(0,c.getActiveBubbleBonus)(e.equippedBubbles,"CALL_ME_BOB",t),l=(0,o.getTalentBonus)(e?.flatTalents,"SHARPER_SAWS"),s=(0,o.getTalentBonus)(e?.flatTalents,"TEMPESTUOUS_EMOTIONS"),r=(0,c.getVialsBonusByEffect)(t?.alchemy?.vials,null,"ConsExp"),p=(0,m.getStatueBonus)(t,18,e?.flatTalents),g=(0,i.getStampsBonusByEffect)(t,"+{%_Construction_Exp_Gain",e),h=(0,d.getStarSignBonus)(e,t,"Construct_Exp"),f=(0,u.getPostOfficeBoxLevel)(e?.postOffice,"Construction_Container");return Math.ceil((Math.pow(a,.7)/2+(2+6*e?.skillsInfo?.construction?.level))*(1+(n+(l+s+(r+(p+(g+(h+Math.max(0,.5*(f-100))))))))/100))}}]);