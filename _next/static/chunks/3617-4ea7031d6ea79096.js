"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3617],{55407:function(e,t,n){var a=n(85893),r=n(67294),l=n(23972),s=n(67720),c=n(51233),i=n(94054),o=n(47312),d=n(53213),h=n(18972),u=n(66242),x=n(44267),g=n(27709),p=n(30925),m=n(76947),v=n(2511),f=n(62801);t.Z=e=>{let{character:t,account:n,getOptimizedUpgradesFn:j,upgradeCategories:Z,resourceNames:b,resourceKey:y,resourceImagePrefix:C,upgradeImagePrefix:w,getResourceType:q,getUpgradeIconIndex:S,getResourceAmount:I,tooltipText:L}=e,[k,E]=(0,r.useState)("damage"),[O,U]=(0,r.useState)(10),[z,M]=(0,f.Z)("Group by upgrade"),[N,P]=(0,f.Z)("Only show affordable upgrades"),_=(0,r.useMemo)(()=>t?j(t,n,k,O,{onlyAffordable:P}):[],[t,k,O,n,j,P]),A=(0,r.useMemo)(()=>{if(!M)return _.map((e,t)=>({...e,upgradeIndex:t}));let e=[],t=null,n={};return _.forEach((a,r)=>{var l;let s=a.name,c=t&&t.name===s?t.startLevel:null!==(l=n[s])&&void 0!==l?l:a.level;t&&t.name===s?t.sequence.push({...a,originalIndex:r}):(t&&(t.finalLevel=t.startLevel+t.sequence.length,n[t.name]=t.finalLevel,e.push(t)),t={...a,upgradeIndex:r,sequence:[{...a,originalIndex:r}],startLevel:c})}),t&&(t.finalLevel=t.startLevel+t.sequence.length,n[t.name]=t.finalLevel,e.push(t)),e.map(e=>{if(!e.sequence||e.sequence.length<=1)return e;let t={},n=0,a=q(e);return e.sequence.forEach(e=>{n+=e.cost,e.statChanges.forEach(e=>{t[e.stat]||(t[e.stat]={stat:e.stat,change:0,percentChange:0}),t[e.stat].change+=e.change,t[e.stat].percentChange+=e.percentChange})}),{...e,combinedStatChanges:Object.values(t),totalCost:n,resourceType:a,startLevel:e.startLevel,finalLevel:e.finalLevel,numberOfUpgrades:e.sequence.length}})},[_,M,q]),B=(0,r.useMemo)(()=>{let e={};_.forEach(t=>{let n=q(t),a=b[n]||n;e[a]||(e[a]={name:a,cost:0,currentAmount:0}),e[a].cost+=t.cost});let t=y.split(".").reduce((e,t)=>null==e?void 0:e[t],n)||[];return t.forEach((t,n)=>{let a=b[n]||t.name;if(e[a]){var r;e[a].currentAmount=I?I(t,n,b):null!==(r=t.value)&&void 0!==r?r:t}}),Object.values(e)},[_,n,y,b,I,q]),formatChange=e=>e>=1e3?"+".concat((0,p.notateNumber)(e)):"+".concat(e.toFixed(2).replace(/\.00$/,"")),formatPercentChange=e=>"+".concat(e.toFixed(2).replace(/\.00$/,""),"%"),renderStatChanges=e=>e.map((e,t)=>(0,a.jsxs)(l.Z,{variant:"body2",children:[e.stat.charAt(0).toUpperCase()+e.stat.slice(1),": ",formatChange(e.change)," (",formatPercentChange(e.percentChange),")"]},t)),renderCombinedStats=e=>{if(!e.combinedStatChanges)return null;let t=Object.keys(b).find(t=>b[t]===e.resourceType)||e.resourceType;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.Z,{sx:{my:1}}),(0,a.jsxs)(l.Z,{variant:"subtitle2",gutterBottom:!0,children:["Total Benefits (Levels ",e.startLevel," â†’ ",e.finalLevel,")"]}),e.combinedStatChanges.map((e,t)=>(0,a.jsxs)(l.Z,{variant:"body2",children:[e.stat.charAt(0).toUpperCase()+e.stat.slice(1),": ",formatChange(e.change)," (",formatPercentChange(e.percentChange),")"]},t)),(0,a.jsx)(s.Z,{sx:{my:1}}),(0,a.jsxs)(c.Z,{direction:"row",gap:1,alignItems:"center",children:[(0,a.jsx)("img",{style:{objectPosition:"0 -6px"},src:"".concat(p.prefix,"data/").concat(C).concat(t,"_x1.png"),alt:""}),(0,a.jsxs)(l.Z,{variant:"body2",children:["Total Cost: ",(0,p.notateNumber)(e.totalCost)]})]})]})};return(0,a.jsxs)(c.Z,{gap:3,children:[(0,a.jsxs)(c.Z,{direction:"row",gap:2,alignItems:"center",flexWrap:"wrap",children:[(0,a.jsxs)(i.Z,{size:"small",sx:{width:200},children:[(0,a.jsx)(o.Z,{children:"Optimization Category"}),(0,a.jsx)(d.Z,{value:k,label:"Optimization Category",onChange:e=>E(e.target.value),children:Object.entries(Z).map(e=>{let[t,{name:n}]=e;return(0,a.jsx)(h.Z,{value:t,children:n},t)})})]}),(0,a.jsxs)(i.Z,{size:"small",sx:{width:120},children:[(0,a.jsx)(o.Z,{children:"Max Upgrades"}),(0,a.jsxs)(d.Z,{value:O,label:"Max Upgrades",onChange:e=>U(e.target.value),children:[(0,a.jsx)(h.Z,{value:5,children:"5"}),(0,a.jsx)(h.Z,{value:10,children:"10"}),(0,a.jsx)(h.Z,{value:25,children:"25"}),(0,a.jsx)(h.Z,{value:50,children:"50"}),(0,a.jsx)(h.Z,{value:100,children:"100"})]})]}),(0,a.jsx)(z,{}),(0,a.jsx)(N,{}),(0,a.jsx)(v.Z,{title:L,children:(0,a.jsx)(m.Z,{})}),(0,a.jsx)(s.Z,{sx:{my:1},flexItem:!0,orientation:"vertical"}),B.map(e=>{let t=Object.keys(b).find(t=>b[t]===e.name)||e.name;return(0,a.jsxs)(c.Z,{direction:"row",gap:1,alignItems:"center",children:[(0,a.jsx)("img",{style:{objectPosition:"0 -6px"},src:"".concat(p.prefix,"data/").concat(C).concat(t,"_x1.png"),alt:e.name,width:24,height:24}),(0,a.jsx)(l.Z,{children:(0,p.notateNumber)(e.cost)})]},e.name)})]}),(0,a.jsx)(l.Z,{variant:"h6",children:"Recommended Upgrade Sequence"}),A.length>0?(0,a.jsx)(c.Z,{direction:"row",gap:2,flexWrap:"wrap",children:A.map(e=>{let t=e.sequence&&e.sequence.length>1,n=e.upgradeIndex,r=q(e),i=S?S(e):e.index;return(0,a.jsx)(u.Z,{sx:{width:350},children:(0,a.jsxs)(x.Z,{children:[(0,a.jsxs)(c.Z,{direction:"row",gap:2,sx:{position:"relative"},children:[(0,a.jsx)("img",{style:{width:32,height:32},src:"".concat(p.prefix,"data/").concat(w).concat(i,".png"),alt:""}),(0,a.jsxs)(g.Z,{children:[(0,a.jsxs)(l.Z,{variant:"subtitle1",children:[(0,p.cleanUnderscore)(e.name)," (",e.level," / ",e.x4,")"]}),(0,a.jsx)(l.Z,{variant:"caption",color:"text.secondary",children:t?"Upgrade Group (#".concat(n+1).concat(e.sequence.length>1?" to #".concat(n+e.sequence.length):"",")"):"Upgrade #".concat(n+1)})]})]}),t&&e.combinedStatChanges?renderCombinedStats(e):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.Z,{sx:{my:1}}),renderStatChanges(e.statChanges),(0,a.jsx)(s.Z,{sx:{my:1}}),(0,a.jsxs)(c.Z,{direction:"row",gap:1,alignItems:"center",children:[(0,a.jsx)("img",{style:{objectPosition:"0 -6px"},src:"".concat(p.prefix,"data/").concat(C).concat(r,"_x1.png"),alt:""}),(0,a.jsxs)(l.Z,{variant:"body2",children:["Cost: ",(0,p.notateNumber)(e.cost)]})]})]})]})},n)})}):(0,a.jsx)(l.Z,{variant:"body1",color:"text.secondary",children:"No viable upgrades found for this category with your current resources."})]})}},30509:function(e,t,n){var a=n(85893),r=n(67294),l=n(31002),s=n(29676),c=n(40044),i=n(30925),o=n(27709),d=n(11163);t.Z=e=>{var t;let{tabs:n,components:h,icons:u,children:x,onTabChange:g,forceScroll:p,orientation:m="horizontal",iconsOnly:v,queryKey:f="t",clearOnChange:j=[],disableQuery:Z=!1}=e,b=(0,l.Z)(e=>e.breakpoints.down("md"),{noSsr:!0}),y=(0,d.useRouter)(),[C,w]=(0,r.useState)(0),q=y.query[f],S=n.findIndex(e=>e===q),I=Z?C:S>=0?S:0;(0,r.useEffect)(()=>{Z||q||y.replace({pathname:y.pathname,query:{...y.query,[f]:n[I]}},void 0,{shallow:!0})},[q,f,n,I,y,Z]);let L=Array.isArray(x)?x:[x];return(0,a.jsxs)(o.Z,{sx:"vertical"===m?{flexGrow:1,display:"flex"}:{},children:[(0,a.jsx)(s.Z,{centered:!p&&(!b||b&&n.length<4),scrollButtons:!0,allowScrollButtonsMobile:!0,sx:{marginBottom:3},variant:b&&n.length>=4||p?"scrollable":"standard",value:I,onChange:(e,t)=>{if(Z)w(t);else{let e={...y.query,[f]:n[t]};j.forEach(t=>delete e[t]),y.push({pathname:y.pathname,query:e},void 0,{shallow:!0})}g&&g(t)},children:null===(t=null!=h?h:n)||void 0===t?void 0:t.map((e,t)=>(0,a.jsx)(c.Z,{iconPosition:"start",icon:(null==u?void 0:u[t])?(0,a.jsx)("img",{src:"".concat(i.prefix).concat(null==u?void 0:u[t],".png")}):null,wrapped:!0,label:v?"":e,sx:{minWidth:62}},"".concat(null==e?void 0:e[t],"-").concat(t)))}),g?x:null==L?void 0:L.map((e,t)=>t===I?e:null)]})}},62801:function(e,t,n){var a=n(85893),r=n(50480),l=n(69368),s=n(67294),c=n(7336);t.Z=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],[n,i]=(0,s.useState)(!0),[o,d]=(0,c.I)({key:"checkbox-".concat(e),defaultValue:t});return(0,s.useEffect)(()=>{i(!1)},[]),[()=>n?null:(0,a.jsx)(r.Z,{sx:{width:"fit-content"},control:(0,a.jsx)(l.Z,{checked:o,onChange:()=>d(e=>!e)}),label:e}),o,d]}},76947:function(e,t,n){n.d(t,{Z:function(){return a}});/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var a=(0,n(33733).Z)("filled","info-circle-filled","IconInfoCircleFilled",[["path",{d:"M12 2c5.523 0 10 4.477 10 10a10 10 0 0 1 -19.995 .324l-.005 -.324l.004 -.28c.148 -5.393 4.566 -9.72 9.996 -9.72zm0 9h-1l-.117 .007a1 1 0 0 0 0 1.986l.117 .007v3l.007 .117a1 1 0 0 0 .876 .876l.117 .007h1l.117 -.007a1 1 0 0 0 .876 -.876l.007 -.117l-.007 -.117a1 1 0 0 0 -.764 -.857l-.112 -.02l-.117 -.006v-3l-.007 -.117a1 1 0 0 0 -.876 -.876l-.117 -.007zm.01 -3l-.127 .007a1 1 0 0 0 0 1.986l.117 .007l.127 -.007a1 1 0 0 0 0 -1.986l-.117 -.007z",key:"svg-0"}]])}}]);