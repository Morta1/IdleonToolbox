(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,738544,e=>{"use strict";var t=e.i(698881),a=e.i(172833),i=e.i(173024),s=e.i(723748),n=e.i(398241);let r=({currentCharacterIndex:e,account:t,characters:r,isExp:l})=>{let o=(0,n.getAtomBonus)(t,"Magnesium_-_Trap_Compounder")*t?.accountOptions?.[363],c=l?0:(0,a.getVialsBonusByStat)(t?.alchemy?.vials,"TrapOvision")+(0,s.getCompassBonus)(t,42)+o;if((0,i.checkCharClass)(r?.[e]?.class,i.CLASSES.Hunter)){let e=(0,i.getCharacterByHighestTalent)(r,i.CLASSES.Hunter,"EAGLE_EYE",l);c+=l?Math.max(40,Math.min((0,i.getTalentBonus)(e?.flatTalents,"EAGLE_EYE",l),99)):Math.max(50,(0,i.getTalentBonus)(e?.flatTalents,"EAGLE_EYE"))}else{let e=0;for(let t=0;t<r?.length;t++)if((0,i.checkCharClass)(r?.[t]?.class,i.CLASSES.Hunter)){let t=(0,i.getCharacterByHighestTalent)(r,i.CLASSES.Hunter,"EAGLE_EYE",l,!0);e=Math.max(e,(0,i.getTalentBonus)(t?.flatTalents,"EAGLE_EYE",l,!0))}else e=Math.max(e,l?40:50);c+=e}return isNaN(c)?1:c/100};e.s(["calcTotalCritters",0,(e,{critter:t,exp:a})=>e?.traps?.reduce((e,i)=>(i.reduce((i,{crittersQuantity:s,trapExp:n,rawName:r})=>{e={...e,[r]:{critters:(e?.[r]?.critters??0)+((s*t)??1),exp:(e?.[r]?.exp??0)+((n*a)??1)}}},{}),e),{}),"getTraps",0,e=>e.map(e=>(e?.PldTraps||[]).reduce((e,a)=>{let[i,,s,n,r,l,o,c]=a;if(-1===i||"-1"===i)return e;let u=t.traps[l].find(e=>e.trapTime===o);return n?[...e,{name:t.items[n]?.displayName,rawName:n,crittersQuantity:r,trapType:l,trapExp:c,timeLeft:new Date().getTime()+1e3*(o-s),trapData:u}]:e},[])),"getTrapsBonuses",0,(e,t)=>{let a=t?.map((a,i)=>r({currentCharacterIndex:i,account:e,characters:t,isExp:!1})),i=t?.map((a,i)=>r({currentCharacterIndex:i,account:e,characters:t,isExp:!0}));return{max:{critter:Math.max(...a||[1]),exp:Math.max(...i||[1])},min:{critter:Math.min(...a||[1]),exp:Math.min(...i||[1])}}}])},948982,e=>{"use strict";var t=e.i(608580),a=e.i(267350),i=e.i(24174),s=e.i(173024),n=e.i(210270),r=e.i(398241),l=e.i(949500),o=e.i(441132),c=e.i(723748);let u=(e,a)=>{let r=(0,i.isArtifactAcquired)(e?.sailing?.artifacts,"Gold_Relic"),u=r?.acquired===4?r?.sovereignMultiplier:r?.acquired===3?r?.eldritchMultiplier:r?.acquired===2?r?.ancientMultiplier:0,m=e?.accountOptions?.[125],g=e?.accountOptions?.[138],p=a?.filter(e=>(0,s.checkCharClass)(e?.class,s.CLASSES.Divine_Knight)),d=p?.reduce((e,{flatTalents:t,addedLevels:a})=>{let i=(0,s.getTalentBonus)(t,"KING_OF_THE_REMEMBERED",!1,!1,a,!1);return i>e?i:e},0),h=e?.rift?.currentRift>15?(0,n.getSkillMasteryBonusByIndex)(e?.totalSkillsLevels,e?.rift,3):0,y=(0,l.getCharmBonus)(e,"Lolly_Flower"),S=1+(0,o.getVoteBonus)(e,11)/100,f=1+e?.accountOptions?.[354]*(0,n.isCompanionBonusActive)(e,17)/100,v=1+e?.accountOptions?.[364]*(0,c.getCompassBonus)(e,43)/100,b=(1+m*(2+u)/100)*(1+d*(0,t.lavaLog)(g)/100)*(1+h/100)*(1+y/100)*S*(1+2*e?.accountOptions?.[323]*(0,n.getEventShopBonus)(e,4)/100)*f*v;return{params:{daysSinceLastSample:m,highestKingOfRemembrance:d,skillMasteryBonus:h,charmBonus:y,voteBonus:S,orbOfRemembranceKills:g,goldRelicBonus:u,companionBonus:f,compassBonus:v},value:b,expression:`(1 + (daysSinceLastSample * (2 + goldRelicBonus)) / 100)
* (1 + (highestKingOfRemembrance * lavaLog(orbOfRemembranceKills)) / 100)
* (1 + skillMasteryBonus / 100) * (1 + charmBonus / 100)
* voteBonus
* (1 + (2 * accountData?.accountOptions?.[323] * getEventShopBonus(accountData, 4)) / 100)
* companionBonus
* compassBonus`}};e.s(["calcTotals",0,(e,t)=>{let{printer:a,storage:i}=e||{},s=(0,r.getAtomColliderThreshold)(e?.accountOptions?.[133]),n=a?.reduce((e,t)=>(t.forEach(({boostedValue:t,item:a,active:n})=>{if("Blank"!==a&&n)if(e?.[a])e[a]={...e[a],boostedValue:t+e[a]?.boostedValue};else{let n=i?.list.find(({rawName:e})=>e===a)?.amount;e[a]={boostedValue:t,atomable:n>=s-.01*s,storageItem:n}}}),e),{});n=((e={},t,a)=>Object.entries(e)?.reduce((e,[i,s])=>{let{boostedValue:n,atomable:r,storageItem:l}=s,o=n,c;if(a?.checked)c=r;else{let e=n>=t&&!r,a=n>t-l&&!r;o=e?n-t:a?n-(t-l):n,c=e||a||r}return e[i]={...s,...c?{atoms:o/1e7}:{}},e},{}))(n,s,t);let l=Object.entries(n)?.reduce((e,[,t])=>e+(t?.atoms??0),0);return{...n,atom:{boostedValue:l,atoms:l}}},"getPrinter",0,(e,i,s)=>((e,i,s,r)=>{let l=(0,a.getDeityLinkedIndex)(r,s,3),o=r?.hole?.godsLinks?.find(({index:e})=>3===e),c=r?.lab?.labBonuses?.find(e=>"Wired_In"===e.name)?.active,m=r?.lab?.connectedPlayers,{value:g,params:p}=u(r,s),d=e?.slice(5,e?.length);return s.map((e,a)=>{let s=d?.slice(14*a,14*a+14);if(i){let e=i?.slice(10*a,10*a+10);s.splice(-4,0,e),s=s.flat()}return s?.reduce((e,i,u,d)=>{if(u%2==0){let i=d.slice(u,u+2).map((e,t)=>e),h=i[1],y=m?.find(({playerId:e})=>e===a);h*=c&&y?l.includes(a)||o?6*g:2*g:l.includes(a)||o?3*g:g;let S=[{title:"Multiplicative"},{name:""},{name:"Lab",value:y&&c?2:0},{name:"Harriep God",value:l.includes(a)||o?3:0},{name:"Companion",value:p.companionBonus},{name:"Compass",value:p.compassBonus},{name:"Skill Mastery",value:1+p.skillMasteryBonus/100},{name:"Divine Knight",value:(0,t.notateNumber)(1+p.highestKingOfRemembrance*(0,t.lavaLog)(p.orbOfRemembranceKills)/100,"MultiplierInfo")},{name:"Gold Relic",value:1+p.daysSinceLastSample*(2+p.goldRelicBonus)/100},{name:"Charm",value:1+p.charmBonus/100},{name:"Vote",value:p.voteBonus},{name:"Winter event",value:1+2*r?.accountOptions?.[323]*(0,n.getEventShopBonus)(r,4)/100}];return[...e,{item:i[0],value:i[1],active:u>=s.length-4,boostedValue:h,breakdown:S,expression:""}]}return e},[])})})((0,t.tryToParse)(e?.Print)||e?.Printer,(0,t.tryToParse)(e?.PrinterXtra)||e?.PrinterXtra,i,s),"getPrinterExclusions",0,()=>["Copper","OakTree","Grasslands1","Bug1","Fish1"].toSimpleObject(),"getPrinterMulti",0,u])},990732,e=>{"use strict";var t=e.i(608580),a=e.i(698881),i=e.i(971176),s=e.i(805861),n=e.i(172833),r=e.i(685849),l=e.i(198659),o=e.i(764964),c=e.i(405127),u=e.i(279522),m=e.i(173024),g=e.i(942144),p=e.i(441132),d=e.i(11138),h=e.i(210270);let y=e=>{let t=a.randomList[18]?.split(" ");return parseFloat(Math.max(t?.[Math.min(e,t?.length-2)],25))},S=(e,t=null)=>Math.floor(Math.min(25e4,Math.pow(e,1.3)*(1+((0,h.isCompanionBonusActive)(t,35)?t?.companions?.list?.at(35)?.bonus:0)))),f=(e,t)=>{let{alchemy:i,saltLick:s,charactersLevels:d,breeding:y,rift:S,towers:f}=e,v=i?.vials,b=(0,n.getVialsBonusByEffect)(v,"Refinery_Cycle_Speed"),M=s?.[2]?s?.[2]?.baseBonus*s?.[2]?.level:0,C=i?.p2w?.sigils?.find(e=>e?.name==="PIPE_GAUGE")?.bonus||0,B=(0,r.getStampsBonusByEffect)(e,"Faster_refinery_cycles"),T=(0,l.getShinyBonus)(y?.pets,"Faster_Refinery_Speed"),k=0;(0,o.isRiftBonusUnlocked)(S,"Construct_Mastery")&&(k=f?.totalLevels>=c.constructionMasteryThresholds?.[0]?Math.floor(f?.totalLevels/10):0);let L=(0,u.getArcadeBonus)(e?.arcade?.shop,"Refinery_Speed")?.bonus??0,w=d?.filter(e=>(0,m.checkCharClass)(e?.class,m.CLASSES.Divine_Knight))?.map(({level:e})=>e),E=w?.length>0?Math.max(...w):0,P=(0,m.getHighestTalentByClass)(t,m.CLASSES.Divine_Knight,"THE_FAMILY_GUY"),x=(0,g.getFamilyBonusBonus)(a.classFamilyBonuses,"Refinery_Speed",E)*(P>0?1+P/100:1)||0,O=(0,p.getVoteBonus)(e,33);return{bonusBreakdown:[{name:"Vials",value:b/100},{name:"Salt lick",value:M/100},{name:"Family",value:x/100},{name:"Sigils",value:C/100},{name:"Stamps",value:B/100},{name:"Shinies",value:T/100},{name:"Const mastery",value:k/100},{name:"Arcade",value:L/100},{name:"Vote",value:O/100},{name:"Companion",value:2*!!(0,h.isCompanionBonusActive)(e,35)}],bonus:b+M+x+C+B+T+k+L+O}};e.s(["calcCost",0,(e,t,a,i,s)=>Math.floor(Math.pow(t,i?.includes("Refinery")&&s<=e?.refinerySaltTaskLevel?1.3:1.5))*a,"calcResourceToRankUp",0,(e,t,a,i,s=null)=>(a-t)/S(e,s)*i,"calcTimeToRankUp",0,(e,t,a,i,s,n,r,l,o)=>{let{bonus:c}=f(e,t,a),u=(0,d.getLegendTalentBonus)(e,19),m=e?.lab?.labBonuses?.find(e=>"Gilded_Cyclical_Tubing"===e.name)?.active?3:1,g=S(n,e),p=86400/((o<=2?900:3600)/((1+c/100)*m*(1+u/100)))+(s?i?.squiresCycles??0:0),h=Math.floor((r-l)/g)/p*24;return{timeLeft:new Date().getTime()+3600*h*1e3,totalTime:new Date().getTime()+(r-0)/g/p*864e5}},"getPowerPerCycle",0,S,"getRefinery",0,(e,s,n)=>{var r,l,o;let c,u,m,g,p,d,h;return r=(0,t.tryToParse)(e?.Refinery)||e?.Refinery,l=s,o=n,c=r?.[1],u=r?.[2],g=[...l,...(m=c?.reduce((e,t,i)=>"Blank"!==t?[...e,{rawName:t,name:a.items[t]?.displayName,amount:u?.[i],owner:"refinery"}]:e,[]))||[]],p=o?.[2]?.[2]?.[6],d=r?.slice(3,3+r?.[0]?.[0]),{salts:h=d?.reduce((e,t,s)=>{let n=`Refinery${s+1}`,[r,l,,o,c]=t,{saltName:u,cost:m}=a.refinery?.[n]||{};return[...e,{saltName:u,cost:m?.map(e=>{let t=(0,i.calculateItemTotalAmount)(g,e?.name,!0);return{...e,totalAmount:t}}),rawName:n,powerCap:y(l),refined:r,rank:l,active:o,autoRefinePercentage:c}]},[]),refinerySaltTaskLevel:p,timePastCombustion:r?.[0]?.[1],timePastSynthesis:r?.[0]?.[2],totalLevels:h?.reduce((e,{rank:t})=>e+t,0),refineryStorage:m}},"getRefineryCycles",0,(e,a,i)=>{let{bonusBreakdown:n,bonus:r}=f(e,a,i),l=(0,d.getLegendTalentBonus)(e,19),o=e?.lab?.labBonuses?.find(e=>"Gilded_Cyclical_Tubing"===e.name)?.active?3:1,c=(a?.filter(e=>(0,m.checkCharClass)(e?.class,m.CLASSES.Squire)||(0,m.checkCharClass)(e?.class,m.CLASSES.Divine_Knight))).reduce((e,a)=>{let{name:i,talents:n,cooldowns:r,postOffice:l,afkTime:o}=a,c=Math.max(0,(0,s.getPostOfficeBonus)(l,"Magician_Starterpack",2)),u=n?.[2]?.orderedTalents.find(e=>e?.name==="REFINERY_THROTTLE"),m=0;u?.maxLevel>0&&(m=(0,t.growth)(u?.funcX,u?.maxLevel,u?.x1,u?.x2)||0);let g=(new Date().getTime()-o)/1e3,p=(1-c/100)*r?.[130]-g;return{squiresCycles:e?.squiresCycles+m,squiresCooldowns:[...e?.squiresCooldowns,{name:i,cooldown:p<0?p:new Date().getTime()+1e3*p}]}},{squiresCycles:0,squiresCooldowns:[]}),u=(new Date().getTime()-(i??0))/1e3,g=[...n,{title:"Multiplicative"},{name:""},{name:"Lab",value:o},{name:"Legend",value:l/100}],p={name:"Combustion",time:Math.ceil(900/((1+r/100)*o*(1+l/100))),timePast:e?.refinery?.timePastCombustion+u,breakdown:[{title:"Additive"},{name:""},{name:"Base",value:900},...g]},h={name:"Synthesis",time:Math.ceil(3600/((1+r/100)*o*(1+l/100))),timePast:e?.refinery?.timePastSynthesis+u,breakdown:[{title:"Additive"},{name:""},{name:"Base",value:3600},...g]};return{...c,cycles:[p,h]}},"hasMissingMats",0,(e,t,a,i)=>a?.filter(({rawName:a,quantity:s,totalAmount:n})=>n<Math.floor(Math.pow(t,a?.includes("Refinery")&&e<=i?.refinery?.refinerySaltTaskLevel?1.3:1.5))*s)])},199787,e=>{"use strict";var t=e.i(608580),a=e.i(698881);let i={0:[3,8,13,14,17,23].toSimpleObject(),1:[2,8,9,13].toSimpleObject(),2:[0,1,2,3,4,5,6,7,8,9,10,18,19].toSimpleObject(),3:[12].toSimpleObject(),4:[0,1,2,8,9,10,19,22].toSimpleObject(),5:[2,3,4,8,9,10,11].toSimpleObject(),6:[0,1,2,3,4,5].toSimpleObject(),7:[0,1,2,3,4,5,6,7].toSimpleObject(),8:[2,3,5,6,7].toSimpleObject()};e.s(["getRawShopItems",0,()=>Object.entries(a.shops)?.reduce((e,[t,{items:a}])=>[...e,...a?.filter((e,a)=>i?.[t]?.[a])?.map(({rawName:e})=>e)],[]).toSimpleObject(),"getShops",0,e=>(e?.ShopStock||(0,t.tryToParse)(e?.ShopStock)).reduce((e,t,s)=>[...e,Object.values(t)?.reduce((e,t,n)=>{let r=i?.[s]?.[n];return(parseInt(t)||0)>0&&r?[...e,{amount:t,...a.shops[s]?.items?.[n],shopName:a.shops[s]?.name}]:e},[])],[])])},293670,e=>{"use strict";var t=e.i(931),a=e.i(618332),i=e.i(712738),s=e.i(685849),n=e.i(276924),r=e.i(433568),l=e.i(347553),o=e.i(608580),c=e.i(199787),u=e.i(172833),m=e.i(523285),g=e.i(787031),p=e.i(109304),d=e.i(733884),h=e.i(698881);let y=[{name:"New Forge Slot",maxLevel:16,description:"extra slots to smelt ores",costMulti:void 0},{name:"Ore Capacity Boost",maxLevel:50,description:"Increases max ores per slot",costMulti:1.41},{name:"Forge Speed",maxLevel:90,description:"Ores are turned into bars faster",costMulti:1.2},{name:"Forge EXP Gain",maxLevel:85,description:"Increased EXP gain from using the forge",costMulti:1.21},{name:"Bar Bonanza",maxLevel:75,description:"Increased chance to make an extra bar",costMulti:1.25},{name:"Puff Puff Go",maxLevel:60,description:"Increased chance for a card drop while afk",costMulti:1.33}],S=(e,t,a)=>{let i=Math.round(e)/100;return i*=t?.Effect==="SpeedForge"?t?.Amount:1,a&&(i*=1.5),.25*i};var f=e.i(405127),v=e.i(161866),b=e.i(990732),M=e.i(576959),C=e.i(279522),B=e.i(210270),T=e.i(11138),k=e.i(435327),L=e.i(10051),w=e.i(775003),E=e.i(262887),P=e.i(372110),x=e.i(948982),O=e.i(738544),A=e.i(6002),R=e.i(962202),_=e.i(198659),F=e.i(267350),N=e.i(24174),D=e.i(39188),G=e.i(398241),I=e.i(764964),q=e.i(805861),K=e.i(71791),V=e.i(470242),j=e.i(781967),H=e.i(949500),U=e.i(420497),W=e.i(264046),Y=e.i(525580),$=e.i(620636),X=e.i(809191),z=e.i(441132),Q=e.i(695906),J=e.i(521637),Z=e.i(476219),ee=e.i(723748),et=e.i(669203),ea=e.i(384308),ei=e.i(878012),es=e.i(366125),en=e.i(745933),er=e.i(628188),el=e.i(206609);let eo=e=>0===e?0:50*Math.pow(2.8+e/3.55,e-Math.min(1,Math.floor(e/4))),ec=e=>50*Math.pow(2.8+e/3.55,e-Math.min(1,Math.floor(e/4))),eu=e=>({buildRate:{name:"Build Rate",bonus:eS(e,1),isNegative:!1},critterGain:{name:"Critter Gain",bonus:eS(e,2),isNegative:!1},soulGain:{name:"Soul Gain",bonus:eS(e,3),isNegative:!1},totalDamage:{name:"Total Damage",bonus:eS(e,4),isNegative:!1},allKills:{name:"All Kills",bonus:eS(e,5),isNegative:!1},expMulti:{name:"EXP Multi",bonus:eS(e,6),isNegative:!1},atomCost:{name:"Atom Cost",bonus:eS(e,7),isNegative:!0}}),em=(e,t)=>{let a=e?.[1]?.[t]||0,i=h.bubbaUpgrades?.[t],s=i?.x1||0,n=i?.x2||0;return 1/(1+ep(e,4)/100)*(1/(1+ep(e,18)/100))*(1/(1+ep(e,26)/100))*(1/(1+ed(e,1)/100))*(Math.pow(t+1,2)*a+Math.pow(2.4+t/3.65,t)*Math.pow(n,a))*s},eg=(e,t)=>Math.round((e?.[1]?.[t]||0)+(e?.[2]?.[t]||0)),ep=(e,t)=>eg(e,t)*(h.bubbaUpgrades?.[t]?.x3||0),ed=(e,t)=>{let a=h.generalSpelunky?.[37]?.split(" ")||[],i=e?.[0]?.[15]||0,s=e?.[3]?.[t]||0,n=parseFloat(a?.[t]||0),r=Math.round(t+1)===i,l=ep(e,13);return r?3*s*n*(1+l/100):s*n*(1+l/100)},eh=(e,t,a=!1)=>{let i=h.generalSpelunky?.[41]?.split(" ")||[],s=e?.[0]?.[2]||0,n=e?.[0]?.[3]||0;return a&&s!==Math.round(t+1)&&n!==Math.round(t+1)?0:parseFloat(i?.[t]||0)*Math.min(5,1+ep(e,17)/100)},ey=(e,t)=>{let a=e?.[1]?.[8]||0;return a>t?11===t?a-11:1:0},eS=(e,t)=>{let a=h.generalSpelunky?.[33]?.split(" ")||[];return Math.max(0,(1+20*(ey(e,1)+ey(e,3)+ey(e,6)+ey(e,9)+ey(e,11))/100)*parseFloat(a?.[Math.round(t)]||0)*Math.ceil(((e?.[1]?.[3]||0)-(t-1))/7))},ef=e=>{let t=Math.floor(e/3600),a=Math.floor(e%3600/60),i=Math.floor(e%60);return t>0?`${String(t).padStart(2,"0")}:${String(a).padStart(2,"0")}:${String(i).padStart(2,"0")}`:`${String(a).padStart(2,"0")}:${String(i).padStart(2,"0")}`},ev=(e,t)=>{let a=h.bubbaUpgrades?.[t];if(!a||!a.description)return"";let i=a.description,s=ep(e,t);if(i.includes("{")){let e=s<1e6?(0,o.commaNotation)(s):(0,o.notateNumber)(s,"Big");i=i.replace("{",e)}if(i.includes("}")){let e=1+s/100,t=(0,o.notateNumber)(e,"MultiplierInfo");t=t.replace(/#/g,""),i=i.replace("}",t)}if(i.includes("$")){let a="";if(4===t||18===t||26===t)a=Math.floor(1e4*(1-1/(1+s/100)))/100;else if(1===t){let t;t=eg(e,1),a=Math.ceil((0,o.lavaLog2)(t)+Math.min(t,3))}else{let i,s,n;5===t&&(a=Math.round(100*(i=ep(e,5),s=ep(e,20),n=ed(e,2),(Math.min(1,i)+i/(i+200)*2)*(1+(s+(n+eh(e,1,!0)))/100)))/100)}i=i.replace("$",a)}if(i.includes("~")){let a="";1===t||12===t?a=ef(Math.max(0,3600-(e?.[0]?.[13]||0))):15===t&&(a=ef(e?.[0]?.[14]||0)),i=i.replace("~",a)}return i},eb=(e,t)=>{let a,i,s;return(ep(e,0)+ep(e,7)+ep(e,23))*(1+(ep(e,2)+ep(e,11)+ep(e,19)+ep(e,24)*(0,o.lavaLog)(t?.accountOptions?.[267]||1))/100)*(a=e?.[0]?.[1]||0,1+10*((0,o.lavaLog2)(a)+25*(0,o.lavaLog)(a)+Math.pow(a,.75))/100)*(e=>{let t=0;for(let a=0;a<8;a++){let i=e?.[4]?.[a]||0;i>0&&(t=Math.max(1,t)*(Math.min(i,6)+Math.max(i-6,0)/2.5))}return 1+t/100})(e)*(e=>{let t=h.generalSpelunky?.[34]?.[0]?.split(" ")||[],a=1;for(let i=0;i<5;i++){let s=e?.[5]?.[i]||0;s>0&&(a*=1+s*parseFloat(t?.[i]||0)/100)}return a})(e)*(1+ed(e,0)/100)*(1+ey(e,0)*(e=>{let t=0;for(let a=0;a<28;a++)t=Math.round(t+eg(e,a));return t})(e)/100)*(1+eh(e,0,!0)/100)*(i=e?.[0]?.[9]||0,s=e?.[0]?.[10]||0,1+(i+(5*s+(25*(e?.[0]?.[11]||0)+100*(e?.[0]?.[12]||0))))/100)};var eM=e.i(302746);let eC=(e,ed,eh,ey,eS,ef,eC)=>{var eB,eT;let ek,eL,ew,eE=eC?.accountData||{},eP=eC?.charactersData||[],ex=(0,t.getCharacters)(e,ed);eE.accountCreateTime=ef,eE.companions=(0,B.getCompanions)(eh),eE.bundles=(0,B.getBundles)(e),eE.serverVars=eS,eE.accountOptions=(0,o.tryToParse)(e?.OptLacc),eE.gemShopPurchases=(0,o.tryToParse)(e?.GemItemsPurchased)||e?.GemItemsPurchased,eE.bribes=(0,g.getBribes)(e),eE.timeAway=(0,o.tryToParse)(e?.TimeAway),eE.alchemy=(0,u.getAlchemy)(e,ex,eE),eE.armorSmithy=(0,ea.getArmorSmithy)(e,eS,eE),eE.equippedBubbles=(0,u.getEquippedBubbles)(e,eE.alchemy?.bubbles,ex),eE.storage=(0,m.getStorage)(e,"storage",eE),eE.saltLick=(0,k.getSaltLick)(e,eE.storage?.list),eE.dungeons=(0,L.getDungeons)(e,eE.accountOptions),eE.prayers=(0,d.getPrayers)(e,eE.storage?.list),eE.cards=(0,a.getCards)(e,eE),eE.guild=(0,P.getGuild)(e,ey),eE.currencies=(0,B.getCurrencies)(eE,e,eC),eE.stamps=(0,s.getStamps)(e,eE),eE.obols=(0,i.getObols)(e),eE.looty=(0,B.getSlab)(e);let{tasks:eO,tasksDescriptions:eA,meritsDescriptions:eR,unlockedRecipes:e_,taskUnlocks:eF}=(0,M.getTasks)(e);eE.tasks=eO,eE.meritsDescriptions=eR,eE.tasksDescriptions=eA,eE.tasksDescriptions=eA,eE.unlockedRecipes=e_,eE.taskUnlocks=eF,eE.breeding=(0,_.getBreeding)(e,eE,eC),eE.cooking=(0,w.getCooking)(e,eE),eE.divinity=(0,F.getDivinity)(e,ex,eE),eE.postOfficeShipments=(0,q.getPostOfficeShipments)(e),eE.sneaking=(0,H.getSneaking)(e,eS,eP,eE),eE.farming=(0,U.getFarming)(e,eE,eC?.charactersData),eE.summoning=(0,W.getSummoning)(e,eE,ex),eE.statues=(0,n.applyStatuesMulti)(eE,eP),eE.hole=(0,Q.getHole)(e,eE),eE.lab=(0,E.getLab)(e,ex,eE),eE.towers=(0,f.getTowers)(e),eE.shrines=(0,r.getShrines)(e,eE);let{statues:eN,zenith:eD}=(0,n.getStatues)(e,ex,eE);eE.statues=eN,eE.zenith=eD,eE.achievements=(0,v.getAchievements)(e),eE.lab.connectedPlayers=eE.lab.connectedPlayers?.map(e=>({...e,isDivinityConnected:eE?.divinity?.linkedDeities?.[e?.playerId]===4||(0,E.isLabEnabledBySorcererRaw)(e,4)})),eE.rift=(0,I.getRift)(e),eE.arcade=(0,C.getArcade)(e,eE,eS);let eG=(0,E.getLabBonus)(eE.lab.labBonuses,7);eE.stamps=(0,s.applyStampsMulti)(eE.stamps,eG),eE.alchemy.vials=(0,u.updateVials)(eE),eE.equinox=(0,V.getEquinox)(e,eE),eE.weeklyBossesRaw=(0,o.tryToParse)(e?.WeeklyBoss);let eI=(0,E.getLabBonus)(eE.lab.labBonuses,8),eq=(0,E.getJewelBonus)(eE.lab.jewels,16,eI);eE.cooking.meals=(0,w.applyMealsMulti)(eE.cooking.meals,eq);let eK=ex?.map(e=>{let t=e?.PersonalValuesMap;return{level:t?.StatList?.[4]??0,class:h.classes?.[e?.CharacterClass]??""}});eE.starSigns=(0,p.getStarSigns)(e,eE);let{constellations:eV,rawConstellationsDone:ej}=(0,p.getConstellations)(e);eE.constellations=eV,eE.rawConstellationsDone=ej,eE.charactersLevels=eK,eP=ex.map(a=>(0,t.initializeCharacter)(a,eK,{...eE},e)),eE.grimoire=(0,J.getGrimoire)(e,eP,eE),eE.compass=(0,ee.getCompass)(e,eP,eE,eS),eE.tesseract=(0,ei.getTesseract)(e,eP,eE,eS),eE.farming=(0,U.updateFarming)(eP,eE),eE.lab=(0,E.getLab)(e,ex,eE,eP),eE.alchemy.vials=(0,u.updateVials)(eE);let eH=0;eE.finishedWorlds=[1,2,3,4,5,6,7].reduce((e,t)=>{let a=!!(0,A.isWorldFinished)(eP,eE,t);return a&&(eH=t),{...e,[`World${t}`]:a}},{}),eE.currentWorld=eH+1,eE.statues=(0,n.applyStatuesMulti)(eE,eP);let eU=eP?.map(({name:e,skillsInfo:t})=>({name:e,skillsInfo:t}));eE.totalSkillsLevels=(0,B.calculateTotalSkillsLevel)(eU),eE.construction=(0,f.getConstruction)(e,eE),eE.atoms=(0,G.getAtoms)(e,eE);let eW=(0,N.getArtifacts)(e,eP,eE);eE.alchemy.p2w.sigils=(0,u.applyArtifactBonusOnSigil)(eE.alchemy.p2w.sigils,eW),eE.alchemy.liquidCauldrons=(0,u.getLiquidCauldrons)(eE),eE.spelunking=(0,es.getSpelunking)(e,eE,eP),eE.hatRack=(0,eM.getHatRack)(e,eE),eE.gaming=(0,D.getGaming)(e,eP,eE,eS),eE.atoms=(0,G.getAtoms)(e,eE),eE.sailing=(0,N.getSailing)(e,eW,eP,eE,eS,eK);let eY=(0,B.calculateLeaderboard)(eU);eP=eP.map(e=>({...e,skillsInfo:eY[e?.name]})),eE.accountLevel=eP?.reduce((e,{level:t})=>e+t,0),eE.highscores=(0,l.getHighscores)(e,eE),eE.shopStock=(0,c.getShops)(e),ew=e?.ForgeItemOrder,eE.forge=((e,t,a,i)=>{let s=y?.map((e,t)=>({...e,level:a[t]})),n=i?.gemShopPurchases?.find((e,t)=>104===t)??0,r=[],l=0;for(let a=0;a<e?.length;a+=3){let[i,o,c]=e?.slice(a,a+3),[u,m,g]=t.slice(a,a+3),p=h.items?.[o],d=h.items?.[i],y=l<n,f=S(Math.round(100+5*s?.[2]?.level),p,y),v=Math.round(u/d?.Amount)*(d?.Cooldown/(4*f));r=[...r,{isBrimestone:y,ore:{...d,name:d?.displayName,rawName:i,amount:u,quantity:u,timeTillEmpty:1e3*v,owner:"forge"},barrel:{...p,name:p?.displayName,rawName:o,amount:m,quantity:m,owner:"forge"},bar:{...h.items?.[c],name:h.items?.[c]?.displayName,rawName:c,amount:g,quantity:g,owner:"forge"}}],l++}return{list:r,upgrades:s}})(ew,e?.ForgeItemQuantity||e?.ForgeItemQty,e?.FurnaceLevels||e?.ForgeLV,eE),eE.refinery=(0,b.getRefinery)(e,eE.storage?.list,eE.tasks),eE.printer=(0,x.getPrinter)(e,eP,eE),eE.traps=(0,O.getTraps)(ex),eE.quests=(0,A.getQuests)(eP),eE.islands=(0,K.getIslands)(eE,eP),eE.deathNote=(0,R.getDeathNote)(e,eP,eE),eE.topKilledMonsters=(0,R.getTopKilledMonsters)(eP),eE.killroy=(0,B.getKillRoy)(e,eP,eE,eS),eE.anvil=eP.map(({anvil:e})=>e);let e$=parseFloat(e?.MoneyBANK)+eP?.reduce((e,t)=>e+parseFloat(t?.money?t?.money:0),0);return eE.talentPoints=e?.CYTalentPoints,eE.currencies.rawMoney=e$,eE.currencies.money=(0,o.getCoinsArray)(e$),eE.currencies.gems=e?.GemsOwned,eE.currencies.KeysAll=(0,B.enhanceKeysObject)(eE?.currencies?.KeysAll,eP,eE),eE.currencies.ColosseumTickets=(0,B.enhanceColoTickets)(eE?.currencies?.ColosseumTickets,eP,eE),eE.currencies.penPals=eE.accountOptions?.[99]??0,eE.cooking.kitchens=(0,w.getKitchens)(e,eP,eE),eE.libraryTimes=(0,B.getLibraryBookTimes)(e,eP,eE),eE.breeding=(0,_.addBreedingChance)(e,eE),eE.divinity&&(eE.divinity.deities=(0,F.applyGodCost)(eE)),eP=eP?.map(e=>{let{carryCapBags:a}=e;return e.carryCapBags=a?.map(t=>{let a=(0,B.getTypeGen)(t?.Class),i=(0,B.getItemCapacity)(a,e,eE);return{...t,capacityPerSlot:i?.value,breakdown:i?.breakdown,maxCapacity:i?.value*e?.inventorySlots}}),e.constructionSpeed=(0,t.getPlayerConstructionSpeed)(e,eE),e.constructionExpPerHour=(0,t.getPlayerConstructionExpPerHour)(e,eE),e}),eE.stamps=(0,s.updateStamps)(eE,eP),eE.shrinesExpBonus=(0,r.getShrineExpBonus)(eP,eE),eE.msaTotalizer=(0,j.getTotalizerBonuses)(eE),eE.totems=(0,j.getTotems)(e),eE.tome=(0,Y.getTome)(e,eE,eP,eS),eE.owl=(0,$.getOwl)(e,eE),eE.kangaroo=(0,X.getKangaroo)(e,eE),eE.voteBallot=(0,z.getVoteBallot)(e,eE),eE.upgradeVault=(0,Z.getUpgradeVault)(e,eE,eP),eE.emperor=(0,et.getEmperor)(e,eE),eE.legendTalents=(0,T.getLegendTalents)(e,eE,eP),eE.gallery=(0,en.getGallery)(e,eE),eE.coralReef=(0,er.getCoralReef)(e,eE,eP),eE.clamWork=(0,el.getClamWork)(e,eE),eE.adviceFish=(0,B.getAdviceFish)(e),eB=(0,o.tryToParse)(e?.Bubba),eT=eE,ek=(e=>{let t=e?.[0]?.[4]||0,a=1;for(let e=1;e<28;e++)if(t>=eo(e))a=e+1;else break;return Math.min(28,a)})(eB),eL=eB?.[1]?.[8],eE.bubba={upgrades:h.bubbaUpgrades.map((e,t)=>({...e,level:eB?.[1]?.[t]||0,prestige:eB?.[2]?.[t]||0,realLV:eg(eB,t),cost:em(eB,t),bonus:ep(eB,t),description:ev(eB,t),unlocked:t<ek})),meatSlices:eB?.[0]?.[0]||0,meatsliceRate:60*eb(eB,eT),progress:eB?.[0]?.[4]||0,progressReq:ec(ek),bonuses:eu(eB),totalUpgTypesAvailable:ek,megafleshOwned:eL},eE.friendBonusStats=(0,B.getFriendBonusStats)(eE),ex=null,eK=null,{accountData:eE,charactersData:eP}};e.s(["parseData",0,(e,t,a,i,s,n)=>{try{let r=null;for(let l=0;l<3;l++)r=eC(e,t,a,i,s,n,r);let{accountData:l,charactersData:o}=r;return{account:l,characters:o}}catch(e){console.error("Error while parsing data",e),void 0!==window.gtag&&window.gtag("event","error",{event_category:"error",event_label:"engagement",value:JSON.stringify(e)})}}],293670)}]);