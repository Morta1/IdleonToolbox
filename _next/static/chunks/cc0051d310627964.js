(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,435702,e=>{"use strict";var r=e.i(391398),t=e.i(261576),a=e.i(191788),n=e.i(985978),l=e.i(276025),i=e.i(608580),o=e.i(162271),s=e.i(366125),c=e.i(692329),d=e.i(886779),h=e.i(356119),m=e.i(489505),p=e.i(849091),x=e.i(345837),g=e.i(303780),u=e.i(164056),b=e.i(731112),y=e.i(692160),j=e.i(379741),f=e.i(660828),v=e.i(679244),C=(0,e.i(632305).default)("outline","route","IconRoute",[["path",{d:"M3 19a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-0"}],["path",{d:"M19 7a2 2 0 1 0 0 -4a2 2 0 0 0 0 4z",key:"svg-1"}],["path",{d:"M11 19h5.5a3.5 3.5 0 0 0 0 -7h-8a3.5 3.5 0 0 1 0 -7h4.5",key:"svg-2"}]]),S=e.i(148335),w=e.i(917563),_=e.i(627242),T=e.i(201084),k=e.i(717803);let A={0:"POW Upgrades",1:"Stamina",2:"Amber Gain",3:"Special Features",4:"Tools/Weapons",5:"Tunnel Navigation",6:"Amber Bonuses",7:"Elixirs",8:"Item Drops",9:"Shadow Strike",10:"Damage/Combat",11:"Elixir Rewards",12:"Nova Blast",13:"Advanced Amber",14:"Grand Discoveries",15:"Etc",16:"Amber Red"},I=e=>{let n,l,o=(0,t.c)(6),{grouped:s,currentAmber:c,denominator:m,amberIndex:p,searchTerm:x}=e;return o[0]===Symbol.for("react.memo_cache_sentinel")?(n={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(400px, 1fr))",gap:"24px"},o[0]=n):n=o[0],o[1]!==p||o[2]!==c||o[3]!==m||o[4]!==s?(l=(0,r.jsx)(w.Box,{sx:n,children:Object.entries(s).map(e=>{let[t,n]=e;return(0,r.jsxs)(d.Stack,{children:[(0,r.jsx)(h.Typography,{variant:"h6",mb:1,children:A[t]}),(0,r.jsx)(_.Card,{variant:"outlined",sx:{height:"100%"},children:(0,r.jsx)(T.CardContent,{children:n.map((e,t)=>{let l=e.cost<1e9?(0,i.commaNotation)(e.cost/m):(0,i.notateNumber)(e.cost/m,"Big");return(0,r.jsxs)(a.Fragment,{children:[(0,r.jsxs)(w.Box,{children:[(0,r.jsxs)(d.Stack,{direction:"row",gap:1,alignItems:"center",sx:{opacity:e.level>0?1:.5},children:[(0,r.jsx)("img",{src:`${i.prefix}data/CaveShopUpg${e.originalIndex}.png`}),(0,r.jsxs)(d.Stack,{mb:1,children:[(0,r.jsx)(h.Typography,{variant:"subtitle1",children:(0,i.cleanUnderscore)(e.name)}),(0,r.jsxs)(h.Typography,{variant:"subtitle2",children:["Lv. ",Math.max(e.level,0)," / ",e.x3]})]})]}),(0,r.jsx)(h.Typography,{variant:"body2",sx:{opacity:.8},children:(0,i.cleanUnderscore)(e.description)}),void 0!==e.cost&&e.level<e.x3&&(0,r.jsxs)(d.Stack,{direction:"row",alignItems:"center",gap:.5,mt:.5,children:[(0,r.jsx)("img",{src:`${i.prefix}data/CaveAmber${p}.png`,alt:"",style:{width:16,height:16}}),(0,r.jsxs)(h.Typography,{variant:"body2",children:["Cost: ",c," / ",l]})]})]}),t<n.length-1&&(0,r.jsx)(k.Divider,{sx:{my:2}})]},e.name)})})})]},t)})}),o[1]=p,o[2]=c,o[3]=m,o[4]=s,o[5]=l):l=o[5],l};var $=e.i(379790);let L=(e,r)=>e.id===r||!!e.children&&0!==e.children.length&&e.children.some(e=>L(e,r)),U=e=>{let n,l,o,s,c,m,p,x,g,u,b,y,j,f,v,C,S,_,T,k=(0,t.c)(55),{upgrade:A,depth:I,hoveredNodeId:P,onHover:B}=e,G=void 0===I?0:I,N=A.children&&A.children.length>0,z=A.level>0,[F,q]=(0,a.useState)(!0),O=null!==P&&A.id!==P&&L(A,P);k[0]!==N||k[1]!==F?(n=N?()=>q(!F):void 0,k[0]=N,k[1]=F,k[2]=n):n=k[2],k[3]!==B||k[4]!==A.id?(l=()=>B(A.id),k[3]=B,k[4]=A.id,k[5]=l):l=k[5],k[6]!==B?(o=()=>B(null),k[6]=B,k[7]=o):o=k[7];let M=z?1:.5,D=N?"pointer":"default";k[8]===Symbol.for("react.memo_cache_sentinel")?(s={bgcolor:"action.hover",borderRadius:.5},k[8]=s):s=k[8],k[9]!==M||k[10]!==D?(c={py:.4,opacity:M,cursor:D,"&:hover":s},k[9]=M,k[10]=D,k[11]=c):c=k[11];let E=N?-.25:0;k[12]!==E?(m={width:16,ml:E},k[12]=E,k[13]=m):m=k[13],k[14]!==N||k[15]!==F?(p=N&&(0,r.jsx)($.default,{sx:{fontSize:16,transform:F?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.15s",opacity:.6}}),k[14]=N,k[15]=F,k[16]=p):p=k[16],k[17]!==m||k[18]!==p?(x=(0,r.jsx)(w.Box,{sx:m,children:p}),k[17]=m,k[18]=p,k[19]=x):x=k[19];let R=`${i.prefix}data/CaveShopUpg${A.originalIndex}.png`;k[20]===Symbol.for("react.memo_cache_sentinel")?(g={width:20,height:20,flexShrink:0},k[20]=g):g=k[20],k[21]!==R?(u=(0,r.jsx)("img",{src:R,style:g}),k[21]=R,k[22]=u):u=k[22];let V=z?500:400,W=O?"primary.main":"inherit";k[23]!==V||k[24]!==W?(b={fontWeight:V,fontSize:"0.875rem",flex:1,minWidth:0,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",color:W},k[23]=V,k[24]=W,k[25]=b):b=k[25],k[26]!==A.name?(y=(0,i.cleanUnderscore)(A.name),k[26]=A.name,k[27]=y):y=k[27],k[28]!==b||k[29]!==y?(j=(0,r.jsx)(h.Typography,{variant:"body2",sx:b,children:y}),k[28]=b,k[29]=y,k[30]=j):j=k[30],k[31]===Symbol.for("react.memo_cache_sentinel")?(f={flexShrink:0},k[31]=f):f=k[31],k[32]===Symbol.for("react.memo_cache_sentinel")?(v={opacity:.6,fontSize:"0.75rem"},k[32]=v):v=k[32];let H=Math.max(A.level,0);return k[33]!==H||k[34]!==A.x3?(C=(0,r.jsx)(d.Stack,{direction:"column",gap:.5,alignItems:"center",sx:f,children:(0,r.jsxs)(h.Typography,{variant:"caption",sx:v,children:[H,"/",A.x3]})}),k[33]=H,k[34]=A.x3,k[35]=C):C=k[35],k[36]!==x||k[37]!==u||k[38]!==n||k[39]!==j||k[40]!==C||k[41]!==l||k[42]!==o||k[43]!==c?(S=(0,r.jsxs)(d.Stack,{direction:"row",alignItems:"center",gap:.75,onClick:n,onMouseEnter:l,onMouseLeave:o,sx:c,children:[x,u,j,C]}),k[36]=x,k[37]=u,k[38]=n,k[39]=j,k[40]=C,k[41]=l,k[42]=o,k[43]=c,k[44]=S):S=k[44],k[45]!==G||k[46]!==N||k[47]!==P||k[48]!==F||k[49]!==B||k[50]!==A.children?(_=F&&N&&(0,r.jsx)(w.Box,{sx:{borderLeft:G>0?"2px solid":"none",borderColor:"divider",pl:1},children:A.children.map(e=>(0,r.jsx)(U,{upgrade:e,depth:G+1,hoveredNodeId:P,onHover:B},e.id))}),k[45]=G,k[46]=N,k[47]=P,k[48]=F,k[49]=B,k[50]=A.children,k[51]=_):_=k[51],k[52]!==S||k[53]!==_?(T=(0,r.jsxs)(w.Box,{children:[S,_]}),k[52]=S,k[53]=_,k[54]=T):T=k[54],T},P=e=>{let n,l,i,o,s,c,d=(0,t.c)(15),{roots:m}=e,[p,x]=(0,a.useState)(null);d[0]!==m?(n=m.find(B)??m[0],d[0]=m,d[1]=n):n=d[1];let g=n;d[2]!==g||d[3]!==m?(l=g?[g]:m,d[2]=g,d[3]=m,d[4]=l):l=d[4];let u=l;if(0===m.length){let e;return d[5]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsxs)(w.Box,{children:[(0,r.jsx)(h.Typography,{variant:"h6",mb:1.5,children:"Upgrade Dependency Paths"}),(0,r.jsx)(h.Typography,{children:"No upgrades found"})]}),d[5]=e):e=d[5],e}if(d[6]===Symbol.for("react.memo_cache_sentinel")?(i=(0,r.jsx)(h.Typography,{variant:"h6",mb:1.5,children:"Upgrade Dependency Paths"}),d[6]=i):i=d[6],d[7]===Symbol.for("react.memo_cache_sentinel")?(o={border:"1px solid",borderColor:"divider",borderRadius:1,p:1.5},d[7]=o):o=d[7],d[8]!==u||d[9]!==p){let e;d[11]!==p?(e=e=>(0,r.jsx)(U,{upgrade:e,hoveredNodeId:p,onHover:x},e.id),d[11]=p,d[12]=e):e=d[12],s=u.map(e),d[8]=u,d[9]=p,d[10]=s}else s=d[10];return d[13]!==s?(c=(0,r.jsxs)(w.Box,{children:[i,(0,r.jsx)(w.Box,{sx:o,children:s})]}),d[13]=s,d[14]=c):c=d[14],c};function B(e){return 0===e.id}let G=e=>{let n,l,o,c,h,m,w,_,T,k,A,$,L,U,B,G,q,O=(0,t.c)(51),{upgrades:M,currentAmber:D,denominator:E,amberIndex:R}=e;O[0]===Symbol.for("react.memo_cache_sentinel")?(n={key:`${i.prefix}:spelunkingUpgrades:viewMode`,defaultValue:"group"},O[0]=n):n=O[0];let[V,W]=(0,S.useLocalStorage)(n);O[1]===Symbol.for("react.memo_cache_sentinel")?(l={key:`${i.prefix}:spelunkingUpgrades:hideCompleted`,defaultValue:!1},O[1]=l):l=O[1];let[H,K]=(0,S.useLocalStorage)(l),[X,J]=(0,a.useState)("");O[2]!==M?(o=(0,s.groupUpgradesByColumn)(M),O[2]=M,O[3]=o):o=O[3];let Q=o;if(O[4]!==M){let e,r;e={},M.forEach((r,t)=>{e[t]={...r,id:t,children:[]}}),r=[],M.forEach((t,a)=>{let n=e[t.x6];n&&n.id!==a?n.children.push(e[a]):a!==t.x6&&n||r.push(e[a])}),Object.values(e).forEach(e=>{e.children.sort((e,r)=>(e.x8??0)-(r.x8??0)||e.id-r.id)}),c=r,O[4]=M,O[5]=c}else c=O[5];let Y=c,Z=N,ee=M;if(X.trim()){let e;if(O[6]!==ee||O[7]!==X){let r=X.toLowerCase();e=ee.filter(e=>(0,i.cleanUnderscore)(e.name).toLowerCase().includes(r)||(0,i.cleanUnderscore)(e.description).toLowerCase().includes(r)),O[6]=ee,O[7]=X,O[8]=e}else e=O[8];ee=e}if(H){let e;if(O[9]!==ee){let r;O[11]===Symbol.for("react.memo_cache_sentinel")?(r=e=>!Z(e),O[11]=r):r=O[11],e=ee.filter(r),O[9]=ee,O[10]=e}else e=O[10];ee=e}let er=ee;O[12]!==Q||O[13]!==H||O[14]!==X?(h={},Object.entries(Q).forEach(e=>{let[r,t]=e,a=t;X.trim()&&(a=a.filter(e=>(0,i.cleanUnderscore)(e.name).toLowerCase().includes(X.toLowerCase())||(0,i.cleanUnderscore)(e.description).toLowerCase().includes(X.toLowerCase()))),H&&(a=a.filter(e=>!Z(e))),a.length>0&&(h[r]=a)}),O[12]=Q,O[13]=H,O[14]=X,O[15]=h):h=O[15];let et=h;if(O[16]!==Y||O[17]!==X){let e,r=X.trim().toLowerCase();O[19]!==X?(e=X.trim(),O[19]=X,O[20]=e):e=O[20];let t=e.length>0,a=e=>{let n=!t||(0,i.cleanUnderscore)(e.name).toLowerCase().includes(r)||(0,i.cleanUnderscore)(e.description).toLowerCase().includes(r),l=e.children?e.children.map(a).filter(z):[];return n||l.length>0?{...e,children:l}:null};m=Y.map(a).filter(F),O[16]=Y,O[17]=X,O[18]=m}else m=O[18];let ea=m;return O[21]!==H||O[22]!==X||O[23]!==K||O[24]!==V?(w="path"!==V&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.TextField,{placeholder:"Search by name or description...",value:X,onChange:e=>J(e.target.value),size:"small",sx:{flex:1,maxWidth:400},InputProps:{startAdornment:(0,r.jsx)(g.InputAdornment,{position:"start",children:(0,r.jsx)(f.default,{})})}}),(0,r.jsx)(x.FormControlLabel,{control:(0,r.jsx)(p.Checkbox,{checked:H,onChange:e=>K(e.target.checked),size:"small"}),label:"Hide completed"})]}),O[21]=H,O[22]=X,O[23]=K,O[24]=V,O[25]=w):w=O[25],O[26]===Symbol.for("react.memo_cache_sentinel")?(_={ml:"auto"},O[26]=_):_=O[26],O[27]!==W?(T=(e,r)=>r&&W(r),O[27]=W,O[28]=T):T=O[28],O[29]===Symbol.for("react.memo_cache_sentinel")?(k={height:40},O[29]=k):k=O[29],O[30]===Symbol.for("react.memo_cache_sentinel")?(A=(0,r.jsx)(j.Tooltip,{title:"Group view",children:(0,r.jsx)(b.ToggleButton,{sx:k,value:"group",children:(0,r.jsx)(v.IconChartCohort,{})})}),O[30]=A):A=O[30],O[31]===Symbol.for("react.memo_cache_sentinel")?($={height:40},O[31]=$):$=O[31],O[32]===Symbol.for("react.memo_cache_sentinel")?(L=(0,r.jsx)(j.Tooltip,{title:"Path view",children:(0,r.jsx)(b.ToggleButton,{sx:$,value:"path",children:(0,r.jsx)(C,{})})}),O[32]=L):L=O[32],O[33]!==T||O[34]!==V?(U=(0,r.jsxs)(y.ToggleButtonGroup,{value:V,exclusive:!0,sx:_,onChange:T,children:[A,L]}),O[33]=T,O[34]=V,O[35]=U):U=O[35],O[36]!==U||O[37]!==w?(B=(0,r.jsxs)(d.Stack,{mb:3,direction:"row",alignItems:"center",gap:2,children:[w,U]}),O[36]=U,O[37]=w,O[38]=B):B=O[38],O[39]!==R||O[40]!==D||O[41]!==E||O[42]!==ea||O[43]!==et||O[44]!==er||O[45]!==X||O[46]!==V?(G="path"===V?(0,r.jsx)(P,{upgrades:er,roots:ea}):(0,r.jsx)(I,{grouped:et,currentAmber:D,denominator:E,amberIndex:R,searchTerm:X}),O[39]=R,O[40]=D,O[41]=E,O[42]=ea,O[43]=et,O[44]=er,O[45]=X,O[46]=V,O[47]=G):G=O[47],O[48]!==B||O[49]!==G?(q=(0,r.jsxs)(d.Stack,{children:[B,G]}),O[48]=B,O[49]=G,O[50]=q):q=O[50],q};function N(e){return e.level>=e.x3}function z(e){return null!==e}function F(e){return null!==e}let q={0:"The fear within",1:"Decay Surrounds",2:"This is gospel",3:"No escape"},O=e=>{let a,n,l,i=(0,t.c)(6),{chapters:o}=e;if(!o||!Array.isArray(o)){let e;return i[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)("div",{children:"No chapters available"}),i[0]=e):e=i[0],e}return i[1]===Symbol.for("react.memo_cache_sentinel")?(a={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(400px, 1fr))",gap:"24px"},i[1]=a):a=i[1],i[2]!==o?(n=o.map(M),i[2]=o,i[3]=n):n=i[3],i[4]!==n?(l=(0,r.jsx)(w.Box,{sx:a,children:n}),i[4]=n,i[5]=l):l=i[5],l};function M(e,t){return e&&Array.isArray(e)&&0!==e.length?(0,r.jsxs)(d.Stack,{children:[(0,r.jsxs)(d.Stack,{direction:"row",gap:1,alignItems:"center",mb:1,children:[(0,r.jsx)("img",{style:{width:32,height:32},src:`${i.prefix}data/Spelunking${t}.png`}),(0,r.jsx)(d.Stack,{direction:"row",alignItems:"center",gap:1,children:(0,r.jsx)(h.Typography,{variant:"h6",children:q[t]})})]}),(0,r.jsx)(_.Card,{variant:"outlined",sx:{height:"100%"},children:(0,r.jsx)(T.CardContent,{children:e.map((t,n)=>{let l=(0,i.notateNumber)(t.bonus,"Small"),o=(0,i.notateNumber)(t.bonus,"MultiplierInfo"),s=(0,i.cleanUnderscore)(t.name).replace("|"," ");return s=(s=s.replace(/{/g,l)).replace(/}/g,o),(0,r.jsxs)(a.Fragment,{children:[(0,r.jsx)(d.Stack,{direction:"row",gap:1,alignItems:"center",sx:{opacity:0===t.level?.5:1},children:(0,r.jsxs)(d.Stack,{direction:"row",alignItems:"center",gap:1,flex:1,children:[(0,r.jsx)(h.Typography,{variant:"subtitle1",children:s}),(0,r.jsxs)(h.Typography,{variant:"subtitle2",children:["Lv. ",t.level]})]})}),(0,r.jsxs)(h.Typography,{variant:"body2",color:"text.secondary",children:["Required pages: ",(0,i.commaNotation)(t.requiredPages)]}),e.length-1!==n&&(0,r.jsx)(k.Divider,{sx:{my:2}})]},t.name||n)})})})]},t):null}var D=e.i(762177),E=e.i(782808);let R=e=>{let a,n,l,o,c=(0,t.c)(15),{loreBosses:m,bestCaveLevels:p,account:x}=e;if(!m||!Array.isArray(m)){let e;return c[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)("div",{children:"No lore bosses available"}),c[0]=e):e=c[0],e}let g=(0,s.getAmberDenominator)(x);c[1]!==x?(a=(0,s.getAmberIndex)(x),c[1]=x,c[2]=a):a=c[2];let u=a;if(c[3]===Symbol.for("react.memo_cache_sentinel")?(n={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(400px, 1fr))",gap:"24px"},c[3]=n):n=c[3],c[4]!==g||c[5]!==u||c[6]!==p||c[7]!==m){let e;c[9]!==g||c[10]!==u||c[11]!==p?(e=e=>{let t;if(!e)return null;let a=i.number2letter[e.index],n=e.discoveries.some(V);return(0,r.jsx)(d.Stack,{children:(0,r.jsx)(_.Card,{variant:"outlined",sx:{height:"100%",opacity:n?1:.5},children:(0,r.jsxs)(T.CardContent,{children:[(0,r.jsxs)(d.Stack,{direction:"row",gap:1,alignItems:"center",mb:2,children:[(0,r.jsx)("img",{style:{width:72,height:72,objectFit:"contain",opacity:e.defeated?1:.4},src:`${i.prefix}data/CaveBoss${e.index}.png`}),(0,r.jsx)(d.Stack,{direction:"row",alignItems:"center",gap:1,flex:1,children:(0,r.jsx)(h.Typography,{sx:{opacity:e.defeated?1:.4},variant:"body1",children:(0,i.cleanUnderscore)(e.description)})})]}),(0,r.jsxs)(D.default,{container:!0,spacing:2,children:[(0,r.jsx)(D.default,{size:6,children:(0,r.jsxs)(d.Stack,{children:[(0,r.jsx)(h.Typography,{variant:"body2",color:"text.secondary",children:"Best"}),(0,r.jsxs)(h.Typography,{variant:"body1",children:["Depth ",p?.[e.index]]})]})}),(0,r.jsx)(D.default,{size:6,children:(0,r.jsxs)(d.Stack,{children:[(0,r.jsx)(h.Typography,{variant:"body2",color:"text.secondary",children:"Found at"}),(0,r.jsxs)(h.Typography,{variant:"body1",children:["Depth ",e.foundAt]})]})}),(0,r.jsx)(D.default,{size:6,children:(0,r.jsxs)(d.Stack,{children:[(0,r.jsx)(h.Typography,{variant:"body2",color:"text.secondary",children:"Biggest Haul"}),(0,r.jsx)(h.Typography,{variant:"body1",component:"div",children:(0,r.jsxs)(d.Stack,{direction:"row",alignItems:"center",gap:1,children:[(0,r.jsx)("img",{style:{width:20,height:20,objectFit:"contain"},src:`${i.prefix}data/CaveAmber${u}.png`,alt:""}),(0,r.jsxs)("span",{children:[(t=(e.biggestHaul??0)/g)>1e14?(0,i.notateNumber)(t,"Big"):(0,i.commaNotation)(t)," (",(0,i.notateNumber)(e.biggestHaul,"Big"),")"]})]})})]})}),(0,r.jsx)(D.default,{size:6,children:(0,r.jsxs)(d.Stack,{children:[(0,r.jsx)(h.Typography,{variant:"body2",color:"text.secondary",children:"Best Cave Level"}),(0,r.jsx)(h.Typography,{variant:"body1",children:e.bestCaveLevel})]})})]}),(0,r.jsx)(k.Divider,{sx:{my:2}}),(0,r.jsxs)(h.Typography,{variant:"body1",children:["Discoveries: ",e?.discoveriesCount??"0"," / ",e.maxDiscoveries]}),(0,r.jsx)(d.Stack,{mt:2,direction:"row",gap:1,flexWrap:"wrap",children:e.discoveries.map(t=>{let n=(0,i.cleanUnderscore)(t.name),l=t.powerReqFormatted?(0,r.jsxs)(d.Stack,{children:[(0,r.jsx)(h.Typography,{variant:"body2",fontWeight:"bold",children:n}),(0,r.jsxs)(h.Typography,{variant:"body2",children:["Power Req: ",t.powerReqFormatted]})]}):n;return(0,r.jsx)(E.default,{title:l,children:(0,r.jsx)("img",{style:{width:32,height:32,objectFit:"contain",opacity:t.acquired?1:.3},src:`${i.prefix}data/CaveRock${a}${t.index}.png`})},e.index+t.index)})})]})})},e.index)},c[9]=g,c[10]=u,c[11]=p,c[12]=e):e=c[12],l=m.map(e),c[4]=g,c[5]=u,c[6]=p,c[7]=m,c[8]=l}else l=c[8];return c[13]!==l?(o=(0,r.jsx)(w.Box,{sx:n,children:l}),c[13]=l,c[14]=o):o=c[14],o};function V(e){return e.acquired}let W=e=>{let a,n,l,s,c,d=(0,t.c)(11),{chapters:h,loreBosses:p,bestCaveLevels:x,account:g}=e;return d[0]===Symbol.for("react.memo_cache_sentinel")?(a=["dnt"],n=(0,i.getTabs)(o.PAGES.ACCOUNT["world 7"].categories,"spelunking","Lore"),d[0]=a,d[1]=n):(a=d[0],n=d[1]),d[2]!==h?(l=(0,r.jsx)(O,{chapters:h}),d[2]=h,d[3]=l):l=d[3],d[4]!==g||d[5]!==x||d[6]!==p?(s=(0,r.jsx)(R,{loreBosses:p,bestCaveLevels:x,account:g}),d[4]=g,d[5]=x,d[6]=p,d[7]=s):s=d[7],d[8]!==l||d[9]!==s?(c=(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(m.default,{queryKey:"nt",clearOnChange:a,tabs:n,children:[l,s]})}),d[8]=l,d[9]=s,d[10]=c):c=d[10],c};var H=e.i(187081);let K=e=>{let a,n,l,i,o,s,h,m,p=(0,t.c)(19),{elixirs:x,ownedElixirs:g,ownedSlots:u,maxElixirDuplicates:b}=e;if(!x||!Array.isArray(x)){let e;return p[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)("div",{children:"No elixirs available"}),p[0]=e):e=p[0],e}let y=`${g} / 12`;p[1]!==y?(a=(0,r.jsx)(c.CardTitleAndValue,{title:"Elixirs",value:y}),p[1]=y,p[2]=a):a=p[2];let j=`${u} / 5`;p[3]!==j?(n=(0,r.jsx)(c.CardTitleAndValue,{title:"Slots",value:j}),p[3]=j,p[4]=n):n=p[4];let f=`${b} / 4`;return p[5]!==f?(l=(0,r.jsx)(c.CardTitleAndValue,{title:"Duplicates",value:f}),p[5]=f,p[6]=l):l=p[6],p[7]!==a||p[8]!==n||p[9]!==l?(i=(0,r.jsxs)(d.Stack,{direction:"row",gap:2,flexWrap:"wrap",children:[a,n,l]}),p[7]=a,p[8]=n,p[9]=l,p[10]=i):i=p[10],p[11]===Symbol.for("react.memo_cache_sentinel")?(o={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"24px"},p[11]=o):o=p[11],p[12]!==x?(s=x.map(X),p[12]=x,p[13]=s):s=p[13],p[14]!==s?(h=(0,r.jsx)(w.Box,{sx:o,children:s}),p[14]=s,p[15]=h):h=p[15],p[16]!==h||p[17]!==i?(m=(0,r.jsxs)(r.Fragment,{children:[i,h]}),p[16]=h,p[17]=i,p[18]=m):m=p[18],m};function X(e,t){if(!e)return null;let a=(0,r.jsx)(_.Card,{variant:"outlined",sx:{borderColor:e.isInUse?"success.light":void 0,borderWidth:e.isInUse?2:void 0,borderStyle:e.isInUse?"solid":void 0},children:(0,r.jsx)(T.CardContent,{children:(0,r.jsxs)(d.Stack,{direction:"row",gap:1,alignItems:"center",sx:{opacity:e.acquired?1:.5},children:[(0,r.jsx)("img",{src:`${i.prefix}data/CaveElix${t}.png`,alt:`elixir-${t}`,style:{width:40,height:40,flexShrink:0}}),(0,r.jsx)(d.Stack,{flex:1,children:(0,r.jsx)(h.Typography,{variant:"subtitle1",children:(0,i.cleanUnderscore)(e.description).replace(/{/,e.bonus)})})]})})});return(0,r.jsx)(w.Box,{sx:{display:"contents"},children:e.timesUsed>1?(0,r.jsx)(H.Badge,{badgeContent:e.timesUsed,color:"success",anchorOrigin:{vertical:"top",horizontal:"left"},children:a}):a},t)}var J=e.i(568937),Q=e.i(524057),Y=e.i(159974),Z=e.i(477882),ee=e.i(658524),er=e.i(424456),et=e.i(764260),ea=e.i(827399),en=e.i(986298),el=e.i(250278),ei=e.i(644725),eo=e.i(408965),es=e.i(373495);let ec=[5,10,25,50,100,200,300],ed=["None","Upgrade","Summary"],eh=["Power","Amber Gain","All"],em=e=>{let l,o,c,m,g,j,f,v,C,A,I,$,L,U,P,B,G,N,z,F,q,O,M,D,R,V,W,H,K,X,em,eC,eS,ew,e_,eT,ek,eA,eI,e$,eL,eU=(0,t.c)(100),{character:eP,account:eB}=e,{state:eG}=(0,a.useContext)(n.AppContext);eU[0]===Symbol.for("react.memo_cache_sentinel")?(l={key:"spelunkingUpgradeOptimizer:maxUpgrades",defaultValue:10},eU[0]=l):l=eU[0];let[eN,ez]=(0,S.useLocalStorage)(l);eU[1]===Symbol.for("react.memo_cache_sentinel")?(o={key:"spelunkingUpgradeOptimizer:maxUpgradesMode",defaultValue:"preset"},eU[1]=o):o=eU[1];let[eF,eq]=(0,S.useLocalStorage)(o);eU[2]===Symbol.for("react.memo_cache_sentinel")?(c={key:"spelunkingUpgradeOptimizer:customMaxUpgrades",defaultValue:10},eU[2]=c):c=eU[2];let[eO,eM]=(0,S.useLocalStorage)(c),[eD,eE]=(0,a.useState)(!1);eU[3]===Symbol.for("react.memo_cache_sentinel")?(m={key:"spelunkingUpgradeOptimizer:viewMode",defaultValue:"grid"},eU[3]=m):m=eU[3];let[eR,eV]=(0,S.useLocalStorage)(m);eU[4]===Symbol.for("react.memo_cache_sentinel")?(g={key:"spelunkingUpgradeOptimizer:groupMode",defaultValue:"None"},eU[4]=g):g=eU[4];let[eW,eH]=(0,S.useLocalStorage)(g);eU[5]===Symbol.for("react.memo_cache_sentinel")?(j={key:"spelunkingUpgradeOptimizer:optimizationCategory",defaultValue:"Power"},eU[5]=j):j=eU[5];let[eK,eX]=(0,S.useLocalStorage)(j),eJ=(0,s.getAmberDenominator)(eB);eU[6]!==eB?(f=(0,s.getAmberIndex)(eB),eU[6]=eB,eU[7]=f):f=eU[7];let eQ=f;eG?.characters;e:{let e,r,t;if(!eP||!eB){let e;eU[8]===Symbol.for("react.memo_cache_sentinel")?(e=[],eU[8]=e):e=eU[8],v=e;break e}let a="custom"===eF?Math.max(0,parseInt(eO||0,10)||0):eN;eU[9]!==eG?.characters?(e=eG?.characters||[],eU[9]=eG?.characters,eU[10]=e):e=eU[10];let n=e;eU[11]!==eB||eU[12]!==eP||eU[13]!==n?(r=(e,r,t)=>{let a={onlyAffordable:t,characters:n};return("Amber Gain"===e?(0,s.getOptimizedSpelunkingAmberGainUpgrades)(eP,eB,r,a):(0,s.getOptimizedSpelunkingPowerUpgrades)(eP,eB,r,a)).map(r=>({...r,category:e}))},eU[11]=eB,eU[12]=eP,eU[13]=n,eU[14]=r):r=eU[14];let l=r;if("All"===eK)if(eD){let e;if(eU[15]!==eB?.spelunking?.currentAmber||eU[16]!==l||eU[17]!==a){let r=[...l("Power",2*a,!1),...l("Amber Gain",2*a,!1)].sort(ep),t=eB?.spelunking?.currentAmber||0,n=0;for(let l of(e=[],r)){let r=l.cost||0;if(n+r<=t&&(n+=r,e.push(l),e.length>=a))break}eU[15]=eB?.spelunking?.currentAmber,eU[16]=l,eU[17]=a,eU[18]=e}else e=eU[18];v=e;break e}else{let e;eU[19]!==l||eU[20]!==a?(e=[...l("Power",2*a,!1),...l("Amber Gain",2*a,!1)].sort(ex).slice(0,a),eU[19]=l,eU[20]=a,eU[21]=e):e=eU[21],v=e;break e}eU[22]!==l||eU[23]!==a||eU[24]!==eD||eU[25]!==eK?(t=l(eK,a,eD),eU[22]=l,eU[23]=a,eU[24]=eD,eU[25]=eK,eU[26]=t):t=eU[26],v=t}let eY=v,eZ=eg,e0=eu;eU[27]!==eJ?(C=e=>e<1e9?(0,i.commaNotation)(e/eJ):(0,i.notateNumber)(e/eJ,"Big"),eU[27]=eJ,eU[28]=C):C=eU[28];let e1=C;eU[29]!==eK?(A=(e,r)=>{let t=void 0!==r&&r,a=e.category||eK;return"All"===a?"Amber Gain"===(e.category||(void 0!==e.powerChange||void 0!==e.combinedPowerChange?"Power":"Amber Gain"))?{label:"Amber Gain",value:t?e.combinedAmberGainChange:e.amberGainChange,category:"Amber Gain"}:{label:"Power",value:t?e.combinedPowerChange:e.powerChange,category:"Power"}:"Amber Gain"===a?{label:"Amber Gain",value:t?e.combinedAmberGainChange:e.amberGainChange,category:"Amber Gain"}:{label:"Power",value:t?e.combinedPowerChange:e.powerChange,category:"Power"}},eU[29]=eK,eU[30]=A):A=eU[30];let e2=A;r:{let e;if("Upgrade"===eW){let e;if(eU[31]!==eY){let r=[],t=null,a={};eY.forEach((e,n)=>{let l=e.name,i=t&&t.name===l?t.startLevel:a[l]??e.level;t&&t.name===l?t.sequence.push({...e,originalIndex:n}):(t&&(t.finalLevel=t.startLevel+t.sequence.length-1,a[t.name]=t.finalLevel,r.push(t)),t={...e,upgradeIndex:n,sequence:[{...e,originalIndex:n}],startLevel:i})}),t&&(t.finalLevel=t.startLevel+t.sequence.length-1,a[t.name]=t.finalLevel,r.push(t)),e=r.map(eb),eU[31]=eY,eU[32]=e}else e=eU[32];I=e;break r}if("Summary"===eW){let e;if(eU[33]!==eY){let r={};eY.forEach((e,t)=>{r[e.name]||(r[e.name]={...e,upgradeIndex:t,startLevel:e.level,finalLevel:e.level,sequence:[],totalCost:0,combinedPowerChange:0,combinedAmberGainChange:0,combinedPercentChange:0});let a=r[e.name];a.sequence.push(e),a.finalLevel=Math.max(a.finalLevel,e.level),a.totalCost=a.totalCost+e.cost,a.combinedPowerChange=a.combinedPowerChange+(e.powerChange||0),a.combinedAmberGainChange=a.combinedAmberGainChange+(e.amberGainChange||0),a.combinedPercentChange=a.combinedPercentChange+(e.percentChange||0)}),e=Object.values(r),eU[33]=eY,eU[34]=e}else e=eU[34];I=e;break r}eU[35]!==eY?(e=eY.map(ey),eU[35]=eY,eU[36]=e):e=eU[36],I=e}let e3=I;eU[37]===Symbol.for("react.memo_cache_sentinel")?($={width:140},L=(0,r.jsx)(Q.InputLabel,{children:"Optimization Category"}),eU[37]=$,eU[38]=L):($=eU[37],L=eU[38]),eU[39]!==eX?(U=e=>eX(e.target.value),eU[39]=eX,eU[40]=U):U=eU[40],eU[41]===Symbol.for("react.memo_cache_sentinel")?(P=eh.map(ej),eU[41]=P):P=eU[41],eU[42]!==eK||eU[43]!==U?(B=(0,r.jsxs)(J.FormControl,{size:"small",sx:$,children:[L,(0,r.jsx)(ee.Select,{value:eK,label:"Optimization Category",onChange:U,children:P})]}),eU[42]=eK,eU[43]=U,eU[44]=B):B=eU[44],eU[45]===Symbol.for("react.memo_cache_sentinel")?(G={width:160},N=(0,r.jsx)(Q.InputLabel,{children:"Max Upgrades"}),eU[45]=G,eU[46]=N):(G=eU[45],N=eU[46]);let e4="custom"===eF?"custom":eN;eU[47]!==ez||eU[48]!==eq?(z=e=>{let r=e.target.value;"custom"===r?eq("custom"):(eq("preset"),ez(r))},eU[47]=ez,eU[48]=eq,eU[49]=z):z=eU[49],eU[50]===Symbol.for("react.memo_cache_sentinel")?(F=ec.map(ef),q=(0,r.jsx)(Y.MenuItem,{value:"custom",children:"Custom"}),eU[50]=F,eU[51]=q):(F=eU[50],q=eU[51]),eU[52]!==e4||eU[53]!==z?(O=(0,r.jsxs)(J.FormControl,{size:"small",sx:G,children:[N,(0,r.jsxs)(ee.Select,{value:e4,label:"Max Upgrades",onChange:z,children:[F,q]})]}),eU[52]=e4,eU[53]=z,eU[54]=O):O=eU[54],eU[55]!==eO||eU[56]!==eF||eU[57]!==eM?(M="custom"===eF&&(0,r.jsx)(u.TextField,{size:"small",type:"number",inputProps:{min:1},sx:{width:120},label:"Custom Max",value:eO,onChange:e=>{let r=parseInt(e.target.value,10);isNaN(r)?eM(""):eM(Math.max(1,r))}}),eU[55]=eO,eU[56]=eF,eU[57]=eM,eU[58]=M):M=eU[58],eU[59]===Symbol.for("react.memo_cache_sentinel")?(D={width:120},R=(0,r.jsx)(Q.InputLabel,{children:"Group mode"}),eU[59]=D,eU[60]=R):(D=eU[59],R=eU[60]),eU[61]!==eH?(V=e=>eH(e.target.value),eU[61]=eH,eU[62]=V):V=eU[62],eU[63]===Symbol.for("react.memo_cache_sentinel")?(W=ed.map(ev),eU[63]=W):W=eU[63],eU[64]!==eW||eU[65]!==V?(H=(0,r.jsxs)(J.FormControl,{size:"small",sx:D,children:[R,(0,r.jsx)(ee.Select,{value:eW,label:"Group mode",onChange:V,children:W})]}),eU[64]=eW,eU[65]=V,eU[66]=H):H=eU[66],eU[67]===Symbol.for("react.memo_cache_sentinel")?(K=e=>eE(e.target.checked),eU[67]=K):K=eU[67],eU[68]!==eD?(X=(0,r.jsx)(x.FormControlLabel,{control:(0,r.jsx)(p.Checkbox,{checked:eD,onChange:K,size:"small"}),label:"Only show affordable upgrades"}),eU[68]=eD,eU[69]=X):X=eU[69],eU[70]===Symbol.for("react.memo_cache_sentinel")?(em={ml:"auto"},eU[70]=em):em=eU[70],eU[71]!==eV?(eC=(e,r)=>r&&eV(r),eU[71]=eV,eU[72]=eC):eC=eU[72],eU[73]===Symbol.for("react.memo_cache_sentinel")?(eS={height:40},eU[73]=eS):eS=eU[73],eU[74]===Symbol.for("react.memo_cache_sentinel")?(ew=(0,r.jsx)(E.default,{title:"Grid view",children:(0,r.jsx)(b.ToggleButton,{sx:eS,value:"grid",children:(0,r.jsx)(es.IconTable,{})})}),eU[74]=ew):ew=eU[74],eU[75]===Symbol.for("react.memo_cache_sentinel")?(e_={height:40},eU[75]=e_):e_=eU[75],eU[76]===Symbol.for("react.memo_cache_sentinel")?(eT=(0,r.jsx)(E.default,{title:"List view",children:(0,r.jsx)(b.ToggleButton,{sx:e_,value:"list",children:(0,r.jsx)(eo.IconList,{})})}),eU[76]=eT):eT=eU[76],eU[77]!==eC||eU[78]!==eR?(ek=(0,r.jsxs)(y.ToggleButtonGroup,{value:eR,exclusive:!0,sx:em,onChange:eC,children:[ew,eT]}),eU[77]=eC,eU[78]=eR,eU[79]=ek):ek=eU[79],eU[80]!==B||eU[81]!==O||eU[82]!==M||eU[83]!==H||eU[84]!==X||eU[85]!==ek?(eA=(0,r.jsxs)(d.Stack,{direction:"row",gap:2,alignItems:"center",flexWrap:"wrap",children:[B,O,M,H,X,ek]}),eU[80]=B,eU[81]=O,eU[82]=M,eU[83]=H,eU[84]=X,eU[85]=ek,eU[86]=eA):eA=eU[86];let e5="All"===eK?"Upgrade":"Amber Gain"===eK?"Amber Gain":"Power";return eU[87]!==e5?(eI=(0,r.jsxs)(h.Typography,{variant:"h6",children:["Recommended ",e5," Upgrade Sequence"]}),eU[87]=e5,eU[88]=eI):eI=eU[88],eU[89]!==eQ||eU[90]!==e3||eU[91]!==e1||eU[92]!==e2||eU[93]!==eK||eU[94]!==eR?(e$=e3.length>0?"grid"===eR?(0,r.jsx)(d.Stack,{direction:"row",gap:2,flexWrap:"wrap",children:e3.map((e,t)=>{let a,n,l=e.sequence&&e.sequence.length>1,o=void 0!==e.upgradeIndex?e.upgradeIndex:t;return(0,r.jsx)(_.Card,{sx:{width:350},children:(0,r.jsxs)(T.CardContent,{children:[(0,r.jsxs)(d.Stack,{direction:"row",gap:2,sx:{position:"relative"},children:[(0,r.jsx)("img",{style:{width:32,height:32},src:`${i.prefix}data/CaveShopUpg${e.originalIndex}.png`,alt:""}),(0,r.jsxs)(w.Box,{children:[(0,r.jsxs)(h.Typography,{variant:"subtitle1",children:[(0,i.cleanUnderscore)(e.name.replace(/[船般航舞製]/,"").replace("(Tap_for_more_info)","").replace("(#)",""))," (",e.level," / ",e.x3,")"]}),(0,r.jsxs)(h.Typography,{variant:"caption",color:"text.secondary",children:[l?`Upgrade Group (#${o+1}${e.sequence.length>1?` to #${o+e.sequence.length}`:""})`:`Upgrade #${o+1}`,"All"===eK&&e.category&&(0,r.jsxs)("span",{children:[" • ",e.category]})]})]})]}),l&&(void 0!==e.combinedPowerChange||void 0!==e.combinedAmberGainChange)?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(k.Divider,{sx:{my:1}}),(0,r.jsxs)(h.Typography,{variant:"subtitle2",gutterBottom:!0,children:["Total Benefits (Levels ",e.startLevel," → ",e.finalLevel,")"]}),(0,r.jsx)(h.Typography,{variant:"body2",children:(a=e2(e,!0),`${a.label}: ${eZ(a.value)} (${e0(e.combinedPercentChange)})`)}),(0,r.jsx)(k.Divider,{sx:{my:1}}),(0,r.jsxs)(d.Stack,{direction:"row",gap:1,alignItems:"center",children:[(0,r.jsx)("img",{style:{objectPosition:"0 -6px",width:20,height:20},src:`${i.prefix}data/CaveAmber${eQ}.png`,alt:""}),(0,r.jsxs)(h.Typography,{variant:"body2",children:["Total Cost: ",e1(e.totalCost)]})]})]}):(0,r.jsxs)(d.Stack,{sx:{mt:1},gap:1,children:[(0,r.jsx)(h.Typography,{variant:"body2",children:(n=e2(e,!1),`${n.label}: ${eZ(n.value)} (${e0(e.percentChange)})`)}),(0,r.jsxs)(d.Stack,{direction:"row",gap:1,alignItems:"center",children:[(0,r.jsx)("img",{style:{objectPosition:"0 -6px",width:20,height:20},src:`${i.prefix}data/CaveAmber${eQ}.png`,alt:""}),(0,r.jsxs)(h.Typography,{variant:"body2",children:["Cost: ",e1(e.cost)]})]})]})]})},o)})}):(0,r.jsx)(en.TableContainer,{component:Z.Paper,sx:{maxWidth:"100%",overflowX:"auto"},children:(0,r.jsxs)(er.Table,{size:"small",children:[(0,r.jsx)(el.TableHead,{children:(0,r.jsxs)(ei.TableRow,{children:[(0,r.jsx)(ea.TableCell,{children:"#"}),(0,r.jsx)(ea.TableCell,{children:"Icon"}),(0,r.jsx)(ea.TableCell,{children:"Name"}),"All"===eK&&(0,r.jsx)(ea.TableCell,{children:"Category"}),(0,r.jsx)(ea.TableCell,{children:"Level"}),(0,r.jsx)(ea.TableCell,{children:"All"===eK?"Change":"Amber Gain"===eK?"Amber Gain Change":"Power Change"}),(0,r.jsx)(ea.TableCell,{children:"Cost"})]})}),(0,r.jsx)(et.TableBody,{children:e3.map((e,t)=>{let a,n,l=e.sequence&&e.sequence.length>1;return(0,r.jsxs)(ei.TableRow,{children:[(0,r.jsx)(ea.TableCell,{children:t+1}),(0,r.jsx)(ea.TableCell,{children:(0,r.jsx)("img",{style:{width:24,height:24},src:`${i.prefix}data/CaveShopUpg${e.originalIndex}.png`,alt:""})}),(0,r.jsx)(ea.TableCell,{children:(0,i.cleanUnderscore)(e.name.replace(/[船般航舞製]/,"").replace("(Tap_for_more_info)","").replace("(#)",""))}),"All"===eK&&(0,r.jsx)(ea.TableCell,{children:e.category||"Unknown"}),(0,r.jsx)(ea.TableCell,{children:l?`${e.startLevel} → ${e.finalLevel}`:`${e.level} / ${e.x3}`}),(0,r.jsx)(ea.TableCell,{children:l&&(void 0!==e.combinedPowerChange||void 0!==e.combinedAmberGainChange)?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(h.Typography,{variant:"caption",children:["Levels ",e.startLevel," → ",e.finalLevel]}),(0,r.jsx)("div",{children:(a=e2(e,!0),`${a.label}: ${eZ(a.value)} (${e0(e.combinedPercentChange)})`)})]}):(0,r.jsx)(r.Fragment,{children:(n=e2(e,!1),`${n.label}: ${eZ(n.value)} (${e0(e.percentChange)})`)})}),(0,r.jsx)(ea.TableCell,{children:(0,r.jsxs)(d.Stack,{direction:"row",gap:1,alignItems:"center",children:[(0,r.jsx)("img",{style:{objectPosition:"0 -6px"},src:`${i.prefix}data/CaveAmber${eQ}.png`,alt:"",width:20,height:20}),l&&e.totalCost?e1(e.totalCost):e1(e.cost)]})})]},void 0!==e.upgradeIndex?e.upgradeIndex:t)})})]})}):(0,r.jsxs)(h.Typography,{variant:"body1",color:"text.secondary",children:["No viable ","All"===eK?"":"Amber Gain"===eK?"amber gain":"power"," upgrades found with your current resources."]}),eU[89]=eQ,eU[90]=e3,eU[91]=e1,eU[92]=e2,eU[93]=eK,eU[94]=eR,eU[95]=e$):e$=eU[95],eU[96]!==eA||eU[97]!==eI||eU[98]!==e$?(eL=(0,r.jsxs)(d.Stack,{gap:3,children:[eA,eI,e$]}),eU[96]=eA,eU[97]=eI,eU[98]=e$,eU[99]=eL):eL=eU[99],eL};function ep(e,r){return(r.efficiency||0)-(e.efficiency||0)}function ex(e,r){return(r.efficiency||0)-(e.efficiency||0)}function eg(e){return e>=1e3?`+${(0,i.notateNumber)(e)}`:`+${e.toFixed(2).replace(/\.00$/,"")}`}function eu(e){return`+${e.toFixed(2).replace(/\.00$/,"")}%`}function eb(e){if(!e.sequence||e.sequence.length<=1)return e;let r=0,t=0,a=0,n=0;return e.sequence.forEach(e=>{n+=e.cost,r+=e.powerChange||0,t+=e.amberGainChange||0,a+=e.percentChange||0}),{...e,combinedPowerChange:r,combinedAmberGainChange:t,combinedPercentChange:a,totalCost:n,startLevel:e.startLevel,finalLevel:e.finalLevel,numberOfUpgrades:e.sequence.length}}function ey(e,r){return{...e,upgradeIndex:r}}function ej(e){return(0,r.jsx)(Y.MenuItem,{value:e,children:e},e)}function ef(e){return(0,r.jsx)(Y.MenuItem,{value:e,children:e},e)}function ev(e){return(0,r.jsx)(Y.MenuItem,{value:e,children:e},e)}var eC=e.i(866304),eS=e.i(976597);e.s(["default",0,()=>{let e,p,x,g,u,b,y,j,f,v,C,S,w,_,T,k,A,I,$,L,U,P,B,N,z,F,q,O,M,D,R,V,H,X,J,Q,Y,Z,ee,er,et,ea,en=(0,t.c)(103),{state:el}=(0,a.useContext)(n.AppContext);en[0]!==el?.account?.spelunking?(e=el?.account?.spelunking||{},en[0]=el?.account?.spelunking,en[1]=e):e=en[1];let{upgrades:ei,chapters:eo,currentAmber:es,bestCaveLevels:ec,amberGain:ed,maxDailyPageReads:eh,staminaRegenRate:ep,discoveriesCount:ex,maxDiscoveries:eg,loreBosses:eu,elixirs:eb,ownedElixirs:ey,ownedSlots:ej,maxElixirDuplicates:ef,power:ev,totalGrandDiscoveries:ew,overstimRate:e_,charactersAtMaxStamina:eT}=e,ek=(0,s.getAmberDenominator)(el?.account);en[2]!==es||en[3]!==ek?(p=es<1e9?(0,i.commaNotation)(es/ek):(0,i.notateNumber)(es/ek,"Big"),en[2]=es,en[3]=ek,en[4]=p):p=en[4];let eA=p;en[5]===Symbol.for("react.memo_cache_sentinel")?(x=(0,r.jsx)(l.NextSeo,{title:"Spelunking | Idleon Toolbox",description:"Keep track of your spelunking levels, upgrades and stats"}),en[5]=x):x=en[5],en[6]===Symbol.for("react.memo_cache_sentinel")?(g=(0,r.jsx)("img",{style:{width:27,height:27},src:`${i.prefix}data/CaveShopUpg17.png`,alt:""}),en[6]=g):g=en[6],en[7]!==ev.value?(u=(0,i.notateNumber)(ev.value,"Big"),en[7]=ev.value,en[8]=u):u=en[8],en[9]!==u?(b=(0,r.jsx)(h.Typography,{children:u}),en[9]=u,en[10]=b):b=en[10],en[11]===Symbol.for("react.memo_cache_sentinel")?(y=(0,r.jsx)(d.Stack,{alignContent:"center",children:(0,r.jsx)(eC.IconInfoCircleFilled,{size:18})}),en[11]=y):y=en[11],en[12]!==ev.breakdown?(j=(0,r.jsx)(eS.Breakdown,{data:ev.breakdown,children:y}),en[12]=ev.breakdown,en[13]=j):j=en[13],en[14]!==b||en[15]!==j?(f=(0,r.jsx)(c.CardTitleAndValue,{title:"Power",children:(0,r.jsxs)(d.Stack,{direction:"row",alignItems:"center",gap:1,children:[g,b,j]})}),en[14]=b,en[15]=j,en[16]=f):f=en[16];let eI=el?.account;en[17]!==eI?(v=(0,s.getAmberIndex)(eI),en[17]=eI,en[18]=v):v=en[18];let e$=`data/CaveAmber${v}.png`;en[19]!==eA||en[20]!==e$?(C=(0,r.jsx)(c.CardTitleAndValue,{title:"Amber Found",value:eA,icon:e$}),en[19]=eA,en[20]=e$,en[21]=C):C=en[21];let eL=el?.account;en[22]!==eL?(S=(0,s.getAmberIndex)(eL),en[22]=eL,en[23]=S):S=en[23];let eU=`${i.prefix}data/CaveAmber${S}.png`;en[24]!==eU?(w=(0,r.jsx)("img",{src:eU,alt:""}),en[24]=eU,en[25]=w):w=en[25],en[26]!==ed.value?(_=(0,i.notateNumber)(ed.value,"Big"),en[26]=ed.value,en[27]=_):_=en[27],en[28]!==_?(T=(0,r.jsx)(h.Typography,{children:_}),en[28]=_,en[29]=T):T=en[29],en[30]===Symbol.for("react.memo_cache_sentinel")?(k=(0,r.jsx)(d.Stack,{alignContent:"center",children:(0,r.jsx)(eC.IconInfoCircleFilled,{size:18})}),en[30]=k):k=en[30],en[31]!==ed.breakdown?(A=(0,r.jsx)(eS.Breakdown,{data:ed.breakdown,children:k}),en[31]=ed.breakdown,en[32]=A):A=en[32],en[33]!==w||en[34]!==T||en[35]!==A?(I=(0,r.jsx)(c.CardTitleAndValue,{title:"Amber Gain",children:(0,r.jsxs)(d.Stack,{direction:"row",alignItems:"center",gap:1,children:[w,T,A]})}),en[33]=w,en[34]=T,en[35]=A,en[36]=I):I=en[36];let eP=`${el?.account?.accountOptions?.[410]} / ${eh}`;en[37]!==eP?($=(0,r.jsx)(c.CardTitleAndValue,{title:"Daily Page Reads",value:eP}),en[37]=eP,en[38]=$):$=en[38],en[39]===Symbol.for("react.memo_cache_sentinel")?(L=(0,r.jsx)("img",{style:{width:27,height:27},src:`${i.prefix}data/CaveShopUpg4.png`,alt:""}),en[39]=L):L=en[39],en[40]!==ep.value?(U=(0,i.notateNumber)(ep.value,"MultiplierInfo"),en[40]=ep.value,en[41]=U):U=en[41],en[42]!==U?(P=(0,r.jsx)(h.Typography,{children:U}),en[42]=U,en[43]=P):P=en[43],en[44]===Symbol.for("react.memo_cache_sentinel")?(B=(0,r.jsx)(d.Stack,{alignContent:"center",children:(0,r.jsx)(eC.IconInfoCircleFilled,{size:18})}),en[44]=B):B=en[44],en[45]!==ep.breakdown?(N=(0,r.jsx)(eS.Breakdown,{data:ep.breakdown,children:B}),en[45]=ep.breakdown,en[46]=N):N=en[46],en[47]!==P||en[48]!==N?(z=(0,r.jsx)(c.CardTitleAndValue,{title:"Stamina Regen Rate",children:(0,r.jsxs)(d.Stack,{direction:"row",alignItems:"center",gap:1,children:[L,P,N]})}),en[47]=P,en[48]=N,en[49]=z):z=en[49],en[50]===Symbol.for("react.memo_cache_sentinel")?(F=(0,r.jsx)("img",{style:{width:27,height:27},src:`${i.prefix}data/CaveShopUpg6.png`,alt:""}),en[50]=F):F=en[50],en[51]!==e_?(q=(0,i.notateNumber)(e_,"Big"),en[51]=e_,en[52]=q):q=en[52],en[53]!==q?(O=(0,r.jsx)(h.Typography,{children:q}),en[53]=q,en[54]=O):O=en[54];let eB=`${eT??0} character${(eT??0)===1?"":"s"} at max stamina contributing to overstim rate`;en[55]===Symbol.for("react.memo_cache_sentinel")?(M=(0,r.jsx)(eC.IconInfoCircleFilled,{size:18}),en[55]=M):M=en[55],en[56]!==eB?(D=(0,r.jsx)(E.default,{title:eB,children:M}),en[56]=eB,en[57]=D):D=en[57],en[58]!==O||en[59]!==D?(R=(0,r.jsx)(c.CardTitleAndValue,{title:"Overstim Rate",children:(0,r.jsxs)(d.Stack,{direction:"row",alignItems:"center",gap:1,children:[F,O,D]})}),en[58]=O,en[59]=D,en[60]=R):R=en[60];let eG=`${ex} / ${eg}`;en[61]!==eG?(V=(0,r.jsx)(c.CardTitleAndValue,{title:"Discoveries",value:eG}),en[61]=eG,en[62]=V):V=en[62];let eN=`${ew}`;en[63]!==eN?(H=(0,r.jsx)(c.CardTitleAndValue,{title:"Grand Discoveries",value:eN}),en[63]=eN,en[64]=H):H=en[64],en[65]!==C||en[66]!==I||en[67]!==$||en[68]!==z||en[69]!==R||en[70]!==V||en[71]!==H||en[72]!==f?(X=(0,r.jsxs)(d.Stack,{direction:"row",gap:2,flexWrap:"wrap",children:[f,C,I,$,z,R,V,H]}),en[65]=C,en[66]=I,en[67]=$,en[68]=z,en[69]=R,en[70]=V,en[71]=H,en[72]=f,en[73]=X):X=en[73],en[74]===Symbol.for("react.memo_cache_sentinel")?(J=(0,i.getTabs)(o.PAGES.ACCOUNT["world 7"].categories,"spelunking"),en[74]=J):J=en[74];let ez=el?.account;en[75]!==ez?(Q=(0,s.getAmberIndex)(ez),en[75]=ez,en[76]=Q):Q=en[76],en[77]!==eA||en[78]!==ek||en[79]!==Q||en[80]!==ei?(Y=(0,r.jsx)(G,{upgrades:ei,currentAmber:eA,denominator:ek,amberIndex:Q}),en[77]=eA,en[78]=ek,en[79]=Q,en[80]=ei,en[81]=Y):Y=en[81];let eF=el?.account;en[82]!==ec||en[83]!==eo||en[84]!==eu||en[85]!==eF?(Z=(0,r.jsx)(W,{chapters:eo,loreBosses:eu,bestCaveLevels:ec,account:eF}),en[82]=ec,en[83]=eo,en[84]=eu,en[85]=eF,en[86]=Z):Z=en[86],en[87]!==eb||en[88]!==ef||en[89]!==ey||en[90]!==ej?(ee=(0,r.jsx)(K,{elixirs:eb,ownedElixirs:ey,ownedSlots:ej,maxElixirDuplicates:ef}),en[87]=eb,en[88]=ef,en[89]=ey,en[90]=ej,en[91]=ee):ee=en[91];let eq=el?.characters?.[0],eO=el?.account;return en[92]!==eq||en[93]!==eO?(er=(0,r.jsx)(em,{character:eq,account:eO}),en[92]=eq,en[93]=eO,en[94]=er):er=en[94],en[95]!==Y||en[96]!==Z||en[97]!==ee||en[98]!==er?(et=(0,r.jsxs)(m.default,{tabs:J,children:[Y,Z,ee,er]}),en[95]=Y,en[96]=Z,en[97]=ee,en[98]=er,en[99]=et):et=en[99],en[100]!==X||en[101]!==et?(ea=(0,r.jsxs)(r.Fragment,{children:[x,X,et]}),en[100]=X,en[101]=et,en[102]=ea):ea=en[102],ea}],435702)},354945,(e,r,t)=>{let a="/account/world-7/spelunking";(window.__NEXT_P=window.__NEXT_P||[]).push([a,()=>e.r(435702)]),r.hot&&r.hot.dispose(function(){window.__NEXT_P.push([a])})}]);